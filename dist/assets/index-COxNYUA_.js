var i6=e=>{throw TypeError(e)};var JC=(e,t,r)=>t.has(e)||i6("Cannot "+r);var Ze=(e,t,r)=>(JC(e,t,"read from private field"),r?r.call(e):t.get(e)),gr=(e,t,r)=>t.has(e)?i6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Kt=(e,t,r,n)=>(JC(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ia=(e,t,r)=>(JC(e,t,"access private method"),r);var lx=(e,t,r,n)=>({set _(a){Kt(e,t,a,r)},get _(){return Ze(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Dle="modulepreload",Ole=function(e){return"/"+e},s6={},Ple=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(r.map(u=>{if(u=Ole(u),u in s6)return;s6[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Dle,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((v,y)=>{p.addEventListener("load",v),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eN={exports:{}},Em={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function kle(){if(o6)return Em;o6=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:s,ref:a!==void 0?a:null,props:i}}return Em.Fragment=t,Em.jsx=r,Em.jsxs=r,Em}var l6;function Rle(){return l6||(l6=1,eN.exports=kle()),eN.exports}var m=Rle(),tN={exports:{}},tr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6;function Lle(){if(u6)return tr;u6=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function w(H,U,K){this.props=H,this.context=U,this.refs=b,this.updater=K||y}w.prototype.isReactComponent={},w.prototype.setState=function(H,U){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,U,"setState")},w.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function _(){}_.prototype=w.prototype;function T(H,U,K){this.props=H,this.context=U,this.refs=b,this.updater=K||y}var M=T.prototype=new _;M.constructor=T,x(M,w.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function C(){}var j={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(H,U,K){var ee=K.ref;return{$$typeof:e,type:H,key:U,ref:ee!==void 0?ee:null,props:K}}function R(H,U){return P(H.type,U,H.props)}function k(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function L(H){var U={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(K){return U[K]})}var I=/\/+/g;function $(H,U){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):U.toString(36)}function F(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(C,C):(H.status="pending",H.then(function(U){H.status==="pending"&&(H.status="fulfilled",H.value=U)},function(U){H.status==="pending"&&(H.status="rejected",H.reason=U)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function z(H,U,K,ee,ae){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var ke=!1;if(H===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(H.$$typeof){case e:case t:ke=!0;break;case f:return ke=H._init,z(ke(H._payload),U,K,ee,ae)}}if(ke)return ae=ae(H),ke=ee===""?"."+$(H,0):ee,N(ae)?(K="",ke!=null&&(K=ke.replace(I,"$&/")+"/"),z(ae,U,K,"",function(Te){return Te})):ae!=null&&(k(ae)&&(ae=R(ae,K+(ae.key==null||H&&H.key===ae.key?"":(""+ae.key).replace(I,"$&/")+"/")+ke)),U.push(ae)),1;ke=0;var Je=ee===""?".":ee+":";if(N(H))for(var be=0;be<H.length;be++)ee=H[be],xe=Je+$(ee,be),ke+=z(ee,U,K,xe,ae);else if(be=v(H),typeof be=="function")for(H=be.call(H),be=0;!(ee=H.next()).done;)ee=ee.value,xe=Je+$(ee,be++),ke+=z(ee,U,K,xe,ae);else if(xe==="object"){if(typeof H.then=="function")return z(F(H),U,K,ee,ae);throw U=String(H),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ke}function V(H,U,K){if(H==null)return H;var ee=[],ae=0;return z(H,ee,"","",function(xe){return U.call(K,xe,ae++)}),ee}function q(H){if(H._status===-1){var U=H._result;U=U(),U.then(function(K){(H._status===0||H._status===-1)&&(H._status=1,H._result=K)},function(K){(H._status===0||H._status===-1)&&(H._status=2,H._result=K)}),H._status===-1&&(H._status=0,H._result=U)}if(H._status===1)return H._result.default;throw H._result}var W=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Y={map:V,forEach:function(H,U,K){V(H,function(){U.apply(this,arguments)},K)},count:function(H){var U=0;return V(H,function(){U++}),U},toArray:function(H){return V(H,function(U){return U})||[]},only:function(H){if(!k(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return tr.Activity=d,tr.Children=Y,tr.Component=w,tr.Fragment=r,tr.Profiler=a,tr.PureComponent=T,tr.StrictMode=n,tr.Suspense=l,tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,tr.__COMPILER_RUNTIME={__proto__:null,c:function(H){return j.H.useMemoCache(H)}},tr.cache=function(H){return function(){return H.apply(null,arguments)}},tr.cacheSignal=function(){return null},tr.cloneElement=function(H,U,K){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ee=x({},H.props),ae=H.key;if(U!=null)for(xe in U.key!==void 0&&(ae=""+U.key),U)!O.call(U,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&U.ref===void 0||(ee[xe]=U[xe]);var xe=arguments.length-2;if(xe===1)ee.children=K;else if(1<xe){for(var ke=Array(xe),Je=0;Je<xe;Je++)ke[Je]=arguments[Je+2];ee.children=ke}return P(H.type,ae,ee)},tr.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:i,_context:H},H},tr.createElement=function(H,U,K){var ee,ae={},xe=null;if(U!=null)for(ee in U.key!==void 0&&(xe=""+U.key),U)O.call(U,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=U[ee]);var ke=arguments.length-2;if(ke===1)ae.children=K;else if(1<ke){for(var Je=Array(ke),be=0;be<ke;be++)Je[be]=arguments[be+2];ae.children=Je}if(H&&H.defaultProps)for(ee in ke=H.defaultProps,ke)ae[ee]===void 0&&(ae[ee]=ke[ee]);return P(H,xe,ae)},tr.createRef=function(){return{current:null}},tr.forwardRef=function(H){return{$$typeof:o,render:H}},tr.isValidElement=k,tr.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:q}},tr.memo=function(H,U){return{$$typeof:u,type:H,compare:U===void 0?null:U}},tr.startTransition=function(H){var U=j.T,K={};j.T=K;try{var ee=H(),ae=j.S;ae!==null&&ae(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(C,W)}catch(xe){W(xe)}finally{U!==null&&K.types!==null&&(U.types=K.types),j.T=U}},tr.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},tr.use=function(H){return j.H.use(H)},tr.useActionState=function(H,U,K){return j.H.useActionState(H,U,K)},tr.useCallback=function(H,U){return j.H.useCallback(H,U)},tr.useContext=function(H){return j.H.useContext(H)},tr.useDebugValue=function(){},tr.useDeferredValue=function(H,U){return j.H.useDeferredValue(H,U)},tr.useEffect=function(H,U){return j.H.useEffect(H,U)},tr.useEffectEvent=function(H){return j.H.useEffectEvent(H)},tr.useId=function(){return j.H.useId()},tr.useImperativeHandle=function(H,U,K){return j.H.useImperativeHandle(H,U,K)},tr.useInsertionEffect=function(H,U){return j.H.useInsertionEffect(H,U)},tr.useLayoutEffect=function(H,U){return j.H.useLayoutEffect(H,U)},tr.useMemo=function(H,U){return j.H.useMemo(H,U)},tr.useOptimistic=function(H,U){return j.H.useOptimistic(H,U)},tr.useReducer=function(H,U,K){return j.H.useReducer(H,U,K)},tr.useRef=function(H){return j.H.useRef(H)},tr.useState=function(H){return j.H.useState(H)},tr.useSyncExternalStore=function(H,U,K){return j.H.useSyncExternalStore(H,U,K)},tr.useTransition=function(){return j.H.useTransition()},tr.version="19.2.0",tr}var c6;function Xk(){return c6||(c6=1,tN.exports=Lle()),tN.exports}var A=Xk();const ve=Kr(A);var rN={exports:{}},jm={},nN={exports:{}},aN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6;function Ile(){return f6||(f6=1,(function(e){function t(z,V){var q=z.length;z.push(V);e:for(;0<q;){var W=q-1>>>1,Y=z[W];if(0<a(Y,V))z[W]=V,z[q]=Y,q=W;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var V=z[0],q=z.pop();if(q!==V){z[0]=q;e:for(var W=0,Y=z.length,H=Y>>>1;W<H;){var U=2*(W+1)-1,K=z[U],ee=U+1,ae=z[ee];if(0>a(K,q))ee<Y&&0>a(ae,K)?(z[W]=ae,z[ee]=q,W=ee):(z[W]=K,z[U]=q,W=U);else if(ee<Y&&0>a(ae,q))z[W]=ae,z[ee]=q,W=ee;else break e}}return V}function a(z,V){var q=z.sortIndex-V.sortIndex;return q!==0?q:z.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],f=1,d=null,p=3,v=!1,y=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=z)n(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(u)}}function N(z){if(x=!1,M(z),!y)if(r(l)!==null)y=!0,C||(C=!0,L());else{var V=r(u);V!==null&&F(N,V.startTime-z)}}var C=!1,j=-1,O=5,P=-1;function R(){return b?!0:!(e.unstable_now()-P<O)}function k(){if(b=!1,C){var z=e.unstable_now();P=z;var V=!0;try{e:{y=!1,x&&(x=!1,_(j),j=-1),v=!0;var q=p;try{t:{for(M(z),d=r(l);d!==null&&!(d.expirationTime>z&&R());){var W=d.callback;if(typeof W=="function"){d.callback=null,p=d.priorityLevel;var Y=W(d.expirationTime<=z);if(z=e.unstable_now(),typeof Y=="function"){d.callback=Y,M(z),V=!0;break t}d===r(l)&&n(l),M(z)}else n(l);d=r(l)}if(d!==null)V=!0;else{var H=r(u);H!==null&&F(N,H.startTime-z),V=!1}}break e}finally{d=null,p=q,v=!1}V=void 0}}finally{V?L():C=!1}}}var L;if(typeof T=="function")L=function(){T(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=k,L=function(){$.postMessage(null)}}else L=function(){w(k,0)};function F(z,V){j=w(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var q=p;p=V;try{return z()}finally{p=q}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=p;p=z;try{return V()}finally{p=q}},e.unstable_scheduleCallback=function(z,V,q){var W=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=q+Y,z={id:f++,callback:V,priorityLevel:z,startTime:q,expirationTime:Y,sortIndex:-1},q>W?(z.sortIndex=q,t(u,z),r(l)===null&&z===r(u)&&(x?(_(j),j=-1):x=!0,F(N,q-W))):(z.sortIndex=Y,t(l,z),y||v||(y=!0,C||(C=!0,L()))),z},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(z){var V=p;return function(){var q=p;p=V;try{return z.apply(this,arguments)}finally{p=q}}}})(aN)),aN}var d6;function Ble(){return d6||(d6=1,nN.exports=Ile()),nN.exports}var iN={exports:{}},sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h6;function $le(){if(h6)return sa;h6=1;var e=Xk();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,u,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:d==null?null:""+d,children:l,containerInfo:u,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,sa.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return i(l,u,null,f)},sa.flushSync=function(l){var u=s.T,f=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=f,n.d.f()}},sa.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},sa.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},sa.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,d=o(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:v}):f==="script"&&n.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},sa.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},sa.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,d=o(f,u.crossOrigin);n.d.L(l,f,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},sa.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},sa.requestFormReset=function(l){n.d.r(l)},sa.unstable_batchedUpdates=function(l,u){return l(u)},sa.useFormState=function(l,u,f){return s.H.useFormState(l,u,f)},sa.useFormStatus=function(){return s.H.useHostTransitionStatus()},sa.version="19.2.0",sa}var p6;function wY(){if(p6)return iN.exports;p6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iN.exports=$le(),iN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m6;function zle(){if(m6)return jm;m6=1;var e=Ble(),t=Xk(),r=wY();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function s(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(i(c)!==c)throw Error(n(188))}function u(c){var h=c.alternate;if(!h){if(h=i(c),h===null)throw Error(n(188));return h!==c?null:c}for(var g=c,S=h;;){var E=g.return;if(E===null)break;var D=E.alternate;if(D===null){if(S=E.return,S!==null){g=S;continue}break}if(E.child===D.child){for(D=E.child;D;){if(D===g)return l(E),c;if(D===S)return l(E),h;D=D.sibling}throw Error(n(188))}if(g.return!==S.return)g=E,S=D;else{for(var B=!1,G=E.child;G;){if(G===g){B=!0,g=E,S=D;break}if(G===S){B=!0,S=E,g=D;break}G=G.sibling}if(!B){for(G=D.child;G;){if(G===g){B=!0,g=D,S=E;break}if(G===S){B=!0,S=D,g=E;break}G=G.sibling}if(!B)throw Error(n(189))}}if(g.alternate!==S)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?c:h}function f(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=f(c),h!==null)return h;c=c.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=k&&c[k]||c["@@iterator"],typeof c=="function"?c:null)}var I=Symbol.for("react.client.reference");function $(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===I?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case T:return c.displayName||"Context";case _:return(c._context.displayName||"Context")+".Consumer";case M:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case j:return h=c.displayName||null,h!==null?h:$(c.type)||"Memo";case O:h=c._payload,c=c._init;try{return $(c(h))}catch{}}return null}var F=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],Y=-1;function H(c){return{current:c}}function U(c){0>Y||(c.current=W[Y],W[Y]=null,Y--)}function K(c,h){Y++,W[Y]=c.current,c.current=h}var ee=H(null),ae=H(null),xe=H(null),ke=H(null);function Je(c,h){switch(K(xe,h),K(ae,c),K(ee,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?MB(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=MB(h),c=EB(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}U(ee),K(ee,c)}function be(){U(ee),U(ae),U(xe)}function Te(c){c.memoizedState!==null&&K(ke,c);var h=ee.current,g=EB(h,c.type);h!==g&&(K(ae,c),K(ee,g))}function De(c){ae.current===c&&(U(ee),U(ae)),ke.current===c&&(U(ke),Cm._currentValue=q)}var J,it;function Ue(c){if(J===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);J=h&&h[1]||"",it=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+c+it}var ft=!1;function le(c,h){if(!c||ft)return"";ft=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(h){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Be){var je=Be}Reflect.construct(c,[],rt)}else{try{rt.call()}catch(Be){je=Be}c.call(rt.prototype)}}else{try{throw Error()}catch(Be){je=Be}(rt=c())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Be){if(Be&&je&&typeof Be.stack=="string")return[Be.stack,je.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=S.DetermineComponentFrameRoot(),B=D[0],G=D[1];if(B&&G){var ne=B.split(`
`),Me=G.split(`
`);for(E=S=0;S<ne.length&&!ne[S].includes("DetermineComponentFrameRoot");)S++;for(;E<Me.length&&!Me[E].includes("DetermineComponentFrameRoot");)E++;if(S===ne.length||E===Me.length)for(S=ne.length-1,E=Me.length-1;1<=S&&0<=E&&ne[S]!==Me[E];)E--;for(;1<=S&&0<=E;S--,E--)if(ne[S]!==Me[E]){if(S!==1||E!==1)do if(S--,E--,0>E||ne[S]!==Me[E]){var Ke=`
`+ne[S].replace(" at new "," at ");return c.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",c.displayName)),Ke}while(1<=S&&0<=E);break}}}finally{ft=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?Ue(g):""}function te(c,h){switch(c.tag){case 26:case 27:case 5:return Ue(c.type);case 16:return Ue("Lazy");case 13:return c.child!==h&&h!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return le(c.type,!1);case 11:return le(c.type.render,!1);case 1:return le(c.type,!0);case 31:return Ue("Activity");default:return""}}function Ne(c){try{var h="",g=null;do h+=te(c,g),g=c,c=c.return;while(c);return h}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var Le=Object.prototype.hasOwnProperty,Pe=e.unstable_scheduleCallback,He=e.unstable_cancelCallback,pe=e.unstable_shouldYield,Fe=e.unstable_requestPaint,ue=e.unstable_now,nt=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,Q=e.unstable_UserBlockingPriority,we=e.unstable_NormalPriority,st=e.unstable_LowPriority,me=e.unstable_IdlePriority,ce=e.log,he=e.unstable_setDisableYieldValue,ze=null,Ge=null;function at(c){if(typeof ce=="function"&&he(c),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ze,c)}catch{}}var lt=Math.clz32?Math.clz32:$e,ge=Math.log,Ee=Math.LN2;function $e(c){return c>>>=0,c===0?32:31-(ge(c)/Ee|0)|0}var Oe=256,mt=262144,Tt=4194304;function Ce(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Re(c,h,g){var S=c.pendingLanes;if(S===0)return 0;var E=0,D=c.suspendedLanes,B=c.pingedLanes;c=c.warmLanes;var G=S&134217727;return G!==0?(S=G&~D,S!==0?E=Ce(S):(B&=G,B!==0?E=Ce(B):g||(g=G&~c,g!==0&&(E=Ce(g))))):(G=S&~D,G!==0?E=Ce(G):B!==0?E=Ce(B):g||(g=S&~c,g!==0&&(E=Ce(g)))),E===0?0:h!==0&&h!==E&&(h&D)===0&&(D=E&-E,g=h&-h,D>=g||D===32&&(g&4194048)!==0)?h:E}function Nt(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function Wt(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var c=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),c}function Lt(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function X(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function se(c,h,g,S,E,D){var B=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var G=c.entanglements,ne=c.expirationTimes,Me=c.hiddenUpdates;for(g=B&~g;0<g;){var Ke=31-lt(g),rt=1<<Ke;G[Ke]=0,ne[Ke]=-1;var je=Me[Ke];if(je!==null)for(Me[Ke]=null,Ke=0;Ke<je.length;Ke++){var Be=je[Ke];Be!==null&&(Be.lane&=-536870913)}g&=~rt}S!==0&&_e(c,S,0),D!==0&&E===0&&c.tag!==0&&(c.suspendedLanes|=D&~(B&~h))}function _e(c,h,g){c.pendingLanes|=h,c.suspendedLanes&=~h;var S=31-lt(h);c.entangledLanes|=h,c.entanglements[S]=c.entanglements[S]|1073741824|g&261930}function et(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var S=31-lt(g),E=1<<S;E&h|c[S]&h&&(c[S]|=h),g&=~E}}function ut(c,h){var g=h&-h;return g=(g&42)!==0?1:pt(g),(g&(c.suspendedLanes|h))!==0?0:g}function pt(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ie(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Z(){var c=V.p;return c!==0?c:(c=window.event,c===void 0?32:QB(c.type))}function Se(c,h){var g=V.p;try{return V.p=c,h()}finally{V.p=g}}var qe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+qe,Ye="__reactProps$"+qe,dt="__reactContainer$"+qe,Dt="__reactEvents$"+qe,fe="__reactListeners$"+qe,Ve="__reactHandles$"+qe,We="__reactResources$"+qe,ct="__reactMarker$"+qe;function Ct(c){delete c[Ie],delete c[Ye],delete c[Dt],delete c[fe],delete c[Ve]}function At(c){var h=c[Ie];if(h)return h;for(var g=c.parentNode;g;){if(h=g[dt]||g[Ie]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=LB(c);c!==null;){if(g=c[Ie])return g;c=LB(c)}return h}c=g,g=c.parentNode}return null}function It(c){if(c=c[Ie]||c[dt]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function Mt(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function kt(c){var h=c[We];return h||(h=c[We]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Qt(c){c[ct]=!0}var Ir=new Set,br={};function nn(c,h){oe(c,h),oe(c+"Capture",h)}function oe(c,h){for(br[c]=h,c=0;c<h.length;c++)Ir.add(h[c])}var ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bt={},_t={};function xt(c){return Le.call(_t,c)?!0:Le.call(bt,c)?!1:ht.test(c)?_t[c]=!0:(bt[c]=!0,!1)}function St(c,h,g){if(xt(h))if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var S=h.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+g)}}function lr(c,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+g)}}function ar(c,h,g,S){if(S===null)c.removeAttribute(g);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(h,g,""+S)}}function Jt(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Xa(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function vi(c,h,g){var S=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var E=S.get,D=S.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return E.call(this)},set:function(B){g=""+B,D.call(this,B)}}),Object.defineProperty(c,h,{enumerable:S.enumerable}),{getValue:function(){return g},setValue:function(B){g=""+B},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Ju(c){if(!c._valueTracker){var h=Xa(c)?"checked":"value";c._valueTracker=vi(c,h,""+c[h])}}function w3(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),S="";return c&&(S=Xa(c)?c.checked?"true":"false":c.value),c=S,c!==g?(h.setValue(c),!0):!1}function Q0(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Cse=/[\n"\\]/g;function gi(c){return c.replace(Cse,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function W_(c,h,g,S,E,D,B,G){c.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?c.type=B:c.removeAttribute("type"),h!=null?B==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Jt(h)):c.value!==""+Jt(h)&&(c.value=""+Jt(h)):B!=="submit"&&B!=="reset"||c.removeAttribute("value"),h!=null?K_(c,B,Jt(h)):g!=null?K_(c,B,Jt(g)):S!=null&&c.removeAttribute("value"),E==null&&D!=null&&(c.defaultChecked=!!D),E!=null&&(c.checked=E&&typeof E!="function"&&typeof E!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?c.name=""+Jt(G):c.removeAttribute("name")}function S3(c,h,g,S,E,D,B,G){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(c.type=D),h!=null||g!=null){if(!(D!=="submit"&&D!=="reset"||h!=null)){Ju(c);return}g=g!=null?""+Jt(g):"",h=h!=null?""+Jt(h):g,G||h===c.value||(c.value=h),c.defaultValue=h}S=S??E,S=typeof S!="function"&&typeof S!="symbol"&&!!S,c.checked=G?c.checked:!!S,c.defaultChecked=!!S,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.name=B),Ju(c)}function K_(c,h,g){h==="number"&&Q0(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Hf(c,h,g,S){if(c=c.options,h){h={};for(var E=0;E<g.length;E++)h["$"+g[E]]=!0;for(g=0;g<c.length;g++)E=h.hasOwnProperty("$"+c[g].value),c[g].selected!==E&&(c[g].selected=E),E&&S&&(c[g].defaultSelected=!0)}else{for(g=""+Jt(g),h=null,E=0;E<c.length;E++){if(c[E].value===g){c[E].selected=!0,S&&(c[E].defaultSelected=!0);return}h!==null||c[E].disabled||(h=c[E])}h!==null&&(h.selected=!0)}}function _3(c,h,g){if(h!=null&&(h=""+Jt(h),h!==c.value&&(c.value=h),g==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=g!=null?""+Jt(g):""}function T3(c,h,g,S){if(h==null){if(S!=null){if(g!=null)throw Error(n(92));if(F(S)){if(1<S.length)throw Error(n(93));S=S[0]}g=S}g==null&&(g=""),h=g}g=Jt(h),c.defaultValue=g,S=c.textContent,S===g&&S!==""&&S!==null&&(c.value=S),Ju(c)}function Vf(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var Nse=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function C3(c,h,g){var S=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?S?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":S?c.setProperty(h,g):typeof g!="number"||g===0||Nse.has(h)?h==="float"?c.cssFloat=g:c[h]=(""+g).trim():c[h]=g+"px"}function N3(c,h,g){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,g!=null){for(var S in g)!g.hasOwnProperty(S)||h!=null&&h.hasOwnProperty(S)||(S.indexOf("--")===0?c.setProperty(S,""):S==="float"?c.cssFloat="":c[S]="");for(var E in h)S=h[E],h.hasOwnProperty(E)&&g[E]!==S&&C3(c,E,S)}else for(var D in h)h.hasOwnProperty(D)&&C3(c,D,h[D])}function Y_(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ase=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mse=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function J0(c){return Mse.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function yo(){}var X_=null;function Z_(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var qf=null,Gf=null;function A3(c){var h=It(c);if(h&&(c=h.stateNode)){var g=c[Ye]||null;e:switch(c=h.stateNode,h.type){case"input":if(W_(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+gi(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var S=g[h];if(S!==c&&S.form===c.form){var E=S[Ye]||null;if(!E)throw Error(n(90));W_(S,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<g.length;h++)S=g[h],S.form===c.form&&w3(S)}break e;case"textarea":_3(c,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&Hf(c,!!g.multiple,h,!1)}}}var Q_=!1;function M3(c,h,g){if(Q_)return c(h,g);Q_=!0;try{var S=c(h);return S}finally{if(Q_=!1,(qf!==null||Gf!==null)&&(zy(),qf&&(h=qf,c=Gf,Gf=qf=null,A3(h),c)))for(h=0;h<c.length;h++)A3(c[h])}}function Up(c,h){var g=c.stateNode;if(g===null)return null;var S=g[Ye]||null;if(S===null)return null;g=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(c=c.type,S=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!S;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J_=!1;if(xo)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){J_=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{J_=!1}var Sl=null,eT=null,ey=null;function E3(){if(ey)return ey;var c,h=eT,g=h.length,S,E="value"in Sl?Sl.value:Sl.textContent,D=E.length;for(c=0;c<g&&h[c]===E[c];c++);var B=g-c;for(S=1;S<=B&&h[g-S]===E[D-S];S++);return ey=E.slice(c,1<S?1-S:void 0)}function ty(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function ry(){return!0}function j3(){return!1}function Aa(c){function h(g,S,E,D,B){this._reactName=g,this._targetInst=E,this.type=S,this.nativeEvent=D,this.target=B,this.currentTarget=null;for(var G in c)c.hasOwnProperty(G)&&(g=c[G],this[G]=g?g(D):D[G]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?ry:j3,this.isPropagationStopped=j3,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ry)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ry)},persist:function(){},isPersistent:ry}),h}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Aa(ec),Vp=d({},ec,{view:0,detail:0}),Ese=Aa(Vp),tT,rT,qp,ay=d({},Vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aT,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==qp&&(qp&&c.type==="mousemove"?(tT=c.screenX-qp.screenX,rT=c.screenY-qp.screenY):rT=tT=0,qp=c),tT)},movementY:function(c){return"movementY"in c?c.movementY:rT}}),D3=Aa(ay),jse=d({},ay,{dataTransfer:0}),Dse=Aa(jse),Ose=d({},Vp,{relatedTarget:0}),nT=Aa(Ose),Pse=d({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),kse=Aa(Pse),Rse=d({},ec,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Lse=Aa(Rse),Ise=d({},ec,{data:0}),O3=Aa(Ise),Bse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$se={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fse(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=zse[c])?!!h[c]:!1}function aT(){return Fse}var Use=d({},Vp,{key:function(c){if(c.key){var h=Bse[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=ty(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$se[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aT,charCode:function(c){return c.type==="keypress"?ty(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ty(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Hse=Aa(Use),Vse=d({},ay,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P3=Aa(Vse),qse=d({},Vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aT}),Gse=Aa(qse),Wse=d({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kse=Aa(Wse),Yse=d({},ay,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Xse=Aa(Yse),Zse=d({},ec,{newState:0,oldState:0}),Qse=Aa(Zse),Jse=[9,13,27,32],iT=xo&&"CompositionEvent"in window,Gp=null;xo&&"documentMode"in document&&(Gp=document.documentMode);var eoe=xo&&"TextEvent"in window&&!Gp,k3=xo&&(!iT||Gp&&8<Gp&&11>=Gp),R3=" ",L3=!1;function I3(c,h){switch(c){case"keyup":return Jse.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B3(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Wf=!1;function toe(c,h){switch(c){case"compositionend":return B3(h);case"keypress":return h.which!==32?null:(L3=!0,R3);case"textInput":return c=h.data,c===R3&&L3?null:c;default:return null}}function roe(c,h){if(Wf)return c==="compositionend"||!iT&&I3(c,h)?(c=E3(),ey=eT=Sl=null,Wf=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return k3&&h.locale!=="ko"?null:h.data;default:return null}}var noe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $3(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!noe[c.type]:h==="textarea"}function z3(c,h,g,S){qf?Gf?Gf.push(S):Gf=[S]:qf=S,h=Wy(h,"onChange"),0<h.length&&(g=new ny("onChange","change",null,g,S),c.push({event:g,listeners:h}))}var Wp=null,Kp=null;function aoe(c){SB(c,0)}function iy(c){var h=Mt(c);if(w3(h))return c}function F3(c,h){if(c==="change")return h}var U3=!1;if(xo){var sT;if(xo){var oT="oninput"in document;if(!oT){var H3=document.createElement("div");H3.setAttribute("oninput","return;"),oT=typeof H3.oninput=="function"}sT=oT}else sT=!1;U3=sT&&(!document.documentMode||9<document.documentMode)}function V3(){Wp&&(Wp.detachEvent("onpropertychange",q3),Kp=Wp=null)}function q3(c){if(c.propertyName==="value"&&iy(Kp)){var h=[];z3(h,Kp,c,Z_(c)),M3(aoe,h)}}function ioe(c,h,g){c==="focusin"?(V3(),Wp=h,Kp=g,Wp.attachEvent("onpropertychange",q3)):c==="focusout"&&V3()}function soe(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return iy(Kp)}function ooe(c,h){if(c==="click")return iy(h)}function loe(c,h){if(c==="input"||c==="change")return iy(h)}function uoe(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Za=typeof Object.is=="function"?Object.is:uoe;function Yp(c,h){if(Za(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),S=Object.keys(h);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var E=g[S];if(!Le.call(h,E)||!Za(c[E],h[E]))return!1}return!0}function G3(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function W3(c,h){var g=G3(c);c=0;for(var S;g;){if(g.nodeType===3){if(S=c+g.textContent.length,c<=h&&S>=h)return{node:g,offset:h-c};c=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=G3(g)}}function K3(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?K3(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Y3(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Q0(c.document);h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=Q0(c.document)}return h}function lT(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var coe=xo&&"documentMode"in document&&11>=document.documentMode,Kf=null,uT=null,Xp=null,cT=!1;function X3(c,h,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;cT||Kf==null||Kf!==Q0(S)||(S=Kf,"selectionStart"in S&&lT(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Xp&&Yp(Xp,S)||(Xp=S,S=Wy(uT,"onSelect"),0<S.length&&(h=new ny("onSelect","select",null,h,g),c.push({event:h,listeners:S}),h.target=Kf)))}function tc(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var Yf={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},fT={},Z3={};xo&&(Z3=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);function rc(c){if(fT[c])return fT[c];if(!Yf[c])return c;var h=Yf[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in Z3)return fT[c]=h[g];return c}var Q3=rc("animationend"),J3=rc("animationiteration"),e5=rc("animationstart"),foe=rc("transitionrun"),doe=rc("transitionstart"),hoe=rc("transitioncancel"),t5=rc("transitionend"),r5=new Map,dT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dT.push("scrollEnd");function as(c,h){r5.set(c,h),nn(h,[c])}var sy=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},yi=[],Xf=0,hT=0;function oy(){for(var c=Xf,h=hT=Xf=0;h<c;){var g=yi[h];yi[h++]=null;var S=yi[h];yi[h++]=null;var E=yi[h];yi[h++]=null;var D=yi[h];if(yi[h++]=null,S!==null&&E!==null){var B=S.pending;B===null?E.next=E:(E.next=B.next,B.next=E),S.pending=E}D!==0&&n5(g,E,D)}}function ly(c,h,g,S){yi[Xf++]=c,yi[Xf++]=h,yi[Xf++]=g,yi[Xf++]=S,hT|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function pT(c,h,g,S){return ly(c,h,g,S),uy(c)}function nc(c,h){return ly(c,null,null,h),uy(c)}function n5(c,h,g){c.lanes|=g;var S=c.alternate;S!==null&&(S.lanes|=g);for(var E=!1,D=c.return;D!==null;)D.childLanes|=g,S=D.alternate,S!==null&&(S.childLanes|=g),D.tag===22&&(c=D.stateNode,c===null||c._visibility&1||(E=!0)),c=D,D=D.return;return c.tag===3?(D=c.stateNode,E&&h!==null&&(E=31-lt(g),c=D.hiddenUpdates,S=c[E],S===null?c[E]=[h]:S.push(h),h.lane=g|536870912),D):null}function uy(c){if(50<ym)throw ym=0,_C=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Zf={};function poe(c,h,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(c,h,g,S){return new poe(c,h,g,S)}function mT(c){return c=c.prototype,!(!c||!c.isReactComponent)}function bo(c,h){var g=c.alternate;return g===null?(g=Qa(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function a5(c,h){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,h=g.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function cy(c,h,g,S,E,D){var B=0;if(S=c,typeof c=="function")mT(c)&&(B=1);else if(typeof c=="string")B=xle(c,g,ee.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=Qa(31,g,h,E),c.elementType=P,c.lanes=D,c;case x:return ac(g.children,E,D,h);case b:B=8,E|=24;break;case w:return c=Qa(12,g,h,E|2),c.elementType=w,c.lanes=D,c;case N:return c=Qa(13,g,h,E),c.elementType=N,c.lanes=D,c;case C:return c=Qa(19,g,h,E),c.elementType=C,c.lanes=D,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case T:B=10;break e;case _:B=9;break e;case M:B=11;break e;case j:B=14;break e;case O:B=16,S=null;break e}B=29,g=Error(n(130,c===null?"null":typeof c,"")),S=null}return h=Qa(B,g,h,E),h.elementType=c,h.type=S,h.lanes=D,h}function ac(c,h,g,S){return c=Qa(7,c,S,h),c.lanes=g,c}function vT(c,h,g){return c=Qa(6,c,null,h),c.lanes=g,c}function i5(c){var h=Qa(18,null,null,0);return h.stateNode=c,h}function gT(c,h,g){return h=Qa(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var s5=new WeakMap;function xi(c,h){if(typeof c=="object"&&c!==null){var g=s5.get(c);return g!==void 0?g:(h={value:c,source:h,stack:Ne(h)},s5.set(c,h),h)}return{value:c,source:h,stack:Ne(h)}}var Qf=[],Jf=0,fy=null,Zp=0,bi=[],wi=0,_l=null,Os=1,Ps="";function wo(c,h){Qf[Jf++]=Zp,Qf[Jf++]=fy,fy=c,Zp=h}function o5(c,h,g){bi[wi++]=Os,bi[wi++]=Ps,bi[wi++]=_l,_l=c;var S=Os;c=Ps;var E=32-lt(S)-1;S&=~(1<<E),g+=1;var D=32-lt(h)+E;if(30<D){var B=E-E%5;D=(S&(1<<B)-1).toString(32),S>>=B,E-=B,Os=1<<32-lt(h)+E|g<<E|S,Ps=D+c}else Os=1<<D|g<<E|S,Ps=c}function yT(c){c.return!==null&&(wo(c,1),o5(c,1,0))}function xT(c){for(;c===fy;)fy=Qf[--Jf],Qf[Jf]=null,Zp=Qf[--Jf],Qf[Jf]=null;for(;c===_l;)_l=bi[--wi],bi[wi]=null,Ps=bi[--wi],bi[wi]=null,Os=bi[--wi],bi[wi]=null}function l5(c,h){bi[wi++]=Os,bi[wi++]=Ps,bi[wi++]=_l,Os=h.id,Ps=h.overflow,_l=c}var Yn=null,en=null,vr=!1,Tl=null,Si=!1,bT=Error(n(519));function Cl(c){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qp(xi(h,c)),bT}function u5(c){var h=c.stateNode,g=c.type,S=c.memoizedProps;switch(h[Ie]=c,h[Ye]=S,g){case"dialog":fr("cancel",h),fr("close",h);break;case"iframe":case"object":case"embed":fr("load",h);break;case"video":case"audio":for(g=0;g<bm.length;g++)fr(bm[g],h);break;case"source":fr("error",h);break;case"img":case"image":case"link":fr("error",h),fr("load",h);break;case"details":fr("toggle",h);break;case"input":fr("invalid",h),S3(h,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":fr("invalid",h);break;case"textarea":fr("invalid",h),T3(h,S.value,S.defaultValue,S.children)}g=S.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||S.suppressHydrationWarning===!0||NB(h.textContent,g)?(S.popover!=null&&(fr("beforetoggle",h),fr("toggle",h)),S.onScroll!=null&&fr("scroll",h),S.onScrollEnd!=null&&fr("scrollend",h),S.onClick!=null&&(h.onclick=yo),h=!0):h=!1,h||Cl(c,!0)}function c5(c){for(Yn=c.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Yn=Yn.return}}function ed(c){if(c!==Yn)return!1;if(!vr)return c5(c),vr=!0,!1;var h=c.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||BC(c.type,c.memoizedProps)),g=!g),g&&en&&Cl(c),c5(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));en=RB(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));en=RB(c)}else h===27?(h=en,$l(c.type)?(c=HC,HC=null,en=c):en=h):en=Yn?Ti(c.stateNode.nextSibling):null;return!0}function ic(){en=Yn=null,vr=!1}function wT(){var c=Tl;return c!==null&&(Da===null?Da=c:Da.push.apply(Da,c),Tl=null),c}function Qp(c){Tl===null?Tl=[c]:Tl.push(c)}var ST=H(null),sc=null,So=null;function Nl(c,h,g){K(ST,h._currentValue),h._currentValue=g}function _o(c){c._currentValue=ST.current,U(ST)}function _T(c,h,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),c===g)break;c=c.return}}function TT(c,h,g,S){var E=c.child;for(E!==null&&(E.return=c);E!==null;){var D=E.dependencies;if(D!==null){var B=E.child;D=D.firstContext;e:for(;D!==null;){var G=D;D=E;for(var ne=0;ne<h.length;ne++)if(G.context===h[ne]){D.lanes|=g,G=D.alternate,G!==null&&(G.lanes|=g),_T(D.return,g,c),S||(B=null);break e}D=G.next}}else if(E.tag===18){if(B=E.return,B===null)throw Error(n(341));B.lanes|=g,D=B.alternate,D!==null&&(D.lanes|=g),_T(B,g,c),B=null}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===c){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}}function td(c,h,g,S){c=null;for(var E=h,D=!1;E!==null;){if(!D){if((E.flags&524288)!==0)D=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var B=E.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var G=E.type;Za(E.pendingProps.value,B.value)||(c!==null?c.push(G):c=[G])}}else if(E===ke.current){if(B=E.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(c!==null?c.push(Cm):c=[Cm])}E=E.return}c!==null&&TT(h,c,g,S),h.flags|=262144}function dy(c){for(c=c.firstContext;c!==null;){if(!Za(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function oc(c){sc=c,So=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Xn(c){return f5(sc,c)}function hy(c,h){return sc===null&&oc(c),f5(c,h)}function f5(c,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},So===null){if(c===null)throw Error(n(308));So=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else So=So.next=h;return g}var moe=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(g,S){c.push(S)}};this.abort=function(){h.aborted=!0,c.forEach(function(g){return g()})}},voe=e.unstable_scheduleCallback,goe=e.unstable_NormalPriority,En={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function CT(){return{controller:new moe,data:new Map,refCount:0}}function Jp(c){c.refCount--,c.refCount===0&&voe(goe,function(){c.controller.abort()})}var em=null,NT=0,rd=0,nd=null;function yoe(c,h){if(em===null){var g=em=[];NT=0,rd=EC(),nd={status:"pending",value:void 0,then:function(S){g.push(S)}}}return NT++,h.then(d5,d5),h}function d5(){if(--NT===0&&em!==null){nd!==null&&(nd.status="fulfilled");var c=em;em=null,rd=0,nd=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function xoe(c,h){var g=[],S={status:"pending",value:null,reason:null,then:function(E){g.push(E)}};return c.then(function(){S.status="fulfilled",S.value=h;for(var E=0;E<g.length;E++)(0,g[E])(h)},function(E){for(S.status="rejected",S.reason=E,E=0;E<g.length;E++)(0,g[E])(void 0)}),S}var h5=z.S;z.S=function(c,h){X4=ue(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&yoe(c,h),h5!==null&&h5(c,h)};var lc=H(null);function AT(){var c=lc.current;return c!==null?c:Yr.pooledCache}function py(c,h){h===null?K(lc,lc.current):K(lc,h.pool)}function p5(){var c=AT();return c===null?null:{parent:En._currentValue,pool:c}}var ad=Error(n(460)),MT=Error(n(474)),my=Error(n(542)),vy={then:function(){}};function m5(c){return c=c.status,c==="fulfilled"||c==="rejected"}function v5(c,h,g){switch(g=c[g],g===void 0?c.push(h):g!==h&&(h.then(yo,yo),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,y5(c),c;default:if(typeof h.status=="string")h.then(yo,yo);else{if(c=Yr,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(S){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=S}},function(S){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=S}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,y5(c),c}throw cc=h,ad}}function uc(c){try{var h=c._init;return h(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(cc=g,ad):g}}var cc=null;function g5(){if(cc===null)throw Error(n(459));var c=cc;return cc=null,c}function y5(c){if(c===ad||c===my)throw Error(n(483))}var id=null,tm=0;function gy(c){var h=tm;return tm+=1,id===null&&(id=[]),v5(id,c,h)}function rm(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function yy(c,h){throw h.$$typeof===p?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function x5(c){function h(ye,de){if(c){var Ae=ye.deletions;Ae===null?(ye.deletions=[de],ye.flags|=16):Ae.push(de)}}function g(ye,de){if(!c)return null;for(;de!==null;)h(ye,de),de=de.sibling;return null}function S(ye){for(var de=new Map;ye!==null;)ye.key!==null?de.set(ye.key,ye):de.set(ye.index,ye),ye=ye.sibling;return de}function E(ye,de){return ye=bo(ye,de),ye.index=0,ye.sibling=null,ye}function D(ye,de,Ae){return ye.index=Ae,c?(Ae=ye.alternate,Ae!==null?(Ae=Ae.index,Ae<de?(ye.flags|=67108866,de):Ae):(ye.flags|=67108866,de)):(ye.flags|=1048576,de)}function B(ye){return c&&ye.alternate===null&&(ye.flags|=67108866),ye}function G(ye,de,Ae,Qe){return de===null||de.tag!==6?(de=vT(Ae,ye.mode,Qe),de.return=ye,de):(de=E(de,Ae),de.return=ye,de)}function ne(ye,de,Ae,Qe){var zt=Ae.type;return zt===x?Ke(ye,de,Ae.props.children,Qe,Ae.key):de!==null&&(de.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&uc(zt)===de.type)?(de=E(de,Ae.props),rm(de,Ae),de.return=ye,de):(de=cy(Ae.type,Ae.key,Ae.props,null,ye.mode,Qe),rm(de,Ae),de.return=ye,de)}function Me(ye,de,Ae,Qe){return de===null||de.tag!==4||de.stateNode.containerInfo!==Ae.containerInfo||de.stateNode.implementation!==Ae.implementation?(de=gT(Ae,ye.mode,Qe),de.return=ye,de):(de=E(de,Ae.children||[]),de.return=ye,de)}function Ke(ye,de,Ae,Qe,zt){return de===null||de.tag!==7?(de=ac(Ae,ye.mode,Qe,zt),de.return=ye,de):(de=E(de,Ae),de.return=ye,de)}function rt(ye,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=vT(""+de,ye.mode,Ae),de.return=ye,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return Ae=cy(de.type,de.key,de.props,null,ye.mode,Ae),rm(Ae,de),Ae.return=ye,Ae;case y:return de=gT(de,ye.mode,Ae),de.return=ye,de;case O:return de=uc(de),rt(ye,de,Ae)}if(F(de)||L(de))return de=ac(de,ye.mode,Ae,null),de.return=ye,de;if(typeof de.then=="function")return rt(ye,gy(de),Ae);if(de.$$typeof===T)return rt(ye,hy(ye,de),Ae);yy(ye,de)}return null}function je(ye,de,Ae,Qe){var zt=de!==null?de.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return zt!==null?null:G(ye,de,""+Ae,Qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:return Ae.key===zt?ne(ye,de,Ae,Qe):null;case y:return Ae.key===zt?Me(ye,de,Ae,Qe):null;case O:return Ae=uc(Ae),je(ye,de,Ae,Qe)}if(F(Ae)||L(Ae))return zt!==null?null:Ke(ye,de,Ae,Qe,null);if(typeof Ae.then=="function")return je(ye,de,gy(Ae),Qe);if(Ae.$$typeof===T)return je(ye,de,hy(ye,Ae),Qe);yy(ye,Ae)}return null}function Be(ye,de,Ae,Qe,zt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return ye=ye.get(Ae)||null,G(de,ye,""+Qe,zt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case v:return ye=ye.get(Qe.key===null?Ae:Qe.key)||null,ne(de,ye,Qe,zt);case y:return ye=ye.get(Qe.key===null?Ae:Qe.key)||null,Me(de,ye,Qe,zt);case O:return Qe=uc(Qe),Be(ye,de,Ae,Qe,zt)}if(F(Qe)||L(Qe))return ye=ye.get(Ae)||null,Ke(de,ye,Qe,zt,null);if(typeof Qe.then=="function")return Be(ye,de,Ae,gy(Qe),zt);if(Qe.$$typeof===T)return Be(ye,de,Ae,hy(de,Qe),zt);yy(de,Qe)}return null}function jt(ye,de,Ae,Qe){for(var zt=null,_r=null,Ot=de,ir=de=0,mr=null;Ot!==null&&ir<Ae.length;ir++){Ot.index>ir?(mr=Ot,Ot=null):mr=Ot.sibling;var Tr=je(ye,Ot,Ae[ir],Qe);if(Tr===null){Ot===null&&(Ot=mr);break}c&&Ot&&Tr.alternate===null&&h(ye,Ot),de=D(Tr,de,ir),_r===null?zt=Tr:_r.sibling=Tr,_r=Tr,Ot=mr}if(ir===Ae.length)return g(ye,Ot),vr&&wo(ye,ir),zt;if(Ot===null){for(;ir<Ae.length;ir++)Ot=rt(ye,Ae[ir],Qe),Ot!==null&&(de=D(Ot,de,ir),_r===null?zt=Ot:_r.sibling=Ot,_r=Ot);return vr&&wo(ye,ir),zt}for(Ot=S(Ot);ir<Ae.length;ir++)mr=Be(Ot,ye,ir,Ae[ir],Qe),mr!==null&&(c&&mr.alternate!==null&&Ot.delete(mr.key===null?ir:mr.key),de=D(mr,de,ir),_r===null?zt=mr:_r.sibling=mr,_r=mr);return c&&Ot.forEach(function(Vl){return h(ye,Vl)}),vr&&wo(ye,ir),zt}function Ft(ye,de,Ae,Qe){if(Ae==null)throw Error(n(151));for(var zt=null,_r=null,Ot=de,ir=de=0,mr=null,Tr=Ae.next();Ot!==null&&!Tr.done;ir++,Tr=Ae.next()){Ot.index>ir?(mr=Ot,Ot=null):mr=Ot.sibling;var Vl=je(ye,Ot,Tr.value,Qe);if(Vl===null){Ot===null&&(Ot=mr);break}c&&Ot&&Vl.alternate===null&&h(ye,Ot),de=D(Vl,de,ir),_r===null?zt=Vl:_r.sibling=Vl,_r=Vl,Ot=mr}if(Tr.done)return g(ye,Ot),vr&&wo(ye,ir),zt;if(Ot===null){for(;!Tr.done;ir++,Tr=Ae.next())Tr=rt(ye,Tr.value,Qe),Tr!==null&&(de=D(Tr,de,ir),_r===null?zt=Tr:_r.sibling=Tr,_r=Tr);return vr&&wo(ye,ir),zt}for(Ot=S(Ot);!Tr.done;ir++,Tr=Ae.next())Tr=Be(Ot,ye,ir,Tr.value,Qe),Tr!==null&&(c&&Tr.alternate!==null&&Ot.delete(Tr.key===null?ir:Tr.key),de=D(Tr,de,ir),_r===null?zt=Tr:_r.sibling=Tr,_r=Tr);return c&&Ot.forEach(function(jle){return h(ye,jle)}),vr&&wo(ye,ir),zt}function Hr(ye,de,Ae,Qe){if(typeof Ae=="object"&&Ae!==null&&Ae.type===x&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:e:{for(var zt=Ae.key;de!==null;){if(de.key===zt){if(zt=Ae.type,zt===x){if(de.tag===7){g(ye,de.sibling),Qe=E(de,Ae.props.children),Qe.return=ye,ye=Qe;break e}}else if(de.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===O&&uc(zt)===de.type){g(ye,de.sibling),Qe=E(de,Ae.props),rm(Qe,Ae),Qe.return=ye,ye=Qe;break e}g(ye,de);break}else h(ye,de);de=de.sibling}Ae.type===x?(Qe=ac(Ae.props.children,ye.mode,Qe,Ae.key),Qe.return=ye,ye=Qe):(Qe=cy(Ae.type,Ae.key,Ae.props,null,ye.mode,Qe),rm(Qe,Ae),Qe.return=ye,ye=Qe)}return B(ye);case y:e:{for(zt=Ae.key;de!==null;){if(de.key===zt)if(de.tag===4&&de.stateNode.containerInfo===Ae.containerInfo&&de.stateNode.implementation===Ae.implementation){g(ye,de.sibling),Qe=E(de,Ae.children||[]),Qe.return=ye,ye=Qe;break e}else{g(ye,de);break}else h(ye,de);de=de.sibling}Qe=gT(Ae,ye.mode,Qe),Qe.return=ye,ye=Qe}return B(ye);case O:return Ae=uc(Ae),Hr(ye,de,Ae,Qe)}if(F(Ae))return jt(ye,de,Ae,Qe);if(L(Ae)){if(zt=L(Ae),typeof zt!="function")throw Error(n(150));return Ae=zt.call(Ae),Ft(ye,de,Ae,Qe)}if(typeof Ae.then=="function")return Hr(ye,de,gy(Ae),Qe);if(Ae.$$typeof===T)return Hr(ye,de,hy(ye,Ae),Qe);yy(ye,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,de!==null&&de.tag===6?(g(ye,de.sibling),Qe=E(de,Ae),Qe.return=ye,ye=Qe):(g(ye,de),Qe=vT(Ae,ye.mode,Qe),Qe.return=ye,ye=Qe),B(ye)):g(ye,de)}return function(ye,de,Ae,Qe){try{tm=0;var zt=Hr(ye,de,Ae,Qe);return id=null,zt}catch(Ot){if(Ot===ad||Ot===my)throw Ot;var _r=Qa(29,Ot,null,ye.mode);return _r.lanes=Qe,_r.return=ye,_r}finally{}}}var fc=x5(!0),b5=x5(!1),Al=!1;function ET(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jT(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Ml(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function El(c,h,g){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(Ar&2)!==0){var E=S.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),S.pending=h,h=uy(c),n5(c,null,g),h}return ly(c,S,h,g),uy(c)}function nm(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var S=h.lanes;S&=c.pendingLanes,g|=S,h.lanes=g,et(c,g)}}function DT(c,h){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var E=null,D=null;if(g=g.firstBaseUpdate,g!==null){do{var B={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};D===null?E=D=B:D=D.next=B,g=g.next}while(g!==null);D===null?E=D=h:D=D.next=h}else E=D=h;g={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:D,shared:S.shared,callbacks:S.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}var OT=!1;function am(){if(OT){var c=nd;if(c!==null)throw c}}function im(c,h,g,S){OT=!1;var E=c.updateQueue;Al=!1;var D=E.firstBaseUpdate,B=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var ne=G,Me=ne.next;ne.next=null,B===null?D=Me:B.next=Me,B=ne;var Ke=c.alternate;Ke!==null&&(Ke=Ke.updateQueue,G=Ke.lastBaseUpdate,G!==B&&(G===null?Ke.firstBaseUpdate=Me:G.next=Me,Ke.lastBaseUpdate=ne))}if(D!==null){var rt=E.baseState;B=0,Ke=Me=ne=null,G=D;do{var je=G.lane&-536870913,Be=je!==G.lane;if(Be?(pr&je)===je:(S&je)===je){je!==0&&je===rd&&(OT=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var jt=c,Ft=G;je=h;var Hr=g;switch(Ft.tag){case 1:if(jt=Ft.payload,typeof jt=="function"){rt=jt.call(Hr,rt,je);break e}rt=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Ft.payload,je=typeof jt=="function"?jt.call(Hr,rt,je):jt,je==null)break e;rt=d({},rt,je);break e;case 2:Al=!0}}je=G.callback,je!==null&&(c.flags|=64,Be&&(c.flags|=8192),Be=E.callbacks,Be===null?E.callbacks=[je]:Be.push(je))}else Be={lane:je,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ke===null?(Me=Ke=Be,ne=rt):Ke=Ke.next=Be,B|=je;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;Be=G,G=Be.next,Be.next=null,E.lastBaseUpdate=Be,E.shared.pending=null}}while(!0);Ke===null&&(ne=rt),E.baseState=ne,E.firstBaseUpdate=Me,E.lastBaseUpdate=Ke,D===null&&(E.shared.lanes=0),kl|=B,c.lanes=B,c.memoizedState=rt}}function w5(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function S5(c,h){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)w5(g[c],h)}var sd=H(null),xy=H(0);function _5(c,h){c=Oo,K(xy,c),K(sd,h),Oo=c|h.baseLanes}function PT(){K(xy,Oo),K(sd,sd.current)}function kT(){Oo=xy.current,U(sd),U(xy)}var Ja=H(null),_i=null;function jl(c){var h=c.alternate;K(bn,bn.current&1),K(Ja,c),_i===null&&(h===null||sd.current!==null||h.memoizedState!==null)&&(_i=c)}function RT(c){K(bn,bn.current),K(Ja,c),_i===null&&(_i=c)}function T5(c){c.tag===22?(K(bn,bn.current),K(Ja,c),_i===null&&(_i=c)):Dl()}function Dl(){K(bn,bn.current),K(Ja,Ja.current)}function ei(c){U(Ja),_i===c&&(_i=null),U(bn)}var bn=H(0);function by(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||FC(g)||UC(g)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var To=0,nr=null,Fr=null,jn=null,wy=!1,od=!1,dc=!1,Sy=0,sm=0,ld=null,boe=0;function hn(){throw Error(n(321))}function LT(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!Za(c[g],h[g]))return!1;return!0}function IT(c,h,g,S,E,D){return To=D,nr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,z.H=c===null||c.memoizedState===null?o4:QT,dc=!1,D=g(S,E),dc=!1,od&&(D=N5(h,g,S,E)),C5(c),D}function C5(c){z.H=um;var h=Fr!==null&&Fr.next!==null;if(To=0,jn=Fr=nr=null,wy=!1,sm=0,ld=null,h)throw Error(n(300));c===null||Dn||(c=c.dependencies,c!==null&&dy(c)&&(Dn=!0))}function N5(c,h,g,S){nr=c;var E=0;do{if(od&&(ld=null),sm=0,od=!1,25<=E)throw Error(n(301));if(E+=1,jn=Fr=null,c.updateQueue!=null){var D=c.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}z.H=l4,D=h(g,S)}while(od);return D}function woe(){var c=z.H,h=c.useState()[0];return h=typeof h.then=="function"?om(h):h,c=c.useState()[0],(Fr!==null?Fr.memoizedState:null)!==c&&(nr.flags|=1024),h}function BT(){var c=Sy!==0;return Sy=0,c}function $T(c,h,g){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~g}function zT(c){if(wy){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}wy=!1}To=0,jn=Fr=nr=null,od=!1,sm=Sy=0,ld=null}function ga(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?nr.memoizedState=jn=c:jn=jn.next=c,jn}function wn(){if(Fr===null){var c=nr.alternate;c=c!==null?c.memoizedState:null}else c=Fr.next;var h=jn===null?nr.memoizedState:jn.next;if(h!==null)jn=h,Fr=c;else{if(c===null)throw nr.alternate===null?Error(n(467)):Error(n(310));Fr=c,c={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},jn===null?nr.memoizedState=jn=c:jn=jn.next=c}return jn}function _y(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function om(c){var h=sm;return sm+=1,ld===null&&(ld=[]),c=v5(ld,c,h),h=nr,(jn===null?h.memoizedState:jn.next)===null&&(h=h.alternate,z.H=h===null||h.memoizedState===null?o4:QT),c}function Ty(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return om(c);if(c.$$typeof===T)return Xn(c)}throw Error(n(438,String(c)))}function FT(c){var h=null,g=nr.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var S=nr.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(h={data:S.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=_y(),nr.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(c),S=0;S<c;S++)g[S]=R;return h.index++,g}function Co(c,h){return typeof h=="function"?h(c):h}function Cy(c){var h=wn();return UT(h,Fr,c)}function UT(c,h,g){var S=c.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=g;var E=c.baseQueue,D=S.pending;if(D!==null){if(E!==null){var B=E.next;E.next=D.next,D.next=B}h.baseQueue=E=D,S.pending=null}if(D=c.baseState,E===null)c.memoizedState=D;else{h=E.next;var G=B=null,ne=null,Me=h,Ke=!1;do{var rt=Me.lane&-536870913;if(rt!==Me.lane?(pr&rt)===rt:(To&rt)===rt){var je=Me.revertLane;if(je===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),rt===rd&&(Ke=!0);else if((To&je)===je){Me=Me.next,je===rd&&(Ke=!0);continue}else rt={lane:0,revertLane:Me.revertLane,gesture:null,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ne===null?(G=ne=rt,B=D):ne=ne.next=rt,nr.lanes|=je,kl|=je;rt=Me.action,dc&&g(D,rt),D=Me.hasEagerState?Me.eagerState:g(D,rt)}else je={lane:rt,revertLane:Me.revertLane,gesture:Me.gesture,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ne===null?(G=ne=je,B=D):ne=ne.next=je,nr.lanes|=rt,kl|=rt;Me=Me.next}while(Me!==null&&Me!==h);if(ne===null?B=D:ne.next=G,!Za(D,c.memoizedState)&&(Dn=!0,Ke&&(g=nd,g!==null)))throw g;c.memoizedState=D,c.baseState=B,c.baseQueue=ne,S.lastRenderedState=D}return E===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function HT(c){var h=wn(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=c;var S=g.dispatch,E=g.pending,D=h.memoizedState;if(E!==null){g.pending=null;var B=E=E.next;do D=c(D,B.action),B=B.next;while(B!==E);Za(D,h.memoizedState)||(Dn=!0),h.memoizedState=D,h.baseQueue===null&&(h.baseState=D),g.lastRenderedState=D}return[D,S]}function A5(c,h,g){var S=nr,E=wn(),D=vr;if(D){if(g===void 0)throw Error(n(407));g=g()}else g=h();var B=!Za((Fr||E).memoizedState,g);if(B&&(E.memoizedState=g,Dn=!0),E=E.queue,GT(j5.bind(null,S,E,c),[c]),E.getSnapshot!==h||B||jn!==null&&jn.memoizedState.tag&1){if(S.flags|=2048,ud(9,{destroy:void 0},E5.bind(null,S,E,g,h),null),Yr===null)throw Error(n(349));D||(To&127)!==0||M5(S,h,g)}return g}function M5(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=nr.updateQueue,h===null?(h=_y(),nr.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function E5(c,h,g,S){h.value=g,h.getSnapshot=S,D5(h)&&O5(c)}function j5(c,h,g){return g(function(){D5(h)&&O5(c)})}function D5(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!Za(c,g)}catch{return!0}}function O5(c){var h=nc(c,2);h!==null&&Oa(h,c,2)}function VT(c){var h=ga();if(typeof c=="function"){var g=c;if(c=g(),dc){at(!0);try{g()}finally{at(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:c},h}function P5(c,h,g,S){return c.baseState=g,UT(c,Fr,typeof S=="function"?S:Co)}function Soe(c,h,g,S,E){if(My(c))throw Error(n(485));if(c=h.action,c!==null){var D={payload:E,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){D.listeners.push(B)}};z.T!==null?g(!0):D.isTransition=!1,S(D),g=h.pending,g===null?(D.next=h.pending=D,k5(h,D)):(D.next=g.next,h.pending=g.next=D)}}function k5(c,h){var g=h.action,S=h.payload,E=c.state;if(h.isTransition){var D=z.T,B={};z.T=B;try{var G=g(E,S),ne=z.S;ne!==null&&ne(B,G),R5(c,h,G)}catch(Me){qT(c,h,Me)}finally{D!==null&&B.types!==null&&(D.types=B.types),z.T=D}}else try{D=g(E,S),R5(c,h,D)}catch(Me){qT(c,h,Me)}}function R5(c,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(S){L5(c,h,S)},function(S){return qT(c,h,S)}):L5(c,h,g)}function L5(c,h,g){h.status="fulfilled",h.value=g,I5(h),c.state=g,h=c.pending,h!==null&&(g=h.next,g===h?c.pending=null:(g=g.next,h.next=g,k5(c,g)))}function qT(c,h,g){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do h.status="rejected",h.reason=g,I5(h),h=h.next;while(h!==S)}c.action=null}function I5(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function B5(c,h){return h}function $5(c,h){if(vr){var g=Yr.formState;if(g!==null){e:{var S=nr;if(vr){if(en){t:{for(var E=en,D=Si;E.nodeType!==8;){if(!D){E=null;break t}if(E=Ti(E.nextSibling),E===null){E=null;break t}}D=E.data,E=D==="F!"||D==="F"?E:null}if(E){en=Ti(E.nextSibling),S=E.data==="F!";break e}}Cl(S)}S=!1}S&&(h=g[0])}}return g=ga(),g.memoizedState=g.baseState=h,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B5,lastRenderedState:h},g.queue=S,g=a4.bind(null,nr,S),S.dispatch=g,S=VT(!1),D=ZT.bind(null,nr,!1,S.queue),S=ga(),E={state:h,dispatch:null,action:c,pending:null},S.queue=E,g=Soe.bind(null,nr,E,D,g),E.dispatch=g,S.memoizedState=c,[h,g,!1]}function z5(c){var h=wn();return F5(h,Fr,c)}function F5(c,h,g){if(h=UT(c,h,B5)[0],c=Cy(Co)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var S=om(h)}catch(B){throw B===ad?my:B}else S=h;h=wn();var E=h.queue,D=E.dispatch;return g!==h.memoizedState&&(nr.flags|=2048,ud(9,{destroy:void 0},_oe.bind(null,E,g),null)),[S,D,c]}function _oe(c,h){c.action=h}function U5(c){var h=wn(),g=Fr;if(g!==null)return F5(h,g,c);wn(),h=h.memoizedState,g=wn();var S=g.queue.dispatch;return g.memoizedState=c,[h,S,!1]}function ud(c,h,g,S){return c={tag:c,create:g,deps:S,inst:h,next:null},h=nr.updateQueue,h===null&&(h=_y(),nr.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,h.lastEffect=c),c}function H5(){return wn().memoizedState}function Ny(c,h,g,S){var E=ga();nr.flags|=c,E.memoizedState=ud(1|h,{destroy:void 0},g,S===void 0?null:S)}function Ay(c,h,g,S){var E=wn();S=S===void 0?null:S;var D=E.memoizedState.inst;Fr!==null&&S!==null&&LT(S,Fr.memoizedState.deps)?E.memoizedState=ud(h,D,g,S):(nr.flags|=c,E.memoizedState=ud(1|h,D,g,S))}function V5(c,h){Ny(8390656,8,c,h)}function GT(c,h){Ay(2048,8,c,h)}function Toe(c){nr.flags|=4;var h=nr.updateQueue;if(h===null)h=_y(),nr.updateQueue=h,h.events=[c];else{var g=h.events;g===null?h.events=[c]:g.push(c)}}function q5(c){var h=wn().memoizedState;return Toe({ref:h,nextImpl:c}),function(){if((Ar&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function G5(c,h){return Ay(4,2,c,h)}function W5(c,h){return Ay(4,4,c,h)}function K5(c,h){if(typeof h=="function"){c=c();var g=h(c);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Y5(c,h,g){g=g!=null?g.concat([c]):null,Ay(4,4,K5.bind(null,h,c),g)}function WT(){}function X5(c,h){var g=wn();h=h===void 0?null:h;var S=g.memoizedState;return h!==null&&LT(h,S[1])?S[0]:(g.memoizedState=[c,h],c)}function Z5(c,h){var g=wn();h=h===void 0?null:h;var S=g.memoizedState;if(h!==null&&LT(h,S[1]))return S[0];if(S=c(),dc){at(!0);try{c()}finally{at(!1)}}return g.memoizedState=[S,h],S}function KT(c,h,g){return g===void 0||(To&1073741824)!==0&&(pr&261930)===0?c.memoizedState=h:(c.memoizedState=g,c=Q4(),nr.lanes|=c,kl|=c,g)}function Q5(c,h,g,S){return Za(g,h)?g:sd.current!==null?(c=KT(c,g,S),Za(c,h)||(Dn=!0),c):(To&42)===0||(To&1073741824)!==0&&(pr&261930)===0?(Dn=!0,c.memoizedState=g):(c=Q4(),nr.lanes|=c,kl|=c,h)}function J5(c,h,g,S,E){var D=V.p;V.p=D!==0&&8>D?D:8;var B=z.T,G={};z.T=G,ZT(c,!1,h,g);try{var ne=E(),Me=z.S;if(Me!==null&&Me(G,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ke=xoe(ne,S);lm(c,h,Ke,ni(c))}else lm(c,h,S,ni(c))}catch(rt){lm(c,h,{then:function(){},status:"rejected",reason:rt},ni())}finally{V.p=D,B!==null&&G.types!==null&&(B.types=G.types),z.T=B}}function Coe(){}function YT(c,h,g,S){if(c.tag!==5)throw Error(n(476));var E=e4(c).queue;J5(c,E,h,q,g===null?Coe:function(){return t4(c),g(S)})}function e4(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:q},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:g},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function t4(c){var h=e4(c);h.next===null&&(h=c.alternate.memoizedState),lm(c,h.next.queue,{},ni())}function XT(){return Xn(Cm)}function r4(){return wn().memoizedState}function n4(){return wn().memoizedState}function Noe(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var g=ni();c=Ml(g);var S=El(h,c,g);S!==null&&(Oa(S,h,g),nm(S,h,g)),h={cache:CT()},c.payload=h;return}h=h.return}}function Aoe(c,h,g){var S=ni();g={lane:S,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},My(c)?i4(h,g):(g=pT(c,h,g,S),g!==null&&(Oa(g,c,S),s4(g,h,S)))}function a4(c,h,g){var S=ni();lm(c,h,g,S)}function lm(c,h,g,S){var E={lane:S,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(My(c))i4(h,E);else{var D=c.alternate;if(c.lanes===0&&(D===null||D.lanes===0)&&(D=h.lastRenderedReducer,D!==null))try{var B=h.lastRenderedState,G=D(B,g);if(E.hasEagerState=!0,E.eagerState=G,Za(G,B))return ly(c,h,E,0),Yr===null&&oy(),!1}catch{}finally{}if(g=pT(c,h,E,S),g!==null)return Oa(g,c,S),s4(g,h,S),!0}return!1}function ZT(c,h,g,S){if(S={lane:2,revertLane:EC(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},My(c)){if(h)throw Error(n(479))}else h=pT(c,g,S,2),h!==null&&Oa(h,c,2)}function My(c){var h=c.alternate;return c===nr||h!==null&&h===nr}function i4(c,h){od=wy=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function s4(c,h,g){if((g&4194048)!==0){var S=h.lanes;S&=c.pendingLanes,g|=S,h.lanes=g,et(c,g)}}var um={readContext:Xn,use:Ty,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};um.useEffectEvent=hn;var o4={readContext:Xn,use:Ty,useCallback:function(c,h){return ga().memoizedState=[c,h===void 0?null:h],c},useContext:Xn,useEffect:V5,useImperativeHandle:function(c,h,g){g=g!=null?g.concat([c]):null,Ny(4194308,4,K5.bind(null,h,c),g)},useLayoutEffect:function(c,h){return Ny(4194308,4,c,h)},useInsertionEffect:function(c,h){Ny(4,2,c,h)},useMemo:function(c,h){var g=ga();h=h===void 0?null:h;var S=c();if(dc){at(!0);try{c()}finally{at(!1)}}return g.memoizedState=[S,h],S},useReducer:function(c,h,g){var S=ga();if(g!==void 0){var E=g(h);if(dc){at(!0);try{g(h)}finally{at(!1)}}}else E=h;return S.memoizedState=S.baseState=E,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:E},S.queue=c,c=c.dispatch=Aoe.bind(null,nr,c),[S.memoizedState,c]},useRef:function(c){var h=ga();return c={current:c},h.memoizedState=c},useState:function(c){c=VT(c);var h=c.queue,g=a4.bind(null,nr,h);return h.dispatch=g,[c.memoizedState,g]},useDebugValue:WT,useDeferredValue:function(c,h){var g=ga();return KT(g,c,h)},useTransition:function(){var c=VT(!1);return c=J5.bind(null,nr,c.queue,!0,!1),ga().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,g){var S=nr,E=ga();if(vr){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),Yr===null)throw Error(n(349));(pr&127)!==0||M5(S,h,g)}E.memoizedState=g;var D={value:g,getSnapshot:h};return E.queue=D,V5(j5.bind(null,S,D,c),[c]),S.flags|=2048,ud(9,{destroy:void 0},E5.bind(null,S,D,g,h),null),g},useId:function(){var c=ga(),h=Yr.identifierPrefix;if(vr){var g=Ps,S=Os;g=(S&~(1<<32-lt(S)-1)).toString(32)+g,h="_"+h+"R_"+g,g=Sy++,0<g&&(h+="H"+g.toString(32)),h+="_"}else g=boe++,h="_"+h+"r_"+g.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:XT,useFormState:$5,useActionState:$5,useOptimistic:function(c){var h=ga();h.memoizedState=h.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=ZT.bind(null,nr,!0,g),g.dispatch=h,[c,h]},useMemoCache:FT,useCacheRefresh:function(){return ga().memoizedState=Noe.bind(null,nr)},useEffectEvent:function(c){var h=ga(),g={impl:c};return h.memoizedState=g,function(){if((Ar&2)!==0)throw Error(n(440));return g.impl.apply(void 0,arguments)}}},QT={readContext:Xn,use:Ty,useCallback:X5,useContext:Xn,useEffect:GT,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:W5,useMemo:Z5,useReducer:Cy,useRef:H5,useState:function(){return Cy(Co)},useDebugValue:WT,useDeferredValue:function(c,h){var g=wn();return Q5(g,Fr.memoizedState,c,h)},useTransition:function(){var c=Cy(Co)[0],h=wn().memoizedState;return[typeof c=="boolean"?c:om(c),h]},useSyncExternalStore:A5,useId:r4,useHostTransitionStatus:XT,useFormState:z5,useActionState:z5,useOptimistic:function(c,h){var g=wn();return P5(g,Fr,c,h)},useMemoCache:FT,useCacheRefresh:n4};QT.useEffectEvent=q5;var l4={readContext:Xn,use:Ty,useCallback:X5,useContext:Xn,useEffect:GT,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:W5,useMemo:Z5,useReducer:HT,useRef:H5,useState:function(){return HT(Co)},useDebugValue:WT,useDeferredValue:function(c,h){var g=wn();return Fr===null?KT(g,c,h):Q5(g,Fr.memoizedState,c,h)},useTransition:function(){var c=HT(Co)[0],h=wn().memoizedState;return[typeof c=="boolean"?c:om(c),h]},useSyncExternalStore:A5,useId:r4,useHostTransitionStatus:XT,useFormState:U5,useActionState:U5,useOptimistic:function(c,h){var g=wn();return Fr!==null?P5(g,Fr,c,h):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:FT,useCacheRefresh:n4};l4.useEffectEvent=q5;function JT(c,h,g,S){h=c.memoizedState,g=g(S,h),g=g==null?h:d({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var eC={enqueueSetState:function(c,h,g){c=c._reactInternals;var S=ni(),E=Ml(S);E.payload=h,g!=null&&(E.callback=g),h=El(c,E,S),h!==null&&(Oa(h,c,S),nm(h,c,S))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var S=ni(),E=Ml(S);E.tag=1,E.payload=h,g!=null&&(E.callback=g),h=El(c,E,S),h!==null&&(Oa(h,c,S),nm(h,c,S))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=ni(),S=Ml(g);S.tag=2,h!=null&&(S.callback=h),h=El(c,S,g),h!==null&&(Oa(h,c,g),nm(h,c,g))}};function u4(c,h,g,S,E,D,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,D,B):h.prototype&&h.prototype.isPureReactComponent?!Yp(g,S)||!Yp(E,D):!0}function c4(c,h,g,S){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,S),h.state!==c&&eC.enqueueReplaceState(h,h.state,null)}function hc(c,h){var g=h;if("ref"in h){g={};for(var S in h)S!=="ref"&&(g[S]=h[S])}if(c=c.defaultProps){g===h&&(g=d({},g));for(var E in c)g[E]===void 0&&(g[E]=c[E])}return g}function f4(c){sy(c)}function d4(c){console.error(c)}function h4(c){sy(c)}function Ey(c,h){try{var g=c.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(S){setTimeout(function(){throw S})}}function p4(c,h,g){try{var S=c.onCaughtError;S(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function tC(c,h,g){return g=Ml(g),g.tag=3,g.payload={element:null},g.callback=function(){Ey(c,h)},g}function m4(c){return c=Ml(c),c.tag=3,c}function v4(c,h,g,S){var E=g.type.getDerivedStateFromError;if(typeof E=="function"){var D=S.value;c.payload=function(){return E(D)},c.callback=function(){p4(h,g,S)}}var B=g.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(c.callback=function(){p4(h,g,S),typeof E!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var G=S.stack;this.componentDidCatch(S.value,{componentStack:G!==null?G:""})})}function Moe(c,h,g,S,E){if(g.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(h=g.alternate,h!==null&&td(h,g,E,!0),g=Ja.current,g!==null){switch(g.tag){case 31:case 13:return _i===null?Fy():g.alternate===null&&pn===0&&(pn=3),g.flags&=-257,g.flags|=65536,g.lanes=E,S===vy?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([S]):h.add(S),NC(c,S,E)),!1;case 22:return g.flags|=65536,S===vy?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([S])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([S]):g.add(S)),NC(c,S,E)),!1}throw Error(n(435,g.tag))}return NC(c,S,E),Fy(),!1}if(vr)return h=Ja.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,S!==bT&&(c=Error(n(422),{cause:S}),Qp(xi(c,g)))):(S!==bT&&(h=Error(n(423),{cause:S}),Qp(xi(h,g))),c=c.current.alternate,c.flags|=65536,E&=-E,c.lanes|=E,S=xi(S,g),E=tC(c.stateNode,S,E),DT(c,E),pn!==4&&(pn=2)),!1;var D=Error(n(520),{cause:S});if(D=xi(D,g),gm===null?gm=[D]:gm.push(D),pn!==4&&(pn=2),h===null)return!0;S=xi(S,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,c=E&-E,g.lanes|=c,c=tC(g.stateNode,S,c),DT(g,c),!1;case 1:if(h=g.type,D=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Rl===null||!Rl.has(D))))return g.flags|=65536,E&=-E,g.lanes|=E,E=m4(E),v4(E,c,g,S),DT(g,E),!1}g=g.return}while(g!==null);return!1}var rC=Error(n(461)),Dn=!1;function Zn(c,h,g,S){h.child=c===null?b5(h,null,g,S):fc(h,c.child,g,S)}function g4(c,h,g,S,E){g=g.render;var D=h.ref;if("ref"in S){var B={};for(var G in S)G!=="ref"&&(B[G]=S[G])}else B=S;return oc(h),S=IT(c,h,g,B,D,E),G=BT(),c!==null&&!Dn?($T(c,h,E),No(c,h,E)):(vr&&G&&yT(h),h.flags|=1,Zn(c,h,S,E),h.child)}function y4(c,h,g,S,E){if(c===null){var D=g.type;return typeof D=="function"&&!mT(D)&&D.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=D,x4(c,h,D,S,E)):(c=cy(g.type,null,S,h,h.mode,E),c.ref=h.ref,c.return=h,h.child=c)}if(D=c.child,!cC(c,E)){var B=D.memoizedProps;if(g=g.compare,g=g!==null?g:Yp,g(B,S)&&c.ref===h.ref)return No(c,h,E)}return h.flags|=1,c=bo(D,S),c.ref=h.ref,c.return=h,h.child=c}function x4(c,h,g,S,E){if(c!==null){var D=c.memoizedProps;if(Yp(D,S)&&c.ref===h.ref)if(Dn=!1,h.pendingProps=S=D,cC(c,E))(c.flags&131072)!==0&&(Dn=!0);else return h.lanes=c.lanes,No(c,h,E)}return nC(c,h,g,S,E)}function b4(c,h,g,S){var E=S.children,D=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((h.flags&128)!==0){if(D=D!==null?D.baseLanes|g:g,c!==null){for(S=h.child=c.child,E=0;S!==null;)E=E|S.lanes|S.childLanes,S=S.sibling;S=E&~D}else S=0,h.child=null;return w4(c,h,D,g,S)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&py(h,D!==null?D.cachePool:null),D!==null?_5(h,D):PT(),T5(h);else return S=h.lanes=536870912,w4(c,h,D!==null?D.baseLanes|g:g,g,S)}else D!==null?(py(h,D.cachePool),_5(h,D),Dl(),h.memoizedState=null):(c!==null&&py(h,null),PT(),Dl());return Zn(c,h,E,g),h.child}function cm(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function w4(c,h,g,S,E){var D=AT();return D=D===null?null:{parent:En._currentValue,pool:D},h.memoizedState={baseLanes:g,cachePool:D},c!==null&&py(h,null),PT(),T5(h),c!==null&&td(c,h,S,!0),h.childLanes=E,null}function jy(c,h){return h=Oy({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function S4(c,h,g){return fc(h,c.child,null,g),c=jy(h,h.pendingProps),c.flags|=2,ei(h),h.memoizedState=null,c}function Eoe(c,h,g){var S=h.pendingProps,E=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(vr){if(S.mode==="hidden")return c=jy(h,S),h.lanes=536870912,cm(null,c);if(RT(h),(c=en)?(c=kB(c,Si),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:_l!==null?{id:Os,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},g=i5(c),g.return=h,h.child=g,Yn=h,en=null)):c=null,c===null)throw Cl(h);return h.lanes=536870912,null}return jy(h,S)}var D=c.memoizedState;if(D!==null){var B=D.dehydrated;if(RT(h),E)if(h.flags&256)h.flags&=-257,h=S4(c,h,g);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(n(558));else if(Dn||td(c,h,g,!1),E=(g&c.childLanes)!==0,Dn||E){if(S=Yr,S!==null&&(B=ut(S,g),B!==0&&B!==D.retryLane))throw D.retryLane=B,nc(c,B),Oa(S,c,B),rC;Fy(),h=S4(c,h,g)}else c=D.treeContext,en=Ti(B.nextSibling),Yn=h,vr=!0,Tl=null,Si=!1,c!==null&&l5(h,c),h=jy(h,S),h.flags|=4096;return h}return c=bo(c.child,{mode:S.mode,children:S.children}),c.ref=h.ref,h.child=c,c.return=h,c}function Dy(c,h){var g=h.ref;if(g===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(c===null||c.ref!==g)&&(h.flags|=4194816)}}function nC(c,h,g,S,E){return oc(h),g=IT(c,h,g,S,void 0,E),S=BT(),c!==null&&!Dn?($T(c,h,E),No(c,h,E)):(vr&&S&&yT(h),h.flags|=1,Zn(c,h,g,E),h.child)}function _4(c,h,g,S,E,D){return oc(h),h.updateQueue=null,g=N5(h,S,g,E),C5(c),S=BT(),c!==null&&!Dn?($T(c,h,D),No(c,h,D)):(vr&&S&&yT(h),h.flags|=1,Zn(c,h,g,D),h.child)}function T4(c,h,g,S,E){if(oc(h),h.stateNode===null){var D=Zf,B=g.contextType;typeof B=="object"&&B!==null&&(D=Xn(B)),D=new g(S,D),h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=eC,h.stateNode=D,D._reactInternals=h,D=h.stateNode,D.props=S,D.state=h.memoizedState,D.refs={},ET(h),B=g.contextType,D.context=typeof B=="object"&&B!==null?Xn(B):Zf,D.state=h.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(JT(h,g,B,S),D.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(B=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),B!==D.state&&eC.enqueueReplaceState(D,D.state,null),im(h,S,D,E),am(),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!0}else if(c===null){D=h.stateNode;var G=h.memoizedProps,ne=hc(g,G);D.props=ne;var Me=D.context,Ke=g.contextType;B=Zf,typeof Ke=="object"&&Ke!==null&&(B=Xn(Ke));var rt=g.getDerivedStateFromProps;Ke=typeof rt=="function"||typeof D.getSnapshotBeforeUpdate=="function",G=h.pendingProps!==G,Ke||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G||Me!==B)&&c4(h,D,S,B),Al=!1;var je=h.memoizedState;D.state=je,im(h,S,D,E),am(),Me=h.memoizedState,G||je!==Me||Al?(typeof rt=="function"&&(JT(h,g,rt,S),Me=h.memoizedState),(ne=Al||u4(h,g,ne,S,je,Me,B))?(Ke||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(h.flags|=4194308)):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Me),D.props=S,D.state=Me,D.context=B,S=ne):(typeof D.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{D=h.stateNode,jT(c,h),B=h.memoizedProps,Ke=hc(g,B),D.props=Ke,rt=h.pendingProps,je=D.context,Me=g.contextType,ne=Zf,typeof Me=="object"&&Me!==null&&(ne=Xn(Me)),G=g.getDerivedStateFromProps,(Me=typeof G=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==rt||je!==ne)&&c4(h,D,S,ne),Al=!1,je=h.memoizedState,D.state=je,im(h,S,D,E),am();var Be=h.memoizedState;B!==rt||je!==Be||Al||c!==null&&c.dependencies!==null&&dy(c.dependencies)?(typeof G=="function"&&(JT(h,g,G,S),Be=h.memoizedState),(Ke=Al||u4(h,g,Ke,S,je,Be,ne)||c!==null&&c.dependencies!==null&&dy(c.dependencies))?(Me||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(S,Be,ne),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(S,Be,ne)),typeof D.componentDidUpdate=="function"&&(h.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof D.componentDidUpdate!="function"||B===c.memoizedProps&&je===c.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&je===c.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=Be),D.props=S,D.state=Be,D.context=ne,S=Ke):(typeof D.componentDidUpdate!="function"||B===c.memoizedProps&&je===c.memoizedState||(h.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&je===c.memoizedState||(h.flags|=1024),S=!1)}return D=S,Dy(c,h),S=(h.flags&128)!==0,D||S?(D=h.stateNode,g=S&&typeof g.getDerivedStateFromError!="function"?null:D.render(),h.flags|=1,c!==null&&S?(h.child=fc(h,c.child,null,E),h.child=fc(h,null,g,E)):Zn(c,h,g,E),h.memoizedState=D.state,c=h.child):c=No(c,h,E),c}function C4(c,h,g,S){return ic(),h.flags|=256,Zn(c,h,g,S),h.child}var aC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iC(c){return{baseLanes:c,cachePool:p5()}}function sC(c,h,g){return c=c!==null?c.childLanes&~g:0,h&&(c|=ri),c}function N4(c,h,g){var S=h.pendingProps,E=!1,D=(h.flags&128)!==0,B;if((B=D)||(B=c!==null&&c.memoizedState===null?!1:(bn.current&2)!==0),B&&(E=!0,h.flags&=-129),B=(h.flags&32)!==0,h.flags&=-33,c===null){if(vr){if(E?jl(h):Dl(),(c=en)?(c=kB(c,Si),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:_l!==null?{id:Os,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},g=i5(c),g.return=h,h.child=g,Yn=h,en=null)):c=null,c===null)throw Cl(h);return UC(c)?h.lanes=32:h.lanes=536870912,null}var G=S.children;return S=S.fallback,E?(Dl(),E=h.mode,G=Oy({mode:"hidden",children:G},E),S=ac(S,E,g,null),G.return=h,S.return=h,G.sibling=S,h.child=G,S=h.child,S.memoizedState=iC(g),S.childLanes=sC(c,B,g),h.memoizedState=aC,cm(null,S)):(jl(h),oC(h,G))}var ne=c.memoizedState;if(ne!==null&&(G=ne.dehydrated,G!==null)){if(D)h.flags&256?(jl(h),h.flags&=-257,h=lC(c,h,g)):h.memoizedState!==null?(Dl(),h.child=c.child,h.flags|=128,h=null):(Dl(),G=S.fallback,E=h.mode,S=Oy({mode:"visible",children:S.children},E),G=ac(G,E,g,null),G.flags|=2,S.return=h,G.return=h,S.sibling=G,h.child=S,fc(h,c.child,null,g),S=h.child,S.memoizedState=iC(g),S.childLanes=sC(c,B,g),h.memoizedState=aC,h=cm(null,S));else if(jl(h),UC(G)){if(B=G.nextSibling&&G.nextSibling.dataset,B)var Me=B.dgst;B=Me,S=Error(n(419)),S.stack="",S.digest=B,Qp({value:S,source:null,stack:null}),h=lC(c,h,g)}else if(Dn||td(c,h,g,!1),B=(g&c.childLanes)!==0,Dn||B){if(B=Yr,B!==null&&(S=ut(B,g),S!==0&&S!==ne.retryLane))throw ne.retryLane=S,nc(c,S),Oa(B,c,S),rC;FC(G)||Fy(),h=lC(c,h,g)}else FC(G)?(h.flags|=192,h.child=c.child,h=null):(c=ne.treeContext,en=Ti(G.nextSibling),Yn=h,vr=!0,Tl=null,Si=!1,c!==null&&l5(h,c),h=oC(h,S.children),h.flags|=4096);return h}return E?(Dl(),G=S.fallback,E=h.mode,ne=c.child,Me=ne.sibling,S=bo(ne,{mode:"hidden",children:S.children}),S.subtreeFlags=ne.subtreeFlags&65011712,Me!==null?G=bo(Me,G):(G=ac(G,E,g,null),G.flags|=2),G.return=h,S.return=h,S.sibling=G,h.child=S,cm(null,S),S=h.child,G=c.child.memoizedState,G===null?G=iC(g):(E=G.cachePool,E!==null?(ne=En._currentValue,E=E.parent!==ne?{parent:ne,pool:ne}:E):E=p5(),G={baseLanes:G.baseLanes|g,cachePool:E}),S.memoizedState=G,S.childLanes=sC(c,B,g),h.memoizedState=aC,cm(c.child,S)):(jl(h),g=c.child,c=g.sibling,g=bo(g,{mode:"visible",children:S.children}),g.return=h,g.sibling=null,c!==null&&(B=h.deletions,B===null?(h.deletions=[c],h.flags|=16):B.push(c)),h.child=g,h.memoizedState=null,g)}function oC(c,h){return h=Oy({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Oy(c,h){return c=Qa(22,c,null,h),c.lanes=0,c}function lC(c,h,g){return fc(h,c.child,null,g),c=oC(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function A4(c,h,g){c.lanes|=h;var S=c.alternate;S!==null&&(S.lanes|=h),_T(c.return,h,g)}function uC(c,h,g,S,E,D){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:E,treeForkCount:D}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=S,B.tail=g,B.tailMode=E,B.treeForkCount=D)}function M4(c,h,g){var S=h.pendingProps,E=S.revealOrder,D=S.tail;S=S.children;var B=bn.current,G=(B&2)!==0;if(G?(B=B&1|2,h.flags|=128):B&=1,K(bn,B),Zn(c,h,S,g),S=vr?Zp:0,!G&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&A4(c,g,h);else if(c.tag===19)A4(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(E){case"forwards":for(g=h.child,E=null;g!==null;)c=g.alternate,c!==null&&by(c)===null&&(E=g),g=g.sibling;g=E,g===null?(E=h.child,h.child=null):(E=g.sibling,g.sibling=null),uC(h,!1,E,g,D,S);break;case"backwards":case"unstable_legacy-backwards":for(g=null,E=h.child,h.child=null;E!==null;){if(c=E.alternate,c!==null&&by(c)===null){h.child=E;break}c=E.sibling,E.sibling=g,g=E,E=c}uC(h,!0,g,null,D,S);break;case"together":uC(h,!1,null,null,void 0,S);break;default:h.memoizedState=null}return h.child}function No(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),kl|=h.lanes,(g&h.childLanes)===0)if(c!==null){if(td(c,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,g=bo(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=bo(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function cC(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&dy(c)))}function joe(c,h,g){switch(h.tag){case 3:Je(h,h.stateNode.containerInfo),Nl(h,En,c.memoizedState.cache),ic();break;case 27:case 5:Te(h);break;case 4:Je(h,h.stateNode.containerInfo);break;case 10:Nl(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,RT(h),null;break;case 13:var S=h.memoizedState;if(S!==null)return S.dehydrated!==null?(jl(h),h.flags|=128,null):(g&h.child.childLanes)!==0?N4(c,h,g):(jl(h),c=No(c,h,g),c!==null?c.sibling:null);jl(h);break;case 19:var E=(c.flags&128)!==0;if(S=(g&h.childLanes)!==0,S||(td(c,h,g,!1),S=(g&h.childLanes)!==0),E){if(S)return M4(c,h,g);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),K(bn,bn.current),S)break;return null;case 22:return h.lanes=0,b4(c,h,g,h.pendingProps);case 24:Nl(h,En,c.memoizedState.cache)}return No(c,h,g)}function E4(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps)Dn=!0;else{if(!cC(c,g)&&(h.flags&128)===0)return Dn=!1,joe(c,h,g);Dn=(c.flags&131072)!==0}else Dn=!1,vr&&(h.flags&1048576)!==0&&o5(h,Zp,h.index);switch(h.lanes=0,h.tag){case 16:e:{var S=h.pendingProps;if(c=uc(h.elementType),h.type=c,typeof c=="function")mT(c)?(S=hc(c,S),h.tag=1,h=T4(null,h,c,S,g)):(h.tag=0,h=nC(null,h,c,S,g));else{if(c!=null){var E=c.$$typeof;if(E===M){h.tag=11,h=g4(null,h,c,S,g);break e}else if(E===j){h.tag=14,h=y4(null,h,c,S,g);break e}}throw h=$(c)||c,Error(n(306,h,""))}}return h;case 0:return nC(c,h,h.type,h.pendingProps,g);case 1:return S=h.type,E=hc(S,h.pendingProps),T4(c,h,S,E,g);case 3:e:{if(Je(h,h.stateNode.containerInfo),c===null)throw Error(n(387));S=h.pendingProps;var D=h.memoizedState;E=D.element,jT(c,h),im(h,S,null,g);var B=h.memoizedState;if(S=B.cache,Nl(h,En,S),S!==D.cache&&TT(h,[En],g,!0),am(),S=B.element,D.isDehydrated)if(D={element:S,isDehydrated:!1,cache:B.cache},h.updateQueue.baseState=D,h.memoizedState=D,h.flags&256){h=C4(c,h,S,g);break e}else if(S!==E){E=xi(Error(n(424)),h),Qp(E),h=C4(c,h,S,g);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(en=Ti(c.firstChild),Yn=h,vr=!0,Tl=null,Si=!0,g=b5(h,null,S,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(ic(),S===E){h=No(c,h,g);break e}Zn(c,h,S,g)}h=h.child}return h;case 26:return Dy(c,h),c===null?(g=zB(h.type,null,h.pendingProps,null))?h.memoizedState=g:vr||(g=h.type,c=h.pendingProps,S=Ky(xe.current).createElement(g),S[Ie]=h,S[Ye]=c,Qn(S,g,c),Qt(S),h.stateNode=S):h.memoizedState=zB(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return Te(h),c===null&&vr&&(S=h.stateNode=IB(h.type,h.pendingProps,xe.current),Yn=h,Si=!0,E=en,$l(h.type)?(HC=E,en=Ti(S.firstChild)):en=E),Zn(c,h,h.pendingProps.children,g),Dy(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&vr&&((E=S=en)&&(S=sle(S,h.type,h.pendingProps,Si),S!==null?(h.stateNode=S,Yn=h,en=Ti(S.firstChild),Si=!1,E=!0):E=!1),E||Cl(h)),Te(h),E=h.type,D=h.pendingProps,B=c!==null?c.memoizedProps:null,S=D.children,BC(E,D)?S=null:B!==null&&BC(E,B)&&(h.flags|=32),h.memoizedState!==null&&(E=IT(c,h,woe,null,null,g),Cm._currentValue=E),Dy(c,h),Zn(c,h,S,g),h.child;case 6:return c===null&&vr&&((c=g=en)&&(g=ole(g,h.pendingProps,Si),g!==null?(h.stateNode=g,Yn=h,en=null,c=!0):c=!1),c||Cl(h)),null;case 13:return N4(c,h,g);case 4:return Je(h,h.stateNode.containerInfo),S=h.pendingProps,c===null?h.child=fc(h,null,S,g):Zn(c,h,S,g),h.child;case 11:return g4(c,h,h.type,h.pendingProps,g);case 7:return Zn(c,h,h.pendingProps,g),h.child;case 8:return Zn(c,h,h.pendingProps.children,g),h.child;case 12:return Zn(c,h,h.pendingProps.children,g),h.child;case 10:return S=h.pendingProps,Nl(h,h.type,S.value),Zn(c,h,S.children,g),h.child;case 9:return E=h.type._context,S=h.pendingProps.children,oc(h),E=Xn(E),S=S(E),h.flags|=1,Zn(c,h,S,g),h.child;case 14:return y4(c,h,h.type,h.pendingProps,g);case 15:return x4(c,h,h.type,h.pendingProps,g);case 19:return M4(c,h,g);case 31:return Eoe(c,h,g);case 22:return b4(c,h,g,h.pendingProps);case 24:return oc(h),S=Xn(En),c===null?(E=AT(),E===null&&(E=Yr,D=CT(),E.pooledCache=D,D.refCount++,D!==null&&(E.pooledCacheLanes|=g),E=D),h.memoizedState={parent:S,cache:E},ET(h),Nl(h,En,E)):((c.lanes&g)!==0&&(jT(c,h),im(h,null,null,g),am()),E=c.memoizedState,D=h.memoizedState,E.parent!==S?(E={parent:S,cache:S},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),Nl(h,En,S)):(S=D.cache,Nl(h,En,S),S!==E.cache&&TT(h,[En],g,!0))),Zn(c,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Ao(c){c.flags|=4}function fC(c,h,g,S,E){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(E&335544128)===E)if(c.stateNode.complete)c.flags|=8192;else if(rB())c.flags|=8192;else throw cc=vy,MT}else c.flags&=-16777217}function j4(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!qB(h))if(rB())c.flags|=8192;else throw cc=vy,MT}function Py(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?qt():536870912,c.lanes|=h,hd|=h)}function fm(c,h){if(!vr)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function tn(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(h)for(var E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags&65011712,S|=E.flags&65011712,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)g|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=S,c.childLanes=g,h}function Doe(c,h,g){var S=h.pendingProps;switch(xT(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(h),null;case 1:return tn(h),null;case 3:return g=h.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),h.memoizedState.cache!==S&&(h.flags|=2048),_o(En),be(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(ed(h)?Ao(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wT())),tn(h),null;case 26:var E=h.type,D=h.memoizedState;return c===null?(Ao(h),D!==null?(tn(h),j4(h,D)):(tn(h),fC(h,E,null,S,g))):D?D!==c.memoizedState?(Ao(h),tn(h),j4(h,D)):(tn(h),h.flags&=-16777217):(c=c.memoizedProps,c!==S&&Ao(h),tn(h),fC(h,E,c,S,g)),null;case 27:if(De(h),g=xe.current,E=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==S&&Ao(h);else{if(!S){if(h.stateNode===null)throw Error(n(166));return tn(h),null}c=ee.current,ed(h)?u5(h):(c=IB(E,S,g),h.stateNode=c,Ao(h))}return tn(h),null;case 5:if(De(h),E=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==S&&Ao(h);else{if(!S){if(h.stateNode===null)throw Error(n(166));return tn(h),null}if(D=ee.current,ed(h))u5(h);else{var B=Ky(xe.current);switch(D){case 1:D=B.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:D=B.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":D=B.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":D=B.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":D=B.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof S.is=="string"?B.createElement("select",{is:S.is}):B.createElement("select"),S.multiple?D.multiple=!0:S.size&&(D.size=S.size);break;default:D=typeof S.is=="string"?B.createElement(E,{is:S.is}):B.createElement(E)}}D[Ie]=h,D[Ye]=S;e:for(B=h.child;B!==null;){if(B.tag===5||B.tag===6)D.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===h)break e;for(;B.sibling===null;){if(B.return===null||B.return===h)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}h.stateNode=D;e:switch(Qn(D,E,S),E){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&Ao(h)}}return tn(h),fC(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,g),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==S&&Ao(h);else{if(typeof S!="string"&&h.stateNode===null)throw Error(n(166));if(c=xe.current,ed(h)){if(c=h.stateNode,g=h.memoizedProps,S=null,E=Yn,E!==null)switch(E.tag){case 27:case 5:S=E.memoizedProps}c[Ie]=h,c=!!(c.nodeValue===g||S!==null&&S.suppressHydrationWarning===!0||NB(c.nodeValue,g)),c||Cl(h,!0)}else c=Ky(c).createTextNode(S),c[Ie]=h,h.stateNode=c}return tn(h),null;case 31:if(g=h.memoizedState,c===null||c.memoizedState!==null){if(S=ed(h),g!==null){if(c===null){if(!S)throw Error(n(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[Ie]=h}else ic(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;tn(h),c=!1}else g=wT(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return h.flags&256?(ei(h),h):(ei(h),null);if((h.flags&128)!==0)throw Error(n(558))}return tn(h),null;case 13:if(S=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(E=ed(h),S!==null&&S.dehydrated!==null){if(c===null){if(!E)throw Error(n(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ie]=h}else ic(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;tn(h),E=!1}else E=wT(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(ei(h),h):(ei(h),null)}return ei(h),(h.flags&128)!==0?(h.lanes=g,h):(g=S!==null,c=c!==null&&c.memoizedState!==null,g&&(S=h.child,E=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(E=S.alternate.memoizedState.cachePool.pool),D=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(D=S.memoizedState.cachePool.pool),D!==E&&(S.flags|=2048)),g!==c&&g&&(h.child.flags|=8192),Py(h,h.updateQueue),tn(h),null);case 4:return be(),c===null&&PC(h.stateNode.containerInfo),tn(h),null;case 10:return _o(h.type),tn(h),null;case 19:if(U(bn),S=h.memoizedState,S===null)return tn(h),null;if(E=(h.flags&128)!==0,D=S.rendering,D===null)if(E)fm(S,!1);else{if(pn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(D=by(c),D!==null){for(h.flags|=128,fm(S,!1),c=D.updateQueue,h.updateQueue=c,Py(h,c),h.subtreeFlags=0,c=g,g=h.child;g!==null;)a5(g,c),g=g.sibling;return K(bn,bn.current&1|2),vr&&wo(h,S.treeForkCount),h.child}c=c.sibling}S.tail!==null&&ue()>By&&(h.flags|=128,E=!0,fm(S,!1),h.lanes=4194304)}else{if(!E)if(c=by(D),c!==null){if(h.flags|=128,E=!0,c=c.updateQueue,h.updateQueue=c,Py(h,c),fm(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!vr)return tn(h),null}else 2*ue()-S.renderingStartTime>By&&g!==536870912&&(h.flags|=128,E=!0,fm(S,!1),h.lanes=4194304);S.isBackwards?(D.sibling=h.child,h.child=D):(c=S.last,c!==null?c.sibling=D:h.child=D,S.last=D)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=ue(),c.sibling=null,g=bn.current,K(bn,E?g&1|2:g&1),vr&&wo(h,S.treeForkCount),c):(tn(h),null);case 22:case 23:return ei(h),kT(),S=h.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(h.flags|=8192):S&&(h.flags|=8192),S?(g&536870912)!==0&&(h.flags&128)===0&&(tn(h),h.subtreeFlags&6&&(h.flags|=8192)):tn(h),g=h.updateQueue,g!==null&&Py(h,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==g&&(h.flags|=2048),c!==null&&U(lc),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),_o(En),tn(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function Ooe(c,h){switch(xT(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return _o(En),be(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return De(h),null;case 31:if(h.memoizedState!==null){if(ei(h),h.alternate===null)throw Error(n(340));ic()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(ei(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));ic()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return U(bn),null;case 4:return be(),null;case 10:return _o(h.type),null;case 22:case 23:return ei(h),kT(),c!==null&&U(lc),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return _o(En),null;case 25:return null;default:return null}}function D4(c,h){switch(xT(h),h.tag){case 3:_o(En),be();break;case 26:case 27:case 5:De(h);break;case 4:be();break;case 31:h.memoizedState!==null&&ei(h);break;case 13:ei(h);break;case 19:U(bn);break;case 10:_o(h.type);break;case 22:case 23:ei(h),kT(),c!==null&&U(lc);break;case 24:_o(En)}}function dm(c,h){try{var g=h.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var E=S.next;g=E;do{if((g.tag&c)===c){S=void 0;var D=g.create,B=g.inst;S=D(),B.destroy=S}g=g.next}while(g!==E)}}catch(G){$r(h,h.return,G)}}function Ol(c,h,g){try{var S=h.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var D=E.next;S=D;do{if((S.tag&c)===c){var B=S.inst,G=B.destroy;if(G!==void 0){B.destroy=void 0,E=h;var ne=g,Me=G;try{Me()}catch(Ke){$r(E,ne,Ke)}}}S=S.next}while(S!==D)}}catch(Ke){$r(h,h.return,Ke)}}function O4(c){var h=c.updateQueue;if(h!==null){var g=c.stateNode;try{S5(h,g)}catch(S){$r(c,c.return,S)}}}function P4(c,h,g){g.props=hc(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(S){$r(c,h,S)}}function hm(c,h){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var S=c.stateNode;break;case 30:S=c.stateNode;break;default:S=c.stateNode}typeof g=="function"?c.refCleanup=g(S):g.current=S}}catch(E){$r(c,h,E)}}function ks(c,h){var g=c.ref,S=c.refCleanup;if(g!==null)if(typeof S=="function")try{S()}catch(E){$r(c,h,E)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(E){$r(c,h,E)}else g.current=null}function k4(c){var h=c.type,g=c.memoizedProps,S=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&S.focus();break e;case"img":g.src?S.src=g.src:g.srcSet&&(S.srcset=g.srcSet)}}catch(E){$r(c,c.return,E)}}function dC(c,h,g){try{var S=c.stateNode;ele(S,c.type,g,h),S[Ye]=h}catch(E){$r(c,c.return,E)}}function R4(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&$l(c.type)||c.tag===4}function hC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||R4(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&$l(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function pC(c,h,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(c),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=yo));else if(S!==4&&(S===27&&$l(c.type)&&(g=c.stateNode,h=null),c=c.child,c!==null))for(pC(c,h,g),c=c.sibling;c!==null;)pC(c,h,g),c=c.sibling}function ky(c,h,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(S!==4&&(S===27&&$l(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(ky(c,h,g),c=c.sibling;c!==null;)ky(c,h,g),c=c.sibling}function L4(c){var h=c.stateNode,g=c.memoizedProps;try{for(var S=c.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);Qn(h,S,g),h[Ie]=c,h[Ye]=g}catch(D){$r(c,c.return,D)}}var Mo=!1,On=!1,mC=!1,I4=typeof WeakSet=="function"?WeakSet:Set,qn=null;function Poe(c,h){if(c=c.containerInfo,LC=tx,c=Y3(c),lT(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var E=S.anchorOffset,D=S.focusNode;S=S.focusOffset;try{g.nodeType,D.nodeType}catch{g=null;break e}var B=0,G=-1,ne=-1,Me=0,Ke=0,rt=c,je=null;t:for(;;){for(var Be;rt!==g||E!==0&&rt.nodeType!==3||(G=B+E),rt!==D||S!==0&&rt.nodeType!==3||(ne=B+S),rt.nodeType===3&&(B+=rt.nodeValue.length),(Be=rt.firstChild)!==null;)je=rt,rt=Be;for(;;){if(rt===c)break t;if(je===g&&++Me===E&&(G=B),je===D&&++Ke===S&&(ne=B),(Be=rt.nextSibling)!==null)break;rt=je,je=rt.parentNode}rt=Be}g=G===-1||ne===-1?null:{start:G,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(IC={focusedElem:c,selectionRange:g},tx=!1,qn=h;qn!==null;)if(h=qn,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,qn=c;else for(;qn!==null;){switch(h=qn,D=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(g=0;g<c.length;g++)E=c[g],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&D!==null){c=void 0,g=h,E=D.memoizedProps,D=D.memoizedState,S=g.stateNode;try{var jt=hc(g.type,E);c=S.getSnapshotBeforeUpdate(jt,D),S.__reactInternalSnapshotBeforeUpdate=c}catch(Ft){$r(g,g.return,Ft)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,g=c.nodeType,g===9)zC(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":zC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,qn=c;break}qn=h.return}}function B4(c,h,g){var S=g.flags;switch(g.tag){case 0:case 11:case 15:jo(c,g),S&4&&dm(5,g);break;case 1:if(jo(c,g),S&4)if(c=g.stateNode,h===null)try{c.componentDidMount()}catch(B){$r(g,g.return,B)}else{var E=hc(g.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(E,h,c.__reactInternalSnapshotBeforeUpdate)}catch(B){$r(g,g.return,B)}}S&64&&O4(g),S&512&&hm(g,g.return);break;case 3:if(jo(c,g),S&64&&(c=g.updateQueue,c!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{S5(c,h)}catch(B){$r(g,g.return,B)}}break;case 27:h===null&&S&4&&L4(g);case 26:case 5:jo(c,g),h===null&&S&4&&k4(g),S&512&&hm(g,g.return);break;case 12:jo(c,g);break;case 31:jo(c,g),S&4&&F4(c,g);break;case 13:jo(c,g),S&4&&U4(c,g),S&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=Uoe.bind(null,g),lle(c,g))));break;case 22:if(S=g.memoizedState!==null||Mo,!S){h=h!==null&&h.memoizedState!==null||On,E=Mo;var D=On;Mo=S,(On=h)&&!D?Do(c,g,(g.subtreeFlags&8772)!==0):jo(c,g),Mo=E,On=D}break;case 30:break;default:jo(c,g)}}function $4(c){var h=c.alternate;h!==null&&(c.alternate=null,$4(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Ct(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var an=null,Ma=!1;function Eo(c,h,g){for(g=g.child;g!==null;)z4(c,h,g),g=g.sibling}function z4(c,h,g){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ze,g)}catch{}switch(g.tag){case 26:On||ks(g,h),Eo(c,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:On||ks(g,h);var S=an,E=Ma;$l(g.type)&&(an=g.stateNode,Ma=!1),Eo(c,h,g),Sm(g.stateNode),an=S,Ma=E;break;case 5:On||ks(g,h);case 6:if(S=an,E=Ma,an=null,Eo(c,h,g),an=S,Ma=E,an!==null)if(Ma)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(g.stateNode)}catch(D){$r(g,h,D)}else try{an.removeChild(g.stateNode)}catch(D){$r(g,h,D)}break;case 18:an!==null&&(Ma?(c=an,OB(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),wd(c)):OB(an,g.stateNode));break;case 4:S=an,E=Ma,an=g.stateNode.containerInfo,Ma=!0,Eo(c,h,g),an=S,Ma=E;break;case 0:case 11:case 14:case 15:Ol(2,g,h),On||Ol(4,g,h),Eo(c,h,g);break;case 1:On||(ks(g,h),S=g.stateNode,typeof S.componentWillUnmount=="function"&&P4(g,h,S)),Eo(c,h,g);break;case 21:Eo(c,h,g);break;case 22:On=(S=On)||g.memoizedState!==null,Eo(c,h,g),On=S;break;default:Eo(c,h,g)}}function F4(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{wd(c)}catch(g){$r(h,h.return,g)}}}function U4(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{wd(c)}catch(g){$r(h,h.return,g)}}function koe(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new I4),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new I4),h;default:throw Error(n(435,c.tag))}}function Ry(c,h){var g=koe(c);h.forEach(function(S){if(!g.has(S)){g.add(S);var E=Hoe.bind(null,c,S);S.then(E,E)}})}function Ea(c,h){var g=h.deletions;if(g!==null)for(var S=0;S<g.length;S++){var E=g[S],D=c,B=h,G=B;e:for(;G!==null;){switch(G.tag){case 27:if($l(G.type)){an=G.stateNode,Ma=!1;break e}break;case 5:an=G.stateNode,Ma=!1;break e;case 3:case 4:an=G.stateNode.containerInfo,Ma=!0;break e}G=G.return}if(an===null)throw Error(n(160));z4(D,B,E),an=null,Ma=!1,D=E.alternate,D!==null&&(D.return=null),E.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)H4(h,c),h=h.sibling}var is=null;function H4(c,h){var g=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ea(h,c),ja(c),S&4&&(Ol(3,c,c.return),dm(3,c),Ol(5,c,c.return));break;case 1:Ea(h,c),ja(c),S&512&&(On||g===null||ks(g,g.return)),S&64&&Mo&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?S:g.concat(S))));break;case 26:var E=is;if(Ea(h,c),ja(c),S&512&&(On||g===null||ks(g,g.return)),S&4){var D=g!==null?g.memoizedState:null;if(S=c.memoizedState,g===null)if(S===null)if(c.stateNode===null){e:{S=c.type,g=c.memoizedProps,E=E.ownerDocument||E;t:switch(S){case"title":D=E.getElementsByTagName("title")[0],(!D||D[ct]||D[Ie]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=E.createElement(S),E.head.insertBefore(D,E.querySelector("head > title"))),Qn(D,S,g),D[Ie]=c,Qt(D),S=D;break e;case"link":var B=HB("link","href",E).get(S+(g.href||""));if(B){for(var G=0;G<B.length;G++)if(D=B[G],D.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&D.getAttribute("rel")===(g.rel==null?null:g.rel)&&D.getAttribute("title")===(g.title==null?null:g.title)&&D.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){B.splice(G,1);break t}}D=E.createElement(S),Qn(D,S,g),E.head.appendChild(D);break;case"meta":if(B=HB("meta","content",E).get(S+(g.content||""))){for(G=0;G<B.length;G++)if(D=B[G],D.getAttribute("content")===(g.content==null?null:""+g.content)&&D.getAttribute("name")===(g.name==null?null:g.name)&&D.getAttribute("property")===(g.property==null?null:g.property)&&D.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&D.getAttribute("charset")===(g.charSet==null?null:g.charSet)){B.splice(G,1);break t}}D=E.createElement(S),Qn(D,S,g),E.head.appendChild(D);break;default:throw Error(n(468,S))}D[Ie]=c,Qt(D),S=D}c.stateNode=S}else VB(E,c.type,c.stateNode);else c.stateNode=UB(E,S,c.memoizedProps);else D!==S?(D===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):D.count--,S===null?VB(E,c.type,c.stateNode):UB(E,S,c.memoizedProps)):S===null&&c.stateNode!==null&&dC(c,c.memoizedProps,g.memoizedProps)}break;case 27:Ea(h,c),ja(c),S&512&&(On||g===null||ks(g,g.return)),g!==null&&S&4&&dC(c,c.memoizedProps,g.memoizedProps);break;case 5:if(Ea(h,c),ja(c),S&512&&(On||g===null||ks(g,g.return)),c.flags&32){E=c.stateNode;try{Vf(E,"")}catch(jt){$r(c,c.return,jt)}}S&4&&c.stateNode!=null&&(E=c.memoizedProps,dC(c,E,g!==null?g.memoizedProps:E)),S&1024&&(mC=!0);break;case 6:if(Ea(h,c),ja(c),S&4){if(c.stateNode===null)throw Error(n(162));S=c.memoizedProps,g=c.stateNode;try{g.nodeValue=S}catch(jt){$r(c,c.return,jt)}}break;case 3:if(Zy=null,E=is,is=Yy(h.containerInfo),Ea(h,c),is=E,ja(c),S&4&&g!==null&&g.memoizedState.isDehydrated)try{wd(h.containerInfo)}catch(jt){$r(c,c.return,jt)}mC&&(mC=!1,V4(c));break;case 4:S=is,is=Yy(c.stateNode.containerInfo),Ea(h,c),ja(c),is=S;break;case 12:Ea(h,c),ja(c);break;case 31:Ea(h,c),ja(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Ry(c,S)));break;case 13:Ea(h,c),ja(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Iy=ue()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Ry(c,S)));break;case 22:E=c.memoizedState!==null;var ne=g!==null&&g.memoizedState!==null,Me=Mo,Ke=On;if(Mo=Me||E,On=Ke||ne,Ea(h,c),On=Ke,Mo=Me,ja(c),S&8192)e:for(h=c.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(g===null||ne||Mo||On||pc(c)),g=null,h=c;;){if(h.tag===5||h.tag===26){if(g===null){ne=g=h;try{if(D=ne.stateNode,E)B=D.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{G=ne.stateNode;var rt=ne.memoizedProps.style,je=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;G.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(jt){$r(ne,ne.return,jt)}}}else if(h.tag===6){if(g===null){ne=h;try{ne.stateNode.nodeValue=E?"":ne.memoizedProps}catch(jt){$r(ne,ne.return,jt)}}}else if(h.tag===18){if(g===null){ne=h;try{var Be=ne.stateNode;E?PB(Be,!0):PB(ne.stateNode,!1)}catch(jt){$r(ne,ne.return,jt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}S&4&&(S=c.updateQueue,S!==null&&(g=S.retryQueue,g!==null&&(S.retryQueue=null,Ry(c,g))));break;case 19:Ea(h,c),ja(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,Ry(c,S)));break;case 30:break;case 21:break;default:Ea(h,c),ja(c)}}function ja(c){var h=c.flags;if(h&2){try{for(var g,S=c.return;S!==null;){if(R4(S)){g=S;break}S=S.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var E=g.stateNode,D=hC(c);ky(c,D,E);break;case 5:var B=g.stateNode;g.flags&32&&(Vf(B,""),g.flags&=-33);var G=hC(c);ky(c,G,B);break;case 3:case 4:var ne=g.stateNode.containerInfo,Me=hC(c);pC(c,Me,ne);break;default:throw Error(n(161))}}catch(Ke){$r(c,c.return,Ke)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function V4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;V4(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function jo(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)B4(c,h.alternate,h),h=h.sibling}function pc(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:Ol(4,h,h.return),pc(h);break;case 1:ks(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&P4(h,h.return,g),pc(h);break;case 27:Sm(h.stateNode);case 26:case 5:ks(h,h.return),pc(h);break;case 22:h.memoizedState===null&&pc(h);break;case 30:pc(h);break;default:pc(h)}c=c.sibling}}function Do(c,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var S=h.alternate,E=c,D=h,B=D.flags;switch(D.tag){case 0:case 11:case 15:Do(E,D,g),dm(4,D);break;case 1:if(Do(E,D,g),S=D,E=S.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Me){$r(S,S.return,Me)}if(S=D,E=S.updateQueue,E!==null){var G=S.stateNode;try{var ne=E.shared.hiddenCallbacks;if(ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<ne.length;E++)w5(ne[E],G)}catch(Me){$r(S,S.return,Me)}}g&&B&64&&O4(D),hm(D,D.return);break;case 27:L4(D);case 26:case 5:Do(E,D,g),g&&S===null&&B&4&&k4(D),hm(D,D.return);break;case 12:Do(E,D,g);break;case 31:Do(E,D,g),g&&B&4&&F4(E,D);break;case 13:Do(E,D,g),g&&B&4&&U4(E,D);break;case 22:D.memoizedState===null&&Do(E,D,g),hm(D,D.return);break;case 30:break;default:Do(E,D,g)}h=h.sibling}}function vC(c,h){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Jp(g))}function gC(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Jp(c))}function ss(c,h,g,S){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)q4(c,h,g,S),h=h.sibling}function q4(c,h,g,S){var E=h.flags;switch(h.tag){case 0:case 11:case 15:ss(c,h,g,S),E&2048&&dm(9,h);break;case 1:ss(c,h,g,S);break;case 3:ss(c,h,g,S),E&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Jp(c)));break;case 12:if(E&2048){ss(c,h,g,S),c=h.stateNode;try{var D=h.memoizedProps,B=D.id,G=D.onPostCommit;typeof G=="function"&&G(B,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ne){$r(h,h.return,ne)}}else ss(c,h,g,S);break;case 31:ss(c,h,g,S);break;case 13:ss(c,h,g,S);break;case 23:break;case 22:D=h.stateNode,B=h.alternate,h.memoizedState!==null?D._visibility&2?ss(c,h,g,S):pm(c,h):D._visibility&2?ss(c,h,g,S):(D._visibility|=2,cd(c,h,g,S,(h.subtreeFlags&10256)!==0||!1)),E&2048&&vC(B,h);break;case 24:ss(c,h,g,S),E&2048&&gC(h.alternate,h);break;default:ss(c,h,g,S)}}function cd(c,h,g,S,E){for(E=E&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var D=c,B=h,G=g,ne=S,Me=B.flags;switch(B.tag){case 0:case 11:case 15:cd(D,B,G,ne,E),dm(8,B);break;case 23:break;case 22:var Ke=B.stateNode;B.memoizedState!==null?Ke._visibility&2?cd(D,B,G,ne,E):pm(D,B):(Ke._visibility|=2,cd(D,B,G,ne,E)),E&&Me&2048&&vC(B.alternate,B);break;case 24:cd(D,B,G,ne,E),E&&Me&2048&&gC(B.alternate,B);break;default:cd(D,B,G,ne,E)}h=h.sibling}}function pm(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=c,S=h,E=S.flags;switch(S.tag){case 22:pm(g,S),E&2048&&vC(S.alternate,S);break;case 24:pm(g,S),E&2048&&gC(S.alternate,S);break;default:pm(g,S)}h=h.sibling}}var mm=8192;function fd(c,h,g){if(c.subtreeFlags&mm)for(c=c.child;c!==null;)G4(c,h,g),c=c.sibling}function G4(c,h,g){switch(c.tag){case 26:fd(c,h,g),c.flags&mm&&c.memoizedState!==null&&ble(g,is,c.memoizedState,c.memoizedProps);break;case 5:fd(c,h,g);break;case 3:case 4:var S=is;is=Yy(c.stateNode.containerInfo),fd(c,h,g),is=S;break;case 22:c.memoizedState===null&&(S=c.alternate,S!==null&&S.memoizedState!==null?(S=mm,mm=16777216,fd(c,h,g),mm=S):fd(c,h,g));break;default:fd(c,h,g)}}function W4(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function vm(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var S=h[g];qn=S,Y4(S,c)}W4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)K4(c),c=c.sibling}function K4(c){switch(c.tag){case 0:case 11:case 15:vm(c),c.flags&2048&&Ol(9,c,c.return);break;case 3:vm(c);break;case 12:vm(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,Ly(c)):vm(c);break;default:vm(c)}}function Ly(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var S=h[g];qn=S,Y4(S,c)}W4(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:Ol(8,h,h.return),Ly(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,Ly(h));break;default:Ly(h)}c=c.sibling}}function Y4(c,h){for(;qn!==null;){var g=qn;switch(g.tag){case 0:case 11:case 15:Ol(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var S=g.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Jp(g.memoizedState.cache)}if(S=g.child,S!==null)S.return=g,qn=S;else e:for(g=c;qn!==null;){S=qn;var E=S.sibling,D=S.return;if($4(S),S===g){qn=null;break e}if(E!==null){E.return=D,qn=E;break e}qn=D}}}var Roe={getCacheForType:function(c){var h=Xn(En),g=h.data.get(c);return g===void 0&&(g=c(),h.data.set(c,g)),g},cacheSignal:function(){return Xn(En).controller.signal}},Loe=typeof WeakMap=="function"?WeakMap:Map,Ar=0,Yr=null,cr=null,pr=0,Br=0,ti=null,Pl=!1,dd=!1,yC=!1,Oo=0,pn=0,kl=0,mc=0,xC=0,ri=0,hd=0,gm=null,Da=null,bC=!1,Iy=0,X4=0,By=1/0,$y=null,Rl=null,In=0,Ll=null,pd=null,Po=0,wC=0,SC=null,Z4=null,ym=0,_C=null;function ni(){return(Ar&2)!==0&&pr!==0?pr&-pr:z.T!==null?EC():Z()}function Q4(){if(ri===0)if((pr&536870912)===0||vr){var c=mt;mt<<=1,(mt&3932160)===0&&(mt=262144),ri=c}else ri=536870912;return c=Ja.current,c!==null&&(c.flags|=32),ri}function Oa(c,h,g){(c===Yr&&(Br===2||Br===9)||c.cancelPendingCommit!==null)&&(md(c,0),Il(c,pr,ri,!1)),X(c,g),((Ar&2)===0||c!==Yr)&&(c===Yr&&((Ar&2)===0&&(mc|=g),pn===4&&Il(c,pr,ri,!1)),Rs(c))}function J4(c,h,g){if((Ar&6)!==0)throw Error(n(327));var S=!g&&(h&127)===0&&(h&c.expiredLanes)===0||Nt(c,h),E=S?$oe(c,h):CC(c,h,!0),D=S;do{if(E===0){dd&&!S&&Il(c,h,0,!1);break}else{if(g=c.current.alternate,D&&!Ioe(g)){E=CC(c,h,!1),D=!1;continue}if(E===2){if(D=h,c.errorRecoveryDisabledLanes&D)var B=0;else B=c.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){h=B;e:{var G=c;E=gm;var ne=G.current.memoizedState.isDehydrated;if(ne&&(md(G,B).flags|=256),B=CC(G,B,!1),B!==2){if(yC&&!ne){G.errorRecoveryDisabledLanes|=D,mc|=D,E=4;break e}D=Da,Da=E,D!==null&&(Da===null?Da=D:Da.push.apply(Da,D))}E=B}if(D=!1,E!==2)continue}}if(E===1){md(c,0),Il(c,h,0,!0);break}e:{switch(S=c,D=E,D){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:Il(S,h,ri,!Pl);break e;case 2:Da=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(E=Iy+300-ue(),10<E)){if(Il(S,h,ri,!Pl),Re(S,0,!0)!==0)break e;Po=h,S.timeoutHandle=jB(eB.bind(null,S,g,Da,$y,bC,h,ri,mc,hd,Pl,D,"Throttled",-0,0),E);break e}eB(S,g,Da,$y,bC,h,ri,mc,hd,Pl,D,null,-0,0)}}break}while(!0);Rs(c)}function eB(c,h,g,S,E,D,B,G,ne,Me,Ke,rt,je,Be){if(c.timeoutHandle=-1,rt=h.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yo},G4(h,D,rt);var jt=(D&62914560)===D?Iy-ue():(D&4194048)===D?X4-ue():0;if(jt=wle(rt,jt),jt!==null){Po=D,c.cancelPendingCommit=jt(lB.bind(null,c,h,D,g,S,E,B,G,ne,Ke,rt,null,je,Be)),Il(c,D,B,!Me);return}}lB(c,h,D,g,S,E,B,G,ne)}function Ioe(c){for(var h=c;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var S=0;S<g.length;S++){var E=g[S],D=E.getSnapshot;E=E.value;try{if(!Za(D(),E))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Il(c,h,g,S){h&=~xC,h&=~mc,c.suspendedLanes|=h,c.pingedLanes&=~h,S&&(c.warmLanes|=h),S=c.expirationTimes;for(var E=h;0<E;){var D=31-lt(E),B=1<<D;S[D]=-1,E&=~B}g!==0&&_e(c,g,h)}function zy(){return(Ar&6)===0?(xm(0),!1):!0}function TC(){if(cr!==null){if(Br===0)var c=cr.return;else c=cr,So=sc=null,zT(c),id=null,tm=0,c=cr;for(;c!==null;)D4(c.alternate,c),c=c.return;cr=null}}function md(c,h){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,nle(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),Po=0,TC(),Yr=c,cr=g=bo(c.current,null),pr=h,Br=0,ti=null,Pl=!1,dd=Nt(c,h),yC=!1,hd=ri=xC=mc=kl=pn=0,Da=gm=null,bC=!1,(h&8)!==0&&(h|=h&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=h;0<S;){var E=31-lt(S),D=1<<E;h|=c[E],S&=~D}return Oo=h,oy(),g}function tB(c,h){nr=null,z.H=um,h===ad||h===my?(h=g5(),Br=3):h===MT?(h=g5(),Br=4):Br=h===rC?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ti=h,cr===null&&(pn=1,Ey(c,xi(h,c.current)))}function rB(){var c=Ja.current;return c===null?!0:(pr&4194048)===pr?_i===null:(pr&62914560)===pr||(pr&536870912)!==0?c===_i:!1}function nB(){var c=z.H;return z.H=um,c===null?um:c}function aB(){var c=z.A;return z.A=Roe,c}function Fy(){pn=4,Pl||(pr&4194048)!==pr&&Ja.current!==null||(dd=!0),(kl&134217727)===0&&(mc&134217727)===0||Yr===null||Il(Yr,pr,ri,!1)}function CC(c,h,g){var S=Ar;Ar|=2;var E=nB(),D=aB();(Yr!==c||pr!==h)&&($y=null,md(c,h)),h=!1;var B=pn;e:do try{if(Br!==0&&cr!==null){var G=cr,ne=ti;switch(Br){case 8:TC(),B=6;break e;case 3:case 2:case 9:case 6:Ja.current===null&&(h=!0);var Me=Br;if(Br=0,ti=null,vd(c,G,ne,Me),g&&dd){B=0;break e}break;default:Me=Br,Br=0,ti=null,vd(c,G,ne,Me)}}Boe(),B=pn;break}catch(Ke){tB(c,Ke)}while(!0);return h&&c.shellSuspendCounter++,So=sc=null,Ar=S,z.H=E,z.A=D,cr===null&&(Yr=null,pr=0,oy()),B}function Boe(){for(;cr!==null;)iB(cr)}function $oe(c,h){var g=Ar;Ar|=2;var S=nB(),E=aB();Yr!==c||pr!==h?($y=null,By=ue()+500,md(c,h)):dd=Nt(c,h);e:do try{if(Br!==0&&cr!==null){h=cr;var D=ti;t:switch(Br){case 1:Br=0,ti=null,vd(c,h,D,1);break;case 2:case 9:if(m5(D)){Br=0,ti=null,sB(h);break}h=function(){Br!==2&&Br!==9||Yr!==c||(Br=7),Rs(c)},D.then(h,h);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:m5(D)?(Br=0,ti=null,sB(h)):(Br=0,ti=null,vd(c,h,D,7));break;case 5:var B=null;switch(cr.tag){case 26:B=cr.memoizedState;case 5:case 27:var G=cr;if(B?qB(B):G.stateNode.complete){Br=0,ti=null;var ne=G.sibling;if(ne!==null)cr=ne;else{var Me=G.return;Me!==null?(cr=Me,Uy(Me)):cr=null}break t}}Br=0,ti=null,vd(c,h,D,5);break;case 6:Br=0,ti=null,vd(c,h,D,6);break;case 8:TC(),pn=6;break e;default:throw Error(n(462))}}zoe();break}catch(Ke){tB(c,Ke)}while(!0);return So=sc=null,z.H=S,z.A=E,Ar=g,cr!==null?0:(Yr=null,pr=0,oy(),pn)}function zoe(){for(;cr!==null&&!pe();)iB(cr)}function iB(c){var h=E4(c.alternate,c,Oo);c.memoizedProps=c.pendingProps,h===null?Uy(c):cr=h}function sB(c){var h=c,g=h.alternate;switch(h.tag){case 15:case 0:h=_4(g,h,h.pendingProps,h.type,void 0,pr);break;case 11:h=_4(g,h,h.pendingProps,h.type.render,h.ref,pr);break;case 5:zT(h);default:D4(g,h),h=cr=a5(h,Oo),h=E4(g,h,Oo)}c.memoizedProps=c.pendingProps,h===null?Uy(c):cr=h}function vd(c,h,g,S){So=sc=null,zT(h),id=null,tm=0;var E=h.return;try{if(Moe(c,E,h,g,pr)){pn=1,Ey(c,xi(g,c.current)),cr=null;return}}catch(D){if(E!==null)throw cr=E,D;pn=1,Ey(c,xi(g,c.current)),cr=null;return}h.flags&32768?(vr||S===1?c=!0:dd||(pr&536870912)!==0?c=!1:(Pl=c=!0,(S===2||S===9||S===3||S===6)&&(S=Ja.current,S!==null&&S.tag===13&&(S.flags|=16384))),oB(h,c)):Uy(h)}function Uy(c){var h=c;do{if((h.flags&32768)!==0){oB(h,Pl);return}c=h.return;var g=Doe(h.alternate,h,Oo);if(g!==null){cr=g;return}if(h=h.sibling,h!==null){cr=h;return}cr=h=c}while(h!==null);pn===0&&(pn=5)}function oB(c,h){do{var g=Ooe(c.alternate,c);if(g!==null){g.flags&=32767,cr=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(c=c.sibling,c!==null)){cr=c;return}cr=c=g}while(c!==null);pn=6,cr=null}function lB(c,h,g,S,E,D,B,G,ne){c.cancelPendingCommit=null;do Hy();while(In!==0);if((Ar&6)!==0)throw Error(n(327));if(h!==null){if(h===c.current)throw Error(n(177));if(D=h.lanes|h.childLanes,D|=hT,se(c,g,D,B,G,ne),c===Yr&&(cr=Yr=null,pr=0),pd=h,Ll=c,Po=g,wC=D,SC=E,Z4=S,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Voe(we,function(){return hB(),null})):(c.callbackNode=null,c.callbackPriority=0),S=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||S){S=z.T,z.T=null,E=V.p,V.p=2,B=Ar,Ar|=4;try{Poe(c,h,g)}finally{Ar=B,V.p=E,z.T=S}}In=1,uB(),cB(),fB()}}function uB(){if(In===1){In=0;var c=Ll,h=pd,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=z.T,z.T=null;var S=V.p;V.p=2;var E=Ar;Ar|=4;try{H4(h,c);var D=IC,B=Y3(c.containerInfo),G=D.focusedElem,ne=D.selectionRange;if(B!==G&&G&&G.ownerDocument&&K3(G.ownerDocument.documentElement,G)){if(ne!==null&&lT(G)){var Me=ne.start,Ke=ne.end;if(Ke===void 0&&(Ke=Me),"selectionStart"in G)G.selectionStart=Me,G.selectionEnd=Math.min(Ke,G.value.length);else{var rt=G.ownerDocument||document,je=rt&&rt.defaultView||window;if(je.getSelection){var Be=je.getSelection(),jt=G.textContent.length,Ft=Math.min(ne.start,jt),Hr=ne.end===void 0?Ft:Math.min(ne.end,jt);!Be.extend&&Ft>Hr&&(B=Hr,Hr=Ft,Ft=B);var ye=W3(G,Ft),de=W3(G,Hr);if(ye&&de&&(Be.rangeCount!==1||Be.anchorNode!==ye.node||Be.anchorOffset!==ye.offset||Be.focusNode!==de.node||Be.focusOffset!==de.offset)){var Ae=rt.createRange();Ae.setStart(ye.node,ye.offset),Be.removeAllRanges(),Ft>Hr?(Be.addRange(Ae),Be.extend(de.node,de.offset)):(Ae.setEnd(de.node,de.offset),Be.addRange(Ae))}}}}for(rt=[],Be=G;Be=Be.parentNode;)Be.nodeType===1&&rt.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<rt.length;G++){var Qe=rt[G];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}tx=!!LC,IC=LC=null}finally{Ar=E,V.p=S,z.T=g}}c.current=h,In=2}}function cB(){if(In===2){In=0;var c=Ll,h=pd,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=z.T,z.T=null;var S=V.p;V.p=2;var E=Ar;Ar|=4;try{B4(c,h.alternate,h)}finally{Ar=E,V.p=S,z.T=g}}In=3}}function fB(){if(In===4||In===3){In=0,Fe();var c=Ll,h=pd,g=Po,S=Z4;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?In=5:(In=0,pd=Ll=null,dB(c,c.pendingLanes));var E=c.pendingLanes;if(E===0&&(Rl=null),ie(g),h=h.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ze,h,void 0,(h.current.flags&128)===128)}catch{}if(S!==null){h=z.T,E=V.p,V.p=2,z.T=null;try{for(var D=c.onRecoverableError,B=0;B<S.length;B++){var G=S[B];D(G.value,{componentStack:G.stack})}}finally{z.T=h,V.p=E}}(Po&3)!==0&&Hy(),Rs(c),E=c.pendingLanes,(g&261930)!==0&&(E&42)!==0?c===_C?ym++:(ym=0,_C=c):ym=0,xm(0)}}function dB(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Jp(h)))}function Hy(){return uB(),cB(),fB(),hB()}function hB(){if(In!==5)return!1;var c=Ll,h=wC;wC=0;var g=ie(Po),S=z.T,E=V.p;try{V.p=32>g?32:g,z.T=null,g=SC,SC=null;var D=Ll,B=Po;if(In=0,pd=Ll=null,Po=0,(Ar&6)!==0)throw Error(n(331));var G=Ar;if(Ar|=4,K4(D.current),q4(D,D.current,B,g),Ar=G,xm(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ze,D)}catch{}return!0}finally{V.p=E,z.T=S,dB(c,h)}}function pB(c,h,g){h=xi(g,h),h=tC(c.stateNode,h,2),c=El(c,h,2),c!==null&&(X(c,2),Rs(c))}function $r(c,h,g){if(c.tag===3)pB(c,c,g);else for(;h!==null;){if(h.tag===3){pB(h,c,g);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Rl===null||!Rl.has(S))){c=xi(g,c),g=m4(2),S=El(h,g,2),S!==null&&(v4(g,S,h,c),X(S,2),Rs(S));break}}h=h.return}}function NC(c,h,g){var S=c.pingCache;if(S===null){S=c.pingCache=new Loe;var E=new Set;S.set(h,E)}else E=S.get(h),E===void 0&&(E=new Set,S.set(h,E));E.has(g)||(yC=!0,E.add(g),c=Foe.bind(null,c,h,g),h.then(c,c))}function Foe(c,h,g){var S=c.pingCache;S!==null&&S.delete(h),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Yr===c&&(pr&g)===g&&(pn===4||pn===3&&(pr&62914560)===pr&&300>ue()-Iy?(Ar&2)===0&&md(c,0):xC|=g,hd===pr&&(hd=0)),Rs(c)}function mB(c,h){h===0&&(h=qt()),c=nc(c,h),c!==null&&(X(c,h),Rs(c))}function Uoe(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),mB(c,g)}function Hoe(c,h){var g=0;switch(c.tag){case 31:case 13:var S=c.stateNode,E=c.memoizedState;E!==null&&(g=E.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(n(314))}S!==null&&S.delete(h),mB(c,g)}function Voe(c,h){return Pe(c,h)}var Vy=null,gd=null,AC=!1,qy=!1,MC=!1,Bl=0;function Rs(c){c!==gd&&c.next===null&&(gd===null?Vy=gd=c:gd=gd.next=c),qy=!0,AC||(AC=!0,Goe())}function xm(c,h){if(!MC&&qy){MC=!0;do for(var g=!1,S=Vy;S!==null;){if(c!==0){var E=S.pendingLanes;if(E===0)var D=0;else{var B=S.suspendedLanes,G=S.pingedLanes;D=(1<<31-lt(42|c)+1)-1,D&=E&~(B&~G),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(g=!0,xB(S,D))}else D=pr,D=Re(S,S===Yr?D:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(D&3)===0||Nt(S,D)||(g=!0,xB(S,D));S=S.next}while(g);MC=!1}}function qoe(){vB()}function vB(){qy=AC=!1;var c=0;Bl!==0&&rle()&&(c=Bl);for(var h=ue(),g=null,S=Vy;S!==null;){var E=S.next,D=gB(S,h);D===0?(S.next=null,g===null?Vy=E:g.next=E,E===null&&(gd=g)):(g=S,(c!==0||(D&3)!==0)&&(qy=!0)),S=E}In!==0&&In!==5||xm(c),Bl!==0&&(Bl=0)}function gB(c,h){for(var g=c.suspendedLanes,S=c.pingedLanes,E=c.expirationTimes,D=c.pendingLanes&-62914561;0<D;){var B=31-lt(D),G=1<<B,ne=E[B];ne===-1?((G&g)===0||(G&S)!==0)&&(E[B]=Wt(G,h)):ne<=h&&(c.expiredLanes|=G),D&=~G}if(h=Yr,g=pr,g=Re(c,c===h?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S=c.callbackNode,g===0||c===h&&(Br===2||Br===9)||c.cancelPendingCommit!==null)return S!==null&&S!==null&&He(S),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Nt(c,g)){if(h=g&-g,h===c.callbackPriority)return h;switch(S!==null&&He(S),ie(g)){case 2:case 8:g=Q;break;case 32:g=we;break;case 268435456:g=me;break;default:g=we}return S=yB.bind(null,c),g=Pe(g,S),c.callbackPriority=h,c.callbackNode=g,h}return S!==null&&S!==null&&He(S),c.callbackPriority=2,c.callbackNode=null,2}function yB(c,h){if(In!==0&&In!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(Hy()&&c.callbackNode!==g)return null;var S=pr;return S=Re(c,c===Yr?S:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),S===0?null:(J4(c,S,h),gB(c,ue()),c.callbackNode!=null&&c.callbackNode===g?yB.bind(null,c):null)}function xB(c,h){if(Hy())return null;J4(c,h,!0)}function Goe(){ale(function(){(Ar&6)!==0?Pe(tt,qoe):vB()})}function EC(){if(Bl===0){var c=rd;c===0&&(c=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Bl=c}return Bl}function bB(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:J0(""+c)}function wB(c,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,c.id&&g.setAttribute("form",c.id),h.parentNode.insertBefore(g,h),c=new FormData(c),g.parentNode.removeChild(g),c}function Woe(c,h,g,S,E){if(h==="submit"&&g&&g.stateNode===E){var D=bB((E[Ye]||null).action),B=S.submitter;B&&(h=(h=B[Ye]||null)?bB(h.formAction):B.getAttribute("formAction"),h!==null&&(D=h,B=null));var G=new ny("action","action",null,S,E);c.push({event:G,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Bl!==0){var ne=B?wB(E,B):new FormData(E);YT(g,{pending:!0,data:ne,method:E.method,action:D},null,ne)}}else typeof D=="function"&&(G.preventDefault(),ne=B?wB(E,B):new FormData(E),YT(g,{pending:!0,data:ne,method:E.method,action:D},D,ne))},currentTarget:E}]})}}for(var jC=0;jC<dT.length;jC++){var DC=dT[jC],Koe=DC.toLowerCase(),Yoe=DC[0].toUpperCase()+DC.slice(1);as(Koe,"on"+Yoe)}as(Q3,"onAnimationEnd"),as(J3,"onAnimationIteration"),as(e5,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(foe,"onTransitionRun"),as(doe,"onTransitionStart"),as(hoe,"onTransitionCancel"),as(t5,"onTransitionEnd"),oe("onMouseEnter",["mouseout","mouseover"]),oe("onMouseLeave",["mouseout","mouseover"]),oe("onPointerEnter",["pointerout","pointerover"]),oe("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xoe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bm));function SB(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var S=c[g],E=S.event;S=S.listeners;e:{var D=void 0;if(h)for(var B=S.length-1;0<=B;B--){var G=S[B],ne=G.instance,Me=G.currentTarget;if(G=G.listener,ne!==D&&E.isPropagationStopped())break e;D=G,E.currentTarget=Me;try{D(E)}catch(Ke){sy(Ke)}E.currentTarget=null,D=ne}else for(B=0;B<S.length;B++){if(G=S[B],ne=G.instance,Me=G.currentTarget,G=G.listener,ne!==D&&E.isPropagationStopped())break e;D=G,E.currentTarget=Me;try{D(E)}catch(Ke){sy(Ke)}E.currentTarget=null,D=ne}}}}function fr(c,h){var g=h[Dt];g===void 0&&(g=h[Dt]=new Set);var S=c+"__bubble";g.has(S)||(_B(h,c,2,!1),g.add(S))}function OC(c,h,g){var S=0;h&&(S|=4),_B(g,c,S,h)}var Gy="_reactListening"+Math.random().toString(36).slice(2);function PC(c){if(!c[Gy]){c[Gy]=!0,Ir.forEach(function(g){g!=="selectionchange"&&(Xoe.has(g)||OC(g,!1,c),OC(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Gy]||(h[Gy]=!0,OC("selectionchange",!1,h))}}function _B(c,h,g,S){switch(QB(h)){case 2:var E=Tle;break;case 8:E=Cle;break;default:E=KC}g=E.bind(null,h,g,c),E=void 0,!J_||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),S?E!==void 0?c.addEventListener(h,g,{capture:!0,passive:E}):c.addEventListener(h,g,!0):E!==void 0?c.addEventListener(h,g,{passive:E}):c.addEventListener(h,g,!1)}function kC(c,h,g,S,E){var D=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var B=S.tag;if(B===3||B===4){var G=S.stateNode.containerInfo;if(G===E)break;if(B===4)for(B=S.return;B!==null;){var ne=B.tag;if((ne===3||ne===4)&&B.stateNode.containerInfo===E)return;B=B.return}for(;G!==null;){if(B=At(G),B===null)return;if(ne=B.tag,ne===5||ne===6||ne===26||ne===27){S=D=B;continue e}G=G.parentNode}}S=S.return}M3(function(){var Me=D,Ke=Z_(g),rt=[];e:{var je=r5.get(c);if(je!==void 0){var Be=ny,jt=c;switch(c){case"keypress":if(ty(g)===0)break e;case"keydown":case"keyup":Be=Hse;break;case"focusin":jt="focus",Be=nT;break;case"focusout":jt="blur",Be=nT;break;case"beforeblur":case"afterblur":Be=nT;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=D3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Dse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Gse;break;case Q3:case J3:case e5:Be=kse;break;case t5:Be=Kse;break;case"scroll":case"scrollend":Be=Ese;break;case"wheel":Be=Xse;break;case"copy":case"cut":case"paste":Be=Lse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=P3;break;case"toggle":case"beforetoggle":Be=Qse}var Ft=(h&4)!==0,Hr=!Ft&&(c==="scroll"||c==="scrollend"),ye=Ft?je!==null?je+"Capture":null:je;Ft=[];for(var de=Me,Ae;de!==null;){var Qe=de;if(Ae=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Ae===null||ye===null||(Qe=Up(de,ye),Qe!=null&&Ft.push(wm(de,Qe,Ae))),Hr)break;de=de.return}0<Ft.length&&(je=new Be(je,jt,null,g,Ke),rt.push({event:je,listeners:Ft}))}}if((h&7)===0){e:{if(je=c==="mouseover"||c==="pointerover",Be=c==="mouseout"||c==="pointerout",je&&g!==X_&&(jt=g.relatedTarget||g.fromElement)&&(At(jt)||jt[dt]))break e;if((Be||je)&&(je=Ke.window===Ke?Ke:(je=Ke.ownerDocument)?je.defaultView||je.parentWindow:window,Be?(jt=g.relatedTarget||g.toElement,Be=Me,jt=jt?At(jt):null,jt!==null&&(Hr=i(jt),Ft=jt.tag,jt!==Hr||Ft!==5&&Ft!==27&&Ft!==6)&&(jt=null)):(Be=null,jt=Me),Be!==jt)){if(Ft=D3,Qe="onMouseLeave",ye="onMouseEnter",de="mouse",(c==="pointerout"||c==="pointerover")&&(Ft=P3,Qe="onPointerLeave",ye="onPointerEnter",de="pointer"),Hr=Be==null?je:Mt(Be),Ae=jt==null?je:Mt(jt),je=new Ft(Qe,de+"leave",Be,g,Ke),je.target=Hr,je.relatedTarget=Ae,Qe=null,At(Ke)===Me&&(Ft=new Ft(ye,de+"enter",jt,g,Ke),Ft.target=Ae,Ft.relatedTarget=Hr,Qe=Ft),Hr=Qe,Be&&jt)t:{for(Ft=Zoe,ye=Be,de=jt,Ae=0,Qe=ye;Qe;Qe=Ft(Qe))Ae++;Qe=0;for(var zt=de;zt;zt=Ft(zt))Qe++;for(;0<Ae-Qe;)ye=Ft(ye),Ae--;for(;0<Qe-Ae;)de=Ft(de),Qe--;for(;Ae--;){if(ye===de||de!==null&&ye===de.alternate){Ft=ye;break t}ye=Ft(ye),de=Ft(de)}Ft=null}else Ft=null;Be!==null&&TB(rt,je,Be,Ft,!1),jt!==null&&Hr!==null&&TB(rt,Hr,jt,Ft,!0)}}e:{if(je=Me?Mt(Me):window,Be=je.nodeName&&je.nodeName.toLowerCase(),Be==="select"||Be==="input"&&je.type==="file")var _r=F3;else if($3(je))if(U3)_r=loe;else{_r=soe;var Ot=ioe}else Be=je.nodeName,!Be||Be.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Me&&Y_(Me.elementType)&&(_r=F3):_r=ooe;if(_r&&(_r=_r(c,Me))){z3(rt,_r,g,Ke);break e}Ot&&Ot(c,je,Me),c==="focusout"&&Me&&je.type==="number"&&Me.memoizedProps.value!=null&&K_(je,"number",je.value)}switch(Ot=Me?Mt(Me):window,c){case"focusin":($3(Ot)||Ot.contentEditable==="true")&&(Kf=Ot,uT=Me,Xp=null);break;case"focusout":Xp=uT=Kf=null;break;case"mousedown":cT=!0;break;case"contextmenu":case"mouseup":case"dragend":cT=!1,X3(rt,g,Ke);break;case"selectionchange":if(coe)break;case"keydown":case"keyup":X3(rt,g,Ke)}var ir;if(iT)e:{switch(c){case"compositionstart":var mr="onCompositionStart";break e;case"compositionend":mr="onCompositionEnd";break e;case"compositionupdate":mr="onCompositionUpdate";break e}mr=void 0}else Wf?I3(c,g)&&(mr="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(mr="onCompositionStart");mr&&(k3&&g.locale!=="ko"&&(Wf||mr!=="onCompositionStart"?mr==="onCompositionEnd"&&Wf&&(ir=E3()):(Sl=Ke,eT="value"in Sl?Sl.value:Sl.textContent,Wf=!0)),Ot=Wy(Me,mr),0<Ot.length&&(mr=new O3(mr,c,null,g,Ke),rt.push({event:mr,listeners:Ot}),ir?mr.data=ir:(ir=B3(g),ir!==null&&(mr.data=ir)))),(ir=eoe?toe(c,g):roe(c,g))&&(mr=Wy(Me,"onBeforeInput"),0<mr.length&&(Ot=new O3("onBeforeInput","beforeinput",null,g,Ke),rt.push({event:Ot,listeners:mr}),Ot.data=ir)),Woe(rt,c,Me,g,Ke)}SB(rt,h)})}function wm(c,h,g){return{instance:c,listener:h,currentTarget:g}}function Wy(c,h){for(var g=h+"Capture",S=[];c!==null;){var E=c,D=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||D===null||(E=Up(c,g),E!=null&&S.unshift(wm(c,E,D)),E=Up(c,h),E!=null&&S.push(wm(c,E,D))),c.tag===3)return S;c=c.return}return[]}function Zoe(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function TB(c,h,g,S,E){for(var D=h._reactName,B=[];g!==null&&g!==S;){var G=g,ne=G.alternate,Me=G.stateNode;if(G=G.tag,ne!==null&&ne===S)break;G!==5&&G!==26&&G!==27||Me===null||(ne=Me,E?(Me=Up(g,D),Me!=null&&B.unshift(wm(g,Me,ne))):E||(Me=Up(g,D),Me!=null&&B.push(wm(g,Me,ne)))),g=g.return}B.length!==0&&c.push({event:h,listeners:B})}var Qoe=/\r\n?/g,Joe=/\u0000|\uFFFD/g;function CB(c){return(typeof c=="string"?c:""+c).replace(Qoe,`
`).replace(Joe,"")}function NB(c,h){return h=CB(h),CB(c)===h}function Ur(c,h,g,S,E,D){switch(g){case"children":typeof S=="string"?h==="body"||h==="textarea"&&S===""||Vf(c,S):(typeof S=="number"||typeof S=="bigint")&&h!=="body"&&Vf(c,""+S);break;case"className":lr(c,"class",S);break;case"tabIndex":lr(c,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(c,g,S);break;case"style":N3(c,S,D);break;case"data":if(h!=="object"){lr(c,"data",S);break}case"src":case"href":if(S===""&&(h!=="a"||g!=="href")){c.removeAttribute(g);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(g);break}S=J0(""+S),c.setAttribute(g,S);break;case"action":case"formAction":if(typeof S=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(g==="formAction"?(h!=="input"&&Ur(c,h,"name",E.name,E,null),Ur(c,h,"formEncType",E.formEncType,E,null),Ur(c,h,"formMethod",E.formMethod,E,null),Ur(c,h,"formTarget",E.formTarget,E,null)):(Ur(c,h,"encType",E.encType,E,null),Ur(c,h,"method",E.method,E,null),Ur(c,h,"target",E.target,E,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){c.removeAttribute(g);break}S=J0(""+S),c.setAttribute(g,S);break;case"onClick":S!=null&&(c.onclick=yo);break;case"onScroll":S!=null&&fr("scroll",c);break;case"onScrollEnd":S!=null&&fr("scrollend",c);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(g=S.__html,g!=null){if(E.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"multiple":c.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":c.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){c.removeAttribute("xlink:href");break}g=J0(""+S),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(g,""+S):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":S===!0?c.setAttribute(g,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?c.setAttribute(g,S):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?c.setAttribute(g,S):c.removeAttribute(g);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?c.removeAttribute(g):c.setAttribute(g,S);break;case"popover":fr("beforetoggle",c),fr("toggle",c),St(c,"popover",S);break;case"xlinkActuate":ar(c,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":ar(c,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":ar(c,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":ar(c,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":ar(c,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":ar(c,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":ar(c,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":ar(c,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":ar(c,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":St(c,"is",S);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Ase.get(g)||g,St(c,g,S))}}function RC(c,h,g,S,E,D){switch(g){case"style":N3(c,S,D);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(n(61));if(g=S.__html,g!=null){if(E.children!=null)throw Error(n(60));c.innerHTML=g}}break;case"children":typeof S=="string"?Vf(c,S):(typeof S=="number"||typeof S=="bigint")&&Vf(c,""+S);break;case"onScroll":S!=null&&fr("scroll",c);break;case"onScrollEnd":S!=null&&fr("scrollend",c);break;case"onClick":S!=null&&(c.onclick=yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(E=g.endsWith("Capture"),h=g.slice(2,E?g.length-7:void 0),D=c[Ye]||null,D=D!=null?D[g]:null,typeof D=="function"&&c.removeEventListener(h,D,E),typeof S=="function")){typeof D!="function"&&D!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(h,S,E);break e}g in c?c[g]=S:S===!0?c.setAttribute(g,""):St(c,g,S)}}}function Qn(c,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fr("error",c),fr("load",c);var S=!1,E=!1,D;for(D in g)if(g.hasOwnProperty(D)){var B=g[D];if(B!=null)switch(D){case"src":S=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ur(c,h,D,B,g,null)}}E&&Ur(c,h,"srcSet",g.srcSet,g,null),S&&Ur(c,h,"src",g.src,g,null);return;case"input":fr("invalid",c);var G=D=B=E=null,ne=null,Me=null;for(S in g)if(g.hasOwnProperty(S)){var Ke=g[S];if(Ke!=null)switch(S){case"name":E=Ke;break;case"type":B=Ke;break;case"checked":ne=Ke;break;case"defaultChecked":Me=Ke;break;case"value":D=Ke;break;case"defaultValue":G=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,h));break;default:Ur(c,h,S,Ke,g,null)}}S3(c,D,G,ne,Me,B,E,!1);return;case"select":fr("invalid",c),S=B=D=null;for(E in g)if(g.hasOwnProperty(E)&&(G=g[E],G!=null))switch(E){case"value":D=G;break;case"defaultValue":B=G;break;case"multiple":S=G;default:Ur(c,h,E,G,g,null)}h=D,g=B,c.multiple=!!S,h!=null?Hf(c,!!S,h,!1):g!=null&&Hf(c,!!S,g,!0);return;case"textarea":fr("invalid",c),D=E=S=null;for(B in g)if(g.hasOwnProperty(B)&&(G=g[B],G!=null))switch(B){case"value":S=G;break;case"defaultValue":E=G;break;case"children":D=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:Ur(c,h,B,G,g,null)}T3(c,S,E,D);return;case"option":for(ne in g)if(g.hasOwnProperty(ne)&&(S=g[ne],S!=null))switch(ne){case"selected":c.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Ur(c,h,ne,S,g,null)}return;case"dialog":fr("beforetoggle",c),fr("toggle",c),fr("cancel",c),fr("close",c);break;case"iframe":case"object":fr("load",c);break;case"video":case"audio":for(S=0;S<bm.length;S++)fr(bm[S],c);break;case"image":fr("error",c),fr("load",c);break;case"details":fr("toggle",c);break;case"embed":case"source":case"link":fr("error",c),fr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in g)if(g.hasOwnProperty(Me)&&(S=g[Me],S!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Ur(c,h,Me,S,g,null)}return;default:if(Y_(h)){for(Ke in g)g.hasOwnProperty(Ke)&&(S=g[Ke],S!==void 0&&RC(c,h,Ke,S,g,void 0));return}}for(G in g)g.hasOwnProperty(G)&&(S=g[G],S!=null&&Ur(c,h,G,S,g,null))}function ele(c,h,g,S){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,D=null,B=null,G=null,ne=null,Me=null,Ke=null;for(Be in g){var rt=g[Be];if(g.hasOwnProperty(Be)&&rt!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ne=rt;default:S.hasOwnProperty(Be)||Ur(c,h,Be,null,S,rt)}}for(var je in S){var Be=S[je];if(rt=g[je],S.hasOwnProperty(je)&&(Be!=null||rt!=null))switch(je){case"type":D=Be;break;case"name":E=Be;break;case"checked":Me=Be;break;case"defaultChecked":Ke=Be;break;case"value":B=Be;break;case"defaultValue":G=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,h));break;default:Be!==rt&&Ur(c,h,je,Be,S,rt)}}W_(c,B,G,ne,Me,Ke,D,E);return;case"select":Be=B=G=je=null;for(D in g)if(ne=g[D],g.hasOwnProperty(D)&&ne!=null)switch(D){case"value":break;case"multiple":Be=ne;default:S.hasOwnProperty(D)||Ur(c,h,D,null,S,ne)}for(E in S)if(D=S[E],ne=g[E],S.hasOwnProperty(E)&&(D!=null||ne!=null))switch(E){case"value":je=D;break;case"defaultValue":G=D;break;case"multiple":B=D;default:D!==ne&&Ur(c,h,E,D,S,ne)}h=G,g=B,S=Be,je!=null?Hf(c,!!g,je,!1):!!S!=!!g&&(h!=null?Hf(c,!!g,h,!0):Hf(c,!!g,g?[]:"",!1));return;case"textarea":Be=je=null;for(G in g)if(E=g[G],g.hasOwnProperty(G)&&E!=null&&!S.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ur(c,h,G,null,S,E)}for(B in S)if(E=S[B],D=g[B],S.hasOwnProperty(B)&&(E!=null||D!=null))switch(B){case"value":je=E;break;case"defaultValue":Be=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==D&&Ur(c,h,B,E,S,D)}_3(c,je,Be);return;case"option":for(var jt in g)if(je=g[jt],g.hasOwnProperty(jt)&&je!=null&&!S.hasOwnProperty(jt))switch(jt){case"selected":c.selected=!1;break;default:Ur(c,h,jt,null,S,je)}for(ne in S)if(je=S[ne],Be=g[ne],S.hasOwnProperty(ne)&&je!==Be&&(je!=null||Be!=null))switch(ne){case"selected":c.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Ur(c,h,ne,je,S,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in g)je=g[Ft],g.hasOwnProperty(Ft)&&je!=null&&!S.hasOwnProperty(Ft)&&Ur(c,h,Ft,null,S,je);for(Me in S)if(je=S[Me],Be=g[Me],S.hasOwnProperty(Me)&&je!==Be&&(je!=null||Be!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,h));break;default:Ur(c,h,Me,je,S,Be)}return;default:if(Y_(h)){for(var Hr in g)je=g[Hr],g.hasOwnProperty(Hr)&&je!==void 0&&!S.hasOwnProperty(Hr)&&RC(c,h,Hr,void 0,S,je);for(Ke in S)je=S[Ke],Be=g[Ke],!S.hasOwnProperty(Ke)||je===Be||je===void 0&&Be===void 0||RC(c,h,Ke,je,S,Be);return}}for(var ye in g)je=g[ye],g.hasOwnProperty(ye)&&je!=null&&!S.hasOwnProperty(ye)&&Ur(c,h,ye,null,S,je);for(rt in S)je=S[rt],Be=g[rt],!S.hasOwnProperty(rt)||je===Be||je==null&&Be==null||Ur(c,h,rt,je,S,Be)}function AB(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tle(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,g=performance.getEntriesByType("resource"),S=0;S<g.length;S++){var E=g[S],D=E.transferSize,B=E.initiatorType,G=E.duration;if(D&&G&&AB(B)){for(B=0,G=E.responseEnd,S+=1;S<g.length;S++){var ne=g[S],Me=ne.startTime;if(Me>G)break;var Ke=ne.transferSize,rt=ne.initiatorType;Ke&&AB(rt)&&(ne=ne.responseEnd,B+=Ke*(ne<G?1:(G-Me)/(ne-Me)))}if(--S,h+=8*(D+B)/(E.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var LC=null,IC=null;function Ky(c){return c.nodeType===9?c:c.ownerDocument}function MB(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EB(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function BC(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $C=null;function rle(){var c=window.event;return c&&c.type==="popstate"?c===$C?!1:($C=c,!0):($C=null,!1)}var jB=typeof setTimeout=="function"?setTimeout:void 0,nle=typeof clearTimeout=="function"?clearTimeout:void 0,DB=typeof Promise=="function"?Promise:void 0,ale=typeof queueMicrotask=="function"?queueMicrotask:typeof DB<"u"?function(c){return DB.resolve(null).then(c).catch(ile)}:jB;function ile(c){setTimeout(function(){throw c})}function $l(c){return c==="head"}function OB(c,h){var g=h,S=0;do{var E=g.nextSibling;if(c.removeChild(g),E&&E.nodeType===8)if(g=E.data,g==="/$"||g==="/&"){if(S===0){c.removeChild(E),wd(h);return}S--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")S++;else if(g==="html")Sm(c.ownerDocument.documentElement);else if(g==="head"){g=c.ownerDocument.head,Sm(g);for(var D=g.firstChild;D;){var B=D.nextSibling,G=D.nodeName;D[ct]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||g.removeChild(D),D=B}}else g==="body"&&Sm(c.ownerDocument.body);g=E}while(g);wd(h)}function PB(c,h){var g=c;c=0;do{var S=g.nextSibling;if(g.nodeType===1?h?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(h?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),S&&S.nodeType===8)if(g=S.data,g==="/$"){if(c===0)break;c--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||c++;g=S}while(g)}function zC(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":zC(g),Ct(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function sle(c,h,g,S){for(;c.nodeType===1;){var E=g;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!S&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(S){if(!c[ct])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(D=c.getAttribute("rel"),D==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(D!==E.rel||c.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||c.getAttribute("title")!==(E.title==null?null:E.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(D=c.getAttribute("src"),(D!==(E.src==null?null:E.src)||c.getAttribute("type")!==(E.type==null?null:E.type)||c.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&D&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var D=E.name==null?null:""+E.name;if(E.type==="hidden"&&c.getAttribute("name")===D)return c}else return c;if(c=Ti(c.nextSibling),c===null)break}return null}function ole(c,h,g){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=Ti(c.nextSibling),c===null))return null;return c}function kB(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=Ti(c.nextSibling),c===null))return null;return c}function FC(c){return c.data==="$?"||c.data==="$~"}function UC(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function lle(c,h){var g=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||g.readyState!=="loading")h();else{var S=function(){h(),g.removeEventListener("DOMContentLoaded",S)};g.addEventListener("DOMContentLoaded",S),c._reactRetry=S}}function Ti(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var HC=null;function RB(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"||g==="/&"){if(h===0)return Ti(c.nextSibling);h--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||h++}c=c.nextSibling}return null}function LB(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(h===0)return c;h--}else g!=="/$"&&g!=="/&"||h++}c=c.previousSibling}return null}function IB(c,h,g){switch(h=Ky(g),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Sm(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Ct(c)}var Ci=new Map,BB=new Set;function Yy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var ko=V.d;V.d={f:ule,r:cle,D:fle,C:dle,L:hle,m:ple,X:vle,S:mle,M:gle};function ule(){var c=ko.f(),h=zy();return c||h}function cle(c){var h=It(c);h!==null&&h.tag===5&&h.type==="form"?t4(h):ko.r(c)}var yd=typeof document>"u"?null:document;function $B(c,h,g){var S=yd;if(S&&typeof h=="string"&&h){var E=gi(h);E='link[rel="'+c+'"][href="'+E+'"]',typeof g=="string"&&(E+='[crossorigin="'+g+'"]'),BB.has(E)||(BB.add(E),c={rel:c,crossOrigin:g,href:h},S.querySelector(E)===null&&(h=S.createElement("link"),Qn(h,"link",c),Qt(h),S.head.appendChild(h)))}}function fle(c){ko.D(c),$B("dns-prefetch",c,null)}function dle(c,h){ko.C(c,h),$B("preconnect",c,h)}function hle(c,h,g){ko.L(c,h,g);var S=yd;if(S&&c&&h){var E='link[rel="preload"][as="'+gi(h)+'"]';h==="image"&&g&&g.imageSrcSet?(E+='[imagesrcset="'+gi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(E+='[imagesizes="'+gi(g.imageSizes)+'"]')):E+='[href="'+gi(c)+'"]';var D=E;switch(h){case"style":D=xd(c);break;case"script":D=bd(c)}Ci.has(D)||(c=d({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:c,as:h},g),Ci.set(D,c),S.querySelector(E)!==null||h==="style"&&S.querySelector(_m(D))||h==="script"&&S.querySelector(Tm(D))||(h=S.createElement("link"),Qn(h,"link",c),Qt(h),S.head.appendChild(h)))}}function ple(c,h){ko.m(c,h);var g=yd;if(g&&c){var S=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+gi(S)+'"][href="'+gi(c)+'"]',D=E;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=bd(c)}if(!Ci.has(D)&&(c=d({rel:"modulepreload",href:c},h),Ci.set(D,c),g.querySelector(E)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Tm(D)))return}S=g.createElement("link"),Qn(S,"link",c),Qt(S),g.head.appendChild(S)}}}function mle(c,h,g){ko.S(c,h,g);var S=yd;if(S&&c){var E=kt(S).hoistableStyles,D=xd(c);h=h||"default";var B=E.get(D);if(!B){var G={loading:0,preload:null};if(B=S.querySelector(_m(D)))G.loading=5;else{c=d({rel:"stylesheet",href:c,"data-precedence":h},g),(g=Ci.get(D))&&VC(c,g);var ne=B=S.createElement("link");Qt(ne),Qn(ne,"link",c),ne._p=new Promise(function(Me,Ke){ne.onload=Me,ne.onerror=Ke}),ne.addEventListener("load",function(){G.loading|=1}),ne.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Xy(B,h,S)}B={type:"stylesheet",instance:B,count:1,state:G},E.set(D,B)}}}function vle(c,h){ko.X(c,h);var g=yd;if(g&&c){var S=kt(g).hoistableScripts,E=bd(c),D=S.get(E);D||(D=g.querySelector(Tm(E)),D||(c=d({src:c,async:!0},h),(h=Ci.get(E))&&qC(c,h),D=g.createElement("script"),Qt(D),Qn(D,"link",c),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(E,D))}}function gle(c,h){ko.M(c,h);var g=yd;if(g&&c){var S=kt(g).hoistableScripts,E=bd(c),D=S.get(E);D||(D=g.querySelector(Tm(E)),D||(c=d({src:c,async:!0,type:"module"},h),(h=Ci.get(E))&&qC(c,h),D=g.createElement("script"),Qt(D),Qn(D,"link",c),g.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},S.set(E,D))}}function zB(c,h,g,S){var E=(E=xe.current)?Yy(E):null;if(!E)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=xd(g.href),g=kt(E).hoistableStyles,S=g.get(h),S||(S={type:"style",instance:null,count:0,state:null},g.set(h,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=xd(g.href);var D=kt(E).hoistableStyles,B=D.get(c);if(B||(E=E.ownerDocument||E,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(c,B),(D=E.querySelector(_m(c)))&&!D._p&&(B.instance=D,B.state.loading=5),Ci.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ci.set(c,g),D||yle(E,c,g,B.state))),h&&S===null)throw Error(n(528,""));return B}if(h&&S!==null)throw Error(n(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=bd(g),g=kt(E).hoistableScripts,S=g.get(h),S||(S={type:"script",instance:null,count:0,state:null},g.set(h,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function xd(c){return'href="'+gi(c)+'"'}function _m(c){return'link[rel="stylesheet"]['+c+"]"}function FB(c){return d({},c,{"data-precedence":c.precedence,precedence:null})}function yle(c,h,g,S){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?S.loading=1:(h=c.createElement("link"),S.preload=h,h.addEventListener("load",function(){return S.loading|=1}),h.addEventListener("error",function(){return S.loading|=2}),Qn(h,"link",g),Qt(h),c.head.appendChild(h))}function bd(c){return'[src="'+gi(c)+'"]'}function Tm(c){return"script[async]"+c}function UB(c,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var S=c.querySelector('style[data-href~="'+gi(g.href)+'"]');if(S)return h.instance=S,Qt(S),S;var E=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return S=(c.ownerDocument||c).createElement("style"),Qt(S),Qn(S,"style",E),Xy(S,g.precedence,c),h.instance=S;case"stylesheet":E=xd(g.href);var D=c.querySelector(_m(E));if(D)return h.state.loading|=4,h.instance=D,Qt(D),D;S=FB(g),(E=Ci.get(E))&&VC(S,E),D=(c.ownerDocument||c).createElement("link"),Qt(D);var B=D;return B._p=new Promise(function(G,ne){B.onload=G,B.onerror=ne}),Qn(D,"link",S),h.state.loading|=4,Xy(D,g.precedence,c),h.instance=D;case"script":return D=bd(g.src),(E=c.querySelector(Tm(D)))?(h.instance=E,Qt(E),E):(S=g,(E=Ci.get(D))&&(S=d({},g),qC(S,E)),c=c.ownerDocument||c,E=c.createElement("script"),Qt(E),Qn(E,"link",S),c.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(S=h.instance,h.state.loading|=4,Xy(S,g.precedence,c));return h.instance}function Xy(c,h,g){for(var S=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=S.length?S[S.length-1]:null,D=E,B=0;B<S.length;B++){var G=S[B];if(G.dataset.precedence===h)D=G;else if(D!==E)break}D?D.parentNode.insertBefore(c,D.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(c,h.firstChild))}function VC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function qC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Zy=null;function HB(c,h,g){if(Zy===null){var S=new Map,E=Zy=new Map;E.set(g,S)}else E=Zy,S=E.get(g),S||(S=new Map,E.set(g,S));if(S.has(c))return S;for(S.set(c,null),g=g.getElementsByTagName(c),E=0;E<g.length;E++){var D=g[E];if(!(D[ct]||D[Ie]||c==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var B=D.getAttribute(h)||"";B=c+B;var G=S.get(B);G?G.push(D):S.set(B,[D])}}return S}function VB(c,h,g){c=c.ownerDocument||c,c.head.insertBefore(g,h==="title"?c.querySelector("head > title"):null)}function xle(c,h,g){if(g===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function qB(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function ble(c,h,g,S){if(g.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var E=xd(S.href),D=h.querySelector(_m(E));if(D){h=D._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=Qy.bind(c),h.then(c,c)),g.state.loading|=4,g.instance=D,Qt(D);return}D=h.ownerDocument||h,S=FB(S),(E=Ci.get(E))&&VC(S,E),D=D.createElement("link"),Qt(D);var B=D;B._p=new Promise(function(G,ne){B.onload=G,B.onerror=ne}),Qn(D,"link",S),g.instance=D}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(c.count++,g=Qy.bind(c),h.addEventListener("load",g),h.addEventListener("error",g))}}var GC=0;function wle(c,h){return c.stylesheets&&c.count===0&&ex(c,c.stylesheets),0<c.count||0<c.imgCount?function(g){var S=setTimeout(function(){if(c.stylesheets&&ex(c,c.stylesheets),c.unsuspend){var D=c.unsuspend;c.unsuspend=null,D()}},6e4+h);0<c.imgBytes&&GC===0&&(GC=62500*tle());var E=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&ex(c,c.stylesheets),c.unsuspend)){var D=c.unsuspend;c.unsuspend=null,D()}},(c.imgBytes>GC?50:800)+h);return c.unsuspend=g,function(){c.unsuspend=null,clearTimeout(S),clearTimeout(E)}}:null}function Qy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ex(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Jy=null;function ex(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Jy=new Map,h.forEach(Sle,c),Jy=null,Qy.call(c))}function Sle(c,h){if(!(h.state.loading&4)){var g=Jy.get(c);if(g)var S=g.get(null);else{g=new Map,Jy.set(c,g);for(var E=c.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<E.length;D++){var B=E[D];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(g.set(B.dataset.precedence,B),S=B)}S&&g.set(null,S)}E=h.instance,B=E.getAttribute("data-precedence"),D=g.get(B)||S,D===S&&g.set(null,E),g.set(B,E),this.count++,S=Qy.bind(this),E.addEventListener("load",S),E.addEventListener("error",S),D?D.parentNode.insertBefore(E,D.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(E,c.firstChild)),h.state.loading|=4}}var Cm={$$typeof:T,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function _le(c,h,g,S,E,D,B,G,ne){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lt(0),this.hiddenUpdates=Lt(null),this.identifierPrefix=S,this.onUncaughtError=E,this.onCaughtError=D,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function GB(c,h,g,S,E,D,B,G,ne,Me,Ke,rt){return c=new _le(c,h,g,B,ne,Me,Ke,rt,G),h=1,D===!0&&(h|=24),D=Qa(3,null,null,h),c.current=D,D.stateNode=c,h=CT(),h.refCount++,c.pooledCache=h,h.refCount++,D.memoizedState={element:S,isDehydrated:g,cache:h},ET(D),c}function WB(c){return c?(c=Zf,c):Zf}function KB(c,h,g,S,E,D){E=WB(E),S.context===null?S.context=E:S.pendingContext=E,S=Ml(h),S.payload={element:g},D=D===void 0?null:D,D!==null&&(S.callback=D),g=El(c,S,h),g!==null&&(Oa(g,c,h),nm(g,c,h))}function YB(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function WC(c,h){YB(c,h),(c=c.alternate)&&YB(c,h)}function XB(c){if(c.tag===13||c.tag===31){var h=nc(c,67108864);h!==null&&Oa(h,c,67108864),WC(c,67108864)}}function ZB(c){if(c.tag===13||c.tag===31){var h=ni();h=pt(h);var g=nc(c,h);g!==null&&Oa(g,c,h),WC(c,h)}}var tx=!0;function Tle(c,h,g,S){var E=z.T;z.T=null;var D=V.p;try{V.p=2,KC(c,h,g,S)}finally{V.p=D,z.T=E}}function Cle(c,h,g,S){var E=z.T;z.T=null;var D=V.p;try{V.p=8,KC(c,h,g,S)}finally{V.p=D,z.T=E}}function KC(c,h,g,S){if(tx){var E=YC(S);if(E===null)kC(c,h,S,rx,g),JB(c,S);else if(Ale(E,c,h,g,S))S.stopPropagation();else if(JB(c,S),h&4&&-1<Nle.indexOf(c)){for(;E!==null;){var D=It(E);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var B=Ce(D.pendingLanes);if(B!==0){var G=D;for(G.pendingLanes|=2,G.entangledLanes|=2;B;){var ne=1<<31-lt(B);G.entanglements[1]|=ne,B&=~ne}Rs(D),(Ar&6)===0&&(By=ue()+500,xm(0))}}break;case 31:case 13:G=nc(D,2),G!==null&&Oa(G,D,2),zy(),WC(D,2)}if(D=YC(S),D===null&&kC(c,h,S,rx,g),D===E)break;E=D}E!==null&&S.stopPropagation()}else kC(c,h,S,null,g)}}function YC(c){return c=Z_(c),XC(c)}var rx=null;function XC(c){if(rx=null,c=At(c),c!==null){var h=i(c);if(h===null)c=null;else{var g=h.tag;if(g===13){if(c=s(h),c!==null)return c;c=null}else if(g===31){if(c=o(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return rx=c,null}function QB(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nt()){case tt:return 2;case Q:return 8;case we:case st:return 32;case me:return 268435456;default:return 32}default:return 32}}var ZC=!1,zl=null,Fl=null,Ul=null,Nm=new Map,Am=new Map,Hl=[],Nle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JB(c,h){switch(c){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":Ul=null;break;case"pointerover":case"pointerout":Nm.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Am.delete(h.pointerId)}}function Mm(c,h,g,S,E,D){return c===null||c.nativeEvent!==D?(c={blockedOn:h,domEventName:g,eventSystemFlags:S,nativeEvent:D,targetContainers:[E]},h!==null&&(h=It(h),h!==null&&XB(h)),c):(c.eventSystemFlags|=S,h=c.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),c)}function Ale(c,h,g,S,E){switch(h){case"focusin":return zl=Mm(zl,c,h,g,S,E),!0;case"dragenter":return Fl=Mm(Fl,c,h,g,S,E),!0;case"mouseover":return Ul=Mm(Ul,c,h,g,S,E),!0;case"pointerover":var D=E.pointerId;return Nm.set(D,Mm(Nm.get(D)||null,c,h,g,S,E)),!0;case"gotpointercapture":return D=E.pointerId,Am.set(D,Mm(Am.get(D)||null,c,h,g,S,E)),!0}return!1}function e6(c){var h=At(c.target);if(h!==null){var g=i(h);if(g!==null){if(h=g.tag,h===13){if(h=s(g),h!==null){c.blockedOn=h,Se(c.priority,function(){ZB(g)});return}}else if(h===31){if(h=o(g),h!==null){c.blockedOn=h,Se(c.priority,function(){ZB(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function nx(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=YC(c.nativeEvent);if(g===null){g=c.nativeEvent;var S=new g.constructor(g.type,g);X_=S,g.target.dispatchEvent(S),X_=null}else return h=It(g),h!==null&&XB(h),c.blockedOn=g,!1;h.shift()}return!0}function t6(c,h,g){nx(c)&&g.delete(h)}function Mle(){ZC=!1,zl!==null&&nx(zl)&&(zl=null),Fl!==null&&nx(Fl)&&(Fl=null),Ul!==null&&nx(Ul)&&(Ul=null),Nm.forEach(t6),Am.forEach(t6)}function ax(c,h){c.blockedOn===h&&(c.blockedOn=null,ZC||(ZC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mle)))}var ix=null;function r6(c){ix!==c&&(ix=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ix===c&&(ix=null);for(var h=0;h<c.length;h+=3){var g=c[h],S=c[h+1],E=c[h+2];if(typeof S!="function"){if(XC(S||g)===null)continue;break}var D=It(g);D!==null&&(c.splice(h,3),h-=3,YT(D,{pending:!0,data:E,method:g.method,action:S},S,E))}}))}function wd(c){function h(ne){return ax(ne,c)}zl!==null&&ax(zl,c),Fl!==null&&ax(Fl,c),Ul!==null&&ax(Ul,c),Nm.forEach(h),Am.forEach(h);for(var g=0;g<Hl.length;g++){var S=Hl[g];S.blockedOn===c&&(S.blockedOn=null)}for(;0<Hl.length&&(g=Hl[0],g.blockedOn===null);)e6(g),g.blockedOn===null&&Hl.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(S=0;S<g.length;S+=3){var E=g[S],D=g[S+1],B=E[Ye]||null;if(typeof D=="function")B||r6(g);else if(B){var G=null;if(D&&D.hasAttribute("formAction")){if(E=D,B=D[Ye]||null)G=B.formAction;else if(XC(E)!==null)continue}else G=B.action;typeof G=="function"?g[S+1]=G:(g.splice(S,3),S-=3),r6(g)}}}function n6(){function c(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(B){return E=B})},focusReset:"manual",scroll:"manual"})}function h(){E!==null&&(E(),E=null),S||setTimeout(g,20)}function g(){if(!S&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,E=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(g,100),function(){S=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),E!==null&&(E(),E=null)}}}function QC(c){this._internalRoot=c}sx.prototype.render=QC.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var g=h.current,S=ni();KB(g,S,c,h,null,null)},sx.prototype.unmount=QC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;KB(c.current,2,null,c,null,null),zy(),h[dt]=null}};function sx(c){this._internalRoot=c}sx.prototype.unstable_scheduleHydration=function(c){if(c){var h=Z();c={blockedOn:null,target:c,priority:h};for(var g=0;g<Hl.length&&h!==0&&h<Hl[g].priority;g++);Hl.splice(g,0,c),g===0&&e6(c)}};var a6=t.version;if(a6!=="19.2.0")throw Error(n(527,a6,"19.2.0"));V.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(h),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var Ele={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ox.isDisabled&&ox.supportsFiber)try{ze=ox.inject(Ele),Ge=ox}catch{}}return jm.createRoot=function(c,h){if(!a(c))throw Error(n(299));var g=!1,S="",E=f4,D=d4,B=h4;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(B=h.onRecoverableError)),h=GB(c,1,!1,null,null,g,S,null,E,D,B,n6),c[dt]=h.current,PC(c),new QC(h)},jm.hydrateRoot=function(c,h,g){if(!a(c))throw Error(n(299));var S=!1,E="",D=f4,B=d4,G=h4,ne=null;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onUncaughtError!==void 0&&(D=g.onUncaughtError),g.onCaughtError!==void 0&&(B=g.onCaughtError),g.onRecoverableError!==void 0&&(G=g.onRecoverableError),g.formState!==void 0&&(ne=g.formState)),h=GB(c,1,!0,h,g??null,S,E,ne,D,B,G,n6),h.context=WB(null),g=h.current,S=ni(),S=pt(S),E=Ml(S),E.callback=null,El(g,E,S),g=S,h.current.lanes=g,X(h,g),Rs(h),c[dt]=h.current,PC(c),new sx(h)},jm.version="19.2.0",jm}var v6;function Fle(){if(v6)return rN.exports;v6=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rN.exports=zle(),rN.exports}var Ule=Fle();const Hle=Kr(Ule);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SY=e=>{throw TypeError(e)},Vle=(e,t,r)=>t.has(e)||SY("Cannot "+r),sN=(e,t,r)=>(Vle(e,t,"read from private field"),r?r.call(e):t.get(e)),qle=(e,t,r)=>t.has(e)?SY("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),g6="popstate";function Gle(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return cg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ru(a)}return Kle(t,r,null,e)}function dr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wle(){return Math.random().toString(36).substring(2,10)}function y6(e,t){return{usr:e.state,key:e.key,idx:t}}function cg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uu(t):t,state:r,key:t&&t.key||n||Wle()}}function Ru({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Kle(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function d(){o="POP";let b=f(),w=b==null?null:b-u;u=b,l&&l({action:o,location:x.location,delta:w})}function p(b,w){o="PUSH";let _=cg(x.location,b,w);u=f()+1;let T=y6(_,u),M=x.createHref(_);try{s.pushState(T,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(M)}i&&l&&l({action:o,location:x.location,delta:1})}function v(b,w){o="REPLACE";let _=cg(x.location,b,w);u=f();let T=y6(_,u),M=x.createHref(_);s.replaceState(T,"",M),i&&l&&l({action:o,location:x.location,delta:0})}function y(b){return _Y(b)}let x={get action(){return o},get location(){return e(a,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(g6,d),l=b,()=>{a.removeEventListener(g6,d),l=null}},createHref(b){return t(a,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(b){return s.go(b)}};return x}function _Y(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),dr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ru(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var yv,x6=class{constructor(e){if(qle(this,yv,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(sN(this,yv).has(e))return sN(this,yv).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){sN(this,yv).set(e,t)}};yv=new WeakMap;var Yle=new Set(["lazy","caseSensitive","path","id","index","children"]);function Xle(e){return Yle.has(e)}var Zle=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Qle(e){return Zle.has(e)}function Jle(e){return e.index===!0}function fg(e,t,r=[],n={},a=!1){return e.map((i,s)=>{let o=[...r,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(dr(i.index!==!0||!i.children,"Cannot specify children on an index route"),dr(a||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),Jle(i)){let u={...i,...t(i),id:l};return n[l]=u,u}else{let u={...i,...t(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=fg(i.children,t,o,n,a)),u}})}function cu(e,t,r="/"){return Hb(e,t,r,!1)}function Hb(e,t,r,n){let a=typeof t=="string"?Uu(t):t,i=Xi(a.pathname||"/",r);if(i==null)return null;let s=TY(e);tue(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=due(i);o=cue(s[l],u,n)}return o}function eue(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function TY(e,t=[],r=[],n="",a=!1){let i=(s,o,l=a,u)=>{let f={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&l)return;dr(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let d=Js([n,f.relativePath]),p=r.concat(f);s.children&&s.children.length>0&&(dr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),TY(s.children,t,p,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:lue(d,s.index),routesMeta:p})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of CY(s.path))i(s,o,!0,u)}),t}function CY(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=CY(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function tue(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uue(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var rue=/^:[\w-]+$/,nue=3,aue=2,iue=1,sue=10,oue=-2,b6=e=>e==="*";function lue(e,t){let r=e.split("/"),n=r.length;return r.some(b6)&&(n+=oue),t&&(n+=aue),r.filter(a=>!b6(a)).reduce((a,i)=>a+(rue.test(i)?nue:i===""?iue:sue),n)}function uue(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function cue(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=b1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=b1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Js([i,d.pathname]),pathnameBase:vue(Js([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Js([i,d.pathnameBase]))}return s}function b1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fue(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:d},p)=>{if(f==="*"){let y=o[p]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[p];return d&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function fue(e,t=!1,r=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function due(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function hue({basename:e,pathname:t}){return t==="/"?e:Js([e,t])}function pue(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Uu(e):e;return{pathname:r?r.startsWith("/")?r:mue(r,t):t,search:gue(n),hash:yue(a)}}function mue(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function oN(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Zk(e){let t=NY(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Qk(e,t,r,n=!1){let a;typeof e=="string"?a=Uu(e):(a={...e},dr(!a.pathname||!a.pathname.includes("?"),oN("?","pathname","search",a)),dr(!a.pathname||!a.pathname.includes("#"),oN("#","pathname","hash",a)),dr(!a.search||!a.search.includes("#"),oN("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;a.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=pue(a,o),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Js=e=>e.join("/").replace(/\/\/+/g,"/"),vue=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gue=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yue=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,w1=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function dg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var AY=["POST","PUT","PATCH","DELETE"],xue=new Set(AY),bue=["GET",...AY],wue=new Set(bue),Sue=new Set([301,302,303,307,308]),_ue=new Set([307,308]),lN={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tue={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jk=e=>Cue.test(e),Nue=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),MY="remix-router-transitions",EY=Symbol("ResetLoaderData");function Aue(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";dr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Nue,i={},s=fg(e.routes,a,void 0,i),o,l=e.basename||"/";l.startsWith("/")||(l=`/${l}`);let u=e.dataStrategy||Oue,f={...e.future},d=null,p=new Set,v=null,y=null,x=null,b=e.hydrationData!=null,w=cu(s,e.history.location,l),_=!1,T=null,M;if(w==null&&!e.patchRoutesOnNavigation){let X=Ii(404,{pathname:e.history.location.pathname}),{matches:se,route:_e}=cx(s);M=!0,w=se,T={[_e.id]:X}}else if(w&&!e.hydrationData&&Nt(w,s,e.history.location.pathname).active&&(w=null),w)if(w.some(X=>X.route.lazy))M=!1;else if(!w.some(X=>eR(X.route)))M=!0;else{let X=e.hydrationData?e.hydrationData.loaderData:null,se=e.hydrationData?e.hydrationData.errors:null;if(se){let _e=w.findIndex(et=>se[et.route.id]!==void 0);M=w.slice(0,_e+1).every(et=>!DD(et.route,X,se))}else M=w.every(_e=>!DD(_e.route,X,se))}else{M=!1,w=[];let X=Nt(null,s,e.history.location.pathname);X.active&&X.matches&&(_=!0,w=X.matches)}let N,C={historyAction:e.history.action,location:e.history.location,matches:w,initialized:M,navigation:lN,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},j="POP",O=!1,P,R=!1,k=new Map,L=null,I=!1,$=!1,F=new Set,z=new Map,V=0,q=-1,W=new Map,Y=new Set,H=new Map,U=new Map,K=new Set,ee=new Map,ae,xe=null;function ke(){if(d=e.history.listen(({action:X,location:se,delta:_e})=>{if(ae){ae(),ae=void 0;return}Mn(ee.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=$e({currentLocation:C.location,nextLocation:se,historyAction:X});if(et&&_e!=null){let ut=new Promise(pt=>{ae=pt});e.history.go(_e*-1),Ee(et,{state:"blocked",location:se,proceed(){Ee(et,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),ut.then(()=>e.history.go(_e))},reset(){let pt=new Map(C.blockers);pt.set(et,Dm),Te({blockers:pt})}});return}return Ue(X,se)}),r){Wue(t,k);let X=()=>Kue(t,k);t.addEventListener("pagehide",X),L=()=>t.removeEventListener("pagehide",X)}return C.initialized||Ue("POP",C.location,{initialHydration:!0}),N}function Je(){d&&d(),L&&L(),p.clear(),P&&P.abort(),C.fetchers.forEach((X,se)=>me(se)),C.blockers.forEach((X,se)=>ge(se))}function be(X){return p.add(X),()=>p.delete(X)}function Te(X,se={}){X.matches&&(X.matches=X.matches.map(ut=>{let pt=i[ut.route.id],ie=ut.route;return ie.element!==pt.element||ie.errorElement!==pt.errorElement||ie.hydrateFallbackElement!==pt.hydrateFallbackElement?{...ut,route:pt}:ut})),C={...C,...X};let _e=[],et=[];C.fetchers.forEach((ut,pt)=>{ut.state==="idle"&&(K.has(pt)?_e.push(pt):et.push(pt))}),K.forEach(ut=>{!C.fetchers.has(ut)&&!z.has(ut)&&_e.push(ut)}),[...p].forEach(ut=>ut(C,{deletedFetchers:_e,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),_e.forEach(ut=>me(ut)),et.forEach(ut=>C.fetchers.delete(ut))}function De(X,se,{flushSync:_e}={}){var Ie,Ye;let et=C.actionData!=null&&C.navigation.formMethod!=null&&La(C.navigation.formMethod)&&C.navigation.state==="loading"&&((Ie=X.state)==null?void 0:Ie._isRedirect)!==!0,ut;se.actionData?Object.keys(se.actionData).length>0?ut=se.actionData:ut=null:et?ut=C.actionData:ut=null;let pt=se.loaderData?j6(C.loaderData,se.loaderData,se.matches||[],se.errors):C.loaderData,ie=C.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((dt,Dt)=>ie.set(Dt,Dm)));let Z=I?!1:Re(X,se.matches||C.matches),Se=O===!0||C.navigation.formMethod!=null&&La(C.navigation.formMethod)&&((Ye=X.state)==null?void 0:Ye._isRedirect)!==!0;o&&(s=o,o=void 0),I||j==="POP"||(j==="PUSH"?e.history.push(X,X.state):j==="REPLACE"&&e.history.replace(X,X.state));let qe;if(j==="POP"){let dt=k.get(C.location.pathname);dt&&dt.has(X.pathname)?qe={currentLocation:C.location,nextLocation:X}:k.has(X.pathname)&&(qe={currentLocation:X,nextLocation:C.location})}else if(R){let dt=k.get(C.location.pathname);dt?dt.add(X.pathname):(dt=new Set([X.pathname]),k.set(C.location.pathname,dt)),qe={currentLocation:C.location,nextLocation:X}}Te({...se,actionData:ut,loaderData:pt,historyAction:j,location:X,initialized:!0,navigation:lN,revalidation:"idle",restoreScrollPosition:Z,preventScrollReset:Se,blockers:ie},{viewTransitionOpts:qe,flushSync:_e===!0}),j="POP",O=!1,R=!1,I=!1,$=!1,xe==null||xe.resolve(),xe=null}async function J(X,se){if(typeof X=="number"){e.history.go(X);return}let _e=jD(C.location,C.matches,l,X,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:et,submission:ut,error:pt}=w6(!1,_e,se),ie=C.location,Z=cg(C.location,et,se&&se.state);Z={...Z,...e.history.encodeLocation(Z)};let Se=se&&se.replace!=null?se.replace:void 0,qe="PUSH";Se===!0?qe="REPLACE":Se===!1||ut!=null&&La(ut.formMethod)&&ut.formAction===C.location.pathname+C.location.search&&(qe="REPLACE");let Ie=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,Ye=(se&&se.flushSync)===!0,dt=$e({currentLocation:ie,nextLocation:Z,historyAction:qe});if(dt){Ee(dt,{state:"blocked",location:Z,proceed(){Ee(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),J(X,se)},reset(){let Dt=new Map(C.blockers);Dt.set(dt,Dm),Te({blockers:Dt})}});return}await Ue(qe,Z,{submission:ut,pendingError:pt,preventScrollReset:Ie,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:Ye})}function it(){xe||(xe=Yue()),nt(),Te({revalidation:"loading"});let X=xe.promise;return C.navigation.state==="submitting"?X:C.navigation.state==="idle"?(Ue(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),X):(Ue(j||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:R===!0}),X)}async function Ue(X,se,_e){P&&P.abort(),P=null,j=X,I=(_e&&_e.startUninterruptedRevalidation)===!0,Ce(C.location,C.matches),O=(_e&&_e.preventScrollReset)===!0,R=(_e&&_e.enableViewTransition)===!0;let et=o||s,ut=_e&&_e.overrideNavigation,pt=_e!=null&&_e.initialHydration&&C.matches&&C.matches.length>0&&!_?C.matches:cu(et,se,l),ie=(_e&&_e.flushSync)===!0;if(pt&&C.initialized&&!$&&zue(C.location,se)&&!(_e&&_e.submission&&La(_e.submission.formMethod))){De(se,{matches:pt},{flushSync:ie});return}let Z=Nt(pt,et,se.pathname);if(Z.active&&Z.matches&&(pt=Z.matches),!pt){let{error:Ve,notFoundMatches:We,route:ct}=Oe(se.pathname);De(se,{matches:We,loaderData:{},errors:{[ct.id]:Ve}},{flushSync:ie});return}P=new AbortController;let Se=Qd(e.history,se,P.signal,_e&&_e.submission),qe=e.getContext?await e.getContext():new x6,Ie;if(_e&&_e.pendingError)Ie=[fu(pt).route.id,{type:"error",error:_e.pendingError}];else if(_e&&_e.submission&&La(_e.submission.formMethod)){let Ve=await ft(Se,se,_e.submission,pt,qe,Z.active,_e&&_e.initialHydration===!0,{replace:_e.replace,flushSync:ie});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[We,ct]=Ve.pendingActionResult;if(li(ct)&&dg(ct.error)&&ct.error.status===404){P=null,De(se,{matches:Ve.matches,loaderData:{},errors:{[We]:ct.error}});return}}pt=Ve.matches||pt,Ie=Ve.pendingActionResult,ut=uN(se,_e.submission),ie=!1,Z.active=!1,Se=Qd(e.history,Se.url,Se.signal)}let{shortCircuited:Ye,matches:dt,loaderData:Dt,errors:fe}=await le(Se,se,pt,qe,Z.active,ut,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,ie,Ie);Ye||(P=null,De(se,{matches:dt||pt,...D6(Ie),loaderData:Dt,errors:fe}))}async function ft(X,se,_e,et,ut,pt,ie,Z={}){nt();let Se=que(se,_e);if(Te({navigation:Se},{flushSync:Z.flushSync===!0}),pt){let Ye=await Wt(et,se.pathname,X.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:Dt,route:fe}=cx(s);return{matches:Dt,pendingActionResult:[fe.id,{type:"error",error:Ye.error}]}}let dt=fu(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,pendingActionResult:[dt,{type:"error",error:Ye.error}]}}else if(Ye.matches)et=Ye.matches;else{let{notFoundMatches:dt,error:Dt,route:fe}=Oe(se.pathname);return{matches:dt,pendingActionResult:[fe.id,{type:"error",error:Dt}]}}}let qe,Ie=Vb(et,se);if(!Ie.route.action&&!Ie.route.lazy)qe={type:"error",error:Ii(405,{method:X.method,pathname:se.pathname,routeId:Ie.route.id})};else{let Ye=bh(a,i,X,et,Ie,ie?[]:n,ut),dt=await Fe(X,Ye,ut,null);if(qe=dt[Ie.route.id],!qe){for(let Dt of et)if(dt[Dt.route.id]){qe=dt[Dt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Gc(qe)){let Ye;return Z&&Z.replace!=null?Ye=Z.replace:Ye=A6(qe.response.headers.get("Location"),new URL(X.url),l)===C.location.pathname+C.location.search,await pe(X,qe,!0,{submission:_e,replace:Ye}),{shortCircuited:!0}}if(li(qe)){let Ye=fu(et,Ie.route.id);return(Z&&Z.replace)!==!0&&(j="PUSH"),{matches:et,pendingActionResult:[Ye.route.id,qe,Ie.route.id]}}return{matches:et,pendingActionResult:[Ie.route.id,qe]}}async function le(X,se,_e,et,ut,pt,ie,Z,Se,qe,Ie,Ye){let dt=pt||uN(se,ie),Dt=ie||Z||P6(dt),fe=!I&&!qe;if(ut){if(fe){let ht=te(Ye);Te({navigation:dt,...ht!==void 0?{actionData:ht}:{}},{flushSync:Ie})}let oe=await Wt(_e,se.pathname,X.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){if(oe.partialMatches.length===0){let{matches:bt,route:_t}=cx(s);return{matches:bt,loaderData:{},errors:{[_t.id]:oe.error}}}let ht=fu(oe.partialMatches).route.id;return{matches:oe.partialMatches,loaderData:{},errors:{[ht]:oe.error}}}else if(oe.matches)_e=oe.matches;else{let{error:ht,notFoundMatches:bt,route:_t}=Oe(se.pathname);return{matches:bt,loaderData:{},errors:{[_t.id]:ht}}}}let Ve=o||s,{dsMatches:We,revalidatingFetchers:ct}=S6(X,et,a,i,e.history,C,_e,Dt,se,qe?[]:n,qe===!0,$,F,K,H,Y,Ve,l,e.patchRoutesOnNavigation!=null,Ye);if(q=++V,!e.dataStrategy&&!We.some(oe=>oe.shouldLoad)&&!We.some(oe=>oe.route.middleware&&oe.route.middleware.length>0)&&ct.length===0){let oe=Ge();return De(se,{matches:_e,loaderData:{},errors:Ye&&li(Ye[1])?{[Ye[0]]:Ye[1].error}:null,...D6(Ye),...oe?{fetchers:new Map(C.fetchers)}:{}},{flushSync:Ie}),{shortCircuited:!0}}if(fe){let oe={};if(!ut){oe.navigation=dt;let ht=te(Ye);ht!==void 0&&(oe.actionData=ht)}ct.length>0&&(oe.fetchers=Ne(ct)),Te(oe,{flushSync:Ie})}ct.forEach(oe=>{he(oe.key),oe.controller&&z.set(oe.key,oe.controller)});let Ct=()=>ct.forEach(oe=>he(oe.key));P&&P.signal.addEventListener("abort",Ct);let{loaderResults:At,fetcherResults:It}=await ue(We,ct,X,et);if(X.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Ct),ct.forEach(oe=>z.delete(oe.key));let Mt=fx(At);if(Mt)return await pe(X,Mt.result,!0,{replace:Se}),{shortCircuited:!0};if(Mt=fx(It),Mt)return Y.add(Mt.key),await pe(X,Mt.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:kt,errors:Qt}=E6(C,_e,At,Ye,ct,It);qe&&C.errors&&(Qt={...C.errors,...Qt});let Ir=Ge(),br=at(q),nn=Ir||br||ct.length>0;return{matches:_e,loaderData:kt,errors:Qt,...nn?{fetchers:new Map(C.fetchers)}:{}}}function te(X){if(X&&!li(X[1]))return{[X[0]]:X[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Ne(X){return X.forEach(se=>{let _e=C.fetchers.get(se.key),et=Om(void 0,_e?_e.data:void 0);C.fetchers.set(se.key,et)}),new Map(C.fetchers)}async function Le(X,se,_e,et){he(X);let ut=(et&&et.flushSync)===!0,pt=o||s,ie=jD(C.location,C.matches,l,_e,se,et==null?void 0:et.relative),Z=cu(pt,ie,l),Se=Nt(Z,pt,ie);if(Se.active&&Se.matches&&(Z=Se.matches),!Z){Q(X,se,Ii(404,{pathname:ie}),{flushSync:ut});return}let{path:qe,submission:Ie,error:Ye}=w6(!0,ie,et);if(Ye){Q(X,se,Ye,{flushSync:ut});return}let dt=e.getContext?await e.getContext():new x6,Dt=(et&&et.preventScrollReset)===!0;if(Ie&&La(Ie.formMethod)){await Pe(X,se,qe,Z,dt,Se.active,ut,Dt,Ie);return}H.set(X,{routeId:se,path:qe}),await He(X,se,qe,Z,dt,Se.active,ut,Dt,Ie)}async function Pe(X,se,_e,et,ut,pt,ie,Z,Se){nt(),H.delete(X);let qe=C.fetchers.get(X);tt(X,Gue(Se,qe),{flushSync:ie});let Ie=new AbortController,Ye=Qd(e.history,_e,Ie.signal,Se);if(pt){let xt=await Wt(et,new URL(Ye.url).pathname,Ye.signal,X);if(xt.type==="aborted")return;if(xt.type==="error"){Q(X,se,xt.error,{flushSync:ie});return}else if(xt.matches)et=xt.matches;else{Q(X,se,Ii(404,{pathname:_e}),{flushSync:ie});return}}let dt=Vb(et,_e);if(!dt.route.action&&!dt.route.lazy){let xt=Ii(405,{method:Se.formMethod,pathname:_e,routeId:se});Q(X,se,xt,{flushSync:ie});return}z.set(X,Ie);let Dt=V,fe=bh(a,i,Ye,et,dt,n,ut),We=(await Fe(Ye,fe,ut,X))[dt.route.id];if(Ye.signal.aborted){z.get(X)===Ie&&z.delete(X);return}if(K.has(X)){if(Gc(We)||li(We)){tt(X,Uo(void 0));return}}else{if(Gc(We))if(z.delete(X),q>Dt){tt(X,Uo(void 0));return}else return Y.add(X),tt(X,Om(Se)),pe(Ye,We,!1,{fetcherSubmission:Se,preventScrollReset:Z});if(li(We)){Q(X,se,We.error);return}}let ct=C.navigation.location||C.location,Ct=Qd(e.history,ct,Ie.signal),At=o||s,It=C.navigation.state!=="idle"?cu(At,C.navigation.location,l):C.matches;dr(It,"Didn't find any matches after fetcher action");let Mt=++V;W.set(X,Mt);let kt=Om(Se,We.data);C.fetchers.set(X,kt);let{dsMatches:Qt,revalidatingFetchers:Ir}=S6(Ct,ut,a,i,e.history,C,It,Se,ct,n,!1,$,F,K,H,Y,At,l,e.patchRoutesOnNavigation!=null,[dt.route.id,We]);Ir.filter(xt=>xt.key!==X).forEach(xt=>{let St=xt.key,lr=C.fetchers.get(St),ar=Om(void 0,lr?lr.data:void 0);C.fetchers.set(St,ar),he(St),xt.controller&&z.set(St,xt.controller)}),Te({fetchers:new Map(C.fetchers)});let br=()=>Ir.forEach(xt=>he(xt.key));Ie.signal.addEventListener("abort",br);let{loaderResults:nn,fetcherResults:oe}=await ue(Qt,Ir,Ct,ut);if(Ie.signal.aborted)return;if(Ie.signal.removeEventListener("abort",br),W.delete(X),z.delete(X),Ir.forEach(xt=>z.delete(xt.key)),C.fetchers.has(X)){let xt=Uo(We.data);C.fetchers.set(X,xt)}let ht=fx(nn);if(ht)return pe(Ct,ht.result,!1,{preventScrollReset:Z});if(ht=fx(oe),ht)return Y.add(ht.key),pe(Ct,ht.result,!1,{preventScrollReset:Z});let{loaderData:bt,errors:_t}=E6(C,It,nn,void 0,Ir,oe);at(Mt),C.navigation.state==="loading"&&Mt>q?(dr(j,"Expected pending action"),P&&P.abort(),De(C.navigation.location,{matches:It,loaderData:bt,errors:_t,fetchers:new Map(C.fetchers)})):(Te({errors:_t,loaderData:j6(C.loaderData,bt,It,_t),fetchers:new Map(C.fetchers)}),$=!1)}async function He(X,se,_e,et,ut,pt,ie,Z,Se){let qe=C.fetchers.get(X);tt(X,Om(Se,qe?qe.data:void 0),{flushSync:ie});let Ie=new AbortController,Ye=Qd(e.history,_e,Ie.signal);if(pt){let ct=await Wt(et,new URL(Ye.url).pathname,Ye.signal,X);if(ct.type==="aborted")return;if(ct.type==="error"){Q(X,se,ct.error,{flushSync:ie});return}else if(ct.matches)et=ct.matches;else{Q(X,se,Ii(404,{pathname:_e}),{flushSync:ie});return}}let dt=Vb(et,_e);z.set(X,Ie);let Dt=V,fe=bh(a,i,Ye,et,dt,n,ut),We=(await Fe(Ye,fe,ut,X))[dt.route.id];if(z.get(X)===Ie&&z.delete(X),!Ye.signal.aborted){if(K.has(X)){tt(X,Uo(void 0));return}if(Gc(We))if(q>Dt){tt(X,Uo(void 0));return}else{Y.add(X),await pe(Ye,We,!1,{preventScrollReset:Z});return}if(li(We)){Q(X,se,We.error);return}tt(X,Uo(We.data))}}async function pe(X,se,_e,{submission:et,fetcherSubmission:ut,preventScrollReset:pt,replace:ie}={}){se.response.headers.has("X-Remix-Revalidate")&&($=!0);let Z=se.response.headers.get("Location");dr(Z,"Expected a Location header on the redirect Response"),Z=A6(Z,new URL(X.url),l);let Se=cg(C.location,Z,{_isRedirect:!0});if(r){let fe=!1;if(se.response.headers.has("X-Remix-Reload-Document"))fe=!0;else if(Jk(Z)){const Ve=_Y(Z,!0);fe=Ve.origin!==t.location.origin||Xi(Ve.pathname,l)==null}if(fe){ie?t.location.replace(Z):t.location.assign(Z);return}}P=null;let qe=ie===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ie,formAction:Ye,formEncType:dt}=C.navigation;!et&&!ut&&Ie&&Ye&&dt&&(et=P6(C.navigation));let Dt=et||ut;if(_ue.has(se.response.status)&&Dt&&La(Dt.formMethod))await Ue(qe,Se,{submission:{...Dt,formAction:Z},preventScrollReset:pt||O,enableViewTransition:_e?R:void 0});else{let fe=uN(Se,et);await Ue(qe,Se,{overrideNavigation:fe,fetcherSubmission:ut,preventScrollReset:pt||O,enableViewTransition:_e?R:void 0})}}async function Fe(X,se,_e,et){let ut,pt={};try{ut=await kue(u,X,se,et,_e,!1)}catch(ie){return se.filter(Z=>Z.shouldLoad).forEach(Z=>{pt[Z.route.id]={type:"error",error:ie}}),pt}if(X.signal.aborted)return pt;for(let[ie,Z]of Object.entries(ut))if(Hue(Z)){let Se=Z.result;pt[ie]={type:"redirect",response:Bue(Se,X,ie,se,l)}}else pt[ie]=await Iue(Z);return pt}async function ue(X,se,_e,et){let ut=Fe(_e,X,et,null),pt=Promise.all(se.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Ie=(await Fe(Se.request,Se.matches,et,Se.key))[Se.match.route.id];return{[Se.key]:Ie}}else return Promise.resolve({[Se.key]:{type:"error",error:Ii(404,{pathname:Se.path})}})})),ie=await ut,Z=(await pt).reduce((Se,qe)=>Object.assign(Se,qe),{});return{loaderResults:ie,fetcherResults:Z}}function nt(){$=!0,H.forEach((X,se)=>{z.has(se)&&F.add(se),he(se)})}function tt(X,se,_e={}){C.fetchers.set(X,se),Te({fetchers:new Map(C.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function Q(X,se,_e,et={}){let ut=fu(C.matches,se);me(X),Te({errors:{[ut.route.id]:_e},fetchers:new Map(C.fetchers)},{flushSync:(et&&et.flushSync)===!0})}function we(X){return U.set(X,(U.get(X)||0)+1),K.has(X)&&K.delete(X),C.fetchers.get(X)||Tue}function st(X,se){he(X,se==null?void 0:se.reason),tt(X,Uo(null))}function me(X){let se=C.fetchers.get(X);z.has(X)&&!(se&&se.state==="loading"&&W.has(X))&&he(X),H.delete(X),W.delete(X),Y.delete(X),K.delete(X),F.delete(X),C.fetchers.delete(X)}function ce(X){let se=(U.get(X)||0)-1;se<=0?(U.delete(X),K.add(X)):U.set(X,se),Te({fetchers:new Map(C.fetchers)})}function he(X,se){let _e=z.get(X);_e&&(_e.abort(se),z.delete(X))}function ze(X){for(let se of X){let _e=we(se),et=Uo(_e.data);C.fetchers.set(se,et)}}function Ge(){let X=[],se=!1;for(let _e of Y){let et=C.fetchers.get(_e);dr(et,`Expected fetcher: ${_e}`),et.state==="loading"&&(Y.delete(_e),X.push(_e),se=!0)}return ze(X),se}function at(X){let se=[];for(let[_e,et]of W)if(et<X){let ut=C.fetchers.get(_e);dr(ut,`Expected fetcher: ${_e}`),ut.state==="loading"&&(he(_e),W.delete(_e),se.push(_e))}return ze(se),se.length>0}function lt(X,se){let _e=C.blockers.get(X)||Dm;return ee.get(X)!==se&&ee.set(X,se),_e}function ge(X){C.blockers.delete(X),ee.delete(X)}function Ee(X,se){let _e=C.blockers.get(X)||Dm;dr(_e.state==="unblocked"&&se.state==="blocked"||_e.state==="blocked"&&se.state==="blocked"||_e.state==="blocked"&&se.state==="proceeding"||_e.state==="blocked"&&se.state==="unblocked"||_e.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${_e.state} -> ${se.state}`);let et=new Map(C.blockers);et.set(X,se),Te({blockers:et})}function $e({currentLocation:X,nextLocation:se,historyAction:_e}){if(ee.size===0)return;ee.size>1&&Mn(!1,"A router only supports one blocker at a time");let et=Array.from(ee.entries()),[ut,pt]=et[et.length-1],ie=C.blockers.get(ut);if(!(ie&&ie.state==="proceeding")&&pt({currentLocation:X,nextLocation:se,historyAction:_e}))return ut}function Oe(X){let se=Ii(404,{pathname:X}),_e=o||s,{matches:et,route:ut}=cx(_e);return{notFoundMatches:et,route:ut,error:se}}function mt(X,se,_e){if(v=X,x=se,y=_e||null,!b&&C.navigation===lN){b=!0;let et=Re(C.location,C.matches);et!=null&&Te({restoreScrollPosition:et})}return()=>{v=null,x=null,y=null}}function Tt(X,se){return y&&y(X,se.map(et=>eue(et,C.loaderData)))||X.key}function Ce(X,se){if(v&&x){let _e=Tt(X,se);v[_e]=x()}}function Re(X,se){if(v){let _e=Tt(X,se),et=v[_e];if(typeof et=="number")return et}return null}function Nt(X,se,_e){if(e.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Hb(se,_e,l,!0)}}else return{active:!0,matches:Hb(se,_e,l,!0)||[]};return{active:!1,matches:null}}async function Wt(X,se,_e,et){if(!e.patchRoutesOnNavigation)return{type:"success",matches:X};let ut=X;for(;;){let pt=o==null,ie=o||s,Z=i;try{await e.patchRoutesOnNavigation({signal:_e,path:se,matches:ut,fetcherKey:et,patch:(Ie,Ye)=>{_e.aborted||_6(Ie,Ye,ie,Z,a,!1)}})}catch(Ie){return{type:"error",error:Ie,partialMatches:ut}}finally{pt&&!_e.aborted&&(s=[...s])}if(_e.aborted)return{type:"aborted"};let Se=cu(ie,se,l);if(Se)return{type:"success",matches:Se};let qe=Hb(ie,se,l,!0);if(!qe||ut.length===qe.length&&ut.every((Ie,Ye)=>Ie.route.id===qe[Ye].route.id))return{type:"success",matches:null};ut=qe}}function qt(X){i={},o=fg(X,a,void 0,i)}function Lt(X,se,_e=!1){let et=o==null;_6(X,se,o||s,i,a,_e),et&&(s=[...s],Te({}))}return N={get basename(){return l},get future(){return f},get state(){return C},get routes(){return s},get window(){return t},initialize:ke,subscribe:be,enableScrollRestoration:mt,navigate:J,fetch:Le,revalidate:it,createHref:X=>e.history.createHref(X),encodeLocation:X=>e.history.encodeLocation(X),getFetcher:we,resetFetcher:st,deleteFetcher:ce,dispose:Je,getBlocker:lt,deleteBlocker:ge,patchRoutes:Lt,_internalFetchControllers:z,_internalSetRoutes:qt,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){Te(X)}},N}function Mue(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function jD(e,t,r,n,a,i){let s,o;if(a){s=[];for(let u of t)if(s.push(u),u.route.id===a){o=u;break}}else s=t,o=t[t.length-1];let l=Qk(n||".",Zk(s),Xi(e.pathname,r)||e.pathname,i==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=tR(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let f=new URLSearchParams(l.search),d=f.getAll("index");f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let p=f.toString();l.search=p?`?${p}`:""}}return r!=="/"&&(l.pathname=hue({basename:r,pathname:l.pathname})),Ru(l)}function w6(e,t,r){if(!r||!Mue(r))return{path:t};if(r.formMethod&&!Vue(r.formMethod))return{path:t,error:Ii(405,{method:r.formMethod})};let n=()=>({path:t,error:Ii(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),s=RY(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!La(i))return n();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,[v,y])=>`${p}${v}=${y}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!La(i))return n();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return n()}}}dr(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=PD(r.formData),l=r.formData;else if(r.body instanceof FormData)o=PD(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=M6(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=M6(o)}catch{return n()}let u={formMethod:i,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(La(u.formMethod))return{path:t,submission:u};let f=Uu(t);return e&&f.search&&tR(f.search)&&o.append("index",""),f.search=`?${o}`,{path:Ru(f),submission:u}}function S6(e,t,r,n,a,i,s,o,l,u,f,d,p,v,y,x,b,w,_,T){var I;let M=T?li(T[1])?T[1].error:T[1].data:void 0,N=a.createURL(i.location),C=a.createURL(l),j;if(f&&i.errors){let $=Object.keys(i.errors)[0];j=s.findIndex(F=>F.route.id===$)}else if(T&&li(T[1])){let $=T[0];j=s.findIndex(F=>F.route.id===$)-1}let O=T?T[1].statusCode:void 0,P=O&&O>=400,R={currentUrl:N,currentParams:((I=i.matches[0])==null?void 0:I.params)||{},nextUrl:C,nextParams:s[0].params,...o,actionResult:M,actionStatus:O},k=s.map(($,F)=>{let{route:z}=$,V=null;if(j!=null&&F>j?V=!1:z.lazy?V=!0:eR(z)?f?V=DD(z,i.loaderData,i.errors):Eue(i.loaderData,i.matches[F],$)&&(V=!0):V=!1,V!==null)return OD(r,n,e,$,u,t,V);let q=P?!1:d||N.pathname+N.search===C.pathname+C.search||N.search!==C.search||jue(i.matches[F],$),W={...R,defaultShouldRevalidate:q},Y=S1($,W);return OD(r,n,e,$,u,t,Y,W)}),L=[];return y.forEach(($,F)=>{if(f||!s.some(K=>K.route.id===$.routeId)||v.has(F))return;let z=i.fetchers.get(F),V=z&&z.state!=="idle"&&z.data===void 0,q=cu(b,$.path,w);if(!q){if(_&&V)return;L.push({key:F,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(x.has(F))return;let W=Vb(q,$.path),Y=new AbortController,H=Qd(a,$.path,Y.signal),U=null;if(p.has(F))p.delete(F),U=bh(r,n,H,q,W,u,t);else if(V)d&&(U=bh(r,n,H,q,W,u,t));else{let K={...R,defaultShouldRevalidate:P?!1:d};S1(W,K)&&(U=bh(r,n,H,q,W,u,t,K))}U&&L.push({key:F,routeId:$.routeId,path:$.path,matches:U,match:W,request:H,controller:Y})}),{dsMatches:k,revalidatingFetchers:L}}function eR(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function DD(e,t,r){if(e.lazy)return!0;if(!eR(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function Eue(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function jue(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function S1(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function _6(e,t,r,n,a,i){let s;if(e){let u=n[e];dr(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=r;let o=[],l=[];if(t.forEach(u=>{let f=s.find(d=>jY(u,d));f?l.push({existingRoute:f,newRoute:u}):o.push(u)}),o.length>0){let u=fg(o,a,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:f,newRoute:d}=l[u],p=f,[v]=fg([d],a,[],{},!0);Object.assign(p,{element:v.element?v.element:p.element,errorElement:v.errorElement?v.errorElement:p.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:p.hydrateFallbackElement})}}function jY(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(i=>jY(r,i))}):!1}var T6=new WeakMap,DY=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(dr(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let s=T6.get(a);s||(s={},T6.set(a,s));let o=s[e];if(o)return o;let l=(async()=>{let u=Xle(e),d=a[e]!==void 0&&e!=="hasErrorBoundary";if(u)Mn(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(d)Mn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await i();p!=null&&(Object.assign(a,{[e]:p}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(p=>p===void 0)&&(a.lazy=void 0))})();return s[e]=l,l},C6=new WeakMap;function Due(e,t,r,n,a){let i=r[e.id];if(dr(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=C6.get(i);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let d=(async()=>{dr(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),v={};for(let y in p){let x=p[y];if(x===void 0)continue;let b=Qle(y),_=i[y]!==void 0&&y!=="hasErrorBoundary";b?Mn(!b,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):_?Mn(!_,`Route "${i.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):v[y]=x}Object.assign(i,v),Object.assign(i,{...n(i),lazy:void 0})})();return C6.set(i,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let s=Object.keys(e.lazy),o=[],l;for(let f of s){if(a&&a.includes(f))continue;let d=DY({key:f,route:e,manifest:r,mapRouteProperties:n});d&&(o.push(d),f===t&&(l=d))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function N6(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{r[t[i].route.id]=a}),r}async function Oue(e){return e.matches.some(t=>t.route.middleware)?OY(e,()=>N6(e)):N6(e)}function OY(e,t){return Pue(e,t,n=>n,Fue,r);function r(n,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:n}}));{let{matches:s}=e,o=Math.min(Math.max(s.findIndex(u=>u.route.id===a),0),Math.max(s.findIndex(u=>u.unstable_shouldCallHandler()),0)),l=fu(s,s[o].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:n}})}}}async function Pue(e,t,r,n,a){let{matches:i,request:s,params:o,context:l}=e,u=i.flatMap(d=>d.route.middleware?d.route.middleware.map(p=>[d.route.id,p]):[]);return await PY({request:s,params:o,context:l},u,t,r,n,a)}async function PY(e,t,r,n,a,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let l=t[s];if(!l)return await r();let[u,f]=l,d,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");try{return d={value:await PY(e,t,r,n,a,i,s+1)},d.value}catch(v){return d={value:await i(v,u,d)},d.value}};try{let v=await f(e,p),y=v!=null?n(v):void 0;return a(y)?y:d?y??d.value:(d={value:await p()},d.value)}catch(v){return await i(v,u,d)}}function kY(e,t,r,n,a){let i=DY({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),s=Due(n.route,La(r.method)?"action":"loader",t,e,a);return{middleware:i,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function OD(e,t,r,n,a,i,s,o=null){let l=!1,u=kY(e,t,r,n,a);return{...n,_lazyPromises:u,shouldLoad:s,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(f){return l=!0,o?typeof f=="boolean"?S1(n,{...o,defaultShouldRevalidate:f}):S1(n,o):s},resolve(f){let{lazy:d,loader:p,middleware:v}=n.route,y=l||s||f&&!La(r.method)&&(d||p),x=v&&v.length>0&&!p&&!d;return y&&!x?Rue({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:f,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function bh(e,t,r,n,a,i,s,o=null){return n.map(l=>l.route.id!==a.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:kY(e,t,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:OD(e,t,r,l,i,s,!0,o))}async function kue(e,t,r,n,a,i){r.some(u=>{var f;return(f=u._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(r.map(u=>{var f;return(f=u._lazyPromises)==null?void 0:f.middleware}));let s={request:t,params:r[0].params,context:a,matches:r},l=await e({...s,fetcherKey:n,runClientMiddleware:u=>{let f=s;return OY(f,()=>u({...f,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>{var f,d;return[(f=u._lazyPromises)==null?void 0:f.handler,(d=u._lazyPromises)==null?void 0:d.route]}))}catch{}return l}async function Rue({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:a,scopedContext:i}){let s,o,l=La(e.method),u=l?"action":"loader",f=d=>{let p,v=new Promise((b,w)=>p=w);o=()=>p(),e.signal.addEventListener("abort",o);let y=b=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:i},...b!==void 0?[b]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(w=>y(w)):y())}}catch(b){return{type:"error",result:b}}})();return Promise.race([x,v])};try{let d=l?t.route.action:t.route.loader;if(r||n)if(d){let p,[v]=await Promise.all([f(d).catch(y=>{p=y}),r,n]);if(p!==void 0)throw p;s=v}else{await r;let p=l?t.route.action:t.route.loader;if(p)[s]=await Promise.all([f(p),n]);else if(u==="action"){let v=new URL(e.url),y=v.pathname+v.search;throw Ii(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(d)s=await f(d);else{let p=new URL(e.url),v=p.pathname+p.search;throw Ii(404,{pathname:v})}}catch(d){return{type:"error",result:d}}finally{o&&e.signal.removeEventListener("abort",o)}return s}async function Lue(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Iue(e){var n,a,i,s,o,l;let{result:t,type:r}=e;if(LY(t)){let u;try{u=await Lue(t)}catch(f){return{type:"error",error:f}}return r==="error"?{type:"error",error:new w1(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?O6(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new w1(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:dg(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:dg(t)?t.status:void 0}:O6(t)?{type:"data",data:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Bue(e,t,r,n,a){let i=e.headers.get("Location");if(dr(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jk(i)){let s=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=jD(new URL(t.url),s,a,i),e.headers.set("Location",i)}return e}function A6(e,t,r){if(Jk(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Xi(a.pathname,r)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Qd(e,t,r,n){let a=e.createURL(RY(t)).toString(),i={signal:r};if(n&&La(n.formMethod)){let{formMethod:s,formEncType:o}=n;i.method=s.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=PD(n.formData):i.body=n.formData}return new Request(a,i)}function PD(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function M6(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function $ue(e,t,r,n=!1,a=!1){let i={},s=null,o,l=!1,u={},f=r&&li(r[1])?r[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let p=d.route.id,v=t[p];if(dr(!Gc(v),"Cannot handle redirect results in processLoaderData"),li(v)){let y=v.error;if(f!==void 0&&(y=f,f=void 0),s=s||{},a)s[p]=y;else{let x=fu(e,p);s[x.route.id]==null&&(s[x.route.id]=y)}n||(i[p]=EY),l||(l=!0,o=dg(v.error)?v.error.status:500),v.headers&&(u[p]=v.headers)}else i[p]=v.data,v.statusCode&&v.statusCode!==200&&!l&&(o=v.statusCode),v.headers&&(u[p]=v.headers)}),f!==void 0&&r&&(s={[r[0]]:f},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:s,statusCode:o||200,loaderHeaders:u}}function E6(e,t,r,n,a,i){let{loaderData:s,errors:o}=$ue(t,r,n);return a.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:f,controller:d}=l;if(d&&d.signal.aborted)return;let p=i[u];if(dr(p,"Did not find corresponding fetcher result"),li(p)){let v=fu(e.matches,f==null?void 0:f.route.id);o&&o[v.route.id]||(o={...o,[v.route.id]:p.error}),e.fetchers.delete(u)}else if(Gc(p))dr(!1,"Unhandled fetcher revalidation redirect");else{let v=Uo(p.data);e.fetchers.set(u,v)}}),{loaderData:s,errors:o}}function j6(e,t,r,n){let a=Object.entries(t).filter(([,i])=>i!==EY).reduce((i,[s,o])=>(i[s]=o,i),{});for(let i of r){let s=i.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&i.route.loader&&(a[s]=e[s]),n&&n.hasOwnProperty(s))break}return a}function D6(e){return e?li(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function fu(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function cx(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ii(e,{pathname:t,routeId:r,method:n,type:a,message:i}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(s="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(s="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",o=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new w1(e||500,s,new Error(o),!0)}function fx(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(Gc(a))return{key:n,result:a}}}function RY(e){let t=typeof e=="string"?Uu(e):e;return Ru({...t,hash:""})}function zue(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Fue(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&Uue(r))}function Uue(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Hue(e){return LY(e.result)&&Sue.has(e.result.status)}function li(e){return e.type==="error"}function Gc(e){return(e&&e.type)==="redirect"}function O6(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function LY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Vue(e){return wue.has(e.toUpperCase())}function La(e){return xue.has(e.toUpperCase())}function tR(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Vb(e,t){let r=typeof t=="string"?Uu(t).search:t.search;if(e[e.length-1].route.index&&tR(r||""))return e[e.length-1];let n=NY(e);return n[n.length-1]}function P6(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:i,json:s}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function uN(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function que(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Om(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Gue(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Uo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Wue(e,t){try{let r=e.sessionStorage.getItem(MY);if(r){let n=JSON.parse(r);for(let[a,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function Kue(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(MY,JSON.stringify(r))}catch(n){Mn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Yue(){let e,t,r=new Promise((n,a)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var kf=A.createContext(null);kf.displayName="DataRouter";var N0=A.createContext(null);N0.displayName="DataRouterState";A.createContext(!1);var rR=A.createContext({isTransitioning:!1});rR.displayName="ViewTransition";var IY=A.createContext(new Map);IY.displayName="Fetchers";var Xue=A.createContext(null);Xue.displayName="Await";var fo=A.createContext(null);fo.displayName="Navigation";var mS=A.createContext(null);mS.displayName="Location";var Ns=A.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var nR=A.createContext(null);nR.displayName="RouteError";function Zue(e,{relative:t}={}){dr(A0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=A.useContext(fo),{hash:a,pathname:i,search:s}=M0(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Js([r,i])),n.createHref({pathname:o,search:s,hash:a})}function A0(){return A.useContext(mS)!=null}function ho(){return dr(A0(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(mS).location}var BY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $Y(e){A.useContext(fo).static||A.useLayoutEffect(e)}function po(){let{isDataRoute:e}=A.useContext(Ns);return e?dce():Que()}function Que(){dr(A0(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(kf),{basename:t,navigator:r}=A.useContext(fo),{matches:n}=A.useContext(Ns),{pathname:a}=ho(),i=JSON.stringify(Zk(n)),s=A.useRef(!1);return $Y(()=>{s.current=!0}),A.useCallback((l,u={})=>{if(Mn(s.current,BY),!s.current)return;if(typeof l=="number"){r.go(l);return}let f=Qk(l,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Js([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,i,a,e])}var zY=A.createContext(null);function Jue(){return A.useContext(zY)}function ece(e){let t=A.useContext(Ns).outlet;return A.useMemo(()=>t&&A.createElement(zY.Provider,{value:e},t),[t,e])}function aR(){let{matches:e}=A.useContext(Ns),t=e[e.length-1];return t?t.params:{}}function M0(e,{relative:t}={}){let{matches:r}=A.useContext(Ns),{pathname:n}=ho(),a=JSON.stringify(Zk(r));return A.useMemo(()=>Qk(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function tce(e,t,r,n,a){dr(A0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(fo),{matches:s}=A.useContext(Ns),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",d=o&&o.route;{let _=d&&d.path||"";FY(u,!d||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=ho(),v;v=p;let y=v.pathname||"/",x=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=cu(e,{pathname:x});return Mn(d||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Mn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sce(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Js([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Js([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,r,n,a)}function rce(){let e=fce(),t=dg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:i},"ErrorBoundary")," or"," ",A.createElement("code",{style:i},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,s)}var nce=A.createElement(rce,null),ace=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?A.createElement(Ns.Provider,{value:this.props.routeContext},A.createElement(nR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ice({routeContext:e,match:t,children:r}){let n=A.useContext(kf);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Ns.Provider,{value:e},r)}function sce(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);dr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=u),f.route.id){let{loaderData:d,errors:p}=r,v=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,f,d)=>{let p,v=!1,y=null,x=null;r&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||nce,o&&(l<0&&d===0?(FY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):l===d&&(v=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,d+1)),w=()=>{let _;return p?_=y:v?_=x:f.route.Component?_=A.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,A.createElement(ice,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?A.createElement(ace,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):w()},null)}function iR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oce(e){let t=A.useContext(kf);return dr(t,iR(e)),t}function lce(e){let t=A.useContext(N0);return dr(t,iR(e)),t}function uce(e){let t=A.useContext(Ns);return dr(t,iR(e)),t}function sR(e){let t=uce(e),r=t.matches[t.matches.length-1];return dr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function cce(){return sR("useRouteId")}function fce(){var n;let e=A.useContext(nR),t=lce("useRouteError"),r=sR("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function dce(){let{router:e}=oce("useNavigate"),t=sR("useNavigate"),r=A.useRef(!1);return $Y(()=>{r.current=!0}),A.useCallback(async(a,i={})=>{Mn(r.current,BY),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var k6={};function FY(e,t,r){!t&&!k6[e]&&(k6[e]=!0,Mn(!1,r))}var R6={};function L6(e,t){!e&&!R6[t]&&(R6[t]=!0,console.warn(t))}function hce(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Mn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:A.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Mn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:A.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Mn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:A.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var pce=["HydrateFallback","hydrateFallbackElement"],mce=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function vce({router:e,flushSync:t,unstable_onError:r}){let[n,a]=A.useState(e.state),[i,s]=A.useState(),[o,l]=A.useState({isTransitioning:!1}),[u,f]=A.useState(),[d,p]=A.useState(),[v,y]=A.useState(),x=A.useRef(new Map),b=A.useCallback(N=>{a(C=>(N.errors&&r&&Object.entries(N.errors).forEach(([j,O])=>{var P;((P=C.errors)==null?void 0:P[j])!==O&&r(O)}),N))},[r]),w=A.useCallback((N,{deletedFetchers:C,flushSync:j,viewTransitionOpts:O})=>{N.fetchers.forEach((R,k)=>{R.data!==void 0&&x.current.set(k,R.data)}),C.forEach(R=>x.current.delete(R)),L6(j===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(L6(O==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!P){t&&j?t(()=>b(N)):A.startTransition(()=>b(N));return}if(t&&j){t(()=>{d&&(u&&u.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let R=e.window.document.startViewTransition(()=>{t(()=>b(N))});R.finished.finally(()=>{t(()=>{f(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>p(R));return}d?(u&&u.resolve(),d.skipTransition(),y({state:N,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(N),l({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[e.window,t,d,u,b]);A.useLayoutEffect(()=>e.subscribe(w),[e,w]),A.useEffect(()=>{o.isTransitioning&&!o.flushSync&&f(new mce)},[o]),A.useEffect(()=>{if(u&&i&&e.window){let N=i,C=u.promise,j=e.window.document.startViewTransition(async()=>{A.startTransition(()=>b(N)),await C});j.finished.finally(()=>{f(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(j)}},[i,u,e.window,b]),A.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,d,n.location,i]),A.useEffect(()=>{!o.isTransitioning&&v&&(s(v.state),l({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[o.isTransitioning,v]);let _=A.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:N=>e.navigate(N),push:(N,C,j)=>e.navigate(N,{state:C,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(N,C,j)=>e.navigate(N,{replace:!0,state:C,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[e]),T=e.basename||"/",M=A.useMemo(()=>({router:e,navigator:_,static:!1,basename:T,unstable_onError:r}),[e,_,T,r]);return A.createElement(A.Fragment,null,A.createElement(kf.Provider,{value:M},A.createElement(N0.Provider,{value:n},A.createElement(IY.Provider,{value:x.current},A.createElement(rR.Provider,{value:o},A.createElement(xce,{basename:T,location:n.location,navigationType:n.historyAction,navigator:_},A.createElement(gce,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var gce=A.memo(yce);function yce({routes:e,future:t,state:r,unstable_onError:n}){return tce(e,void 0,r,n,t)}function UY(e){return ece(e.context)}function xce({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){dr(!A0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=A.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Uu(r));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:p="default"}=r,v=A.useMemo(()=>{let y=Xi(l,s);return y==null?null:{location:{pathname:y,search:u,hash:f,state:d,key:p},navigationType:n}},[s,l,u,f,d,p,n]);return Mn(v!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:A.createElement(fo.Provider,{value:o},A.createElement(mS.Provider,{children:t,value:v}))}var qb="get",Gb="application/x-www-form-urlencoded";function vS(e){return e!=null&&typeof e.tagName=="string"}function bce(e){return vS(e)&&e.tagName.toLowerCase()==="button"}function wce(e){return vS(e)&&e.tagName.toLowerCase()==="form"}function Sce(e){return vS(e)&&e.tagName.toLowerCase()==="input"}function _ce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tce(e,t){return e.button===0&&(!t||t==="_self")&&!_ce(e)}function kD(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Cce(e,t){let r=kD(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var dx=null;function Nce(){if(dx===null)try{new FormData(document.createElement("form"),0),dx=!1}catch{dx=!0}return dx}var Ace=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cN(e){return e!=null&&!Ace.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gb}"`),null):e}function Mce(e,t){let r,n,a,i,s;if(wce(e)){let o=e.getAttribute("action");n=o?Xi(o,t):null,r=e.getAttribute("method")||qb,a=cN(e.getAttribute("enctype"))||Gb,i=new FormData(e)}else if(bce(e)||Sce(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?Xi(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||qb,a=cN(e.getAttribute("formenctype"))||cN(o.getAttribute("enctype"))||Gb,i=new FormData(o,e),!Nce()){let{name:u,type:f,value:d}=e;if(f==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,d)}}else{if(vS(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qb,n=null,a=Gb,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oR(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ece(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Xi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function jce(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dce(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Oce(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await jce(i,r);return s.links?s.links():[]}return[]}));return Lce(n.flat(1).filter(Dce).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I6(e,t,r,n,a,i){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var f;return r[u].pathname!==l.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?t.filter((l,u)=>{var d;let f=n.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Pce(e,t,{includeHydrateFallback:r}={}){return kce(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function kce(e){return[...new Set(e)]}function Rce(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Lce(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Rce(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function HY(){let e=A.useContext(kf);return oR(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ice(){let e=A.useContext(N0);return oR(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var lR=A.createContext(void 0);lR.displayName="FrameworkContext";function VY(){let e=A.useContext(lR);return oR(e,"You must render this element inside a <HydratedRouter> element"),e}function Bce(e,t){let r=A.useContext(lR),[n,a]=A.useState(!1),[i,s]=A.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=t,p=A.useRef(null);A.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=w=>{w.forEach(_=>{s(_.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),A.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{a(!0)},y=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:Pm(o,v),onBlur:Pm(l,y),onMouseEnter:Pm(u,v),onMouseLeave:Pm(f,y),onTouchStart:Pm(d,v)}]:[!1,p,{}]}function Pm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $ce({page:e,...t}){let{router:r}=HY(),n=A.useMemo(()=>cu(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?A.createElement(Fce,{page:e,matches:n,...t}):null}function zce(e){let{manifest:t,routeModules:r}=VY(),[n,a]=A.useState([]);return A.useEffect(()=>{let i=!1;return Oce(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function Fce({page:e,matches:t,...r}){let n=ho(),{manifest:a,routeModules:i}=VY(),{basename:s}=HY(),{loaderData:o,matches:l}=Ice(),u=A.useMemo(()=>I6(e,t,l,a,n,"data"),[e,t,l,a,n]),f=A.useMemo(()=>I6(e,t,l,a,n,"assets"),[e,t,l,a,n]),d=A.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(w=>{var T;let _=a.routes[w.route.id];!_||!_.hasLoader||(!u.some(M=>M.route.id===w.route.id)&&w.route.id in o&&((T=i[w.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?x=!0:y.add(w.route.id))}),y.size===0)return[];let b=Ece(e,s,"data");return x&&y.size>0&&b.searchParams.set("_routes",t.filter(w=>y.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[s,o,n,a,u,t,e,i]),p=A.useMemo(()=>Pce(f,a),[f,a]),v=zce(f);return A.createElement(A.Fragment,null,d.map(y=>A.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>A.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:x})=>A.createElement("link",{key:y,nonce:r.nonce,...x})))}function Uce(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var qY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qY&&(window.__reactRouterVersion="7.9.4")}catch{}function Hce(e,t){return Aue({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:Gle({window:t==null?void 0:t.window}),hydrationData:Vce(),routes:e,mapRouteProperties:hce,hydrationRouteProperties:pce,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Vce(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:qce(e.errors)}),e}function qce(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new w1(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let s=new i(a.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let i=new Error(a.message);i.stack="",r[n]=i}}else r[n]=a;return r}var GY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WY=A.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:f,viewTransition:d,...p},v){let{basename:y}=A.useContext(fo),x=typeof u=="string"&&GY.test(u),b,w=!1;if(typeof u=="string"&&x&&(b=u,qY))try{let P=new URL(window.location.href),R=u.startsWith("//")?new URL(P.protocol+u):new URL(u),k=Xi(R.pathname,y);R.origin===P.origin&&k!=null?u=k+R.search+R.hash:w=!0}catch{Mn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Zue(u,{relative:a}),[T,M,N]=Bce(n,p),C=Kce(u,{replace:s,state:o,target:l,preventScrollReset:f,relative:a,viewTransition:d});function j(P){t&&t(P),P.defaultPrevented||C(P)}let O=A.createElement("a",{...p,...N,href:b||_,onClick:w||i?t:j,ref:Uce(v,M),target:l,"data-discover":!x&&r==="render"?"true":void 0});return T&&!x?A.createElement(A.Fragment,null,O,A.createElement($ce,{page:_})):O});WY.displayName="Link";var RD=A.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},f){let d=M0(s,{relative:u.relative}),p=ho(),v=A.useContext(N0),{navigator:y,basename:x}=A.useContext(fo),b=v!=null&&Jce(d)&&o===!0,w=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,_=p.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(_=_.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&x&&(T=Xi(T,x)||T);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=_===w||!a&&_.startsWith(w)&&_.charAt(M)==="/",C=T!=null&&(T===w||!a&&T.startsWith(w)&&T.charAt(w.length)==="/"),j={isActive:N,isPending:C,isTransitioning:b},O=N?t:void 0,P;typeof n=="function"?P=n(j):P=[n,N?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(j):i;return A.createElement(WY,{...u,"aria-current":O,className:P,ref:f,style:R,to:s,viewTransition:o},typeof l=="function"?l(j):l)});RD.displayName="NavLink";var Gce=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=qb,action:o,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:d,...p},v)=>{let y=Zce(),x=Qce(o,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&GY.test(o),_=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,N=(M==null?void 0:M.getAttribute("formmethod"))||s;y(M||T.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:i,relative:u,preventScrollReset:f,viewTransition:d})};return A.createElement("form",{ref:v,method:b,action:x,onSubmit:n?l:_,...p,"data-discover":!w&&e==="render"?"true":void 0})});Gce.displayName="Form";function Wce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KY(e){let t=A.useContext(kf);return dr(t,Wce(e)),t}function Kce(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=po(),l=ho(),u=M0(e,{relative:i});return A.useCallback(f=>{if(Tce(f,t)){f.preventDefault();let d=r!==void 0?r:Ru(l)===Ru(u);o(e,{replace:d,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,u,r,n,t,e,a,i,s])}function gS(e){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(kD(e)),r=A.useRef(!1),n=ho(),a=A.useMemo(()=>Cce(n.search,r.current?null:t.current),[n.search]),i=po(),s=A.useCallback((o,l)=>{const u=kD(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+u,l)},[i,a]);return[a,s]}var Yce=0,Xce=()=>`__${String(++Yce)}__`;function Zce(){let{router:e}=KY("useSubmit"),{basename:t}=A.useContext(fo),r=cce();return A.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:l,body:u}=Mce(n,t);if(a.navigate===!1){let f=a.fetcherKey||Xce();await e.fetch(f,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function Qce(e,{relative:t}={}){let{basename:r}=A.useContext(fo),n=A.useContext(Ns);dr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...M0(e||".",{relative:t})},s=ho();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let f=o.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Js([r,i.pathname])),Ru(i)}function Jce(e,{relative:t}={}){let r=A.useContext(rR);dr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=KY("useViewTransitionState"),a=M0(e,{relative:t});if(!r.isTransitioning)return!1;let i=Xi(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Xi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return b1(a.pathname,s)!=null||b1(a.pathname,i)!=null}var efe=wY();function tfe(e){return A.createElement(vce,{flushSync:efe.flushSync,...e})}var yS=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rfe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},hu,Yk,dY,nfe=(dY=class{constructor(){gr(this,hu,rfe);gr(this,Yk,!1)}setTimeoutProvider(e){Kt(this,hu,e)}setTimeout(e,t){return Ze(this,hu).setTimeout(e,t)}clearTimeout(e){Ze(this,hu).clearTimeout(e)}setInterval(e,t){return Ze(this,hu).setInterval(e,t)}clearInterval(e){Ze(this,hu).clearInterval(e)}},hu=new WeakMap,Yk=new WeakMap,dY),LD=new nfe;function afe(e){setTimeout(e,0)}var xS=typeof window>"u"||"Deno"in globalThis;function ps(){}function ife(e,t){return typeof e=="function"?e(t):e}function sfe(e){return typeof e=="number"&&e>=0&&e!==1/0}function ofe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ID(e,t){return typeof e=="function"?e(t):e}function lfe(e,t){return typeof e=="function"?e(t):e}function B6(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==uR(s,t.options))return!1}else if(!pg(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function $6(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hg(t.options.mutationKey)!==hg(i))return!1}else if(!pg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function uR(e,t){return((t==null?void 0:t.queryKeyHashFn)||hg)(e)}function hg(e){return JSON.stringify(e,(t,r)=>BD(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function pg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pg(e[r],t[r])):!1}var ufe=Object.prototype.hasOwnProperty;function YY(e,t){if(e===t)return e;const r=z6(e)&&z6(t);if(!r&&!(BD(e)&&BD(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const f=r?u:i[u],d=e[f],p=t[f];if(d===p){o[f]=d,(r?u<a:ufe.call(e,f))&&l++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){o[f]=p;continue}const v=YY(d,p);o[f]=v,v===d&&l++}return a===s&&l===a?e:o}function z6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function BD(e){if(!F6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!F6(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function F6(e){return Object.prototype.toString.call(e)==="[object Object]"}function cfe(e){return new Promise(t=>{LD.setTimeout(t,e)})}function ffe(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?YY(e,t):t}function dfe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hfe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var cR=Symbol();function XY(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var nf,pu,Lh,hY,pfe=(hY=class extends yS{constructor(){super();gr(this,nf);gr(this,pu);gr(this,Lh);Kt(this,Lh,t=>{if(!xS&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ze(this,pu)||this.setEventListener(Ze(this,Lh))}onUnsubscribe(){var t;this.hasListeners()||((t=Ze(this,pu))==null||t.call(this),Kt(this,pu,void 0))}setEventListener(t){var r;Kt(this,Lh,t),(r=Ze(this,pu))==null||r.call(this),Kt(this,pu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ze(this,nf)!==t&&(Kt(this,nf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ze(this,nf)=="boolean"?Ze(this,nf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},nf=new WeakMap,pu=new WeakMap,Lh=new WeakMap,hY),ZY=new pfe;function mfe(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var vfe=afe;function gfe(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=vfe;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ba=gfe(),Ih,mu,Bh,pY,yfe=(pY=class extends yS{constructor(){super();gr(this,Ih,!0);gr(this,mu);gr(this,Bh);Kt(this,Bh,t=>{if(!xS&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ze(this,mu)||this.setEventListener(Ze(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=Ze(this,mu))==null||t.call(this),Kt(this,mu,void 0))}setEventListener(t){var r;Kt(this,Bh,t),(r=Ze(this,mu))==null||r.call(this),Kt(this,mu,t(this.setOnline.bind(this)))}setOnline(t){Ze(this,Ih)!==t&&(Kt(this,Ih,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ze(this,Ih)}},Ih=new WeakMap,mu=new WeakMap,Bh=new WeakMap,pY),_1=new yfe;function xfe(e){return Math.min(1e3*2**e,3e4)}function QY(e){return(e??"online")==="online"?_1.isOnline():!0}var $D=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function JY(e){let t=!1,r=0,n;const a=mfe(),i=()=>a.status!=="pending",s=x=>{var b;if(!i()){const w=new $D(x);p(w),(b=e.onCancel)==null||b.call(e,w)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>ZY.isFocused()&&(e.networkMode==="always"||_1.isOnline())&&e.canRun(),f=()=>QY(e.networkMode)&&e.canRun(),d=x=>{i()||(n==null||n(),a.resolve(x))},p=x=>{i()||(n==null||n(),a.reject(x))},v=()=>new Promise(x=>{var b;n=w=>{(i()||u())&&x(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var x;n=void 0,i()||(x=e.onContinue)==null||x.call(e)}),y=()=>{if(i())return;let x;const b=r===0?e.initialPromise:void 0;try{x=b??e.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(d).catch(w=>{var C;if(i())return;const _=e.retry??(xS?0:3),T=e.retryDelay??xfe,M=typeof T=="function"?T(r,w):T,N=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,w);if(t||!N){p(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),cfe(M).then(()=>u()?void 0:v()).then(()=>{t?p(w):y()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:l,canStart:f,start:()=>(f()?y():v().then(y),a)}}var af,mY,eX=(mY=class{constructor(){gr(this,af)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sfe(this.gcTime)&&Kt(this,af,LD.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xS?1/0:300*1e3))}clearGcTimeout(){Ze(this,af)&&(LD.clearTimeout(Ze(this,af)),Kt(this,af,void 0))}},af=new WeakMap,mY),sf,$h,Li,of,Gn,_0,lf,ms,Ho,vY,bfe=(vY=class extends eX{constructor(t){super();gr(this,ms);gr(this,sf);gr(this,$h);gr(this,Li);gr(this,of);gr(this,Gn);gr(this,_0);gr(this,lf);Kt(this,lf,!1),Kt(this,_0,t.defaultOptions),this.setOptions(t.options),this.observers=[],Kt(this,of,t.client),Kt(this,Li,Ze(this,of).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Kt(this,sf,U6(this.options)),this.state=t.state??Ze(this,sf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ze(this,Gn))==null?void 0:t.promise}setOptions(t){if(this.options={...Ze(this,_0),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=U6(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),Kt(this,sf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ze(this,Li).remove(this)}setData(t,r){const n=ffe(this.state.data,t,this.options);return ia(this,ms,Ho).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ia(this,ms,Ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=Ze(this,Gn))==null?void 0:n.promise;return(a=Ze(this,Gn))==null||a.cancel(t),r?r.then(ps).catch(ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ze(this,sf))}isActive(){return this.observers.some(t=>lfe(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ID(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ofe(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ze(this,Gn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ze(this,Gn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ze(this,Li).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ze(this,Gn)&&(Ze(this,lf)?Ze(this,Gn).cancel({revert:!0}):Ze(this,Gn).cancelRetry()),this.scheduleGc()),Ze(this,Li).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ia(this,ms,Ho).call(this,{type:"invalidate"})}async fetch(t,r){var l,u,f,d,p,v,y,x,b,w,_,T;if(this.state.fetchStatus!=="idle"&&((l=Ze(this,Gn))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ze(this,Gn))return Ze(this,Gn).continueRetry(),Ze(this,Gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const M=this.observers.find(N=>N.options.queryFn);M&&this.setOptions(M.options)}const n=new AbortController,a=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(Kt(this,lf,!0),n.signal)})},i=()=>{const M=XY(this.options,r),C=(()=>{const j={client:Ze(this,of),queryKey:this.queryKey,meta:this.meta};return a(j),j})();return Kt(this,lf,!1),this.options.persister?this.options.persister(M,C,this):M(C)},o=(()=>{const M={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ze(this,of),state:this.state,fetchFn:i};return a(M),M})();(u=this.options.behavior)==null||u.onFetch(o,this),Kt(this,$h,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&ia(this,ms,Ho).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),Kt(this,Gn,JY({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:M=>{M instanceof $D&&M.revert&&this.setState({...Ze(this,$h),fetchStatus:"idle"}),n.abort()},onFail:(M,N)=>{ia(this,ms,Ho).call(this,{type:"failed",failureCount:M,error:N})},onPause:()=>{ia(this,ms,Ho).call(this,{type:"pause"})},onContinue:()=>{ia(this,ms,Ho).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const M=await Ze(this,Gn).start();if(M===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(M),(v=(p=Ze(this,Li).config).onSuccess)==null||v.call(p,M,this),(x=(y=Ze(this,Li).config).onSettled)==null||x.call(y,M,this.state.error,this),M}catch(M){if(M instanceof $D){if(M.silent)return Ze(this,Gn).promise;if(M.revert){if(this.state.data===void 0)throw M;return this.state.data}}throw ia(this,ms,Ho).call(this,{type:"error",error:M}),(w=(b=Ze(this,Li).config).onError)==null||w.call(b,M,this),(T=(_=Ze(this,Li).config).onSettled)==null||T.call(_,this.state.data,M,this),M}finally{this.scheduleGc()}}},sf=new WeakMap,$h=new WeakMap,Li=new WeakMap,of=new WeakMap,Gn=new WeakMap,_0=new WeakMap,lf=new WeakMap,ms=new WeakSet,Ho=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wfe(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Kt(this,$h,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ba.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ze(this,Li).notify({query:this,type:"updated",action:t})})},vY);function wfe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QY(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function U6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function H6(e){return{onFetch:(t,r)=>{var f,d,p,v,y;const n=t.options,a=(p=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let x=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},w=XY(t.options,t.fetchOptions),_=async(T,M,N)=>{if(x)return Promise.reject();if(M==null&&T.pages.length)return Promise.resolve(T);const j=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:M,direction:N?"backward":"forward",meta:t.options.meta};return b(k),k})(),O=await w(j),{maxPages:P}=t.options,R=N?hfe:dfe;return{pages:R(T.pages,O,P),pageParams:R(T.pageParams,M,P)}};if(a&&i.length){const T=a==="backward",M=T?Sfe:V6,N={pages:i,pageParams:s},C=M(n,N);o=await _(N,C,T)}else{const T=e??i.length;do{const M=l===0?s[0]??n.initialPageParam:V6(n,o);if(l>0&&M==null)break;o=await _(o,M),l++}while(l<T)}return o};t.options.persister?t.fetchFn=()=>{var x,b;return(b=(x=t.options).persister)==null?void 0:b.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function V6(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Sfe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var T0,zs,ya,uf,Fs,ru,gY,_fe=(gY=class extends eX{constructor(t){super();gr(this,Fs);gr(this,T0);gr(this,zs);gr(this,ya);gr(this,uf);Kt(this,T0,t.client),this.mutationId=t.mutationId,Kt(this,ya,t.mutationCache),Kt(this,zs,[]),this.state=t.state||Tfe(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ze(this,zs).includes(t)||(Ze(this,zs).push(t),this.clearGcTimeout(),Ze(this,ya).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Kt(this,zs,Ze(this,zs).filter(r=>r!==t)),this.scheduleGc(),Ze(this,ya).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ze(this,zs).length||(this.state.status==="pending"?this.scheduleGc():Ze(this,ya).remove(this))}continue(){var t;return((t=Ze(this,uf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,u,f,d,p,v,y,x,b,w,_,T,M,N,C,j,O,P;const r=()=>{ia(this,Fs,ru).call(this,{type:"continue"})},n={client:Ze(this,T0),meta:this.options.meta,mutationKey:this.options.mutationKey};Kt(this,uf,JY({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,k)=>{ia(this,Fs,ru).call(this,{type:"failed",failureCount:R,error:k})},onPause:()=>{ia(this,Fs,ru).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ze(this,ya).canRun(this)}));const a=this.state.status==="pending",i=!Ze(this,uf).canStart();try{if(a)r();else{ia(this,Fs,ru).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=Ze(this,ya).config).onMutate)==null?void 0:o.call(s,t,this,n));const k=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t,n));k!==this.state.context&&ia(this,Fs,ru).call(this,{type:"pending",context:k,variables:t,isPaused:i})}const R=await Ze(this,uf).start();return await((d=(f=Ze(this,ya).config).onSuccess)==null?void 0:d.call(f,R,t,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,R,t,this.state.context,n)),await((x=(y=Ze(this,ya).config).onSettled)==null?void 0:x.call(y,R,null,this.state.variables,this.state.context,this,n)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,R,null,t,this.state.context,n)),ia(this,Fs,ru).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(_=Ze(this,ya).config).onError)==null?void 0:T.call(_,R,t,this.state.context,this,n)),await((N=(M=this.options).onError)==null?void 0:N.call(M,R,t,this.state.context,n)),await((j=(C=Ze(this,ya).config).onSettled)==null?void 0:j.call(C,void 0,R,this.state.variables,this.state.context,this,n)),await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,R,t,this.state.context,n)),R}finally{ia(this,Fs,ru).call(this,{type:"error",error:R})}}finally{Ze(this,ya).runNext(this)}}},T0=new WeakMap,zs=new WeakMap,ya=new WeakMap,uf=new WeakMap,Fs=new WeakSet,ru=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ba.batch(()=>{Ze(this,zs).forEach(n=>{n.onMutationUpdate(t)}),Ze(this,ya).notify({mutation:this,type:"updated",action:t})})},gY);function Tfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wo,vs,C0,yY,Cfe=(yY=class extends yS{constructor(t={}){super();gr(this,Wo);gr(this,vs);gr(this,C0);this.config=t,Kt(this,Wo,new Set),Kt(this,vs,new Map),Kt(this,C0,0)}build(t,r,n){const a=new _fe({client:t,mutationCache:this,mutationId:++lx(this,C0)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){Ze(this,Wo).add(t);const r=hx(t);if(typeof r=="string"){const n=Ze(this,vs).get(r);n?n.push(t):Ze(this,vs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ze(this,Wo).delete(t)){const r=hx(t);if(typeof r=="string"){const n=Ze(this,vs).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&Ze(this,vs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=hx(t);if(typeof r=="string"){const n=Ze(this,vs).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=hx(t);if(typeof r=="string"){const a=(n=Ze(this,vs).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ba.batch(()=>{Ze(this,Wo).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ze(this,Wo).clear(),Ze(this,vs).clear()})}getAll(){return Array.from(Ze(this,Wo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$6(r,n))}findAll(t={}){return this.getAll().filter(r=>$6(t,r))}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ba.batch(()=>Promise.all(t.map(r=>r.continue().catch(ps))))}},Wo=new WeakMap,vs=new WeakMap,C0=new WeakMap,yY);function hx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Us,xY,Nfe=(xY=class extends yS{constructor(t={}){super();gr(this,Us);this.config=t,Kt(this,Us,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??uR(a,r);let s=this.get(i);return s||(s=new bfe({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){Ze(this,Us).has(t.queryHash)||(Ze(this,Us).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ze(this,Us).get(t.queryHash);r&&(t.destroy(),r===t&&Ze(this,Us).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ba.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ze(this,Us).get(t)}getAll(){return[...Ze(this,Us).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>B6(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>B6(t,n)):r}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ba.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ba.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Us=new WeakMap,xY),mn,vu,gu,zh,Fh,yu,Uh,Hh,bY,Afe=(bY=class{constructor(e={}){gr(this,mn);gr(this,vu);gr(this,gu);gr(this,zh);gr(this,Fh);gr(this,yu);gr(this,Uh);gr(this,Hh);Kt(this,mn,e.queryCache||new Nfe),Kt(this,vu,e.mutationCache||new Cfe),Kt(this,gu,e.defaultOptions||{}),Kt(this,zh,new Map),Kt(this,Fh,new Map),Kt(this,yu,0)}mount(){lx(this,yu)._++,Ze(this,yu)===1&&(Kt(this,Uh,ZY.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ze(this,mn).onFocus())})),Kt(this,Hh,_1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ze(this,mn).onOnline())})))}unmount(){var e,t;lx(this,yu)._--,Ze(this,yu)===0&&((e=Ze(this,Uh))==null||e.call(this),Kt(this,Uh,void 0),(t=Ze(this,Hh))==null||t.call(this),Kt(this,Hh,void 0))}isFetching(e){return Ze(this,mn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ze(this,vu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ze(this,mn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ze(this,mn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ID(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ze(this,mn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=Ze(this,mn).get(n.queryHash),i=a==null?void 0:a.state.data,s=ife(t,i);if(s!==void 0)return Ze(this,mn).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ba.batch(()=>Ze(this,mn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ze(this,mn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ze(this,mn);ba.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ze(this,mn);return ba.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ba.batch(()=>Ze(this,mn).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ps).catch(ps)}invalidateQueries(e,t={}){return ba.batch(()=>(Ze(this,mn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ba.batch(()=>Ze(this,mn).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ps)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ze(this,mn).build(this,t);return r.isStaleByTime(ID(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ps).catch(ps)}fetchInfiniteQuery(e){return e.behavior=H6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ps).catch(ps)}ensureInfiniteQueryData(e){return e.behavior=H6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _1.isOnline()?Ze(this,vu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ze(this,mn)}getMutationCache(){return Ze(this,vu)}getDefaultOptions(){return Ze(this,gu)}setDefaultOptions(e){Kt(this,gu,e)}setQueryDefaults(e,t){Ze(this,zh).set(hg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ze(this,zh).values()],r={};return t.forEach(n=>{pg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ze(this,Fh).set(hg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ze(this,Fh).values()],r={};return t.forEach(n=>{pg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ze(this,gu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ze(this,gu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ze(this,mn).clear(),Ze(this,vu).clear()}},mn=new WeakMap,vu=new WeakMap,gu=new WeakMap,zh=new WeakMap,Fh=new WeakMap,yu=new WeakMap,Uh=new WeakMap,Hh=new WeakMap,bY),Mfe=A.createContext(void 0),Efe=({client:e,children:t})=>(A.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),m.jsx(Mfe.Provider,{value:e,children:t}));const tX=A.createContext(null),jfe=3600;let Dfe=0;const q6={success:"bg-emerald-500 text-white",error:"bg-rose-500 text-white",info:"bg-slate-800 text-white"},Ofe=({children:e})=>{const[t,r]=A.useState([]),n=A.useRef(new Map),a=A.useCallback(l=>{r(f=>f.filter(d=>d.id!==l));const u=n.current.get(l);u&&(window.clearTimeout(u),n.current.delete(l))},[]),i=A.useCallback((l,u)=>{const f=window.setTimeout(()=>{a(l)},u);n.current.set(l,f)},[a]),s=A.useCallback((l,u={})=>{if(!l)return;const f=++Dfe,d=u.tone??"info",p={id:f,message:l,description:u.description,tone:d};r(y=>[...y,p]);const v=Math.max(0,u.duration??jfe);v>0&&i(f,v)},[i]);A.useEffect(()=>()=>{n.current.forEach(l=>{window.clearTimeout(l)}),n.current.clear()},[]);const o=A.useMemo(()=>({showToast:s}),[s]);return m.jsxs(tX.Provider,{value:o,children:[e,m.jsx(Pfe,{toasts:t,onDismiss:a})]})},Pfe=({toasts:e,onDismiss:t})=>e.length===0?null:m.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-4 z-50 flex flex-col items-center gap-3 px-4",children:e.map(r=>{const n=q6[r.tone]??q6.info;return m.jsxs("div",{className:`pointer-events-auto flex max-w-sm flex-col gap-2 rounded-md px-4 py-3 text-sm shadow-lg transition-opacity duration-300 ${n}`,children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsx("span",{className:"flex-1 whitespace-pre-line font-medium",children:r.message}),m.jsx("button",{type:"button",className:"rounded bg-white/15 px-2 py-1 text-xs font-medium text-white hover:bg-white/25 focus:outline-none focus-visible:ring",onClick:()=>t(r.id),children:""})]}),r.description?m.jsx("p",{className:"text-xs text-white/80",children:r.description}):null]},r.id)})});function As(){const e=A.useContext(tX);if(!e)throw new Error("useToast ToastProvider    .");return e.showToast}const zD="stockwise:inventory-refresh",fR=e=>{if(typeof window>"u")return;const t=new CustomEvent(zD,{detail:e});window.dispatchEvent(t)},kfe=e=>{if(typeof window>"u")return()=>{};const t=r=>{e(r)};return window.addEventListener(zD,t),()=>window.removeEventListener(zD,t)},fN="/api",nu="  .     .",Rfe="     .",Lfe=new Set(["ok","okay","success","request failed","failed to fetch","network error","networkerror when attempting to fetch resource.","internal server error","bad request","forbidden","unauthorized"]),Ife="  .   .";function Bfe(){try{return import.meta.env??{}}catch{return{}}}function G6(e){return e.replace(/\/+$/,"")}const $fe="tauri.localhost",zfe="https://asdfasdf-api.onrender.com/api";function Ffe(){var r,n;const t=(r=Bfe().VITE_API_URL)==null?void 0:r.trim();if(!t)return typeof window<"u"&&((n=window.location)==null?void 0:n.hostname)===$fe?zfe:void 0;try{const a=new URL(t),i=a.pathname.replace(/\/+$/,"");return a.pathname=i||"/",G6(`${a.origin}${a.pathname}`)}catch{return G6(t)}}const px=Ffe();function Ufe(e){return e==null?!1:typeof e=="string"||typeof FormData<"u"&&e instanceof FormData||typeof Blob<"u"&&e instanceof Blob||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof URLSearchParams<"u"&&e instanceof URLSearchParams||typeof ReadableStream<"u"&&e instanceof ReadableStream}function Hfe(e={},t){const r=new Headers(e);return t&&!r.has("content-type")&&r.set("content-type","application/json"),r}function Vfe(e){if(/^https?:\/\//i.test(e))return e;if(px){const t=e.startsWith("/")?e:`/${e}`,r=px.toLowerCase().endsWith("/api");if(t.startsWith("/api")){const n=r?t.slice(4):t;return`${px}${n}`}return`${px}${t}`}return e.startsWith(fN)?e:e.startsWith("/")?`${fN}${e}`:`${fN}/${e}`}function qfe(e){const t=e.trim();if(!t||!t.startsWith("<"))return!1;const r=t.toLowerCase();return r.startsWith("<!doctype")||r.startsWith("<html")||/^<\w[\w-]*[\s>]/.test(r)}function xv(e){if(!e)return;const t=e.trim();if(!t||qfe(t))return;const r=t.toLowerCase();if(!Lfe.has(r))return t}function W6(e){if(e){if(typeof e=="string")return xv(e);if(typeof e=="object"){if("message"in e&&typeof e.message=="string")return xv(e.message);if("error"in e){const t=e.error;if(typeof t=="string"&&t.trim())return xv(t);if(t&&typeof t=="object"&&"message"in t){const r=t.message;if(typeof r=="string"&&r.trim())return xv(r)}}}}}function Gfe(e){return!!(e&&typeof e=="object"&&"success"in e&&!e.success)}async function Wfe(e,t){if(!t){const r=await e.text();return{payload:r,rawText:r}}try{return{payload:await e.clone().json()}}catch{const r=await e.text();if(!r)return{payload:void 0,rawText:""};try{return{payload:JSON.parse(r),rawText:r}}catch{return{payload:{success:!1,error:{code:e.status,message:xv(r)??nu}},rawText:r}}}}function Kfe(e,t){return Ufe(e)?(e instanceof FormData&&t.delete("content-type"),e):e===void 0?"":JSON.stringify(e)}function Sd(e,t,r){const n=new Error(e);return n.name="HttpError",n.status=t,n.payload=r,n}async function ts(e,t={}){var L,I,$;const{method:r="GET",body:n,headers:a={},idempotencyKey:i,signal:s,timeoutMs:o,...l}=t,u=n!==void 0,f=Hfe(a,u);n instanceof FormData&&f.has("content-type")&&f.delete("content-type"),i&&f.set("idempotency-key",i);const d=new AbortController;let p=null,v=null,y=!1;const x=F=>{if(!d.signal.aborted){if(F!==void 0)try{d.abort(F);return}catch{}d.abort()}};if(s){const F=()=>s.reason;s.aborted?x(F()):(v=()=>{x(F())},s.addEventListener("abort",v))}typeof o=="number"&&o>0&&(p=setTimeout(()=>{y=!0,x()},o));const b=()=>{v&&s&&(s.removeEventListener("abort",v),v=null),p!==null&&(clearTimeout(p),p=null)},w={...l,method:r,headers:f,signal:d.signal};u&&(w.body=Kfe(n,f));let _;try{_=await fetch(Vfe(e),w)}catch(F){b();const z=F==null?void 0:F.name;if(typeof DOMException<"u"&&F instanceof DOMException&&F.name==="AbortError"||z==="AbortError"){const Y=Sd(y?Ife:nu,0,void 0);throw Y.cause=F,Y}const q=Sd(nu,0,void 0);throw q.cause=F,q}b();const T=_.status,N=(((L=_.headers.get("content-type"))==null?void 0:L.toLowerCase())??"").includes("application/json");if(T===204||T===205){if(!_.ok){const F=(I=_.statusText)!=null&&I.trim()?`${T} ${_.statusText}`:`${T}`;throw Sd(`${nu} (HTTP ${F})`,T,void 0)}return}const{payload:C,rawText:j}=await Wfe(_,N);if(_.ok){if(!N){if(j&&j.trim())throw Sd(Rfe,T,j);return}if(Gfe(C)){const z=typeof C.error=="object"?C.error.code:void 0,V=W6(C)??nu;throw Sd(V,z??T,C)}return C===void 0?void 0:typeof C=="object"&&C!==null&&"data"in C?C.data??C:C}const P=W6(C??j)??nu,R=($=_.statusText)!=null&&$.trim()?`${T} ${_.statusText}`:`${T}`,k=P&&P!==nu?P:`${nu} (HTTP ${R})`;throw Sd(k,T,C??j)}const rX="/api",Go=e=>e.replace(/\/+$/,""),Yfe=e=>{const t=Go(e);return t?t.startsWith("/")?t:`/${t}`:""},_d=Yfe(rX),Xfe=()=>{try{const e=import.meta;if(e&&typeof e=="object"&&"env"in e)return e.env??{}}catch{}return{}},Zfe="tauri.localhost",Qfe="https://stock-chat-ver.onrender.com/api",Jfe=()=>{var t;const e=(Xfe().VITE_API_URL??"").trim();if(e){const r=Go(e);if(nX(r))try{const n=new URL(r),a=Go(n.pathname);n.pathname=a||_d;const i=n.search??"",s=`${n.origin}${Go(n.pathname)}${i}`;return Go(s)||Go(`${n.origin}${_d}`)}catch{return console.warn("[resolveBaseURL] Failed to parse VITE_API_URL, using raw value."),r||_d}return!r||r==="/"?_d:r}return typeof window<"u"&&((t=window.location)!=null&&t.origin)?window.location.hostname===Zfe?Qfe:`${Go(window.location.origin)}${_d}`:_d||rX},ede=Jfe(),nX=e=>/^[a-z]+:\/\//i.test(e),aX=(e,t=ede)=>{const r=e.startsWith("/")?e:`/${e}`;if(!t)return r;if(nX(t)){const a=Go(t);try{const i=new URL(a),s=i.pathname.replace(/\/+$/,"");let o=r;s.endsWith("/api")&&r.startsWith("/api/")&&(o=r.replace(/^\/api/,"")||"/");const u=`${s}${(f=>f.startsWith("/")?f:`/${f}`)(o)}`||"/";return`${i.origin}${u}`}catch{return`${a}${r}`}}const n=Go(t);return!n||r.startsWith(`${n}/`)?r:`${n}${r}`};function tde(e){if(!e)return"";const t=new URLSearchParams;Object.entries(e).forEach(([n,a])=>{if(a==null)return;if(Array.isArray(a)){a.forEach(s=>{s!=null&&t.append(n,String(s))});return}const i=typeof a=="string"?a.trim():a;i!==""&&t.set(n,String(i))});const r=t.toString();return r?`?${r}`:""}class ah extends Error{constructor(t,r,n){super(t),this.status=r,this.details=n,this.name="ApiError"}}function rde(e){return!!e&&typeof e=="object"&&"status"in e}async function bS(e,t={}){const{method:r="GET",headers:n,...a}=t,i=new Headers(n);i.has("accept")||i.set("accept","application/json, text/plain, */*");try{return await ts(aX(e),{...a,method:r,headers:i})}catch(s){if(rde(s))throw new ah(s.message,s.status,s.payload);const o="API   .    VITE_API_URL  .";if(s instanceof Error){const l=s.message.trim().toLowerCase();throw l==="request failed"||l==="failed to fetch"||l==="fetch failed"?new ah(o):new ah(s.message)}throw new ah(o)}}async function aa(e,t){return bS(e,{...t,method:"GET"})}async function Hn(e,t,r){return bS(e,{...r,method:(r==null?void 0:r.method)??"POST",body:t===void 0?r==null?void 0:r.body:t})}async function dR(e,t,r){return bS(e,{...r,method:"PUT",body:t===void 0?r==null?void 0:r.body:t})}async function nde(e,t,r){return Hn(e,t,{...r,method:"PATCH"})}async function E0(e,t){return bS(e,{...t,method:"DELETE"})}async function iX(e,t){var l;const{method:r="GET",headers:n,body:a,...i}={},s=new Headers(n);s.has("accept")||s.set("accept","application/json, text/plain, */*");const o=await fetch(aX(e),{...i,method:r,headers:s,body:a});if(!o.ok){const f=(await o.text()).trim(),d=f.startsWith("<"),v=`API  . (HTTP ${(l=o.statusText)!=null&&l.trim()?`${o.status} ${o.statusText}`:`${o.status}`})`,y=f&&!d?f:v;throw new ah(y,o.status)}return o}const ade=e=>{const t={code:e.code.trim(),warehouseCode:e.warehouseCode.trim()};if(e.description!==void 0&&(e.description===null?t.description=null:t.description=e.description.trim()),e.notes!==void 0)if(e.notes===null)t.notes=null;else{const r=e.notes.trim();t.notes=r===""?null:r}return t},ide=e=>{const t=new URLSearchParams;return e&&Object.entries(e).forEach(([r,n])=>{n!=null&&t.set(r,String(n))}),t},sde=e=>{const t=Array.isArray(e.items)?e.items:[],r=typeof e.count=="number"?e.count:t.length;return{items:t,count:r}};async function Hu(e){const r=ide(e).toString(),n=r?`/api/warehouses?${r}`:"/api/warehouses",a=await aa(n);return sde(a)}const sX=e=>{const{code:t,name:r,address:n,notes:a,...i}=e,s={...i,code:t.trim(),name:r.trim()};return n!==void 0&&(s.address=n===null?null:n.trim()),a!==void 0&&(s.notes=a===null?null:a.trim()),s},oX=e=>{if(e&&typeof e=="object"&&"item"in e){const{item:t}=e;if(t!==void 0)return t}return e};async function lX(e){const t=await Hn("/api/warehouses",sX(e));return oX(t)}async function ode(e,t){const r=sX({code:e,...t});return Hn(`/api/warehouses/${encodeURIComponent(r.code)}`,r,{method:"PUT"})}async function lde(e){return E0(`/api/warehouses/${encodeURIComponent(e)}`)}async function ude(e){const t=await Hn("/api/locations",ade(e));return oX(t)}function cde(e){const t=new URLSearchParams;e!=null&&e.productId&&t.set("productId",String(e.productId)),e!=null&&e.warehouseId&&t.set("warehouseId",String(e.warehouseId));const r=t.toString(),n=r?`/api/levels?${r}`:"/api/levels";return aa(n)}function fde(e){return aa(`/api/forecast/${e}`)}function dde(e,t){return Hn(`/api/forecast/${e}/insights`,t)}function hde(e){return Hn("/api/chat",e)}const hR="stock-console:chatbot",pde=20,dN=()=>typeof crypto<"u"&&"randomUUID"in crypto&&crypto.randomUUID()||`msg-${Date.now()}-${Math.random().toString(16).slice(2)}`,K6=()=>{if(typeof window>"u")return{messages:[]};try{const e=window.localStorage.getItem(hR);if(!e)return{messages:[]};const t=JSON.parse(e);return!t||!Array.isArray(t.messages)?{messages:[]}:{sessionId:typeof t.sessionId=="string"?t.sessionId:void 0,messages:t.messages.filter(r=>r&&typeof r.content=="string"&&(r.role==="user"||r.role==="assistant"))}}catch{return{messages:[]}}},mde=e=>{if(!(typeof window>"u"))try{const t={...e,messages:e.messages.slice(-pde)};window.localStorage.setItem(hR,JSON.stringify(t))}catch{}},vde=()=>{const e=ho(),t=As(),[r,n]=A.useState(!1),[a,i]=A.useState(""),[s,o]=A.useState(!1),[l,u]=A.useState(()=>K6().sessionId),[f,d]=A.useState(()=>K6().messages),p=A.useRef(null);A.useEffect(()=>{mde({sessionId:l,messages:f})},[f,l]),A.useEffect(()=>{r&&p.current&&(p.current.scrollTop=p.current.scrollHeight)},[f,r]);const v=A.useMemo(()=>({id:"placeholder",role:"assistant",content:`! //    .
) "A   "  "   "`,createdAt:Date.now()}),[]),y=N=>N.slice(-12).map(C=>({role:C.role,content:C.content})),x=async()=>{var O;const N=a.trim();if(!N||s)return;const C={id:dN(),role:"user",content:N,createdAt:Date.now()},j=[...f,C];d(j),i(""),o(!0);try{const P=await hde({sessionId:l,messages:y(j),context:{page:e.pathname}});u(P.sessionId);const R=(O=P.reply)==null?void 0:O.trim();if(R){const k={id:dN(),role:"assistant",content:R,createdAt:Date.now()};d(L=>[...L,k])}}catch(P){const R=P instanceof ah&&P.message?P.message:"   .    .";t(R,{tone:"error"});const k={id:dN(),role:"assistant",content:R,createdAt:Date.now()};d(L=>[...L,k])}finally{o(!1)}},b=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),x())},w=N=>{const C=N.role==="user",j=C?"bg-indigo-600 text-white":"bg-white text-slate-900 ring-1 ring-slate-200",O=C?"justify-end":"justify-start",P=C?"":"AI";return m.jsxs("div",{className:`flex ${O} gap-2`,children:[!C&&m.jsx("div",{className:"mt-1 h-7 w-7 shrink-0 rounded-full bg-indigo-100 text-center text-xs font-semibold leading-7 text-indigo-700",children:P}),m.jsx("div",{className:`max-w-[80%] whitespace-pre-line rounded-2xl px-3 py-2 text-sm shadow-sm ${j}`,"aria-label":`${P} message`,children:N.content}),C&&m.jsx("div",{className:"mt-1 h-7 w-7 shrink-0 rounded-full bg-slate-100 text-center text-xs font-semibold leading-7 text-slate-600",children:P})]},N.id)},_=()=>{d([]),u(void 0),i(""),typeof window<"u"&&window.localStorage.removeItem(hR)},T=()=>{_(),n(!1)},M=()=>{if(r){T();return}n(!0)};return m.jsxs("div",{className:"pointer-events-none fixed bottom-4 right-4 z-40 flex flex-col items-end gap-3 sm:bottom-6 sm:right-6",children:[r&&m.jsxs("div",{className:"pointer-events-auto flex w-[360px] max-w-[calc(100vw-32px)] flex-col overflow-hidden rounded-2xl bg-white/95 shadow-2xl ring-1 ring-slate-200 backdrop-blur sm:w-[400px]",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:" "}),m.jsx("p",{className:"text-xs text-slate-500",children:"//  "})]}),m.jsx("button",{type:"button",className:"rounded-md px-2 py-1 text-xs font-semibold text-slate-500 hover:bg-slate-100",onClick:T,children:""})]}),m.jsx("div",{ref:p,className:"flex max-h-[60vh] flex-1 flex-col gap-3 overflow-y-auto bg-slate-50 px-4 py-4",children:(f.length>0?f:[v]).map(N=>w(N))}),m.jsx("div",{className:"border-t border-slate-200 bg-white px-4 py-3",children:m.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[m.jsx("textarea",{value:a,onChange:N=>i(N.target.value),onKeyDown:b,placeholder:" . Shift+Enter ",className:"mb-2 w-full resize-none border-none bg-transparent text-sm text-slate-900 outline-none placeholder:text-slate-400",rows:3,disabled:s}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-xs text-slate-400",children:s?"  ...":"Enter , Shift+Enter "}),m.jsx("button",{type:"button",onClick:()=>void x(),disabled:s||!a.trim(),className:`rounded-lg px-3 py-1.5 text-sm font-semibold transition ${s||!a.trim()?"cursor-not-allowed bg-slate-200 text-slate-400":"bg-indigo-600 text-white shadow-sm hover:bg-indigo-700"}`,children:""})]})]})})]}),m.jsxs("button",{type:"button",onClick:M,className:"pointer-events-auto flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-xl ring-1 ring-indigo-300 transition hover:bg-indigo-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:[m.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs font-bold",children:"?"}),m.jsx("span",{children:r?" ":" "})]})]})},gde=()=>{const[e,t]=A.useState("");return A.useEffect(()=>{fetch("/api/health").then(r=>r.json()).then(r=>{r&&r.ok,t("")}).catch(()=>{console.log("  : /api/health"),t("")})},[]),m.jsx(Ofe,{children:m.jsxs("div",{className:"flex min-h-screen flex-col bg-slate-100",children:[m.jsx("header",{className:"border-b border-slate-200 bg-white print:hidden",children:m.jsxs("div",{className:"flex w-full items-center justify-between px-6 py-4",children:[m.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:"STOCK- Console"}),m.jsxs("nav",{className:"flex items-center gap-2 text-sm",children:[m.jsx(RD,{to:"/",end:!0,className:({isActive:r})=>`rounded-md px-3 py-1.5 font-semibold transition ${r?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,children:"/ "}),m.jsx(RD,{to:"/orders",className:({isActive:r})=>`rounded-md px-3 py-1.5 font-semibold transition ${r?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,children:" "})]})]})}),m.jsxs("main",{className:"flex-1 px-6 py-6",children:[m.jsx("div",{children:e})," ",m.jsx(UY,{})]}),m.jsx(vde,{})]})})},Lu="EA",wS=["EA","BOX","PACK","BAG","KG","G","L","ML"],uX=.2,yde=()=>({productId:"",legacyProductId:0,sku:"",imageUrl:"",name:"",category:"",subCategory:"",unit:Lu,packCase:"1/10",pack:1,casePack:10,abcGrade:"B",xyzGrade:"Y",bufferRatio:uX,dailyAvg:0,dailyStd:0,totalInbound:0,totalOutbound:0,avgOutbound7d:0,isActive:!0,onHand:0,reserved:0,risk:"",supplyPrice:null,salePrice:null,referencePrice:null,currency:null,inventory:[]}),Y6="SKU",hN=8,xde=1e3,vt=e=>e.trim().toUpperCase(),bde=()=>{const e=globalThis==null?void 0:globalThis.crypto;return e&&typeof e.randomUUID=="function"?e.randomUUID().replace(/-/g,"").slice(0,hN).toUpperCase():Math.floor(Math.random()*36**hN).toString(36).toUpperCase().padStart(hN,"0")},wde=(e=[],t=Y6)=>{const r=t.trim().toUpperCase()||Y6,n=new Set;for(const a of e??[]){const i=vt(a??"");i&&n.add(i)}for(let a=0;a<xde;a+=1){const i=`${r}-${bde()}`,s=vt(i);if(!n.has(s))return s}throw new Error(" SKU  .     .")},T1=e=>Number.isFinite(e)&&e>0,Sde=(e,t)=>{const r=T1(e)?Math.floor(e):1,n=T1(t)?Math.floor(t):r;return`${r}/${n}`},_de=e=>{const[t,r]=(e??"").split("/").map(o=>o.trim()),n=Number.parseInt(t??"",10),a=Number.parseInt(r??"",10),i=T1(n)?n:1,s=T1(a)?a:i;return{pack:i,casePack:s}},Tde=e=>Number.isFinite(e)?e<0?0:e>1?1:e:uX,pN=e=>Number.isFinite(e)?Math.max(0,Math.round(e)):0,ih=e=>Number.isFinite(e)?Math.max(0,Math.round(e)):0,mN=e=>{if(!Number.isFinite(e??NaN))return null;const t=Number(e);return!Number.isFinite(t)||t<0?null:Math.round(t*100)/100},Cde=e=>!Array.isArray(e)||e.length===0?[]:e.map(t=>{var r,n;return{warehouseCode:((r=t==null?void 0:t.warehouseCode)==null?void 0:r.trim())??"",locationCode:((n=t==null?void 0:t.locationCode)==null?void 0:n.trim())??"",onHand:ih((t==null?void 0:t.onHand)??0),reserved:ih((t==null?void 0:t.reserved)??0)}}).filter(t=>t.warehouseCode||t.locationCode),pR=e=>{var n,a;const{pack:t,casePack:r}=_de(e.packCase);return{...e,productId:typeof e.productId=="string"?e.productId:"",legacyProductId:Number.isFinite(e.legacyProductId)?e.legacyProductId:0,sku:e.sku.trim(),imageUrl:((n=e.imageUrl)==null?void 0:n.trim())||void 0,name:e.name.trim(),category:e.category.trim(),subCategory:e.subCategory.trim(),brand:(()=>{var s;const i=(s=e.brand)==null?void 0:s.trim();return i||void 0})(),unit:(()=>{var s;const i=((s=e.unit)==null?void 0:s.trim().toUpperCase())??"";return wS.includes(i)?i:Lu})(),packCase:Sde(t,r),pack:t,casePack:r,bufferRatio:Tde(e.bufferRatio),dailyAvg:pN(e.dailyAvg),dailyStd:pN(e.dailyStd),totalInbound:ih(e.totalInbound??0),totalOutbound:ih(e.totalOutbound??0),avgOutbound7d:pN(e.avgOutbound7d??e.recentOutboundAvg7Days??0),onHand:ih(e.onHand),reserved:ih(e.reserved),expiryDays:(()=>{const i=e.expiryDays;return Number.isFinite(i)?Math.max(0,Math.round(i)):void 0})(),supplyPrice:mN(e.supplyPrice),salePrice:mN(e.salePrice),referencePrice:mN(e.referencePrice),currency:((a=e.currency)==null?void 0:a.trim())??null,inventory:Cde(e.inventory)}};async function Nde(e,t){return Hn(`/csv/upload?type=${e}`,{stage:"preview",content:t})}async function Ade(e,t){return Hn(`/csv/upload?type=${e}`,{stage:"commit",previewId:t})}async function Mde(e){return aa(`/csv/jobs/${e}`)}async function Ede(e){const r=await(await iX(`/csv/template?type=${e}`)).text(),n=r.startsWith("\uFEFF")?r.slice(1):r;return new Blob(["\uFEFF",n],{type:"text/csv;charset=utf-8"})}async function jde(e){const t=await iX(`/csv/jobs/${e}/errors`);return t.status===204?null:await t.blob()}function mR(e,t){if(typeof window>"u"||typeof document>"u")throw new Error("   .");const r=document.createElement("a"),n=URL.createObjectURL(e);r.href=n,r.download=t,r.rel="noreferrer",r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}async function cX(e,t){const r=await fetch(e);if(!r.ok)throw new Error("CSV   .");const n=await r.blob();mR(n,t)}const SS=e=>pR({...e,imageUrl:e.imageUrl??void 0,brand:e.brand??void 0,expiryDays:e.expiryDays??void 0,supplyPrice:e.supplyPrice,salePrice:e.salePrice,inventory:e.inventory??[],avgOutbound7d:e.avgOutbound7d,referencePrice:e.referencePrice,currency:e.currency}),fX=e=>{const t=pR(e),r={productId:t.productId||void 0,legacyProductId:t.legacyProductId||void 0,sku:t.sku,name:t.name,category:t.category,subCategory:t.subCategory,brand:t.brand,unit:t.unit,packCase:t.packCase,pack:t.pack,casePack:t.casePack,abcGrade:t.abcGrade,xyzGrade:t.xyzGrade,bufferRatio:t.bufferRatio,dailyAvg:t.dailyAvg,dailyStd:t.dailyStd,totalInbound:t.totalInbound??0,totalOutbound:t.totalOutbound??0,avgOutbound7d:t.avgOutbound7d??0,isActive:t.isActive,onHand:t.onHand,reserved:t.reserved,risk:t.risk,expiryDays:t.expiryDays,supplyPrice:t.supplyPrice,salePrice:t.salePrice,currency:t.currency??null,inventory:t.inventory&&t.inventory.length>0?t.inventory:void 0};return t.imageUrl&&(r.imageUrl=t.imageUrl),r};async function Au(e){const t=new URLSearchParams;e&&e.trim()&&t.set("q",e.trim());const r=t.toString()?`/products?${t.toString()}`:"/products";return(await ts(r,{method:"GET"})).items.map(a=>SS(a))}async function X6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("SKU  .");const r=await ts(`/products/${encodeURIComponent(t)}`,{method:"GET"});return SS(r.item)}async function Dde(e){const t=await ts("/products",{method:"POST",body:fX(e)});return SS(t.item)}async function Ode(e,t){const r=await ts(`/products/${encodeURIComponent(e)}`,{method:"PUT",body:fX(t)});return SS(r.item)}async function Z6(e){await ts(`/products/${encodeURIComponent(e)}`,{method:"DELETE"})}const dX=A.createContext({});function Pde(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const vR=typeof window<"u",kde=vR?A.useLayoutEffect:A.useEffect,gR=A.createContext(null);function yR(e,t){e.indexOf(t)===-1&&e.push(t)}function xR(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ol=(e,t,r)=>r>t?t:r<e?e:r;let bR=()=>{};const ll={},hX=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function pX(e){return typeof e=="object"&&e!==null}const mX=e=>/^0[^.\s]+$/u.test(e);function wR(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gi=e=>e,Rde=(e,t)=>r=>t(e(r)),j0=(...e)=>e.reduce(Rde),mg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class SR{constructor(){this.subscriptions=[]}add(t){return yR(this.subscriptions,t),()=>xR(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eo=e=>e*1e3,Vi=e=>e/1e3;function vX(e,t){return t?e*(1e3/t):0}const gX=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Lde=1e-7,Ide=12;function Bde(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=gX(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Lde&&++o<Ide);return s}function D0(e,t,r,n){if(e===t&&r===n)return Gi;const a=i=>Bde(i,0,1,e,r);return i=>i===0||i===1?i:gX(a(i),t,n)}const yX=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xX=e=>t=>1-e(1-t),bX=D0(.33,1.53,.69,.99),_R=xX(bX),wX=yX(_R),SX=e=>(e*=2)<1?.5*_R(e):.5*(2-Math.pow(2,-10*(e-1))),TR=e=>1-Math.sin(Math.acos(e)),_X=xX(TR),TX=yX(TR),$de=D0(.42,0,1,1),zde=D0(0,0,.58,1),CX=D0(.42,0,.58,1),Fde=e=>Array.isArray(e)&&typeof e[0]!="number",NX=e=>Array.isArray(e)&&typeof e[0]=="number",Ude={linear:Gi,easeIn:$de,easeInOut:CX,easeOut:zde,circIn:TR,circInOut:TX,circOut:_X,backIn:_R,backInOut:wX,backOut:bX,anticipate:SX},Hde=e=>typeof e=="string",Q6=e=>{if(NX(e)){bR(e.length===4);const[t,r,n,a]=e;return D0(t,r,n,a)}else if(Hde(e))return Ude[e];return e},mx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Vde(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){s.has(f)&&(u.schedule(f),e()),f(o)}const u={schedule:(f,d=!1,p=!1)=>{const y=p&&a?r:n;return d&&s.add(f),y.has(f)||y.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const qde=40;function AX(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=mx.reduce((T,M)=>(T[M]=Vde(i),T),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:f,update:d,preRender:p,render:v,postRender:y}=s,x=()=>{const T=ll.useManualTiming?a.timestamp:performance.now();r=!1,ll.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(T-a.timestamp,qde),1)),a.timestamp=T,a.isProcessing=!0,o.process(a),l.process(a),u.process(a),f.process(a),d.process(a),p.process(a),v.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(x))},b=()=>{r=!0,n=!0,a.isProcessing||e(x)};return{schedule:mx.reduce((T,M)=>{const N=s[M];return T[M]=(C,j=!1,O=!1)=>(r||b(),N.schedule(C,j,O)),T},{}),cancel:T=>{for(let M=0;M<mx.length;M++)s[mx[M]].cancel(T)},state:a,steps:s}}const{schedule:sn,cancel:Iu,state:ea,steps:vN}=AX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gi,!0);let Wb;function Gde(){Wb=void 0}const Ua={now:()=>(Wb===void 0&&Ua.set(ea.isProcessing||ll.useManualTiming?ea.timestamp:performance.now()),Wb),set:e=>{Wb=e,queueMicrotask(Gde)}},MX=e=>t=>typeof t=="string"&&t.startsWith(e),CR=MX("--"),Wde=MX("var(--"),NR=e=>Wde(e)?Kde.test(e.split("/*")[0].trim()):!1,Kde=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vg={...wp,transform:e=>ol(0,1,e)},vx={...wp,default:1},Rv=e=>Math.round(e*1e5)/1e5,AR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Yde(e){return e==null}const Xde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MR=(e,t)=>r=>!!(typeof r=="string"&&Xde.test(r)&&r.startsWith(e)||t&&!Yde(r)&&Object.prototype.hasOwnProperty.call(r,t)),EX=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(AR);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Zde=e=>ol(0,255,e),gN={...wp,transform:e=>Math.round(Zde(e))},Wc={test:MR("rgb","red"),parse:EX("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+gN.transform(e)+", "+gN.transform(t)+", "+gN.transform(r)+", "+Rv(vg.transform(n))+")"};function Qde(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const FD={test:MR("#"),parse:Qde,transform:Wc.transform},O0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),au=O0("deg"),to=O0("%"),Gt=O0("px"),Jde=O0("vh"),ehe=O0("vw"),J6={...to,parse:e=>to.parse(e)/100,transform:e=>to.transform(e*100)},sh={test:MR("hsl","hue"),parse:EX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+to.transform(Rv(t))+", "+to.transform(Rv(r))+", "+Rv(vg.transform(n))+")"},Rn={test:e=>Wc.test(e)||FD.test(e)||sh.test(e),parse:e=>Wc.test(e)?Wc.parse(e):sh.test(e)?sh.parse(e):FD.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wc.transform(e):sh.transform(e),getAnimatableNone:e=>{const t=Rn.parse(e);return t.alpha=0,Rn.transform(t)}},the=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rhe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(AR))==null?void 0:t.length)||0)+(((r=e.match(the))==null?void 0:r.length)||0)>0}const jX="number",DX="color",nhe="var",ahe="var(",e$="${}",ihe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(ihe,l=>(Rn.test(l)?(n.color.push(i),a.push(DX),r.push(Rn.parse(l))):l.startsWith(ahe)?(n.var.push(i),a.push(nhe),r.push(l)):(n.number.push(i),a.push(jX),r.push(parseFloat(l))),++i,e$)).split(e$);return{values:r,split:o,indexes:n,types:a}}function OX(e){return gg(e).values}function PX(e){const{split:t,types:r}=gg(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===jX?i+=Rv(a[s]):o===DX?i+=Rn.transform(a[s]):i+=a[s]}return i}}const she=e=>typeof e=="number"?0:Rn.test(e)?Rn.getAnimatableNone(e):e;function ohe(e){const t=OX(e);return PX(e)(t.map(she))}const Bu={test:rhe,parse:OX,createTransformer:PX,getAnimatableNone:ohe};function yN(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function lhe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=yN(l,o,e+1/3),i=yN(l,o,e),s=yN(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function C1(e,t){return r=>r>0?t:e}const fn=(e,t,r)=>e+(t-e)*r,xN=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},uhe=[FD,Wc,sh],che=e=>uhe.find(t=>t.test(e));function t$(e){const t=che(e);if(!t)return!1;let r=t.parse(e);return t===sh&&(r=lhe(r)),r}const r$=(e,t)=>{const r=t$(e),n=t$(t);if(!r||!n)return C1(e,t);const a={...r};return i=>(a.red=xN(r.red,n.red,i),a.green=xN(r.green,n.green,i),a.blue=xN(r.blue,n.blue,i),a.alpha=fn(r.alpha,n.alpha,i),Wc.transform(a))},UD=new Set(["none","hidden"]);function fhe(e,t){return UD.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function dhe(e,t){return r=>fn(e,t,r)}function ER(e){return typeof e=="number"?dhe:typeof e=="string"?NR(e)?C1:Rn.test(e)?r$:mhe:Array.isArray(e)?kX:typeof e=="object"?Rn.test(e)?r$:hhe:C1}function kX(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>ER(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function hhe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=ER(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function phe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const mhe=(e,t)=>{const r=Bu.createTransformer(t),n=gg(e),a=gg(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?UD.has(e)&&!a.values.length||UD.has(t)&&!n.values.length?fhe(e,t):j0(kX(phe(n,a),a.values),r):C1(e,t)};function RX(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?fn(e,t,r):ER(e)(e,t)}const vhe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>sn.update(t,r),stop:()=>Iu(t),now:()=>ea.isProcessing?ea.timestamp:Ua.now()}},LX=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},N1=2e4;function jR(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<N1;)t+=r,n=e.next(t);return t>=N1?1/0:t}function ghe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(jR(n),N1);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Vi(a)}}const yhe=5;function IX(e,t,r){const n=Math.max(t-yhe,0);return vX(r-e(n),t-n)}const vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bN=.001;function xhe({duration:e=vn.duration,bounce:t=vn.bounce,velocity:r=vn.velocity,mass:n=vn.mass}){let a,i,s=1-t;s=ol(vn.minDamping,vn.maxDamping,s),e=ol(vn.minDuration,vn.maxDuration,Vi(e)),s<1?(a=u=>{const f=u*s,d=f*e,p=f-r,v=HD(u,s),y=Math.exp(-d);return bN-p/v*y},i=u=>{const d=u*s*e,p=d*r+r,v=Math.pow(s,2)*Math.pow(u,2)*e,y=Math.exp(-d),x=HD(Math.pow(u,2),s);return(-a(u)+bN>0?-1:1)*((p-v)*y)/x}):(a=u=>{const f=Math.exp(-u*e),d=(u-r)*e+1;return-bN+f*d},i=u=>{const f=Math.exp(-u*e),d=(r-u)*(e*e);return f*d});const o=5/e,l=whe(a,i,o);if(e=eo(e),isNaN(l))return{stiffness:vn.stiffness,damping:vn.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const bhe=12;function whe(e,t,r){let n=r;for(let a=1;a<bhe;a++)n=n-e(n)/t(n);return n}function HD(e,t){return e*Math.sqrt(1-t*t)}const She=["duration","bounce"],_he=["stiffness","damping","mass"];function n$(e,t){return t.some(r=>e[r]!==void 0)}function The(e){let t={velocity:vn.velocity,stiffness:vn.stiffness,damping:vn.damping,mass:vn.mass,isResolvedFromDuration:!1,...e};if(!n$(e,_he)&&n$(e,She))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*ol(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:vn.mass,stiffness:a,damping:i}}else{const r=xhe(e);t={...t,...r,mass:vn.mass},t.isResolvedFromDuration=!0}return t}function A1(e=vn.visualDuration,t=vn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:f,duration:d,velocity:p,isResolvedFromDuration:v}=The({...r,velocity:-Vi(r.velocity||0)}),y=p||0,x=u/(2*Math.sqrt(l*f)),b=s-i,w=Vi(Math.sqrt(l/f)),_=Math.abs(b)<5;n||(n=_?vn.restSpeed.granular:vn.restSpeed.default),a||(a=_?vn.restDelta.granular:vn.restDelta.default);let T;if(x<1){const N=HD(w,x);T=C=>{const j=Math.exp(-x*w*C);return s-j*((y+x*w*b)/N*Math.sin(N*C)+b*Math.cos(N*C))}}else if(x===1)T=N=>s-Math.exp(-w*N)*(b+(y+w*b)*N);else{const N=w*Math.sqrt(x*x-1);T=C=>{const j=Math.exp(-x*w*C),O=Math.min(N*C,300);return s-j*((y+x*w*b)*Math.sinh(O)+N*b*Math.cosh(O))/N}}const M={calculatedDuration:v&&d||null,next:N=>{const C=T(N);if(v)o.done=N>=d;else{let j=N===0?y:0;x<1&&(j=N===0?eo(y):IX(T,N,C));const O=Math.abs(j)<=n,P=Math.abs(s-C)<=a;o.done=O&&P}return o.value=o.done?s:C,o},toString:()=>{const N=Math.min(jR(M),N1),C=LX(j=>M.next(N*j).value,N,30);return N+"ms "+C},toTransition:()=>{}};return M}A1.applyToOptions=e=>{const t=ghe(e,100,A1);return e.ease=t.ease,e.duration=eo(t.duration),e.type="keyframes",e};function VD({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:f}){const d=e[0],p={done:!1,value:d},v=O=>o!==void 0&&O<o||l!==void 0&&O>l,y=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let x=r*t;const b=d+x,w=s===void 0?b:s(b);w!==b&&(x=w-d);const _=O=>-x*Math.exp(-O/n),T=O=>w+_(O),M=O=>{const P=_(O),R=T(O);p.done=Math.abs(P)<=u,p.value=p.done?w:R};let N,C;const j=O=>{v(p.value)&&(N=O,C=A1({keyframes:[p.value,y(p.value)],velocity:IX(T,O,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:f}))};return j(0),{calculatedDuration:null,next:O=>{let P=!1;return!C&&N===void 0&&(P=!0,M(O),j(O)),N!==void 0&&O>=N?C.next(O-N):(!P&&M(O),p)}}}function Che(e,t,r){const n=[],a=r||ll.mix||RX,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Gi:t;o=j0(l,o)}n.push(o)}return n}function Nhe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(bR(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Che(t,n,a),l=o.length,u=f=>{if(s&&f<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(f<e[d+1]);d++);const p=mg(e[d],e[d+1],f);return o[d](p)};return r?f=>u(ol(e[0],e[i-1],f)):u}function Ahe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=mg(0,t,n);e.push(fn(r,1,a))}}function Mhe(e){const t=[0];return Ahe(t,e.length-1),t}function Ehe(e,t){return e.map(r=>r*t)}function jhe(e,t){return e.map(()=>t||CX).splice(0,e.length-1)}function Lv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Fde(n)?n.map(Q6):Q6(n),i={done:!1,value:t[0]},s=Ehe(r&&r.length===t.length?r:Mhe(t),e),o=Nhe(s,t,{ease:Array.isArray(a)?a:jhe(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Dhe=e=>e!==null;function DR(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Dhe),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Ohe={decay:VD,inertia:VD,tween:Lv,keyframes:Lv,spring:A1};function BX(e){typeof e.type=="string"&&(e.type=Ohe[e.type])}class OR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Phe=e=>e/100;class PR extends OR{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Ua.now()&&this.tick(Ua.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BX(t);const{type:r=Lv,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Lv;l!==Lv&&typeof o[0]!="number"&&(this.mixKeyframes=j0(Phe,RX(o[0],o[1])),o=[0,100]);const u=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=jR(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:d,repeatType:p,repeatDelay:v,type:y,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,M=n;if(d){const O=Math.min(this.currentTime,a)/o;let P=Math.floor(O),R=O%1;!R&&O>=1&&(R=1),R===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(p==="reverse"?(R=1-R,v&&(R-=v/o)):p==="mirror"&&(M=s)),T=ol(0,1,R)*o}const N=_?{done:!1,value:f[0]}:M.next(T);i&&(N.value=i(N.value));let{done:C}=N;!_&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&y!==VD&&(N.value=DR(f,this.options,b,this.speed)),x&&x(N.value),j&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Vi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vi(t)}get time(){return Vi(this.currentTime)}set time(t){var r;t=eo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ua.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Vi(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=vhe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ua.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function khe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Kc=e=>e*180/Math.PI,qD=e=>{const t=Kc(Math.atan2(e[1],e[0]));return GD(t)},Rhe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qD,rotateZ:qD,skewX:e=>Kc(Math.atan(e[1])),skewY:e=>Kc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},GD=e=>(e=e%360,e<0&&(e+=360),e),a$=qD,i$=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),s$=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Lhe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i$,scaleY:s$,scale:e=>(i$(e)+s$(e))/2,rotateX:e=>GD(Kc(Math.atan2(e[6],e[5]))),rotateY:e=>GD(Kc(Math.atan2(-e[2],e[0]))),rotateZ:a$,rotate:a$,skewX:e=>Kc(Math.atan(e[4])),skewY:e=>Kc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function WD(e){return e.includes("scale")?1:0}function KD(e,t){if(!e||e==="none")return WD(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Lhe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Rhe,a=o}if(!a)return WD(t);const i=n[t],s=a[1].split(",").map(Bhe);return typeof i=="function"?i(s):s[i]}const Ihe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return KD(r,t)};function Bhe(e){return parseFloat(e.trim())}const Sp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_p=new Set(Sp),o$=e=>e===wp||e===Gt,$he=new Set(["x","y","z"]),zhe=Sp.filter(e=>!$he.has(e));function Fhe(e){const t=[];return zhe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const cf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>KD(t,"x"),y:(e,{transform:t})=>KD(t,"y")};cf.translateX=cf.x;cf.translateY=cf.y;const ff=new Set;let YD=!1,XD=!1,ZD=!1;function $X(){if(XD){const e=Array.from(ff).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Fhe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}XD=!1,YD=!1,ff.forEach(e=>e.complete(ZD)),ff.clear()}function zX(){ff.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(XD=!0)})}function Uhe(){ZD=!0,zX(),$X(),ZD=!1}class kR{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ff.add(this),YD||(YD=!0,sn.read(zX),sn.resolveKeyframes($X))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}khe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ff.delete(this)}cancel(){this.state==="scheduled"&&(ff.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Hhe=e=>e.startsWith("--");function Vhe(e,t,r){Hhe(t)?e.style.setProperty(t,r):e.style[t]=r}const qhe=wR(()=>window.ScrollTimeline!==void 0),Ghe={};function Whe(e,t){const r=wR(e);return()=>Ghe[t]??r()}const FX=Whe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bv=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,l$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bv([0,.65,.55,1]),circOut:bv([.55,0,1,.45]),backIn:bv([.31,.01,.66,-.59]),backOut:bv([.33,1.53,.69,.99])};function UX(e,t){if(e)return typeof e=="function"?FX()?LX(e,t):"ease-out":NX(e)?bv(e):Array.isArray(e)?e.map(r=>UX(r,t)||l$.easeOut):l$[e]}function Khe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const f={[t]:r};l&&(f.offset=l);const d=UX(o,a);Array.isArray(d)&&(f.easing=d);const p={delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(f,p)}function HX(e){return typeof e=="function"&&"applyToOptions"in e}function Yhe({type:e,...t}){return HX(e)&&FX()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Xhe extends OR{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,bR(typeof t.type!="string");const u=Yhe(t);this.animation=Khe(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=DR(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):Vhe(r,n,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Vi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Vi(t)}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=eo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qhe()?(this.animation.timeline=t,Gi):r(this)}}const VX={anticipate:SX,backInOut:wX,circInOut:TX};function Zhe(e){return e in VX}function Qhe(e){typeof e.ease=="string"&&Zhe(e.ease)&&(e.ease=VX[e.ease])}const u$=10;class Jhe extends Xhe{constructor(t){Qhe(t),BX(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new PR({...s,autoplay:!1}),l=eo(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-u$).value,o.sample(l).value,u$),o.stop()}}const c$=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bu.test(e)||e==="0")&&!e.startsWith("url("));function epe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function tpe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=c$(a,t),o=c$(i,t);return!s||!o?!1:epe(e)||(r==="spring"||HX(r))&&n}function QD(e){e.duration=0,e.type="keyframes"}const rpe=new Set(["opacity","clipPath","filter","transform"]),npe=wR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ape(e){var f;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return npe()&&r&&rpe.has(r)&&(r!=="transform"||!u)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const ipe=40;class spe extends OR{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:f,...d}){var y;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Ua.now();const p={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:u,element:f,...d},v=(f==null?void 0:f.KeyframeResolver)||kR;this.keyframeResolver=new v(o,(x,b,w)=>this.onKeyframesResolved(x,b,p,!w),l,u,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:f}=n;this.resolvedAt=Ua.now(),tpe(t,i,s,o)||((ll.instantAnimations||!l)&&(f==null||f(DR(t,n,r))),t[0]=t[t.length-1],QD(n),n.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ipe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!u&&ape(p)?new Jhe({...p,element:p.motionValue.owner.current}):new PR(p);v.finished.then(()=>this.notifyFinished()).catch(Gi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Uhe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const ope=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lpe(e){const t=ope.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function qX(e,t,r=1){const[n,a]=lpe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return hX(s)?parseFloat(s):s}return NR(a)?qX(a,t,r+1):a}function RR(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const GX=new Set(["width","height","top","left","right","bottom",...Sp]),upe={test:e=>e==="auto",parse:e=>e},WX=e=>t=>t.test(e),KX=[wp,Gt,to,au,ehe,Jde,upe],f$=e=>KX.find(WX(e));function cpe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mX(e):!0}const fpe=new Set(["brightness","contrast","saturate","opacity"]);function dpe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(AR)||[];if(!n)return e;const a=r.replace(n,"");let i=fpe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const hpe=/\b([a-z-]*)\(.*?\)/gu,JD={...Bu,getAnimatableNone:e=>{const t=e.match(hpe);return t?t.map(dpe).join(" "):e}},d$={...wp,transform:Math.round},ppe={rotate:au,rotateX:au,rotateY:au,rotateZ:au,scale:vx,scaleX:vx,scaleY:vx,scaleZ:vx,skew:au,skewX:au,skewY:au,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:vg,originX:J6,originY:J6,originZ:Gt},LR={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt,...ppe,zIndex:d$,fillOpacity:vg,strokeOpacity:vg,numOctaves:d$},mpe={...LR,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:JD,WebkitFilter:JD},YX=e=>mpe[e];function XX(e,t){let r=YX(e);return r!==JD&&(r=Bu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const vpe=new Set(["auto","none","0"]);function gpe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!vpe.has(i)&&gg(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=XX(r,a)}class ype extends kR{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),NR(u))){const f=qX(u,r.current);f!==void 0&&(t[l]=f),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GX.has(n)||t.length!==2)return;const[a,i]=t,s=f$(a),o=f$(i);if(s!==o)if(o$(s)&&o$(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else cf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||cpe(t[a]))&&n.push(a);n.length&&gpe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=cf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function xpe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ZX=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function bpe(e){return pX(e)&&"offsetHeight"in e}const h$=30,wpe=e=>!isNaN(parseFloat(e));class Spe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=Ua.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ua.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wpe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new SR);const n=this.events[t].add(r);return t==="change"?()=>{n(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>h$)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,h$);return vX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vh(e,t){return new Spe(e,t)}const{schedule:IR}=AX(queueMicrotask,!1),fs={x:!1,y:!1};function QX(){return fs.x||fs.y}function _pe(e){return e==="x"||e==="y"?fs[e]?null:(fs[e]=!0,()=>{fs[e]=!1}):fs.x||fs.y?null:(fs.x=fs.y=!0,()=>{fs.x=fs.y=!1})}function JX(e,t){const r=xpe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function p$(e){return!(e.pointerType==="touch"||QX())}function Tpe(e,t,r={}){const[n,a,i]=JX(e,r),s=o=>{if(!p$(o))return;const{target:l}=o,u=t(l,o);if(typeof u!="function"||!l)return;const f=d=>{p$(d)&&(u(d),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const eZ=(e,t)=>t?e===t?!0:eZ(e,t.parentElement):!1,BR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Cpe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Npe(e){return Cpe.has(e.tagName)||e.tabIndex!==-1}const Kb=new WeakSet;function m$(e){return t=>{t.key==="Enter"&&e(t)}}function wN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ape=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=m$(()=>{if(Kb.has(r))return;wN(r,"down");const a=m$(()=>{wN(r,"up")}),i=()=>wN(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function v$(e){return BR(e)&&!QX()}function Mpe(e,t,r={}){const[n,a,i]=JX(e,r),s=o=>{const l=o.currentTarget;if(!v$(o))return;Kb.add(l);const u=t(l,o),f=(v,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),Kb.has(l)&&Kb.delete(l),v$(v)&&typeof u=="function"&&u(v,{success:y})},d=v=>{f(v,l===window||l===document||r.useGlobalTarget||eZ(l,v.target))},p=v=>{f(v,!1)};window.addEventListener("pointerup",d,a),window.addEventListener("pointercancel",p,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),bpe(o)&&(o.addEventListener("focus",u=>Ape(u,a)),!Npe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function tZ(e){return pX(e)&&"ownerSVGElement"in e}function Epe(e){return tZ(e)&&e.tagName==="svg"}const ma=e=>!!(e&&e.getVelocity),jpe=[...KX,Rn,Bu],Dpe=e=>jpe.find(WX(e)),rZ=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ope(e=!0){const t=A.useContext(gR);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=A.useId();A.useEffect(()=>{if(e)return a(i)},[e]);const s=A.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const nZ=A.createContext({strict:!1}),g$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qh={};for(const e in g$)qh[e]={isEnabled:t=>g$[e].some(r=>!!t[r])};function Ppe(e){for(const t in e)qh[t]={...qh[t],...e[t]}}const kpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function M1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kpe.has(e)}let aZ=e=>!M1(e);function Rpe(e){typeof e=="function"&&(aZ=t=>t.startsWith("on")?!M1(t):e(t))}try{Rpe(require("@emotion/is-prop-valid").default)}catch{}function Lpe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(aZ(a)||r===!0&&M1(a)||!t&&!M1(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const _S=A.createContext({});function TS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function yg(e){return typeof e=="string"||Array.isArray(e)}const $R=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zR=["initial",...$R];function CS(e){return TS(e.animate)||zR.some(t=>yg(e[t]))}function iZ(e){return!!(CS(e)||e.variants)}function Ipe(e,t){if(CS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||yg(r)?r:void 0,animate:yg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Bpe(e){const{initial:t,animate:r}=Ipe(e,A.useContext(_S));return A.useMemo(()=>({initial:t,animate:r}),[y$(t),y$(r)])}function y$(e){return Array.isArray(e)?e.join(" "):e}const xg={};function $pe(e){for(const t in e)xg[t]=e[t],CR(t)&&(xg[t].isCSSVariable=!0)}function sZ(e,{layout:t,layoutId:r}){return _p.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!xg[e]||e==="opacity")}const zpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fpe=Sp.length;function Upe(e,t,r){let n="",a=!0;for(let i=0;i<Fpe;i++){const s=Sp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=ZX(o,LR[s]);if(!l){a=!1;const f=zpe[s]||s;n+=`${f}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function FR(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const u=t[l];if(_p.has(l)){s=!0;continue}else if(CR(l)){a[l]=u;continue}else{const f=ZX(u,LR[l]);l.startsWith("origin")?(o=!0,i[l]=f):n[l]=f}}if(t.transform||(s||r?n.transform=Upe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:f=0}=i;n.transformOrigin=`${l} ${u} ${f}`}}const UR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oZ(e,t,r){for(const n in t)!ma(t[n])&&!sZ(n,r)&&(e[n]=t[n])}function Hpe({transformTemplate:e},t){return A.useMemo(()=>{const r=UR();return FR(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Vpe(e,t){const r=e.style||{},n={};return oZ(n,r,e),Object.assign(n,Hpe(e,t)),n}function qpe(e,t){const r={},n=Vpe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Gpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Kpe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Gpe:Wpe;e[i.offset]=Gt.transform(-n);const s=Gt.transform(t),o=Gt.transform(r);e[i.array]=`${s} ${o}`}function lZ(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,u,f){if(FR(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:p}=e;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&Kpe(d,a,i,s,!1)}const uZ=()=>({...UR(),attrs:{}}),cZ=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ype(e,t,r,n){const a=A.useMemo(()=>{const i=uZ();return lZ(i,t,cZ(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};oZ(i,e.style,e),a.style={...i,...a.style}}return a}const Xpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HR(e){return typeof e!="string"||e.includes("-")?!1:!!(Xpe.indexOf(e)>-1||/[A-Z]/u.test(e))}function Zpe(e,t,r,{latestValues:n},a,i=!1){const o=(HR(e)?Ype:qpe)(t,n,a,e),l=Lpe(t,typeof e=="string",i),u=e!==A.Fragment?{...l,...o,ref:r}:{},{children:f}=t,d=A.useMemo(()=>ma(f)?f.get():f,[f]);return A.createElement(e,{...u,children:d})}function x$(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function VR(e,t,r,n){if(typeof t=="function"){const[a,i]=x$(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=x$(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Yb(e){return ma(e)?e.get():e}function Qpe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Jpe(r,n,a,e),renderState:t()}}function Jpe(e,t,r,n){const a={},i=n(e,{});for(const p in i)a[p]=Yb(i[p]);let{initial:s,animate:o}=e;const l=CS(e),u=iZ(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let f=r?r.initial===!1:!1;f=f||s===!1;const d=f?o:s;if(d&&typeof d!="boolean"&&!TS(d)){const p=Array.isArray(d)?d:[d];for(let v=0;v<p.length;v++){const y=VR(e,p[v]);if(y){const{transitionEnd:x,transition:b,...w}=y;for(const _ in w){let T=w[_];if(Array.isArray(T)){const M=f?T.length-1:0;T=T[M]}T!==null&&(a[_]=T)}for(const _ in x)a[_]=x[_]}}}return a}const fZ=e=>(t,r)=>{const n=A.useContext(_S),a=A.useContext(gR),i=()=>Qpe(e,t,n,a);return r?i():Pde(i)};function qR(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(ma(n[s])||t.style&&ma(t.style[s])||sZ(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const eme=fZ({scrapeMotionValuesFromProps:qR,createRenderState:UR});function dZ(e,t,r){const n=qR(e,t,r);for(const a in e)if(ma(e[a])||ma(t[a])){const i=Sp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const tme=fZ({scrapeMotionValuesFromProps:dZ,createRenderState:uZ}),rme=Symbol.for("motionComponentSymbol");function oh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nme(e,t,r){return A.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):oh(r)&&(r.current=n))},[t])}const GR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ame="framerAppearId",hZ="data-"+GR(ame),pZ=A.createContext({});function ime(e,t,r,n,a){var x,b;const{visualElement:i}=A.useContext(_S),s=A.useContext(nZ),o=A.useContext(gR),l=A.useContext(rZ).reducedMotion,u=A.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,d=A.useContext(pZ);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&sme(u.current,r,a,d);const p=A.useRef(!1);A.useInsertionEffect(()=>{f&&p.current&&f.update(r,o)});const v=r[hZ],y=A.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return kde(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,v)}),y.current=!1),f.enteringChildren=void 0)}),f}function sme(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:mZ(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&oh(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:l,layoutRoot:u})}function mZ(e){if(e)return e.options.allowProjection!==!1?e.projection:mZ(e.parent)}function SN(e,{forwardMotionProps:t=!1}={},r,n){r&&Ppe(r);const a=HR(e)?tme:eme;function i(o,l){let u;const f={...A.useContext(rZ),...o,layoutId:ome(o)},{isStatic:d}=f,p=Bpe(o),v=a(o,d);if(!d&&vR){lme();const y=ume(f);u=y.MeasureLayout,p.visualElement=ime(e,v,f,n,y.ProjectionNode)}return m.jsxs(_S.Provider,{value:p,children:[u&&p.visualElement?m.jsx(u,{visualElement:p.visualElement,...f}):null,Zpe(e,o,nme(v,p.visualElement,l),v,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=A.forwardRef(i);return s[rme]=e,s}function ome({layoutId:e}){const t=A.useContext(dX).id;return t&&e!==void 0?t+"-"+e:e}function lme(e,t){A.useContext(nZ).strict}function ume(e){const{drag:t,layout:r}=qh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function cme(e,t){if(typeof Proxy>"u")return SN;const r=new Map,n=(i,s)=>SN(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,SN(s,void 0,e,t)),r.get(s))})}function vZ({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function fme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dme(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function _N(e){return e===void 0||e===1}function eO({scale:e,scaleX:t,scaleY:r}){return!_N(e)||!_N(t)||!_N(r)}function Uc(e){return eO(e)||gZ(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gZ(e){return b$(e.x)||b$(e.y)}function b$(e){return e&&e!=="0%"}function E1(e,t,r){const n=e-r,a=t*n;return r+a}function w$(e,t,r,n,a){return a!==void 0&&(e=E1(e,a,n)),E1(e,r,n)+t}function tO(e,t=0,r=1,n,a){e.min=w$(e.min,t,r,n,a),e.max=w$(e.max,t,r,n,a)}function yZ(e,{x:t,y:r}){tO(e.x,t.translate,t.scale,t.originPoint),tO(e.y,r.translate,r.scale,r.originPoint)}const S$=.999999999999,_$=1.0000000000001;function hme(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uh(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,yZ(e,s)),n&&Uc(i.latestValues)&&uh(e,i.latestValues))}t.x<_$&&t.x>S$&&(t.x=1),t.y<_$&&t.y>S$&&(t.y=1)}function lh(e,t){e.min=e.min+t,e.max=e.max+t}function T$(e,t,r,n,a=.5){const i=fn(e.min,e.max,a);tO(e,t,r,i,n)}function uh(e,t){T$(e.x,t.x,t.scaleX,t.scale,t.originX),T$(e.y,t.y,t.scaleY,t.scale,t.originY)}function xZ(e,t){return vZ(dme(e.getBoundingClientRect(),t))}function pme(e,t,r){const n=xZ(e,r),{scroll:a}=t;return a&&(lh(n.x,a.offset.x),lh(n.y,a.offset.y)),n}const C$=()=>({translate:0,scale:1,origin:0,originPoint:0}),ch=()=>({x:C$(),y:C$()}),N$=()=>({min:0,max:0}),Sn=()=>({x:N$(),y:N$()}),rO={current:null},bZ={current:!1};function mme(){if(bZ.current=!0,!!vR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rO.current=e.matches;e.addEventListener("change",t),t()}else rO.current=!1}const vme=new WeakMap;function gme(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ma(a))e.addValue(n,a);else if(ma(i))e.addValue(n,Vh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Vh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const A$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yme{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ua.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,sn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=CS(r),this.isVariantNode=iZ(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in d){const v=d[p];l[p]!==void 0&&ma(v)&&v.set(l[p])}}mount(t){var r;this.current=t,vme.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),bZ.current||mme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rO.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Iu(this.notifyUpdate),Iu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=_p.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&sn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qh){const r=qh[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<A$.length;n++){const a=A$[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=gme(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Vh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(hX(n)||mX(n))?n=parseFloat(n):!Dpe(n)&&Bu.test(r)&&(n=XX(t,r)),this.setBaseTarget(t,ma(n)?n.get():n)),ma(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=VR(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ma(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new SR),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){IR.render(this.render)}}class wZ extends yme{constructor(){super(...arguments),this.KeyframeResolver=ype}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ma(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function SZ(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function xme(e){return window.getComputedStyle(e)}class bme extends wZ{constructor(){super(...arguments),this.type="html",this.renderInstance=SZ}readValueFromInstance(t,r){var n;if(_p.has(r))return(n=this.projection)!=null&&n.isProjecting?WD(r):Ihe(t,r);{const a=xme(t),i=(CR(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xZ(t,r)}build(t,r,n){FR(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return qR(t,r,n)}}const _Z=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wme(e,t,r,n){SZ(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(_Z.has(a)?a:GR(a),t.attrs[a])}class Sme extends wZ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(_p.has(r)){const n=YX(r);return n&&n.default||0}return r=_Z.has(r)?r:GR(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return dZ(t,r,n)}build(t,r,n){lZ(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){wme(t,r,n,a)}mount(t){this.isSVGTag=cZ(t.tagName),super.mount(t)}}const _me=(e,t)=>HR(e)?new Sme(t):new bme(t,{allowProjection:e!==A.Fragment});function wh(e,t,r){const n=e.getProps();return VR(n,t,r!==void 0?r:n.custom,e)}const nO=e=>Array.isArray(e);function Tme(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Vh(r))}function Cme(e){return nO(e)?e[e.length-1]||0:e}function Nme(e,t){const r=wh(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Cme(i[s]);Tme(e,s,o)}}function Ame(e){return!!(ma(e)&&e.add)}function aO(e,t){const r=e.getValue("willChange");if(Ame(r))return r.add(t);if(!r&&ll.WillChange){const n=new ll.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function TZ(e){return e.props[hZ]}const Mme=e=>e!==null;function Eme(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Mme),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const jme={type:"spring",stiffness:500,damping:25,restSpeed:10},Dme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ome={type:"keyframes",duration:.8},Pme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kme=(e,{keyframes:t})=>t.length>2?Ome:_p.has(e)?e.startsWith("scale")?Dme(t[1]):jme:Pme;function Rme({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const WR=(e,t,r,n={},a,i)=>s=>{const o=RR(n,e)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-eo(l);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Rme(o)||Object.assign(f,kme(e,f)),f.duration&&(f.duration=eo(f.duration)),f.repeatDelay&&(f.repeatDelay=eo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(QD(f),f.delay===0&&(d=!0)),(ll.instantAnimations||ll.skipAnimations)&&(d=!0,QD(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,d&&!i&&t.get()!==void 0){const p=Eme(f.keyframes,o);if(p!==void 0){sn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return o.isSync?new PR(f):new spe(f)};function Lme({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function CZ(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const d=e.getValue(f,e.latestValues[f]??null),p=o[f];if(p===void 0||u&&Lme(u,f))continue;const v={delay:r,...RR(i||{},f)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===y&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=TZ(e);if(w){const _=window.MotionHandoffAnimation(w,f,sn);_!==null&&(v.startTime=_,x=!0)}}aO(e,f),d.start(WR(f,d,p,e.shouldReduceMotion&&GX.has(f)?{type:!1}:v,e,x));const b=d.animation;b&&l.push(b)}return s&&Promise.all(l).then(()=>{sn.update(()=>{s&&Nme(e,s)})}),l}function NZ(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function iO(e,t,r={}){var l;const n=wh(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(CZ(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=a;return Ime(e,t,u,f,d,p,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,f]=o==="beforeChildren"?[i,s]:[s,i];return u().then(()=>f())}else return Promise.all([i(),s(r.delay)])}function Ime(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(iO(l,t,{...s,delay:r+(typeof n=="function"?0:n)+NZ(e.variantChildren,l,n,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function Bme(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>iO(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=iO(e,t,r);else{const a=typeof t=="function"?wh(e,t,r.custom):t;n=Promise.all(CZ(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function AZ(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const $me=zR.length;function MZ(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?MZ(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<$me;r++){const n=zR[r],a=e.props[n];(yg(a)||a===!1)&&(t[n]=a)}return t}const zme=[...$R].reverse(),Fme=$R.length;function Ume(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Bme(e,r,n)))}function Hme(e){let t=Ume(e),r=M$(),n=!0;const a=l=>(u,f)=>{var p;const d=wh(e,f,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:v,transitionEnd:y,...x}=d;u={...u,...x,...y}}return u};function i(l){t=l(e)}function s(l){const{props:u}=e,f=MZ(e.parent)||{},d=[],p=new Set;let v={},y=1/0;for(let b=0;b<Fme;b++){const w=zme[b],_=r[w],T=u[w]!==void 0?u[w]:f[w],M=yg(T),N=w===l?_.isActive:null;N===!1&&(y=b);let C=T===f[w]&&T!==u[w]&&M;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...v},!_.isActive&&N===null||!T&&!_.prevProp||TS(T)||typeof T=="boolean")continue;const j=Vme(_.prevProp,T);let O=j||w===l&&_.isActive&&!C&&M||b>y&&M,P=!1;const R=Array.isArray(T)?T:[T];let k=R.reduce(a(w),{});N===!1&&(k={});const{prevResolvedValues:L={}}=_,I={...L,...k},$=V=>{O=!0,p.has(V)&&(P=!0,p.delete(V)),_.needsAnimating[V]=!0;const q=e.getValue(V);q&&(q.liveStyle=!1)};for(const V in I){const q=k[V],W=L[V];if(v.hasOwnProperty(V))continue;let Y=!1;nO(q)&&nO(W)?Y=!AZ(q,W):Y=q!==W,Y?q!=null?$(V):p.add(V):q!==void 0&&p.has(V)?$(V):_.protectedKeys[V]=!0}_.prevProp=T,_.prevResolvedValues=k,_.isActive&&(v={...v,...k}),n&&e.blockInitialAnimation&&(O=!1);const F=C&&j;O&&(!F||P)&&d.push(...R.map(V=>{const q={type:w};if(typeof V=="string"&&n&&!F&&e.manuallyAnimateOnMount&&e.parent){const{parent:W}=e,Y=wh(W,V);if(W.enteringChildren&&Y){const{delayChildren:H}=Y.transition||{};q.delay=NZ(W.enteringChildren,e,H)}}return{animation:V,options:q}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const w=wh(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const _=e.getBaseTarget(w),T=e.getValue(w);T&&(T.liveStyle=!0),b[w]=_??null}),d.push({animation:b})}let x=!!d.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(d):Promise.resolve()}function o(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(l,u)}),r[l].isActive=u;const f=s(l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=M$()}}}function Vme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!AZ(t,e):!1}function vc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M$(){return{animate:vc(!0),whileInView:vc(),whileHover:vc(),whileTap:vc(),whileDrag:vc(),whileFocus:vc(),exit:vc()}}class Vu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qme extends Vu{constructor(t){super(t),t.animationState||(t.animationState=Hme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();TS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Gme=0;class Wme extends Vu{constructor(){super(...arguments),this.id=Gme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Kme={animation:{Feature:qme},exit:{Feature:Wme}};function bg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function P0(e){return{point:{x:e.pageX,y:e.pageY}}}const Yme=e=>t=>BR(t)&&e(t,P0(t));function Iv(e,t,r,n){return bg(e,t,Yme(r),n)}const EZ=1e-4,Xme=1-EZ,Zme=1+EZ,jZ=.01,Qme=0-jZ,Jme=0+jZ;function wa(e){return e.max-e.min}function eve(e,t,r){return Math.abs(e-t)<=r}function E$(e,t,r,n=.5){e.origin=n,e.originPoint=fn(t.min,t.max,e.origin),e.scale=wa(r)/wa(t),e.translate=fn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Xme&&e.scale<=Zme||isNaN(e.scale))&&(e.scale=1),(e.translate>=Qme&&e.translate<=Jme||isNaN(e.translate))&&(e.translate=0)}function Bv(e,t,r,n){E$(e.x,t.x,r.x,n?n.originX:void 0),E$(e.y,t.y,r.y,n?n.originY:void 0)}function j$(e,t,r){e.min=r.min+t.min,e.max=e.min+wa(t)}function tve(e,t,r){j$(e.x,t.x,r.x),j$(e.y,t.y,r.y)}function D$(e,t,r){e.min=t.min-r.min,e.max=e.min+wa(t)}function $v(e,t,r){D$(e.x,t.x,r.x),D$(e.y,t.y,r.y)}function Pi(e){return[e("x"),e("y")]}const DZ=({current:e})=>e?e.ownerDocument.defaultView:null,O$=(e,t)=>Math.abs(e-t);function rve(e,t){const r=O$(e.x,t.x),n=O$(e.y,t.y);return Math.sqrt(r**2+n**2)}class OZ{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=CN(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=rve(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:x}=p,{timestamp:b}=ea;this.history.push({...x,timestamp:b});const{onStart:w,onMove:_}=this.handlers;v||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=TN(v,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=CN(p.type==="pointercancel"?this.lastMoveEventInfo:TN(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,w),x&&x(p,w)},!BR(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=P0(t),l=TN(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=ea;this.history=[{...u,timestamp:f}];const{onSessionStart:d}=r;d&&d(t,CN(l,this.history)),this.removeListeners=j0(Iv(this.contextWindow,"pointermove",this.handlePointerMove),Iv(this.contextWindow,"pointerup",this.handlePointerUp),Iv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Iu(this.updatePoint)}}function TN(e,t){return t?{point:t(e.point)}:e}function P$(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CN({point:e},t){return{point:e,delta:P$(e,PZ(t)),offset:P$(e,nve(t)),velocity:ave(t,.1)}}function nve(e){return e[0]}function PZ(e){return e[e.length-1]}function ave(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=PZ(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>eo(t)));)r--;if(!n)return{x:0,y:0};const i=Vi(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ive(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?fn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?fn(r,e,n.max):Math.min(e,r)),e}function k$(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function sve(e,{top:t,left:r,bottom:n,right:a}){return{x:k$(e.x,r,a),y:k$(e.y,t,n)}}function R$(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function ove(e,t){return{x:R$(e.x,t.x),y:R$(e.y,t.y)}}function lve(e,t){let r=.5;const n=wa(e),a=wa(t);return a>n?r=mg(t.min,t.max-n,e.min):n>a&&(r=mg(e.min,e.max-a,t.min)),ol(0,1,r)}function uve(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const sO=.35;function cve(e=sO){return e===!1?e=0:e===!0&&(e=sO),{x:L$(e,"left","right"),y:L$(e,"top","bottom")}}function L$(e,t,r){return{min:I$(e,t),max:I$(e,r)}}function I$(e,t){return typeof e=="number"?e:e[t]||0}const fve=new WeakMap;class dve{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(P0(d).point)},s=(d,p)=>{const{drag:v,dragPropagation:y,onDragStart:x}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_pe(v),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(w=>{let _=this.getAxisMotionValue(w).get()||0;if(to.test(_)){const{projection:T}=this.visualElement;if(T&&T.layout){const M=T.layout.layoutBox[w];M&&(_=wa(M)*(parseFloat(_)/100))}}this.originPoint[w]=_}),x&&sn.postRender(()=>x(d,p)),aO(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:x,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:w}=p;if(y&&this.currentDirection===null){this.currentDirection=hve(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),b&&b(d,p)},l=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Pi(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new OZ(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:DZ(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&sn.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!gx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=ive(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&oh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=sve(n.layoutBox,t):this.constraints=!1,this.elastic=cve(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Pi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=uve(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!oh(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=pme(n,a.root,this.visualElement.getTransformPagePoint());let s=ove(a.layout.layoutBox,i);if(r){const o=r(fme(s));this.hasMutatedConstraints=!!o,o&&(s=vZ(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Pi(f=>{if(!gx(f,r,this.currentDirection))return;let d=l&&l[f]||{};s&&(d={min:0,max:0});const p=a?200:1e6,v=a?40:1e7,y={type:"inertia",velocity:n?t[f]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return aO(this.visualElement,t),n.start(WR(t,n,0,r,this.visualElement,!1))}stopAnimation(){Pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pi(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Pi(r=>{const{drag:n}=this.getProps();if(!gx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-fn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!oh(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Pi(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=lve({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pi(s=>{if(!gx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(fn(l,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;fve.set(this.visualElement,this);const t=this.visualElement.current,r=Iv(t,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();oh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),sn.read(n);const s=bg(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pi(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())}));return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=sO,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function gx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hve(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class pve extends Vu{constructor(t){super(t),this.removeGroupControls=Gi,this.removeListeners=Gi,this.controls=new dve(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const B$=e=>(t,r)=>{e&&sn.postRender(()=>e(t,r))};class mve extends Vu{constructor(){super(...arguments),this.removePointerDownListener=Gi}onPointerDown(t){this.session=new OZ(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DZ(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:B$(t),onStart:B$(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&sn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Iv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $$(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const km={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Gt.test(e))e=parseFloat(e);else return e;const r=$$(e,t.target.x),n=$$(e,t.target.y);return`${r}% ${n}%`}},vve={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Bu.parse(e);if(a.length>5)return n;const i=Bu.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const u=fn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};let NN=!1;class gve extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;$pe(yve),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),NN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Xb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,NN=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||sn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),IR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;NN=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kZ(e){const[t,r]=Ope(),n=A.useContext(dX);return m.jsx(gve,{...e,layoutGroup:n,switchLayoutGroup:A.useContext(pZ),isPresent:t,safeToRemove:r})}const yve={borderRadius:{...km,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:km,borderTopRightRadius:km,borderBottomLeftRadius:km,borderBottomRightRadius:km,boxShadow:vve};function xve(e,t,r){const n=ma(e)?e:Vh(e);return n.start(WR("",n,t,r)),n.animation}const bve=(e,t)=>e.depth-t.depth;class wve{constructor(){this.children=[],this.isDirty=!1}add(t){yR(this.children,t),this.isDirty=!0}remove(t){xR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bve),this.isDirty=!1,this.children.forEach(t)}}function Sve(e,t){const r=Ua.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Iu(n),e(i-t))};return sn.setup(n,!0),()=>Iu(n)}const RZ=["TopLeft","TopRight","BottomLeft","BottomRight"],_ve=RZ.length,z$=e=>typeof e=="string"?parseFloat(e):e,F$=e=>typeof e=="number"||Gt.test(e);function Tve(e,t,r,n,a,i){a?(e.opacity=fn(0,r.opacity??1,Cve(n)),e.opacityExit=fn(t.opacity??1,0,Nve(n))):i&&(e.opacity=fn(t.opacity??1,r.opacity??1,n));for(let s=0;s<_ve;s++){const o=`border${RZ[s]}Radius`;let l=U$(t,o),u=U$(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||F$(l)===F$(u)?(e[o]=Math.max(fn(z$(l),z$(u),n),0),(to.test(u)||to.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=fn(t.rotate||0,r.rotate||0,n))}function U$(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Cve=LZ(0,.5,_X),Nve=LZ(.5,.95,Gi);function LZ(e,t,r){return n=>n<e?0:n>t?1:r(mg(e,t,n))}function H$(e,t){e.min=t.min,e.max=t.max}function Ni(e,t){H$(e.x,t.x),H$(e.y,t.y)}function V$(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function q$(e,t,r,n,a){return e-=t,e=E1(e,1/r,n),a!==void 0&&(e=E1(e,1/a,n)),e}function Ave(e,t=0,r=1,n=.5,a,i=e,s=e){if(to.test(t)&&(t=parseFloat(t),t=fn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=fn(i.min,i.max,n);e===i&&(o-=t),e.min=q$(e.min,t,r,o,a),e.max=q$(e.max,t,r,o,a)}function G$(e,t,[r,n,a],i,s){Ave(e,t[r],t[n],t[a],t.scale,i,s)}const Mve=["x","scaleX","originX"],Eve=["y","scaleY","originY"];function W$(e,t,r,n){G$(e.x,t,Mve,r?r.x:void 0,n?n.x:void 0),G$(e.y,t,Eve,r?r.y:void 0,n?n.y:void 0)}function K$(e){return e.translate===0&&e.scale===1}function IZ(e){return K$(e.x)&&K$(e.y)}function Y$(e,t){return e.min===t.min&&e.max===t.max}function jve(e,t){return Y$(e.x,t.x)&&Y$(e.y,t.y)}function X$(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BZ(e,t){return X$(e.x,t.x)&&X$(e.y,t.y)}function Z$(e){return wa(e.x)/wa(e.y)}function Q$(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Dve{constructor(){this.members=[]}add(t){yR(this.members,t),t.scheduleRender()}remove(t){if(xR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ove(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:p,skewX:v,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),d&&(n+=`rotateX(${d}deg) `),p&&(n+=`rotateY(${p}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const AN=["","X","Y","Z"],Pve=1e3;let kve=0;function MN(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $Z(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=TZ(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",sn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$Z(n)}function zZ({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=kve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ive),this.nodes.forEach(Fve),this.nodes.forEach(Uve),this.nodes.forEach(Bve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wve)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new SR),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=tZ(s)&&!Epe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let f,d=0;const p=()=>this.root.updateBlockedByResize=!1;sn.read(()=>{d=window.innerWidth}),e(s,()=>{const v=window.innerWidth;v!==d&&(d=v,this.root.updateBlockedByResize=!0,f&&f(),f=Sve(p,250),Xb.hasAnimatedSinceResize&&(Xb.hasAnimatedSinceResize=!1,this.nodes.forEach(tz)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Wve,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!BZ(this.targetLayout,v),_=!d&&p;if(this.options.layoutRoot||this.resumeFrom||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...RR(y,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,_)}else d||tz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Iu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hve),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$Z(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ez);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zve),this.nodes.forEach(Rve),this.nodes.forEach(Lve)):this.nodes.forEach(ez),this.clearAllSnapshots();const o=Ua.now();ea.delta=ol(0,1e3/60,o-ea.timestamp),ea.timestamp=o,ea.isProcessing=!0,vN.update.process(ea),vN.preRender.process(ea),vN.render.process(ea),ea.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($ve),this.sharedNodes.forEach(Vve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wa(this.snapshot.measuredBox.x)&&!wa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!IZ(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Uc(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Kve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Sn();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Yve))){const{scroll:f}=this.root;f&&(lh(o.x,f.offset.x),lh(o.y,f.offset.y))}return o}removeElementScroll(s){var l;const o=Sn();if(Ni(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Ni(o,s),lh(o.x,d.offset.x),lh(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const l=Sn();Ni(l,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&uh(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Uc(f.latestValues)&&uh(l,f.latestValues)}return Uc(this.latestValues)&&uh(l,this.latestValues),l}removeTransform(s){const o=Sn();Ni(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Uc(u.latestValues))continue;eO(u.latestValues)&&u.updateSnapshot();const f=Sn(),d=u.measurePageBox();Ni(f,d),W$(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Uc(this.latestValues)&&W$(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ea.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ea.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),$v(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),yZ(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),$v(this.relativeTargetOrigin,this.target,v.target),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eO(this.parent.latestValues)||gZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ea.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ni(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;hme(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Sn());const{target:v}=s;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(V$(this.prevProjectionDelta.x,this.projectionDelta.x),V$(this.prevProjectionDelta.y,this.projectionDelta.y)),Bv(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!Q$(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ch(),this.projectionDelta=ch(),this.projectionDeltaWithTransform=ch()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},d=ch();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Sn(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,b=this.getStack(),w=!b||b.members.length<=1,_=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(Gve));this.animationProgress=0;let T;this.mixTargetDelta=M=>{const N=M/1e3;rz(d.x,s.x,N),rz(d.y,s.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($v(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qve(this.relativeTarget,this.relativeTargetOrigin,p,N),T&&jve(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Sn()),Ni(T,this.relativeTarget)),x&&(this.animationValues=f,Tve(f,u,this.latestValues,N,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Iu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{Xb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vh(0)),this.currentAnimation=xve(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),s.onUpdate&&s.onUpdate(f)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Pve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:f}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&FZ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Sn();const d=wa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const p=wa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Ni(o,l),uh(o,f),Bv(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Dve),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&MN("z",s,u,this.animationValues);for(let f=0;f<AN.length;f++)MN(`rotate${AN[f]}`,s,u,this.animationValues),MN(`skew${AN[f]}`,s,u,this.animationValues);s.render();for(const f in u)s.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Yb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Uc(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=Ove(this.projectionDeltaWithTransform,this.treeScale,f);l&&(d=l(f,d)),s.transform=d;const{x:p,y:v}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,u.animationValues?s.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in xg){if(f[y]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:w}=xg[y],_=d==="none"?f[y]:x(f[y],u);if(b){const T=b.length;for(let M=0;M<T;M++)s[b[M]]=_}else w?this.options.visualElement.renderState.vars[y]=_:s[y]=_}this.options.layoutId&&(s.pointerEvents=u===this?Yb(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(J$),this.root.sharedNodes.clear()}}}function Rve(e){e.updateLayout()}function Lve(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Pi(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],v=wa(p);p.min=n[d].min,p.max=p.min+v}):FZ(i,t.layoutBox,n)&&Pi(d=>{const p=s?t.measuredBox[d]:t.layoutBox[d],v=wa(n[d]);p.max=p.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+v)});const o=ch();Bv(o,n,t.layoutBox);const l=ch();s?Bv(l,e.applyTransform(a,!0),t.measuredBox):Bv(l,n,t.layoutBox);const u=!IZ(o);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:v}=d;if(p&&v){const y=Sn();$v(y,t.layoutBox,p.layoutBox);const x=Sn();$v(x,n,v.layoutBox),BZ(y,x)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=y,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ive(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Bve(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $ve(e){e.clearSnapshot()}function J$(e){e.clearMeasurements()}function ez(e){e.isLayoutDirty=!1}function zve(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fve(e){e.resolveTargetDelta()}function Uve(e){e.calcProjection()}function Hve(e){e.resetSkewAndRotation()}function Vve(e){e.removeLeadSnapshot()}function rz(e,t,r){e.translate=fn(t.translate,0,r),e.scale=fn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nz(e,t,r,n){e.min=fn(t.min,r.min,n),e.max=fn(t.max,r.max,n)}function qve(e,t,r,n){nz(e.x,t.x,r.x,n),nz(e.y,t.y,r.y,n)}function Gve(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Wve={duration:.45,ease:[.4,0,.1,1]},az=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iz=az("applewebkit/")&&!az("chrome/")?Math.round:Gi;function sz(e){e.min=iz(e.min),e.max=iz(e.max)}function Kve(e){sz(e.x),sz(e.y)}function FZ(e,t,r){return e==="position"||e==="preserve-aspect"&&!eve(Z$(t),Z$(r),.2)}function Yve(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Xve=zZ({attachResizeListener:(e,t)=>bg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),EN={current:void 0},UZ=zZ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!EN.current){const e=new Xve({});e.mount(window),e.setOptions({layoutScroll:!0}),EN.current=e}return EN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Zve={pan:{Feature:mve},drag:{Feature:pve,ProjectionNode:UZ,MeasureLayout:kZ}};function oz(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&sn.postRender(()=>i(t,P0(t)))}class Qve extends Vu{mount(){const{current:t}=this.node;t&&(this.unmount=Tpe(t,(r,n)=>(oz(this.node,n,"Start"),a=>oz(this.node,a,"End"))))}unmount(){}}class Jve extends Vu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=j0(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lz(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&sn.postRender(()=>i(t,P0(t)))}class ege extends Vu{mount(){const{current:t}=this.node;t&&(this.unmount=Mpe(t,(r,n)=>(lz(this.node,n,"Start"),(a,{success:i})=>lz(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oO=new WeakMap,jN=new WeakMap,tge=e=>{const t=oO.get(e.target);t&&t(e)},rge=e=>{e.forEach(tge)};function nge({root:e,...t}){const r=e||document;jN.has(r)||jN.set(r,{});const n=jN.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(rge,{root:e,...t})),n[a]}function age(e,t,r){const n=nge(t);return oO.set(e,r),n.observe(e),()=>{oO.delete(e),n.unobserve(e)}}const ige={some:0,all:1};class sge extends Vu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:ige[a]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=u?f:d;p&&p(l)};return age(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(oge(t,r))&&this.startObserver()}unmount(){}}function oge({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const lge={inView:{Feature:sge},tap:{Feature:ege},focus:{Feature:Jve},hover:{Feature:Qve}},uge={layout:{ProjectionNode:UZ,MeasureLayout:kZ}},cge={...Kme,...lge,...Zve,...uge},HZ=cme(cge,_me),VZ=e=>{const r=e.trim().toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,10)||"AUTO",n=Math.random().toString(36).toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,4)||"XXXX";return`WH-${r}-${n}`},DN={name:"",memo:""},ON={name:!1,memo:!1},uz={name:"",memo:""},PN={name:!1,memo:!1},fge=({refreshToken:e,onRequestReload:t})=>{const[r,n]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState(null),[l,u]=A.useState(""),[f,d]=A.useState(""),[p,v]=A.useState(null),[y,x]=A.useState(!1),[b,w]=A.useState(DN),[_,T]=A.useState(ON),[M,N]=A.useState(null),[C,j]=A.useState(!1),O=A.useRef(null),[P,R]=A.useState(!1),[k,L]=A.useState(null),[I,$]=A.useState(uz),[F,z]=A.useState(PN),[V,q]=A.useState(null),[W,Y]=A.useState(!1),[H,U]=A.useState(!1),[K,ee]=A.useState(null),[ae,xe]=A.useState(!1),ke=A.useCallback(async ce=>{i(!0),o(null),v(null);try{const he=await Hu({pageSize:100,...ce?{q:ce}:{}}),ze=Array.isArray(he.items)?he.items:[],Ge=O.current;let at=ze;if(Ge){const lt=ze.findIndex(ge=>ge.code===Ge);if(lt>=0){const ge=ze[lt];at=[...ze.slice(0,lt),...ze.slice(lt+1),ge],O.current=null}}n(at)}catch(he){const ze=ce?"   .":"   .",Ge=he instanceof Error&&he.message?he.message:ze;ce?v(Ge):o(Ge),n([])}finally{i(!1)}},[]);A.useEffect(()=>{ke(f)},[ke,e,f]);const Je=A.useMemo(()=>r.map(ce=>({id:ce.id?`warehouse-${ce.id}`:`warehouse-${ce.code}`,warehouse:ce})),[r]),be=A.useCallback(ce=>{u(ce.target.value),v(null)},[]),Te=A.useCallback(ce=>{ce.preventDefault();const he=l.trim();if(u(he),v(null),he===f){ke(he);return}d(he)},[ke,l,f]),De=A.useCallback(()=>{if(u(""),v(null),f){d("");return}ke("")},[ke,f]),J=A.useCallback(()=>{w(DN),T(ON),N(null),x(!0)},[]),it=A.useCallback(()=>{C||x(!1)},[C]),Ue=A.useCallback((ce,he)=>{w(ze=>({...ze,[ce]:he})),N(null)},[]),ft=A.useCallback(ce=>{T(he=>({...he,[ce]:!0}))},[]),le=A.useCallback(async ce=>{if(ce.preventDefault(),C)return;const he=b.name.trim(),ze=b.memo.trim();if(T({name:!0,memo:!0}),!!he){j(!0),N(null);try{const at=VZ(he),lt=await lX({code:at,name:he,...ze?{notes:ze}:{}});if(!(lt!=null&&lt.id))throw new Error("     .");O.current=lt.code,x(!1),w(DN),T(ON),t(),await ke(f)}catch(at){const lt=at instanceof Error&&at.message?at.message:"  .  .";N(lt)}finally{j(!1)}}},[b,C,ke,t,f]),te=A.useCallback(()=>{t(),ke(f)},[ke,t,f]),Ne=A.useCallback(()=>{L(null),$(uz),z(PN),q(null)},[]),Le=A.useCallback(ce=>{L(ce),$({name:ce.name??"",memo:ce.notes??""}),z(PN),q(null),R(!0)},[]),Pe=A.useCallback(()=>{W||R(!1)},[W]);A.useEffect(()=>{P||(Ne(),Y(!1))},[P,Ne]);const He=A.useCallback((ce,he)=>{$(ze=>({...ze,[ce]:he})),q(null)},[]),pe=A.useCallback(ce=>{z(he=>({...he,[ce]:!0}))},[]),Fe=A.useCallback(async ce=>{var Ee,$e;if(ce.preventDefault(),!k||W)return;const he=I.name.trim(),ze=I.memo.trim();if(z({name:!0,memo:!0}),he==="")return;const Ge=((Ee=k.name)==null?void 0:Ee.trim())??"",at=(($e=k.notes)==null?void 0:$e.trim())??"",lt=he!==Ge,ge=ze!==at;if(!lt&&!ge){R(!1);return}Y(!0),q(null),o(null);try{const Oe={name:he};ge&&(Oe.notes=ze!==""?ze:null),await ode(k.code,Oe),n(mt=>mt.map(Tt=>Tt.code===k.code?{...Tt,name:he,notes:ge?Oe.notes??null:Tt.notes}:Tt))}catch(Oe){const mt=Oe instanceof Error&&Oe.message?Oe.message:"  .";o(mt),q(mt),Y(!1);return}R(!1),Y(!1)},[I,W,k]),ue=A.useCallback(ce=>{ee(ce),U(!0)},[]),nt=A.useCallback(()=>{ae||(U(!1),ee(null))},[ae]),tt=A.useCallback(async()=>{if(K)try{o(null),xe(!0),await lde(K.code),U(!1),ee(null),await ke(f),t()}catch(ce){const he=ce instanceof Error&&ce.message?ce.message:"  .";o(he)}finally{xe(!1)}},[K,ke,t,f]),Q=_.name&&!b.name.trim()?"   .":null,we=b.name.trim()!==""&&!C,st=F.name&&!I.name.trim()?"   .":null,me=!!k&&I.name.trim()!==""&&!W;return m.jsxs("div",{className:"py-10",children:[m.jsxs("div",{className:"mb-8 flex flex-wrap items-end justify-between gap-4",children:[m.jsx("div",{children:m.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:" "})}),m.jsxs("div",{className:"flex w-full flex-col items-stretch gap-2 sm:w-auto sm:items-end",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[m.jsxs("form",{className:"flex flex-wrap items-center gap-2",onSubmit:Te,children:[m.jsx("input",{type:"search",value:l,onChange:be,className:"w-48 rounded-2xl border border-slate-200/70 bg-white px-4 py-2 text-sm text-slate-700 shadow-inner focus:border-indigo-400 focus:outline-none sm:w-60",placeholder:"   "}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"submit",className:"rounded-full bg-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-600",children:""}),(f||l)&&m.jsx("button",{type:"button",onClick:De,className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-indigo-200 hover:text-indigo-600",children:""})]})]}),m.jsx("button",{type:"button",onClick:te,className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-indigo-200 hover:text-indigo-600",children:""}),m.jsx("button",{type:"button",onClick:J,className:"rounded-full bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500",children:"+  "})]}),p&&m.jsx("p",{className:"text-xs text-rose-500",children:p})]})]}),m.jsx("div",{className:"space-y-8",children:m.jsxs("section",{className:"rounded-3xl border border-slate-200/70 bg-white/80 p-6 shadow-sm",children:[m.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-slate-500",children:""}),m.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"  ."})]}),a&&m.jsx("span",{className:"text-xs text-indigo-500",children:" ..."})]}),s&&m.jsx("div",{className:"mb-4 rounded-2xl border border-rose-200 bg-rose-50/80 p-4 text-sm text-rose-600",children:s}),Je.length===0?m.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200/80 p-8 text-center text-sm text-slate-400",children:["  .  ",m.jsx("span",{className:"font-semibold text-indigo-500",children:"+  "}),"     ."]}):m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200/70",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200/60 text-sm",children:[m.jsx("thead",{className:"bg-slate-50/80 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:""}),m.jsx("th",{className:"px-4 py-3 text-left",children:""}),m.jsx("th",{className:"px-4 py-3 text-left",children:""}),m.jsx("th",{className:"px-4 py-3 text-left",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100/80 bg-white/60 text-slate-600",children:Je.map(ce=>{var Ge;const he=ce.warehouse,ze=(Ge=he.notes)==null?void 0:Ge.trim();return m.jsxs("tr",{children:[m.jsxs("td",{className:"px-4 py-3 align-top",children:[m.jsx("div",{className:"font-medium text-slate-700",children:he.name}),m.jsx("div",{className:"text-xs text-slate-400",children:he.code??""})]}),m.jsx("td",{className:"px-4 py-3 align-top text-slate-500",children:ze?m.jsx("span",{className:"whitespace-pre-line text-sm text-slate-600",children:ze}):m.jsx("span",{className:"text-xs text-slate-400",children:""})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("button",{type:"button",onClick:()=>Le(he),className:"rounded-full border border-indigo-200 bg-indigo-50/80 px-3 py-1 text-xs font-semibold text-indigo-600 transition hover:border-indigo-300 hover:bg-indigo-100",children:""})}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("button",{type:"button",onClick:()=>ue(he),className:"rounded-full border border-rose-200 bg-rose-50/80 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:border-rose-300 hover:bg-rose-100",children:""})})]},ce.id)})})]})})]})}),H&&K&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white shadow-xl",role:"dialog","aria-modal":"true","aria-labelledby":"warehouse-delete-title",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{id:"warehouse-delete-title",className:"text-lg font-semibold text-slate-800",children:"  "}),m.jsx("button",{type:"button",onClick:nt,className:"rounded-full border border-slate-200 px-3 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:ae,children:""})]}),m.jsxs("div",{className:"space-y-4 px-5 py-6 text-sm text-slate-700",children:[m.jsxs("p",{children:[" ",m.jsx("span",{className:"font-semibold",children:K.name}),"() ?"]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:nt,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:ae,children:""}),m.jsx("button",{type:"button",onClick:tt,className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-rose-500 disabled:cursor-not-allowed disabled:bg-rose-300",disabled:ae,children:ae?" ...":""})]})]})]})}),P&&k&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"  "}),m.jsx("button",{type:"button",onClick:Pe,className:"rounded-full border border-slate-200 px-3 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:W,children:""})]}),m.jsxs("form",{className:"space-y-5 px-5 py-6 text-sm text-slate-700",onSubmit:Fe,children:[m.jsx("p",{className:"text-slate-500",children:"   ."}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:""}),m.jsx("input",{type:"text",value:I.name,onChange:ce=>He("name",ce.target.value),onBlur:()=>pe("name"),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",autoFocus:!0}),st&&m.jsx("span",{className:"text-xs text-rose-500",children:st})]}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:" "}),m.jsx("textarea",{value:I.memo,onChange:ce=>He("memo",ce.target.value),onBlur:()=>pe("memo"),className:"h-24 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:"  ."})]}),V&&m.jsx("p",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:V}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:Pe,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:W,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",disabled:!me,children:W?" ...":""})]})]})]})}),y&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"  "}),m.jsx("button",{type:"button",onClick:it,className:"rounded-full border border-slate-200 px-3 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:C,children:""})]}),m.jsxs("form",{className:"space-y-5 px-5 py-6 text-sm text-slate-700",onSubmit:le,children:[m.jsx("p",{className:"text-slate-500",children:"     ."}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:""}),m.jsx("input",{type:"text",value:b.name,onChange:ce=>Ue("name",ce.target.value),onBlur:()=>ft("name"),className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:":  ",autoFocus:!0}),Q&&m.jsx("span",{className:"text-xs text-rose-500",children:Q})]}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"  ()"}),m.jsx("textarea",{value:b.memo,onChange:ce=>Ue("memo",ce.target.value),onBlur:()=>ft("memo"),className:"h-24 w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:"   "})]}),M&&m.jsx("p",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:M}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:it,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:C,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",disabled:!we,children:C?" ...":""})]})]})]})})]})},dge="  .",hge="  .",pge="w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",mge=e=>{const t=new Map;return e.forEach(r=>{const n=typeof r=="string"?{label:r.trim(),value:r.trim()}:{label:r.label.trim(),value:r.value.trim()};n.value&&(n.label||(n.label=n.value),t.set(n.value,n))}),Array.from(t.values())},lO=({id:e,value:t,onChange:r,onSelect:n,options:a=[],disabled:i=!1,placeholder:s="",helperText:o,disabledHelperText:l,emptyMessage:u=dge,noMatchMessage:f=hge,allowManualInput:d=!0,searchable:p=!0,className:v,inputClassName:y=pge,dropdownClassName:x="absolute z-20 mt-1 max-h-60 w-full overflow-y-auto rounded-xl border border-slate-200 bg-white shadow-xl",toggleAriaLabel:b=" "})=>{var H;const w=A.useMemo(()=>mge(a),[a]),[_,T]=A.useState(!1),[M,N]=A.useState(""),[C,j]=A.useState(-1),O=A.useRef(null),P=A.useRef(null),R=A.useId(),k=e?`${e}-listbox`:`${R}-listbox`,L=A.useMemo(()=>M.trim().toLowerCase(),[M]),I=A.useMemo(()=>!p||!L?w:w.filter(U=>U.label.toLowerCase().includes(L)||U.value.toLowerCase().includes(L)),[w,L,p]);A.useEffect(()=>{const U=w.find(K=>K.value===t.trim());if(U){N(U.label);return}if(d){N(t);return}N("")},[d,w,t]),A.useEffect(()=>{if(!_)return;if(I.length===0){j(-1);return}const U=I.findIndex(K=>K.value===t.trim());j(U>=0?U:0)},[I,_,t]),A.useEffect(()=>{if(!_)return;const U=K=>{O.current&&!O.current.contains(K.target)&&T(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[_]),A.useEffect(()=>{if(!P.current||C<0)return;const U=P.current.children[C];U==null||U.scrollIntoView({block:"nearest"})},[C]);const $=A.useCallback(U=>{N(U.label),r(U.value),n==null||n(U.value),T(!1)},[r,n]),F=A.useCallback(U=>{if(!d)return;const K=U.target.value;N(K),r(K),_||T(!0)},[d,_,r]),z=A.useCallback(()=>{i||T(!0)},[i]),V=A.useCallback(()=>{i||T(U=>!U)},[i]),q=A.useCallback(U=>{if(!i){if(U.key==="ArrowDown"){U.preventDefault(),T(!0),j(K=>{if(I.length===0)return-1;const ee=K+1<I.length?K+1:0;return ee<0?0:ee});return}if(U.key==="ArrowUp"){U.preventDefault(),T(!0),j(K=>I.length===0?-1:K-1>=0?K-1:I.length-1);return}if(U.key==="Enter"){_&&C>=0&&C<I.length&&(U.preventDefault(),$(I[C]));return}U.key==="Escape"&&_&&(U.preventDefault(),T(!1))}},[C,i,I,_,$]),W=i?l:o,Y=d?M:((H=w.find(U=>U.value===t.trim()))==null?void 0:H.label)??"";return m.jsxs("div",{className:v,children:[m.jsxs("div",{className:"relative",ref:O,children:[m.jsx("input",{id:e,type:"text",value:Y,onChange:F,onFocus:z,onKeyDown:q,placeholder:s,disabled:i,readOnly:!d,"aria-controls":k,"aria-expanded":_,"aria-haspopup":"listbox",role:"combobox",className:`${y} pr-10 ${i?"cursor-not-allowed bg-slate-50 text-slate-400":""}`}),m.jsx("button",{type:"button","aria-label":b,className:"absolute inset-y-0 right-2 flex items-center rounded-full p-1 text-slate-400 transition hover:text-slate-600 disabled:cursor-not-allowed disabled:text-slate-300",onMouseDown:U=>U.preventDefault(),onClick:V,disabled:i,children:m.jsx("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`h-4 w-4 transform transition-transform ${_?"rotate-180":""}`,children:m.jsx("path",{d:"M5 7l5 5 5-5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),_&&m.jsx("div",{id:k,role:"listbox",className:x,ref:P,children:I.length===0?m.jsx("div",{className:"px-3 py-3 text-sm text-slate-400",children:w.length===0?u:f}):I.map((U,K)=>{const ee=K===C,ae=t.trim().toLowerCase()===U.value.toLowerCase();return m.jsxs("button",{type:"button",role:"option","aria-selected":ae,onMouseDown:xe=>xe.preventDefault(),onClick:()=>$(U),className:`flex w-full items-center justify-between px-4 py-2 text-left text-sm transition ${ee?"bg-indigo-50 text-indigo-600":"text-slate-700 hover:bg-slate-50"}`,children:[m.jsx("span",{children:U.label}),ae?m.jsx("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-600",children:m.jsx("path",{d:"M5 10l3 3 7-7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}):null]},`${U.value}-${U.label}-${K}`)})})]}),W?m.jsx("p",{className:"mt-1 text-xs text-slate-400",children:W}):null]})},Mr=({options:e,value:t,onChange:r,...n})=>m.jsx(lO,{...n,options:e,value:t,onChange:r,allowManualInput:!1,searchable:!1}),vge={items:[{productId:"P-0001",legacyProductId:101,sku:"SKU-DAIRY-001",imageUrl:null,name:"  1L",category:"",subCategory:"",brand:"",unit:"EA",packCase:"1/12",pack:1,casePack:12,abcGrade:"A",xyzGrade:"X",bufferRatio:.25,dailyAvg:180,dailyStd:24,totalInbound:12600,totalOutbound:12180,avgOutbound7d:175,isActive:!0,onHand:420,reserved:60,risk:"",expiryDays:14,supplyPrice:1080,salePrice:1450,referencePrice:1500,currency:"KRW",createdAt:"2024-10-01T09:00:00+09:00",updatedAt:"2025-01-04T12:00:00+09:00",inventory:[{warehouseCode:"ICN",locationCode:"R1-A",onHand:280,reserved:40},{warehouseCode:"PUS",locationCode:"C2-B",onHand:140,reserved:20}]},{productId:"P-0002",legacyProductId:204,sku:"SKU-DRY-014",imageUrl:null,name:"  150g",category:"",subCategory:"",brand:"",unit:"EA",packCase:"3/24",pack:3,casePack:24,abcGrade:"B",xyzGrade:"Y",bufferRatio:.3,dailyAvg:95,dailyStd:12,totalInbound:8800,totalOutbound:8420,avgOutbound7d:98,isActive:!0,onHand:380,reserved:35,risk:"",expiryDays:720,supplyPrice:890,salePrice:1290,referencePrice:1350,currency:"KRW",createdAt:"2024-08-12T11:25:00+09:00",updatedAt:"2025-01-03T15:10:00+09:00",inventory:[{warehouseCode:"ICN",locationCode:"D3-C",onHand:260,reserved:20},{warehouseCode:"PUS",locationCode:"F1-A",onHand:120,reserved:15}]},{productId:"P-0003",legacyProductId:318,sku:"SKU-FRZ-027",imageUrl:null,name:"  2kg",category:"",subCategory:"",brand:"",unit:"EA",packCase:"1/6",pack:1,casePack:6,abcGrade:"A",xyzGrade:"Z",bufferRatio:.35,dailyAvg:60,dailyStd:15,totalInbound:5400,totalOutbound:4980,avgOutbound7d:64,isActive:!0,onHand:320,reserved:25,risk:"",expiryDays:365,supplyPrice:5200,salePrice:6750,referencePrice:6900,currency:"KRW",createdAt:"2024-06-18T08:45:00+09:00",updatedAt:"2025-01-02T09:40:00+09:00",inventory:[{warehouseCode:"ICN",locationCode:"F5-D",onHand:200,reserved:10},{warehouseCode:"PUS",locationCode:"B2-E",onHand:120,reserved:15}]},{productId:"P-0004",legacyProductId:452,sku:"SKU-BEV-033",imageUrl:null,name:"  500ml",category:"",subCategory:"",brand:"",unit:"EA",packCase:"1/8",pack:1,casePack:8,abcGrade:"A",xyzGrade:"Y",bufferRatio:.22,dailyAvg:140,dailyStd:18,totalInbound:10100,totalOutbound:9870,avgOutbound7d:142,isActive:!0,onHand:230,reserved:45,risk:"",expiryDays:120,supplyPrice:3100,salePrice:4200,referencePrice:4300,currency:"KRW",createdAt:"2024-09-05T10:20:00+09:00",updatedAt:"2025-01-06T14:30:00+09:00",inventory:[{warehouseCode:"ICN",locationCode:"B1-A",onHand:150,reserved:30},{warehouseCode:"PUS",locationCode:"E4-B",onHand:80,reserved:15}]},{productId:"P-0005",legacyProductId:563,sku:"SKU-BAK-041",imageUrl:null,name:" ",category:"",subCategory:"",brand:"",unit:"EA",packCase:"1/10",pack:1,casePack:10,abcGrade:"B",xyzGrade:"X",bufferRatio:.28,dailyAvg:75,dailyStd:10,totalInbound:6100,totalOutbound:5880,avgOutbound7d:78,isActive:!0,onHand:180,reserved:20,risk:"",expiryDays:5,supplyPrice:2100,salePrice:2900,referencePrice:2950,currency:"KRW",createdAt:"2024-11-11T06:40:00+09:00",updatedAt:"2025-01-05T07:55:00+09:00",inventory:[{warehouseCode:"ICN",locationCode:"A3-C",onHand:110,reserved:12},{warehouseCode:"PUS",locationCode:"G1-D",onHand:70,reserved:8}]}],count:5},gge=60*1e3,qZ=60*gge,kN=24*qZ,yge=9,Gh=yge*qZ,GZ=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})(?::(\d{2}))?$/,Rm=e=>String(e).padStart(2,"0"),KR=e=>{if(typeof e=="number")return Number.isFinite(e)?e:null;if(e instanceof Date){const t=e.getTime();return Number.isNaN(t)?null:t}if(typeof e=="string"){const r=new Date(e).getTime();return Number.isNaN(r)?null:r}return null},NS=(e,t)=>{const r=new Date(e+t);return{year:r.getUTCFullYear(),month:Rm(r.getUTCMonth()+1),day:Rm(r.getUTCDate()),hours:Rm(r.getUTCHours()),minutes:Rm(r.getUTCMinutes()),seconds:Rm(r.getUTCSeconds())}},WZ=(e,t=!1)=>{const r=NS(e,Gh),n=t?`${r.hours}:${r.minutes}:${r.seconds}`:`${r.hours}:${r.minutes}`;return`${r.year}-${r.month}-${r.day} ${n} KST (UTC+9)`},xge=(e,t=!1)=>{const r=NS(e,0),n=t?`${r.hours}:${r.minutes}:${r.seconds}`:`${r.hours}:${r.minutes}`;return`${r.year}-${r.month}-${r.day} ${n} UTC`},bge=e=>{const t=NS(e,Gh);return`${t.year}-${t.month}-${t.day}T${t.hours}:${t.minutes}`},wge=e=>{const t=GZ.exec(e.trim());if(!t)return e.trim();const[,r,n,a,i,s]=t;return`${r}-${n}-${a}T${i}:${s}`},Ko=e=>{const t=GZ.exec(e.trim());if(!t)return null;const[,r,n,a,i,s,o]=t,l=Date.UTC(Number(r),Number(n)-1,Number(a),Number(i),Number(s),o?Number(o):0);return Number.isFinite(l)?l-Gh:null},KZ=e=>{const t=Ko(e);return t===null?null:new Date(t).toISOString()},ou=e=>{const t=KR(e);return t===null?"":bge(t)},YZ=e=>{const t=KR(e);if(t===null)return null;const r=NS(t,Gh);return`${r.year}-${r.month}-${r.day}`},$u=(e,t)=>{const r=KR(e);return r===null?null:WZ(r,t==null?void 0:t.withSeconds)},XZ=(e,t)=>{const r=Ko(e);return r===null?null:WZ(r,t==null?void 0:t.withSeconds)},Sge=(e,t)=>{const r=Ko(e);return r===null?null:xge(r,t==null?void 0:t.withSeconds)},qu=(e=Date.now())=>{const t=Math.floor((e+Gh)/kN)*kN-Gh,r=t+kN-1;return{startUtcMs:t,endUtcMs:r}},_ge=e=>{const t=$u(e.startUtcMs),r=$u(e.endUtcMs);if(!t||!r)return"";const n=t.replace(" KST (UTC+9)",""),a=r.replace(" KST (UTC+9)","");return`${n} ~ ${a} KST (UTC+9)`},ZZ=(e,t)=>e>=t.startUtcMs&&e<=t.endUtcMs,cz=(e,t)=>{const r=Ko(e);return r===null?!1:ZZ(r,t)},Tge=(e,t=Date.now())=>{const r=qu(t);return ZZ(e,r)},fz=()=>{const e=qu(),t=_ge(e);return{bounds:e,label:t}},Cge=()=>typeof window>"u"||typeof window.matchMedia!="function"?"spinner":window.matchMedia("(pointer: coarse)").matches?"dial":"spinner",Nge=e=>String(e).padStart(2,"0"),QZ=540*60*1e3,Age=e=>{if(!e)return null;const t=Date.parse(e);if(Number.isNaN(t))return null;const r=new Date(t+QZ);return`${r.getUTCFullYear()}-${Nge(r.getUTCMonth()+1)}`},Mge=e=>{const t=o=>o?o.trim().toUpperCase():"",r=t(e.partnerId),n=t(e.partnerName),a=t(e.orderRef),i=t(e.sku),s=t(e.warehouseCode);return[r,n,a,e.occurredAt,i,String(e.quantity),s].join("|")},dz=new Set,Ege=new Map,jge=e=>{const t=e.trim();if(!t)return Number.NaN;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[a,i,s]=t.split("-").map(Number);return[a,i,s].some(o=>Number.isNaN(o))?Number.NaN:Date.UTC(a,i-1,s)-QZ}const n=Date.parse(t);return Number.isNaN(n)?Number.NaN:n},df=e=>typeof globalThis.structuredClone=="function"?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),YR=e=>{const t=Math.random().toString(36).slice(2,10);return`${e}-${t}`},JZ=e=>vge.items.find(t=>t.sku===e),eQ=e=>{const t=Date.parse(e);if(Number.isNaN(t))throw new Error("   .");return t},Dge=e=>{const t=[];return e.forEach(({sku:r,quantity:n,warehouseCode:a})=>{if(n<=0)return;const i=JZ(r);if(!i)return;const s=(a==null?void 0:a.trim())??"";if(!s)return;const o=i.inventory?[...i.inventory]:[];let l=o.find(f=>f.warehouseCode===s);l||(l={warehouseCode:s,onHand:0,reserved:0},o.push(l)),l.onHand+=n,i.inventory=o;const u=o.reduce((f,d)=>f+d.onHand,0);o.length>0?i.onHand=u:i.onHand=(i.onHand??0)+n,i.totalInbound=(i.totalInbound??0)+n,t.push({change:n,occurredAt:new Date().toISOString(),reason:"purchase-receipt",productId:Number.isFinite(i.legacyProductId)?i.legacyProductId:void 0,product:{id:Number.isFinite(i.legacyProductId)?i.legacyProductId:void 0,sku:i.sku,name:i.name},toLocation:s?{warehouse:{code:s}}:void 0})}),t},Oge=e=>{const t=[];return e.forEach(({sku:r,quantity:n,warehouseCode:a})=>{if(n<=0)return;const i=JZ(r);if(!i)return;const s=(a==null?void 0:a.trim())??"";if(!s)return;const o=i.inventory?[...i.inventory]:[];let l=o.find(f=>f.warehouseCode===s);if(l||(l={warehouseCode:s,onHand:0,reserved:0},o.push(l)),l.onHand=Math.max(0,l.onHand-n),i.inventory=o,o.length>0){const f=o.reduce((d,p)=>d+p.onHand,0);i.onHand=Math.max(0,f)}else{const f=typeof i.onHand=="number"&&Number.isFinite(i.onHand)?i.onHand:0;i.onHand=Math.max(0,f-n)}i.totalOutbound=(i.totalOutbound??0)+n;const u=Number.isFinite(i.legacyProductId)?i.legacyProductId:void 0;t.push({change:-n,occurredAt:new Date().toISOString(),reason:"sales-shipment",productId:u,product:{id:u,sku:i.sku,name:i.name},fromLocation:{warehouse:{code:s}}})}),t},wv=[{id:"partner-s-1",type:"SUPPLIER",name:"",phone:"02-1234-5678",email:"sales@hanbitfood.co.kr",address:"   77",isSample:!0,isActive:!0},{id:"partner-s-2",type:"SUPPLIER",name:"",phone:"031-987-6543",email:"order@korpack.kr",address:"    22",isSample:!0,isActive:!0},{id:"partner-s-cheongho",type:"SUPPLIER",name:"",phone:"02-345-1122",email:"info@cheongho.co.kr",address:"   201",isSample:!0,isActive:!0},{id:"partner-c-1",type:"CUSTOMER",name:" ",phone:"02-333-0001",email:"stock@starmarket.kr",address:"   320",isSample:!0,isActive:!0},{id:"partner-c-2",type:"CUSTOMER",name:" ",phone:"02-444-0020",email:"ops@freshmall.co.kr",address:"   55",isSample:!0,isActive:!0}],tQ=[{id:"po-20250101-001",type:"PURCHASE",partnerId:"partner-s-1",status:"OPEN",createdAt:"2025-01-04T02:00:00.000Z",scheduledAt:"2025-01-06T00:00:00.000Z",memo:" ",warehouseId:"wh-1",warehouseCode:"WHS-SEOUL",isSample:!0,items:[{orderId:"po-20250101-001",sku:"ING-APPLE-10KG",qty:120,unit:"BOX",receivedQty:60,warehouseCode:"WHS-SEOUL"},{orderId:"po-20250101-001",sku:"ING-BANANA-05KG",qty:80,unit:"BOX",receivedQty:20,warehouseCode:"WHS-SEOUL"}],events:[{id:"po-20250101-001-status-open",orderId:"po-20250101-001",kind:"STATUS",from:"DRAFT",to:"OPEN",occurredAt:"2025-01-04T02:00:00.000Z"},{id:"po-20250101-001-receive-1",orderId:"po-20250101-001",kind:"RECEIVE",occurredAt:"2025-01-06T01:30:00.000Z",lines:[{sku:"ING-APPLE-10KG",quantity:60,warehouseCode:"WHS-SEOUL"},{sku:"ING-BANANA-05KG",quantity:20,warehouseCode:"WHS-SEOUL"}],note:"  "}]},{id:"po-20250105-002",type:"PURCHASE",partnerId:"partner-s-2",status:"DRAFT",createdAt:"2025-01-05T05:20:00.000Z",scheduledAt:"2025-01-08T00:00:00.000Z",memo:"   ",warehouseId:"wh-2",warehouseCode:"WHS-ICN",isSample:!0,items:[{orderId:"po-20250105-002",sku:"PACK-BOX-20",qty:200,unit:"EA",receivedQty:0,warehouseCode:"WHS-ICN"},{orderId:"po-20250105-002",sku:"PACK-TAPE-48",qty:300,unit:"EA",receivedQty:0,warehouseCode:"WHS-ICN"}],events:[{id:"po-20250105-002-status-draft",orderId:"po-20250105-002",kind:"STATUS",from:"DRAFT",to:"DRAFT",occurredAt:"2025-01-05T05:20:00.000Z"}]}],Tp=[],Pge=e=>{var t;for(let r=e.length-1;r>=0;r-=1)(t=e[r])!=null&&t.isSample&&e.splice(r,1)},rQ=()=>{Pge(Tp)},kge=e=>wv.find(t=>t.id===e),Rge=(e={})=>{const t=new URLSearchParams;e.type&&t.set("type",e.type),e.includeSample&&t.set("includeSample","true");const r=t.toString();return r?`/partners?${r}`:"/partners"};async function so(e={}){const t=Rge(e);return(await aa(t)).items}async function nQ(e){var n,a,i,s;const t={type:e.type,name:e.name.trim(),phone:((n=e.phone)==null?void 0:n.trim())||void 0,email:((a=e.email)==null?void 0:a.trim())||void 0,address:((i=e.address)==null?void 0:i.trim())||void 0,notes:((s=e.notes)==null?void 0:s.trim())||void 0};return(await Hn("/partners",t)).item}const yx=e=>{if(e===void 0)return;if(e===null)return null;const t=e.trim();return t||null};async function aQ(e){var l;const t=(l=e.name)==null?void 0:l.trim(),r={id:e.id};e.type!==void 0&&(r.type=e.type),t!==void 0&&(r.name=t);const n=yx(e.phone);n!==void 0&&(r.phone=n);const a=yx(e.email);a!==void 0&&(r.email=a);const i=yx(e.address);i!==void 0&&(r.address=i);const s=yx(e.notes);return s!==void 0&&(r.notes=s),typeof e.isActive=="boolean"&&(r.isActive=e.isActive),(await nde(`/partners/${encodeURIComponent(e.id)}`,r)).item}async function Lge(e){return(await E0(`/partners/${encodeURIComponent(e)}`)).item}const Ige=e=>{const t=kge(e.partnerId),r=e.items.reduce((a,i)=>a+i.qty,0),n=e.items.reduce((a,i)=>a+i.shippedQty,0);return{id:e.id,partnerId:e.partnerId,partnerName:(t==null?void 0:t.name)??"",status:e.status,createdAt:e.createdAt,scheduledAt:e.scheduledAt,totalQty:r,shippedQty:n,warehouseId:e.warehouseId,warehouseCode:e.warehouseCode}},Bge=e=>{const t=e.items.reduce((n,a)=>n+a.qty,0),r=e.items.reduce((n,a)=>n+a.shippedQty,0);return r===0?e.status==="CANCELLED"?"CANCELLED":"OPEN":r>=t?"RECEIVED":"PARTIAL"};async function $ge(){return Tp.map(e=>Ige(e))}async function zge(e){const t=tQ.find(r=>r.id===e);return t?df(t):void 0}async function iQ(e){const t=Tp.find(r=>r.id===e);return t?df(t):void 0}const Zb=e=>e&&e.charCodeAt(0)===65279?e.slice(1):e;function Fge(e){const t=e.split(/\r?\n/).map(i=>Zb(i).trim()).filter(i=>i&&!i.startsWith("#"));if(t.length===0)return{headers:[],rows:[]};const r=i=>Zb(i).split(",").map(s=>Zb(s).trim()),n=r(t[0]),a=t.slice(1).map(r);return{headers:n,rows:a}}const hz=e=>Zb(e).replace(/\s+/g,"").replace(/[()]/g,"").toLowerCase(),Uge={orderRef:["orderref","",""],occurredAt:["occurredat","","",""],partnerId:["partnerid","id","id",""],partnerName:["partnername","","",""],sku:["sku","sku",""],productName:["productname","","",""],category:["category","",""],quantity:["quantity","","",""],warehouseCode:["warehousecode","",""]},Ro=(e,t)=>{const r=new Set(Uge[t].map(hz));return e.findIndex(n=>r.has(hz(n)))};async function Hge(e,t){var w;const{headers:r,rows:n}=Fge(e),a=[];if(r.length===0)return{addedOrders:0,addedLines:0,errors:["CSV  ."]};const i={orderRef:Ro(r,"orderRef"),occurredAt:Ro(r,"occurredAt"),partnerId:Ro(r,"partnerId"),partnerName:Ro(r,"partnerName"),sku:Ro(r,"sku"),productName:Ro(r,"productName"),category:Ro(r,"category"),quantity:Ro(r,"quantity"),warehouseCode:Ro(r,"warehouseCode")};if(i.occurredAt===-1||i.sku===-1||i.quantity===-1)return{addedOrders:0,addedLines:0,errors:[" (occurredAt, sku, quantity) ."]};const s=(_,T)=>{const M=_[i.occurredAt]??"",N=jge(M);if(Number.isNaN(N)){a.push(` ${T}: occurredAt     .`);return}const C=new Date(N).toISOString(),j=(_[i.sku]??"").trim();if(!j){a.push(` ${T}: sku  .`);return}const P=(i.productName>=0?(_[i.productName]??"").trim():"")||void 0,k=(i.category>=0?(_[i.category]??"").trim():"")||"",L=(_[i.quantity]??"").replace(/,/g,""),I=Number(L);if(!Number.isFinite(I)||I<=0){a.push(` ${T}: quantity  .`);return}const $=i.partnerId>=0?(_[i.partnerId]??"").trim():void 0,F=i.partnerName>=0?(_[i.partnerName]??"").trim():void 0,z=i.orderRef>=0?(_[i.orderRef]??"").trim():void 0,V=i.warehouseCode>=0?(_[i.warehouseCode]??"").trim():void 0;return{orderRef:z,occurredAt:C,partnerId:$,partnerName:F,sku:j,productName:P,category:k,quantity:I,warehouseCode:V}},o=[],l=new Set;if(n.forEach((_,T)=>{const M=T+2,N=s(_,M);if(!N)return;const C=Mge(N);if(l.has(C)){a.push(` ${M}:      .`);return}l.add(C),o.push({...N,rowNum:M,dedupKey:C,monthKey:Age(N.occurredAt)})}),o.length===0)return{addedOrders:0,addedLines:0,errors:a};const u=new Set;o.forEach(_=>{_.monthKey&&u.add(_.monthKey)});const f=[],d=new Set;if(o.forEach(_=>{if(d.has(_.dedupKey)){a.push(` ${_.rowNum}:      .`);return}if(dz.has(_.dedupKey)){a.push(` ${_.rowNum}:     .`);return}d.add(_.dedupKey),f.push(_)}),f.length===0)return{addedOrders:0,addedLines:0,errors:a};const p=new Map;if(f.forEach(_=>{var C;const M=((C=_.orderRef)==null?void 0:C.trim())||`${_.partnerId||_.partnerName||"unknown"}|${_.occurredAt.slice(0,10)}`,N=p.get(M)??[];N.push(_),p.set(M,N)}),p.size===0)return{addedOrders:0,addedLines:0,errors:a};rQ();const v=_=>_?wv.find(T=>T.name===_):void 0,y=wv.find(_=>_.type==="CUSTOMER")??wv[0];let x=0,b=0;for(const _ of p.values()){if(_.length===0)continue;const T=_[0],M=T.occurredAt,N=T.partnerId&&wv.find(L=>L.id===T.partnerId)||v(T.partnerName)||y,C=YR("so-imp"),j=new Map;_.forEach(L=>{const I=L.sku,$=j.get(I)??{qty:0,category:L.category,productName:L.productName};$.qty+=L.quantity,!$.category&&L.category&&($.category=L.category),!$.productName&&L.productName&&($.productName=L.productName),j.set(I,$)});const O=Array.from(j.entries()).map(([L,I])=>({orderId:C,sku:L,qty:I.qty,unit:"EA",shippedQty:0,warehouseCode:T.warehouseCode,category:I.category,productName:I.productName})),P={id:C,type:"SALES",partnerId:(N==null?void 0:N.id)??"partner-c-unknown",status:"OPEN",createdAt:M,scheduledAt:M,memo:T.orderRef?`CSV import ${T.orderRef}`:"CSV import",warehouseId:void 0,warehouseCode:T.warehouseCode,items:O,events:[],isCsvImport:!0,csvImportRef:((w=T.orderRef)==null?void 0:w.trim())||void 0};Tp.unshift(P);const R=_.map(L=>{var I;return{sku:L.sku,quantity:L.quantity,warehouseCode:((I=L.warehouseCode)==null?void 0:I.trim())??"",category:L.category,productName:L.productName}});let k=!1;try{await sQ(C,{lines:R,occurredAt:M}),k=!0}catch(L){const I=L instanceof Error?L.message:"    .";a.push(` ${C}: ${I}`)}if(k){const L=_.map(I=>I.dedupKey);Ege.set(C,L),L.forEach(I=>dz.add(I))}x+=1,b+=_.length}return{addedOrders:x,addedLines:b,errors:a}}const Vge=(e,t,r)=>{const n=e.status;if(n===t)return;const a={id:`${e.id}-status-${Date.now()}`,orderId:e.id,kind:"STATUS",from:n,to:t,occurredAt:new Date().toISOString(),note:r};e.events.push(a),e.status=t},qge=e=>e.filter(t=>t.quantity>0);async function sQ(e,t){const r=Tp.find(u=>u.id===e);if(!r)throw new Error(`Sales order ${e} not found`);const n=qge(t.lines);if(!n.length)return df(r);const a=[];if(n.forEach(({sku:u,quantity:f,warehouseCode:d,category:p,productName:v})=>{const y=r.items.find(_=>_.sku===u);if(!y)return;const x=y.shippedQty,b=Math.min(y.qty,x+f),w=Math.max(0,b-x);w<=0||(y.shippedQty=b,a.push({sku:y.sku,quantity:w,warehouseCode:(d==null?void 0:d.trim())||y.warehouseCode||r.warehouseCode||"",category:p??y.category,productName:v??y.productName}))}),a.length===0)return df(r);const i=t.occurredAt&&!Number.isNaN(Date.parse(t.occurredAt))?new Date(t.occurredAt).toISOString():new Date().toISOString(),s={id:`${e}-ship-${Date.now()}`,orderId:e,kind:"SHIP",occurredAt:i,note:t.note,lines:a};r.events.push(s);const o=Bge(r);Vge(r,o);const l=Oge(a);return l.length>0&&fR({source:"sales",movements:l}),df(r)}async function Gge(e){if(!e.partnerId||!e.partnerId.trim())throw new Error("  .");eQ(e.scheduledAt);const t=YR("po"),r=new Date().toISOString(),n=e.status??"DRAFT",a={id:t,type:"PURCHASE",partnerId:e.partnerId,status:n,createdAt:r,scheduledAt:e.scheduledAt,memo:e.memo,warehouseId:e.warehouseId,warehouseCode:e.warehouseCode,items:e.items.map(i=>({orderId:t,sku:i.sku,qty:i.qty,unit:i.unit,receivedQty:n==="RECEIVED"?i.qty:0,warehouseCode:e.warehouseCode})),events:[{id:`${t}-status-${n.toLowerCase()}`,orderId:t,kind:"STATUS",from:"DRAFT",to:n,occurredAt:r}]};if(tQ.unshift(a),n==="RECEIVED"){const i=a.items.filter(s=>s.receivedQty>0).map(s=>({sku:s.sku,quantity:s.receivedQty,warehouseCode:s.warehouseCode||e.warehouseCode||""}));if(i.length>0){a.events.push({id:`${t}-receive-initial`,orderId:t,kind:"RECEIVE",occurredAt:r,lines:i});const s=Dge(i);s.length>0&&fR({source:"purchases",movements:s})}}return df(a)}async function Wge(e){if(!e.partnerId||!e.partnerId.trim())throw new Error("  .");const t=eQ(e.scheduledAt);if(!Tge(t))throw new Error("  KST  (00:00~23:59)  .");const r=YR("so"),n=new Date().toISOString(),a=e.status??"DRAFT",i={id:r,type:"SALES",partnerId:e.partnerId,status:a,createdAt:n,scheduledAt:e.scheduledAt,memo:e.memo,warehouseId:e.warehouseId,warehouseCode:e.warehouseCode,items:e.items.map(s=>({orderId:r,sku:s.sku,qty:s.qty,unit:s.unit,shippedQty:0,warehouseCode:e.warehouseCode})),events:[{id:`${r}-status-${a.toLowerCase()}`,orderId:r,kind:"STATUS",from:"DRAFT",to:a,occurredAt:n}]};return rQ(),Tp.unshift(i),df(i)}const RN={type:"SUPPLIER",name:"",phone:"",email:"",address:"",notes:""},Kge=[{label:"",value:"SUPPLIER"},{label:"",value:"CUSTOMER"}],oQ=({open:e,mode:t,onClose:r,initialPartner:n,defaultType:a,onCompleted:i})=>{const[s,o]=A.useState(RN),[l,u]=A.useState(!1),[f,d]=A.useState(null),p=t==="edit";A.useEffect(()=>{e&&(o(p&&n?{type:n.type,name:n.name??"",phone:n.phone??"",email:n.email??"",address:n.address??"",notes:n.notes??""}:{...RN,type:a??RN.type}),d(null),u(!1))},[a,n,p,e]);const v=A.useCallback(async y=>{y.preventDefault(),u(!0),d(null);try{if(p&&!(n!=null&&n.id))throw new Error("   .");const x={type:s.type,name:s.name.trim(),phone:s.phone.trim(),email:s.email.trim(),address:s.address.trim(),notes:s.notes.trim()},b=p?await aQ({id:n.id,type:x.type,name:x.name,phone:x.phone||null,email:x.email||null,address:x.address||null,notes:x.notes||null}):await nQ({type:x.type,name:x.name,phone:x.phone||void 0,email:x.email||void 0,address:x.address||void 0,notes:x.notes||void 0});i&&await i(b),u(!1),r()}catch(x){console.error("[orders] PartnerModal submit failed",x);const b=p?"  .":"  .";d(x instanceof Error?x.message:b),u(!1)}},[s,n==null?void 0:n.id,p,r,i]);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:p?"  ":"  "}),m.jsx("button",{type:"button",className:"text-sm text-slate-500",onClick:r,disabled:l,children:""})]}),m.jsxs("form",{onSubmit:v,className:"space-y-4 px-6 py-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-type",children:""}),m.jsx(Mr,{id:"partner-type",className:"w-full",value:s.type,options:Kge,onChange:y=>o(x=>({...x,type:y})),placeholder:" ",helperText:"   .",inputClassName:"w-full rounded-md border border-slate-200 px-3 py-2",disabled:l})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-name",children:""}),m.jsx("input",{id:"partner-name",type:"text",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:s.name,onChange:y=>o(x=>({...x,name:y.target.value})),placeholder:" ",disabled:l,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-phone",children:""}),m.jsx("input",{id:"partner-phone",type:"tel",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:s.phone,onChange:y=>o(x=>({...x,phone:y.target.value})),placeholder:"010-0000-0000",disabled:l})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-email",children:""}),m.jsx("input",{id:"partner-email",type:"email",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:s.email,onChange:y=>o(x=>({...x,email:y.target.value})),placeholder:"name@example.com",disabled:l})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-address",children:""}),m.jsx("input",{id:"partner-address",type:"text",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:s.address,onChange:y=>o(x=>({...x,address:y.target.value})),placeholder:" ",disabled:l})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"partner-notes",children:""}),m.jsx("textarea",{id:"partner-notes",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:s.notes,onChange:y=>o(x=>({...x,notes:y.target.value})),placeholder:"  ",rows:3,disabled:l})]}),f?m.jsx("div",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600",children:f}):null,m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-4 py-2 text-sm text-slate-600",onClick:r,disabled:l,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white",disabled:l,children:l?" ...":p?"  ":" "})]})]})]})}):null},lQ=["type","name"],Yge=["phone","email","address","notes"],Xge=new Set([...lQ,...Yge]),Zge={supplier:"SUPPLIER",:"SUPPLIER",vendor:"SUPPLIER",:"SUPPLIER",customer:"CUSTOMER",:"CUSTOMER",buyer:"CUSTOMER"},Qge={type:"type",:"type",name:"name",:"name",phone:"phone",:"phone",email:"email",:"email",address:"address",:"address",notes:"notes",:"notes"},Jge={type:"",name:"",phone:"",email:"",address:"",notes:""},pz=e=>{const t=[];let r="",n=!1;for(let a=0;a<e.length;a+=1){const i=e[a];i==='"'?n&&e[a+1]==='"'?(r+='"',a+=1):n=!n:i===","&&!n?(t.push(r.trim()),r=""):r+=i}return t.push(r.trim()),t},e0e=e=>e.trim().toLowerCase(),t0e=e=>{const t=e.trim();if(!t)return null;const r=t.toUpperCase();return r==="SUPPLIER"||r==="CUSTOMER"?r:Zge[t.toLowerCase()]??null},Lm=e=>{if(!e)return;const t=e.trim();return t||void 0},uQ=(e,t)=>`${e}::${t.toLowerCase()}`,cQ=async()=>{const e=["","","","","",""],t=[["","","02-1234-5678","sales@hanbitfood.co.kr","   77"," "],[""," ","02-444-0020","ops@freshmall.co.kr","   55",""]],r=e.join(","),n=t.map(a=>a.map(i=>`"${String(i).replace(/"/g,'""')}"`).join(",")).join(`
`);return new Blob(["\uFEFF",r,`
`,n],{type:"text/csv;charset=utf-8"})};async function r0e(){const e=await so({includeSample:!0}),t=new Map;return e.forEach(r=>{const n=uQ(r.type,r.name);t.has(n)||t.set(n,r)}),t}function n0e(e,t){const r=e.replace(/^\uFEFF/,"");if(!r.trim())return{rows:[],summary:{total:0,createCount:0,updateCount:0,errorCount:1}};const n=r.split(/\r?\n/),a=n[0]??"",i=pz(a),s=[],o=new Map,l=[];i.forEach((w,_)=>{const T=e0e(w),M=Qge[T]??(Xge.has(T)?T:null);M?(s.push(M),o.set(_,M)):l.push(w.trim()||`( ${_+1})`)});const u=lQ.filter(w=>!s.includes(w));if(u.length>0)return{rows:[{rowNumber:1,action:"error",messages:[`  : ${u.map(T=>Jge[T]??T).join(", ")}`]}],summary:{total:0,createCount:0,updateCount:0,errorCount:1}};const f=l.map(w=>`    '${w}'    .`),d=new Set,p=[];let v=0,y=0,x=f.length>0?1:0;f.length>0&&p.push({rowNumber:1,action:"error",messages:f});for(let w=1;w<n.length;w+=1){const _=n[w],T=pz(_);if(T.every(q=>q.trim().length===0))continue;const M={};o.forEach((q,W)=>{M[q]=T[W]??""});const N=w+1,C=[],j=M.type??"",O=t0e(j);O||C.push("   . SUPPLIER  CUSTOMER .");const P=Lm(M.name);if(P||C.push("   ."),!O||!P){p.push({rowNumber:N,action:"error",messages:C}),x+=1;continue}const R=uQ(O,P);if(d.has(R)){p.push({rowNumber:N,action:"error",messages:["  CSV  .      ."]}),x+=1;continue}d.add(R);const k=Lm(M.phone),L=Lm(M.email),I=Lm(M.address),$=Lm(M.notes);if(C.length>0){p.push({rowNumber:N,action:"error",messages:C}),x+=1;continue}const F=t.get(R),z={type:O,name:P,phone:k,email:L,address:I,notes:$},V=F?"update":"create";V==="create"?v+=1:y+=1,p.push({rowNumber:N,action:V,messages:[],payload:z,existingId:F==null?void 0:F.id})}const b={total:p.length,createCount:v,updateCount:y,errorCount:x};return{rows:p,summary:b}}const a0e=e=>e?{type:e.type,name:e.name,phone:e.phone??void 0,email:e.email??void 0,address:e.address??void 0,notes:e.notes??void 0}:null;async function i0e(e){const t={created:0,updated:0,failed:[]};for(const r of e.rows)if(!(r.action==="error"||!r.payload))try{if(r.action==="create")await nQ({type:r.payload.type,name:r.payload.name,phone:r.payload.phone,email:r.payload.email,address:r.payload.address,notes:r.payload.notes}),t.created+=1;else if(r.action==="update"){if(!r.existingId)throw new Error("  ID   .");const n=a0e(r.payload);if(!n)continue;await aQ({id:r.existingId,type:n.type,name:n.name,phone:n.phone??null,email:n.email??null,address:n.address??null,notes:n.notes??null}),t.updated+=1}}catch(n){const a=n instanceof Error?n.message:"    .";t.failed.push({rowNumber:r.rowNumber,message:a})}return t}function s0e(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result??"")),n.onerror=()=>r(n.error??new Error("    .")),n.readAsText(e,"utf-8")})}const o0e=({open:e,onClose:t,onCompleted:r})=>{const n=A.useRef(null),[a,i]=A.useState(null),[s,o]=A.useState(null),[l,u]=A.useState(!1),[f,d]=A.useState(null),[p,v]=A.useState(null),[y,x]=A.useState(null);A.useEffect(()=>{e||(i(null),o(null),d(null),v(null),x(null))},[e]);const b=async()=>{try{const C=await cQ(),j=URL.createObjectURL(C),O=document.createElement("a");O.href=j,O.download="partner-template.csv",O.click(),URL.revokeObjectURL(j)}catch(C){d(C instanceof Error?C.message:"CSV   .")}},w=async C=>{u(!0),d(null),v(null),x(null);try{const[j,O]=await Promise.all([s0e(C),r0e()]),P=n0e(j,O);o(P),i(C),P.summary.errorCount>0&&P.rows.length===0&&d("CSV  .   .")}catch(j){d(j instanceof Error?j.message:"CSV  ."),o(null),i(null)}finally{u(!1)}},_=()=>{var C;(C=n.current)==null||C.click()},T=async()=>{if(!(!s||l)){u(!0),d(null),v(null);try{const C=await i0e(s);x(C),C.failed.length>0?d(` ${C.failed.length}   .`):(v(` ${C.created},  ${C.updated} .`),await r()),C.failed.length===0&&(o(null),i(null))}catch(C){d(C instanceof Error?C.message:"CSV  .")}finally{u(!1)}}},M=A.useMemo(()=>s?s.rows.filter(C=>C.action==="error").slice(0,20):[],[s]),N=A.useMemo(()=>!y||y.failed.length===0?[]:y.failed.slice(0,20),[y]);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:" CSV "}),m.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-slate-200 px-2 py-1 text-sm text-slate-500 hover:border-slate-300 hover:text-slate-700",children:""})]}),m.jsxs("div",{className:"space-y-4 px-5 py-6 text-sm text-slate-700",children:[m.jsx("p",{className:"text-slate-500",children:"CSV    .       ."}),m.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-4",children:[m.jsx("input",{ref:n,type:"file",accept:".csv,text/csv",className:"hidden",onChange:C=>{var O;const j=(O=C.target.files)==null?void 0:O[0];j&&w(j)}}),m.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-slate-700",children:a?a.name:"  ."}),m.jsx("p",{className:"text-xs text-slate-500",children:"CSV , UTF-8 .  : , ."})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{type:"button",onClick:b,className:"rounded-md border border-slate-300 px-3 py-2 text-xs font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:" "}),m.jsx("button",{type:"button",onClick:_,className:"rounded-md border border-slate-300 px-3 py-2 text-xs font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:" "}),a?m.jsx("button",{type:"button",onClick:()=>void w(a),className:"rounded-md border border-slate-300 px-3 py-2 text-xs font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:" "}):null]})]})]}),l?m.jsx("p",{className:"text-xs text-indigo-600",children:" .   ..."}):null,f?m.jsx("p",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:f}):null,p?m.jsx("p",{className:"rounded-md bg-emerald-50 px-3 py-2 text-xs text-emerald-600",children:p}):null,s?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center md:grid-cols-4",children:[m.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[m.jsx("p",{className:"text-xs text-slate-400",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-slate-800",children:s.summary.total})]}),m.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-3",children:[m.jsx("p",{className:"text-xs text-emerald-600",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-emerald-700",children:s.summary.createCount})]}),m.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:[m.jsx("p",{className:"text-xs text-blue-600",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-blue-700",children:s.summary.updateCount})]}),m.jsxs("div",{className:"rounded-lg border border-rose-200 bg-rose-50 p-3",children:[m.jsx("p",{className:"text-xs text-rose-600",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-rose-700",children:s.summary.errorCount})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"text-xs text-slate-500",children:["  ",s.summary.errorCount,"",M.length>0&&` ( ${M.length} )`,s.summary.errorCount>0&&"       ."]}),m.jsx("button",{type:"button",onClick:T,disabled:l||s.summary.total===0||s.summary.errorCount>0,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",children:" "})]}),M.length>0?m.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:m.jsx("ul",{className:"space-y-1",children:M.map(C=>m.jsxs("li",{children:[m.jsxs("span",{className:"font-semibold",children:[" ",C.rowNumber,":"]})," ",C.messages.join(", ")]},C.rowNumber))})}):null]}):null,N.length>0?m.jsxs("div",{className:"space-y-2 rounded-md border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"  "}),m.jsx("ul",{className:"space-y-1",children:N.map(C=>m.jsxs("li",{children:[m.jsxs("span",{className:"font-semibold",children:[" ",C.rowNumber,":"]})," ",C.message]},C.rowNumber))})]}):null]})]})}):null},l0e=e=>e.id,u0e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!1),[a,i]=A.useState(null),[s,o]=A.useState(!1),[l,u]=A.useState("create"),[f,d]=A.useState(null),[p,v]=A.useState(null),[y,x]=A.useState(!1),[b,w]=A.useState(null),[_,T]=A.useState(!1),[M,N]=A.useState(!1),C=A.useId(),j=As(),O=e.length,P=A.useCallback(async()=>{n(!0),i(null);try{const q=await so();t(Array.isArray(q)?q:[])}catch(q){console.error("[deepflow] Failed to load partners",q);const W=q instanceof Error&&q.message?q.message:"   .";i(W),t([])}finally{n(!1)}},[]);A.useEffect(()=>{P()},[P]);const R=A.useCallback(()=>{u("create"),d(null),o(!0)},[]),k=A.useCallback(()=>{o(!1),u("create"),d(null)},[]),L=A.useCallback(async()=>{await P()},[P]),I=A.useCallback(q=>{u("edit"),d(q),o(!0)},[]),$=A.useCallback(q=>{v(q),w(null)},[]),F=A.useCallback(()=>{v(null),w(null)},[]),z=A.useCallback(async()=>{if(p){x(!0),w(null);try{await Lge(p.id),v(null),await P()}catch(q){console.error("[deepflow] Failed to delete partner",q);const W=q instanceof Error&&q.message?q.message:"  .";w(W)}finally{x(!1)}}},[P,p]),V=A.useCallback(async()=>{if(typeof window>"u"||typeof document>"u"){j("   .",{tone:"error",duration:0});return}N(!0);try{const q=await cQ();mR(q,"partner-template.csv"),j("CSV  .",{tone:"success"})}catch(q){const W=q instanceof Error&&q.message?q.message:"CSV   .";j(W,{tone:"error",duration:0})}finally{N(!1)}},[j]);return m.jsxs("section",{className:"space-y-6",children:[m.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 pb-4",children:[m.jsx("div",{children:m.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:" "})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:V,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-200 hover:text-indigo-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",disabled:M,children:M?" ...":"CSV "}),m.jsx("button",{type:"button",onClick:()=>T(!0),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-200 hover:text-indigo-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:"CSV "}),m.jsx("button",{type:"button",onClick:R,className:"rounded-full bg-indigo-500 px-4 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-indigo-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400",children:" "})]})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white/80 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-800",children:" "}),m.jsxs("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-medium text-indigo-600",children:[" ",O.toLocaleString(),""]})]}),m.jsx("div",{className:"px-6 pb-6",children:r?m.jsx("div",{className:"py-10 text-center text-sm text-slate-500",children:"   ..."}):a?m.jsx("div",{className:"rounded-xl bg-rose-50 px-4 py-6 text-center text-sm text-rose-600",children:a}):O===0?m.jsx("div",{className:"py-10 text-center text-sm text-slate-500",children:"  .      ."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-left text-sm","aria-label":" ",children:[m.jsx("thead",{className:"text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{className:"border-b border-slate-200",children:[m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 font-medium",children:""}),m.jsx("th",{scope:"col",className:"px-4 py-3 text-right font-medium",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-700",children:e.map(q=>m.jsxs("tr",{className:"hover:bg-indigo-50/40",children:[m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${q.type==="SUPPLIER"?"bg-amber-50 text-amber-700":"bg-sky-50 text-sky-700"}`,children:q.type==="SUPPLIER"?"":""})}),m.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:q.name}),m.jsx("td",{className:"px-4 py-3",children:q.phone??""}),m.jsx("td",{className:"px-4 py-3",children:q.email??""}),m.jsx("td",{className:"px-4 py-3",children:q.address??""}),m.jsx("td",{className:"px-4 py-3",children:q.notes??""}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 transition hover:bg-slate-100",onClick:()=>I(q),children:""}),m.jsx("button",{type:"button",className:"rounded-md border border-rose-200 px-3 py-1 text-xs font-medium text-rose-600 transition hover:bg-rose-50",onClick:()=>$(q),children:""})]})})]},l0e(q)))})]})})})]}),m.jsx(oQ,{open:s,mode:l,initialPartner:f,defaultType:(f==null?void 0:f.type)??"SUPPLIER",onClose:k,onCompleted:L}),m.jsx(o0e,{open:_,onClose:()=>T(!1),onCompleted:L}),p?m.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":C,className:"w-full max-w-md rounded-xl bg-white p-6 shadow-xl",children:[m.jsx("h3",{id:C,className:"text-lg font-semibold text-slate-900",children:" "}),m.jsxs("p",{className:"mt-3 text-sm text-slate-600",children:[p.name,"  ?      ."]}),b?m.jsx("div",{className:"mt-3 rounded-md bg-rose-50 p-3 text-sm text-rose-600",children:b}):null,m.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[m.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-4 py-2 text-sm text-slate-600",onClick:F,disabled:y,children:""}),m.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white",onClick:z,disabled:y,children:y?" ...":" "})]})]})}):null]})},uO="stockwise:categories-changed",xx=e=>{if(typeof window>"u")return;const t=new CustomEvent(uO,{detail:{at:Date.now(),...e??{}}});window.dispatchEvent(t)},c0e=e=>{if(typeof window>"u")return()=>{};const t=r=>e(r);return window.addEventListener(uO,t),()=>window.removeEventListener(uO,t)},wg=(e,t=null)=>{var o,l;const r=typeof e.id=="string"?e.id:String(e.id??""),n=Array.isArray(e.children)?e.children:[],a=e.parentId??null,i=typeof a=="string"?a.trim():a===null?null:String(a??"").trim(),s=t??(i&&i.length>0?i:null);return{id:r,name:((o=e.name)==null?void 0:o.trim())??"",description:((l=e.description)==null?void 0:l.trim())??"",productCount:Number.isFinite(e.productCount??NaN)?Number(e.productCount):0,parentId:s,children:n.map(u=>wg(u,r)),createdAt:e.createdAt,updatedAt:e.updatedAt}},fQ=e=>{var a,i,s;const t=((a=e.name)==null?void 0:a.trim())??"",r=((i=e.description)==null?void 0:i.trim())??"",n=((s=e.parentId)==null?void 0:s.toString().trim())??"";return{name:t,description:r||null,parentId:n||null}};async function cO(e){const t=new URLSearchParams;e&&e.trim()&&t.set("q",e.trim());const r=t.toString()?`/categories?${t.toString()}`:"/categories",n=await ts(r,{method:"GET"}),a=Array.isArray(n.items)?n.items:[];if(a.some(u=>Array.isArray(u.children)&&u.children.length>0))return a.map(u=>wg(u));const s=a.map(u=>{const f=u.parentId?String(u.parentId):null;return{...wg({...u,children:[]},f),parentId:f}}),o=new Map;s.forEach(u=>{o.set(u.id,{...u,children:[]})});const l=[];return s.forEach(u=>{const f=u.parentId;if(f&&o.has(f)){const d=o.get(f);d.children=[...d.children,o.get(u.id)]}else l.push(o.get(u.id))}),l}async function f0e(e){const t=await ts("/categories",{method:"POST",body:fQ(e)});return wg(t.item)}async function d0e(e,t){const r=await ts(`/categories/${encodeURIComponent(e)}`,{method:"PUT",body:fQ(t)});return wg(r.item)}async function h0e(e){await ts(`/categories/${encodeURIComponent(e)}`,{method:"DELETE"})}const Vs=e=>({...e,parentId:typeof e.parentId=="string"&&e.parentId.trim().length>0?e.parentId.trim():null,children:Array.isArray(e.children)?e.children.map(t=>Vs(t)):[]}),j1=e=>({...e,parentId:typeof e.parentId=="string"&&e.parentId.trim().length>0?e.parentId.trim():null,children:e.children.map(t=>j1(t))}),dQ=(e,t)=>{for(const r of e){if(r.id===t)return r;const n=dQ(r.children,t);if(n)return n}return null},hQ=(e,t)=>{let r=!1;const n=e.map(a=>{if(a.id===t.parentId)return r=!0,{...a,children:[j1({...t,parentId:a.id}),...a.children]};const[i,s]=hQ(a.children,t);return s?(r=!0,{...a,children:i}):a});return[r?n:e,r]},pQ=(e,t)=>{const r=Vs(t);if(!r.parentId)return[j1({...r,parentId:null}),...e];const[n,a]=hQ(e,r);return a?n:[...e,j1({...r,parentId:null})]},XR=(e,t)=>{let r=null;const n=[];return e.forEach(a=>{if(a.id===t){r=a;return}const[i,s]=XR(a.children,t);s?(r=s,n.push({...a,children:i})):n.push(a)}),r?[n,r]:[e,null]},p0e=(e,t)=>{const[r,n]=XR(e,t.id),a=(n==null?void 0:n.children)??[],i=Vs(t),s=i.children.length?i.children.map(u=>Vs(u)):a.map(u=>Vs(u)),o={...i,children:s};return pQ((r===e&&!n?e:r).filter(Boolean),o)},mz=()=>({items:[],loading:!1,saving:!1,error:null,lastLoadedAt:null});class m0e{constructor(){this.listeners=new Set,this.state=mz(),this.getSnapshot=()=>this.state,this.subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),this.load=async t=>{this.setState({loading:!0,error:null});try{const r=await cO(t);this.setState({items:r.map(n=>Vs(n)),loading:!1,lastLoadedAt:Date.now()}),xx({reason:"load"})}catch(r){const n=r instanceof Error&&r.message?r.message:"  .";throw this.setState({loading:!1,error:n}),r}},this.create=async t=>{this.setState({saving:!0,error:null});try{const r=await f0e(t),n=Vs(r),a=pQ(this.state.items,n);return this.setState({items:a,saving:!1}),xx({reason:"create",categoryId:n.id}),n}catch(r){const n=r instanceof Error&&r.message?r.message:"  .";throw this.setState({saving:!1,error:n}),r}},this.update=async(t,r)=>{this.setState({saving:!0,error:null});try{const n=dQ(this.state.items,t),a=await d0e(t,r),i=Vs(a),s=i.children.length?i.children.map(u=>Vs(u)):((n==null?void 0:n.children)??[]).map(u=>Vs(u)),o={...i,children:s},l=p0e(this.state.items,o);return this.setState({items:l,saving:!1}),xx({reason:"update",categoryId:o.id}),o}catch(n){const a=n instanceof Error&&n.message?n.message:"  .";throw this.setState({saving:!1,error:a}),n}},this.remove=async t=>{this.setState({saving:!0,error:null});const r=this.state.items,[n,a]=XR(r,t);a&&this.setState({items:n});try{await h0e(t),this.setState({saving:!1}),xx({reason:"delete",categoryId:t})}catch(i){const s=i instanceof Error&&i.message?i.message:"  .";throw this.setState({items:a?r:this.state.items,saving:!1,error:s}),i}},this.clearError=()=>{this.state.error&&this.setState({error:null})},this.reset=()=>{this.state=mz(),this.emit()},this.hydrate=t=>{this.state={...this.state,...t},this.emit()}}setState(t){this.state={...this.state,...t},this.emit()}emit(){this.listeners.forEach(t=>{t()})}}const gc=new m0e,AS=()=>({...A.useSyncExternalStore(gc.subscribe,gc.getSnapshot),load:gc.load,create:gc.create,update:gc.update,remove:gc.remove,clearError:gc.clearError}),mQ=(e,t)=>{const r=t.trim().toLowerCase();if(!r)return null;for(const n of e){if(n.name.trim().toLowerCase()===r)return n;const a=mQ(n.children??[],t);if(a)return a}return null},fO=(e,t)=>{if(!t)return null;for(const r of e){if(r.id===t)return r;const n=fO(r.children??[],t);if(n)return n}return null},vz="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",gz="text-xs font-semibold uppercase tracking-wide text-slate-600",v0e=({mode:e,open:t,onClose:r,onCompleted:n,initialCategory:a,initialCategoryId:i})=>{const{items:s,create:o,saving:l,error:u,clearError:f}=AS(),[d,p]=A.useState(""),[v,y]=A.useState(""),[x,b]=A.useState(null),w=e==="category",_=e==="subCategory",T=_,M=_?" ":"  ()",N=A.useMemo(()=>{if(!t)return a;if(i){const P=fO(s,i);if(P)return P.name}return a},[a,i,s,t]);A.useEffect(()=>{t&&(p((N==null?void 0:N.trim())??""),y(""),b(null),f())},[f,t,N]),A.useEffect(()=>{t||(p(""),y(""),b(null))},[t]);const C=A.useCallback(()=>{l||r()},[r,l]),j=A.useCallback(async P=>{P.preventDefault();const R=d.trim(),k=v.trim(),L=k.length>0;if(!R){b("   .");return}if(_&&!L){b("    .");return}b(null);try{if(!L){const q=await o({name:R});n({category:q.name}),r();return}const I=k,$=_?(N==null?void 0:N.trim())??R:R;let F=null;if(i&&(F=fO(s,i)),F||(F=mQ(s,$)),!F&&T){b("     .");return}if(F||(F=await o({name:R})),!F||!F.id){b("     .");return}if((F.children??[]).some(q=>q.name.trim().toLowerCase()===I.toLowerCase())){b("    .");return}const V=await o({name:I,parentId:F.id});n({category:F.name,subCategory:V.name}),r()}catch(I){I instanceof Error&&I.message?b(I.message):b("  .")}},[d,o,i,_,s,r,n,N,T,v]),O=x??u??null;return t?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"category-manage-dialog-title",className:"w-full max-w-lg rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{id:"category-manage-dialog-title",className:"text-lg font-semibold text-slate-800",children:" "}),m.jsx("button",{type:"button",onClick:C,className:"rounded-full border border-slate-200 px-2 py-1 text-sm text-slate-500 hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:l,children:""})]}),m.jsxs("form",{className:"space-y-5 px-5 py-6 text-sm text-slate-700",onSubmit:j,children:[m.jsx("p",{className:"text-slate-500",children:"     ."}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:gz,children:" "}),m.jsx("input",{type:"text",value:d,onChange:P=>{p(P.target.value),b(null)},className:vz,placeholder:": ",autoFocus:w,disabled:T})]}),m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:gz,children:M}),m.jsx("input",{type:"text",value:v,onChange:P=>{y(P.target.value),b(null)},className:vz,placeholder:": ",autoFocus:_}),_?null:m.jsx("span",{className:"text-xs text-slate-400",children:"   ."})]}),O&&m.jsx("p",{className:"rounded-md bg-red-50 px-3 py-2 text-xs text-red-600",children:O}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:C,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:l,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",disabled:l,children:""})]})]})]})}):null},yz="block w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-900 shadow-sm transition focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1 disabled:cursor-not-allowed disabled:bg-slate-100 disabled:text-slate-500",xz="text-xs font-semibold uppercase tracking-wide text-slate-600",g0e=({open:e,category:t,onClose:r,onCompleted:n})=>{const{update:a,create:i,saving:s,error:o,clearError:l}=AS(),[u,f]=A.useState(t.name),[d,p]=A.useState(t.children.map(N=>({id:N.id,name:N.name,originalName:N.name,parentId:N.parentId??t.id??null,isNew:!1}))),[v,y]=A.useState(null);A.useEffect(()=>{e&&(f(t.name),p(t.children.map(N=>({id:N.id,name:N.name,originalName:N.name,parentId:N.parentId??t.id??null,isNew:!1}))),y(null),l())},[t.children,t.id,t.name,l,e]);const x=A.useCallback(()=>{s||r()},[r,s]),b=A.useCallback((N,C)=>{p(j=>j.map(O=>O.id===N?{...O,name:C}:O)),y(null)},[]),w=A.useCallback(()=>{if(s)return;const N=`__new-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;p(C=>[...C,{id:N,name:"",originalName:"",parentId:t.id??null,isNew:!0}]),y(null)},[t.id,s]),_=A.useCallback(N=>{s||(p(C=>C.filter(j=>j.id!==N)),y(null))},[s]),T=A.useCallback(async N=>{N.preventDefault();const C=u.trim();if(!C){y("  .");return}const j=d.map(P=>{const R=P.name.trim(),k=typeof P.parentId=="string"&&P.parentId.trim().length>0?P.parentId.trim():t.id??null;return{...P,parentId:k,trimmedName:R}});if(j.some(P=>P.trimmedName.length===0)){y("   .");return}if(j.some(P=>P.isNew&&!P.parentId)){y("       .");return}const O=new Set;for(const P of j){const k=`${P.parentId??t.id??"root"}::${P.trimmedName.toLowerCase()}`;if(O.has(k)){y("   .");return}O.add(k)}try{y(null);let P=t;C!==t.name&&(P=await a(t.id,{name:C,parentId:t.parentId}));const R=j.filter(V=>!V.isNew&&V.trimmedName!==V.originalName),k=j.filter(V=>V.isNew),L=new Map;for(const V of R){const q=await a(V.id,{name:V.trimmedName,parentId:V.parentId??P.id??null});L.set(V.id,q)}const I=[];for(const V of k){const q=V.parentId??P.id??null;if(!q){y("       .");return}const W=await i({name:V.trimmedName,parentId:q});I.push(W)}const F=[...(P.children??t.children).map(V=>{const q=L.get(V.id);return q?{...V,name:q.name}:V}),...I],z={...P,name:C,children:F};n==null||n(z),r()}catch(P){P instanceof Error&&P.message?y(P.message):y("  .")}},[t,d,i,u,r,n,a]),M=A.useMemo(()=>v??o??null,[o,v]);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"category-edit-dialog-title",className:"w-full max-w-lg rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{id:"category-edit-dialog-title",className:"text-lg font-semibold text-slate-800",children:" "}),m.jsx("button",{type:"button",onClick:x,className:"rounded-full border border-slate-200 px-2 py-1 text-sm text-slate-500 hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:""})]}),m.jsxs("form",{className:"space-y-5 px-5 py-6 text-sm text-slate-700",onSubmit:T,children:[m.jsxs("label",{className:"flex flex-col gap-2",children:[m.jsx("span",{className:xz,children:" "}),m.jsx("input",{type:"text",value:u,onChange:N=>{f(N.target.value),y(null)},className:yz,placeholder:": ",autoFocus:!0})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("span",{className:xz,children:" "}),d.length===0?m.jsx("p",{className:"text-xs text-slate-500",children:"   .     ."}):null,d.map(N=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",value:N.name,onChange:C=>b(N.id,C.target.value),className:yz,placeholder:"  "}),N.isNew?m.jsx("button",{type:"button",onClick:()=>_(N.id),className:"rounded-md border border-slate-200 px-2 py-2 text-xs font-semibold text-slate-500 transition hover:border-red-300 hover:text-red-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:""}):null]},N.id)),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:w,className:"rounded-md border border-dashed border-indigo-300 px-3 py-2 text-xs font-semibold text-indigo-600 transition hover:border-indigo-400 hover:bg-indigo-50 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:"+   "})})]}),M&&m.jsx("p",{className:"rounded-md bg-red-50 px-3 py-2 text-xs text-red-600",children:M}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:x,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:s,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",disabled:s,children:""})]})]})]})}):null},y0e=({open:e,title:t,message:r,confirmLabel:n,confirmTone:a="default",confirmDisabled:i=!1,onCancel:s,onConfirm:o})=>{if(!e)return null;const l=A.useId(),u=a==="danger"?"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-rose-500 disabled:cursor-not-allowed disabled:bg-rose-300":"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300";return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4",children:m.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":l,className:"w-full max-w-sm rounded-xl bg-white shadow-xl ring-1 ring-slate-200",children:[m.jsx("header",{className:"border-b border-slate-200 px-5 py-4",children:m.jsx("h2",{id:l,className:"text-lg font-semibold text-slate-900",children:t})}),m.jsx("div",{className:"px-5 py-6 text-sm text-slate-700",children:m.jsx("p",{children:r})}),m.jsxs("footer",{className:"flex justify-end gap-3 border-t border-slate-200 bg-slate-50 px-5 py-4",children:[m.jsx("button",{type:"button",onClick:s,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:""}),m.jsx("button",{type:"button",onClick:o,className:u,disabled:i,children:n})]})]})})},x0e=e=>e.trim().toLowerCase(),vQ=(e,t=null)=>{const r=[];return e.forEach(n=>{r.push({item:n,parentId:t}),n.children.length>0&&r.push(...vQ(n.children,n.id))}),r},b0e=()=>{const{items:e,loading:t,saving:r,error:n,load:a,remove:i,clearError:s}=AS(),[o,l]=A.useState(""),[u,f]=A.useState(null),[d,p]=A.useState(null);A.useEffect(()=>{a().catch(()=>{})},[a]);const{rowsByParent:v,rootLookup:y}=A.useMemo(()=>{const $=new Map,F=new Map,z=(V,q,W)=>{$.has(q)||$.set(q,[]);const Y=$.get(q);V.forEach(H=>{Y.push(H);const U=W??H.id;F.set(H.id,U),z(H.children,H.id,U)})};return z(e,null,null),{rowsByParent:$,rootLookup:F}},[e]),x=A.useMemo(()=>vQ(e),[e]),b=A.useMemo(()=>v.get(null)??[],[v]),w=A.useMemo(()=>{const $=x0e(o);if(!$)return new Set(b.map(z=>z.id));const F=new Set;return x.forEach(({item:z})=>{if(`${z.name} ${z.description??""}`.toLowerCase().includes($)){const q=y.get(z.id)??z.id;F.add(q)}}),F},[x,b,y,o]),_=A.useMemo(()=>b.filter($=>w.has($.id)),[b,w]),T=A.useCallback($=>{l($.target.value)},[]),M=A.useCallback(()=>{a(o).catch(()=>{})},[a,o]),N=A.useCallback(()=>{p(null),f({type:"addRoot"})},[]),C=A.useCallback($=>{p(null),f({type:"edit",category:$})},[]),j=A.useCallback($=>{p(null),f({type:"delete",category:$})},[]),O=A.useCallback(()=>{f(null)},[]),P=A.useCallback(()=>{f(null),p(null),a(o).catch(()=>{})},[a,o]),R=A.useCallback(async()=>{if(!(!u||u.type!=="delete"))try{await i(u.category.id),f(null),p(null)}catch($){$ instanceof Error&&$.message?p($.message):p("  .")}},[u,i]),k=A.useCallback(()=>{p(null),s()},[s]),L=A.useMemo(()=>t&&_.length===0?"  ...":_.length===0?"  .":null,[t,_]),I=A.useMemo(()=>b.length,[b]);return m.jsxs("div",{className:"py-8",children:[m.jsxs("div",{className:"mb-8 flex flex-wrap items-start justify-between gap-4",children:[m.jsx("div",{children:m.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:" "})}),m.jsxs("div",{className:"flex flex-col items-stretch gap-2 sm:flex-row sm:items-center",children:[m.jsxs("label",{className:"relative block text-xs font-semibold uppercase tracking-wide text-slate-600",children:[m.jsx("span",{className:"sr-only",children:" "}),m.jsx("input",{type:"search",value:o,onChange:T,placeholder:"/  ",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-800 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),m.jsx("button",{type:"button",onClick:M,disabled:t,className:"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:""})]})]}),(n||d)&&m.jsx("div",{className:"mb-6 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsx("div",{className:"font-medium",children:d??n??"   ."}),m.jsx("button",{type:"button",className:"text-xs font-semibold text-red-600",onClick:k,children:""})]})}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 shadow-sm",children:[m.jsx("header",{className:"flex items-center justify-between gap-4 border-b border-slate-200 px-6 py-4",children:m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:" "}),m.jsxs("p",{className:"text-xs text-slate-500",children:[" ",I,""]})]})}),m.jsx("div",{role:"table",className:"max-h-[520px] overflow-y-auto",children:m.jsxs("div",{role:"rowgroup",className:"min-w-full divide-y divide-slate-200",children:[m.jsxs("div",{role:"row",className:"grid grid-cols-[minmax(200px,2fr)_minmax(160px,1.4fr)_minmax(220px,1.6fr)] bg-slate-50 px-6 py-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[m.jsx("div",{children:""}),m.jsx("div",{children:" "}),m.jsx("div",{className:"text-right",children:""})]}),L?m.jsx("div",{role:"row",className:"px-6 py-10 text-center text-sm text-slate-500",children:L}):_.map($=>m.jsxs("div",{role:"row",className:"grid grid-cols-[minmax(200px,2fr)_minmax(160px,1.4fr)_minmax(220px,1.6fr)] items-center px-6 py-4 text-sm text-slate-700","data-testid":`category-row-${$.id}`,children:[m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx("span",{className:"font-semibold text-slate-900",children:$.name||" "}),($.description??"").trim().length>0&&m.jsx("span",{className:"text-xs text-slate-500",children:$.description})]}),m.jsx("div",{className:"text-sm text-slate-600",children:$.children.length>0?m.jsx("div",{className:"flex flex-wrap gap-2",children:$.children.map(F=>m.jsx("span",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:F.name||" "},F.id))}):""}),m.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>C($),className:"rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:""}),m.jsx("button",{type:"button",onClick:()=>j($),disabled:r,className:"rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:""})]})]},$.id))]})}),m.jsxs("footer",{className:"flex items-center justify-between gap-4 border-t border-slate-200 px-6 py-4 text-sm text-slate-600",children:[m.jsx("div",{children:r?"   ...":"      ."}),m.jsx("button",{type:"button",onClick:N,className:"rounded-lg border border-dashed border-indigo-300 px-4 py-2 text-sm font-semibold text-indigo-600 transition hover:border-indigo-400 hover:bg-indigo-50",children:"+  "})]})]}),(u==null?void 0:u.type)==="addRoot"&&m.jsx(v0e,{mode:"category",open:!0,onClose:O,onCompleted:P}),(u==null?void 0:u.type)==="edit"&&m.jsx(g0e,{open:!0,category:u.category,onClose:O,onCompleted:P}),(u==null?void 0:u.type)==="delete"&&m.jsx(y0e,{open:!0,title:" ",message:`'${u.category.name}'  ?      .`,confirmLabel:"",confirmTone:"danger",onCancel:O,onConfirm:R,confirmDisabled:r})]})};function w0e(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result??"")),n.onerror=()=>r(n.error??new Error("    .")),n.readAsText(e,"utf-8")})}const S0e={pending:" ",processing:" ",completed:"",failed:""},_0e=({open:e,onClose:t,onCompleted:r})=>{const n=A.useRef(null),[a,i]=A.useState(null),[s,o]=A.useState(null),[l,u]=A.useState(null),[f,d]=A.useState(!1),[p,v]=A.useState(null),[y,x]=A.useState(null);A.useEffect(()=>{e||(i(null),o(null),u(null),v(null),x(null))},[e]),A.useEffect(()=>{if(!l||l.status!=="pending"&&l.status!=="processing")return;const N=window.setInterval(async()=>{try{const{job:C}=await Mde(l.id);u(C)}catch(C){v(C instanceof Error?C.message:"   .")}},750);return()=>window.clearInterval(N)},[l]),A.useEffect(()=>{(l==null?void 0:l.status)==="completed"&&(x("CSV  ."),r())},[l==null?void 0:l.status,r]);const b=async N=>{if(N){d(!0),v(null),x(null);try{const C=await w0e(N),j=await Nde("products",C);i(N),o(j),u(null)}catch(C){v(C instanceof Error?C.message:"CSV  ."),o(null),i(null)}finally{d(!1)}}},w=async()=>{if(!(!s||f)){d(!0),v(null),x(null);try{const{job:N}=await Ade("products",s.previewId);u(N)}catch(N){v(N instanceof Error?N.message:"CSV   .")}finally{d(!1)}}},_=async()=>{if(l)try{const N=await jde(l.id);if(!N){x("   .");return}const C=URL.createObjectURL(N),j=document.createElement("a");j.href=C,j.download=`products-errors-${l.id}.csv`,j.click(),URL.revokeObjectURL(C)}catch(N){v(N instanceof Error?N.message:"   .")}},T=()=>{var N;(N=n.current)==null||N.click()},M=A.useMemo(()=>!l||l.total===0?0:Math.round(l.processed/l.total*100),[l]);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40",children:m.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-xl",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-5 py-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:" CSV "}),m.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-slate-200 px-2 py-1 text-sm text-slate-500 hover:border-slate-300 hover:text-slate-700",children:""})]}),m.jsxs("div",{className:"space-y-4 px-5 py-6 text-sm text-slate-700",children:[m.jsx("p",{className:"text-slate-500",children:" CSV     ,  SKU   .      ."}),m.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-4",children:[m.jsx("input",{ref:n,type:"file",accept:".csv,text/csv",className:"hidden",onChange:N=>{var C;return b(((C=N.target.files)==null?void 0:C[0])??null)}}),m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-slate-700",children:a?a.name:"  ."}),m.jsx("p",{className:"text-xs text-slate-500",children:"CSV , UTF-8 .    ."}),m.jsx("p",{className:"text-xs text-slate-500",children:" : , SKU, , , , , , .            ."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:T,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:" "}),a&&m.jsx("button",{type:"button",onClick:()=>b(a),className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:" "})]})]})]}),f&&m.jsx("p",{className:"text-xs text-indigo-600",children:" .   ..."}),p&&m.jsx("p",{className:"rounded-md bg-red-50 px-3 py-2 text-xs text-red-600",children:p}),y&&m.jsx("p",{className:"rounded-md bg-emerald-50 px-3 py-2 text-xs text-emerald-600",children:y}),s&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[m.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-3",children:[m.jsx("p",{className:"text-xs text-slate-400",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-slate-800",children:s.summary.total})]}),m.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-3",children:[m.jsx("p",{className:"text-xs text-emerald-600",children:" "}),m.jsx("p",{className:"text-lg font-semibold text-emerald-700",children:s.summary.newCount})]}),m.jsxs("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-3",children:[m.jsx("p",{className:"text-xs text-blue-600",children:""}),m.jsx("p",{className:"text-lg font-semibold text-blue-700",children:s.summary.updateCount})]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"text-xs text-slate-500",children:["  ",s.summary.errorCount,"",s.errors.length>0&&" ( 20 )"]}),m.jsx("button",{type:"button",onClick:w,disabled:f||!s,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",children:" "})]}),s.errors.length>0&&m.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-700",children:m.jsx("ul",{className:"space-y-1",children:s.errors.map(N=>m.jsxs("li",{children:[m.jsxs("span",{className:"font-semibold",children:[" ",N.rowNumber,":"]})," ",N.messages.join(", ")]},N.rowNumber))})})]}),l&&m.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsxs("span",{children:[" ID: ",l.id]}),m.jsxs("span",{className:"font-medium text-slate-600",children:[": ",S0e[l.status]]})]}),m.jsx("div",{className:"h-2 rounded-full bg-white",children:m.jsx("div",{className:"h-full rounded-full bg-indigo-500 transition-all",style:{width:`${M}%`}})}),m.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[m.jsxs("span",{children:[" ",l.processed,"/",l.total," (",M,"%)"]}),m.jsxs("span",{children:["  ",l.errorCount,""]})]}),l.status==="completed"&&l.errorCount>0&&m.jsx("button",{type:"button",onClick:_,className:"rounded-md border border-slate-300 px-3 py-2 text-xs font-medium text-slate-600 hover:border-indigo-300 hover:text-indigo-600",children:"  "})]})]})]})}):null},T0e="relative overflow-hidden rounded-2xl border border-slate-200/70 bg-white/80 p-6 shadow-sm backdrop-blur transition-transform duration-150 ease-out",C0e="cursor-pointer hover:-translate-y-1 hover:shadow-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",N0e="animate-pulse text-transparent",Jd=A.forwardRef(({className:e="",children:t,isInteractive:r=!1,isLoading:n=!1,onClick:a,onKeyDown:i,...s},o)=>{const l=u=>{i==null||i(u),!(!r||u.defaultPrevented)&&(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),a==null||a(u))};return m.jsx("div",{ref:o,className:[T0e,r?C0e:"",n?N0e:"",e].filter(Boolean).join(" "),role:r?"link":s.role,tabIndex:r?0:s.tabIndex,onClick:a,onKeyDown:l,"aria-busy":n||void 0,...s,children:t})});Jd.displayName="Card";const A0e=[""],gQ=e=>e.replace(/\s+/g,"").toLowerCase(),dO=(e,t,r)=>{const n=gQ(t);n&&(e.has(n)||e.set(n,r))},M0e=(e,t,r)=>{A0e.forEach(n=>dO(e,`${t}${n}`,r))},E0e=e=>{var n;const t=new Map,r=[...e];for(;r.length>0;){const a=r.shift();if(!a)continue;const i=(n=a.name)==null?void 0:n.trim();i&&(dO(t,i,i),M0e(t,i,i)),a.children&&a.children.length>0&&r.push(...a.children)}return dO(t,"",""),t},LN=(e,t,r)=>{if(!e)return null;const n=e.trim();if(!n)return null;const a=t.get(gQ(n));return a||(r!=null&&r.strict?null:n)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hO=function(e,t){return hO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},hO(e,t)};function Bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hO(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var j0e=(function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e})(),D0e=(function(){function e(){this.browser=new j0e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e})(),Yt=new D0e;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Yt.wxa=!0,Yt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Yt.worker=!0:!Yt.hasGlobalWindow||"Deno"in window?(Yt.node=!0,Yt.svgSupported=!0):O0e(navigator.userAgent,Yt);function O0e(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),a&&(r.ie=!0,r.version=a[1]),i&&(r.edge=!0,r.version=i[1],r.newEdge=+i[1].split(".")[0]>18),s&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var ZR=12,P0e="sans-serif",xf=ZR+"px "+P0e,k0e=20,R0e=100,L0e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function I0e(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),a=(e.charCodeAt(r)-k0e)/R0e;t[n]=a}return t}var B0e=I0e(L0e),Cp={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var e,t;return function(r,n){if(!e){var a=Cp.createCanvas();e=a&&a.getContext("2d")}if(e)return t!==n&&(t=e.font=n||xf),e.measureText(r);r=r||"",n=n||xf;var i=/((?:\d+)?\.?\d*)px/.exec(n),s=i&&+i[1]||ZR,o=0;if(n.indexOf("mono")>=0)o=s*r.length;else for(var l=0;l<r.length;l++){var u=B0e[r[l]];o+=u==null?s:u*s}return{width:o}}})(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}},yQ=Np(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),xQ=Np(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),k0=Object.prototype.toString,MS=Array.prototype,$0e=MS.forEach,z0e=MS.filter,QR=MS.slice,F0e=MS.map,bz=(function(){}).constructor,bx=bz?bz.prototype:null,JR="__proto__",U0e=2311;function bQ(){return U0e++}function eL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function ur(e){if(e==null||typeof e!="object")return e;var t=e,r=k0.call(e);if(r==="[object Array]"){if(!zv(e)){t=[];for(var n=0,a=e.length;n<a;n++)t[n]=ur(e[n])}}else if(xQ[r]){if(!zv(e)){var i=e.constructor;if(i.from)t=i.from(e);else{t=new i(e.length);for(var n=0,a=e.length;n<a;n++)t[n]=e[n]}}}else if(!yQ[r]&&!zv(e)&&!Sg(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==JR&&(t[s]=ur(e[s]))}return t}function xr(e,t,r){if(!Vt(t)||!Vt(e))return r?ur(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==JR){var a=e[n],i=t[n];Vt(i)&&Vt(a)&&!wt(i)&&!wt(a)&&!Sg(i)&&!Sg(a)&&!wz(i)&&!wz(a)&&!zv(i)&&!zv(a)?xr(a,i,r):(r||!(n in e))&&(e[n]=ur(t[n]))}return e}function H0e(e,t){for(var r=e[0],n=1,a=e.length;n<a;n++)r=xr(r,e[n],t);return r}function gt(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==JR&&(e[r]=t[r]);return e}function Rr(e,t,r){for(var n=ln(t),a=0,i=n.length;a<i;a++){var s=n[a];e[s]==null&&(e[s]=t[s])}return e}function Cr(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function V0e(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var a in r)r.hasOwnProperty(a)&&(e.prototype[a]=r[a]);e.prototype.constructor=e,e.superClass=t}function Ms(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a];i!=="constructor"&&e[i]==null&&(e[i]=t[i])}else Rr(e,t)}function qa(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function re(e,t,r){if(e&&t)if(e.forEach&&e.forEach===$0e)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,a=e.length;n<a;n++)t.call(r,e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(r,e[i],i,e)}function Rt(e,t,r){if(!e)return[];if(!t)return tL(e);if(e.map&&e.map===F0e)return e.map(t,r);for(var n=[],a=0,i=e.length;a<i;a++)n.push(t.call(r,e[a],a,e));return n}function Np(e,t,r,n){if(e&&t){for(var a=0,i=e.length;a<i;a++)r=t.call(n,r,e[a],a,e);return r}}function Fn(e,t,r){if(!e)return[];if(!t)return tL(e);if(e.filter&&e.filter===z0e)return e.filter(t,r);for(var n=[],a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e)&&n.push(e[a]);return n}function ln(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function q0e(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(QR.call(arguments)))}}var er=bx&&rr(bx.bind)?bx.call.bind(bx.bind):q0e;function zr(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(QR.call(arguments)))}}function wt(e){return Array.isArray?Array.isArray(e):k0.call(e)==="[object Array]"}function rr(e){return typeof e=="function"}function Pt(e){return typeof e=="string"}function pO(e){return k0.call(e)==="[object String]"}function Jr(e){return typeof e=="number"}function Vt(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function wz(e){return!!yQ[k0.call(e)]}function Ga(e){return!!xQ[k0.call(e)]}function Sg(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function ES(e){return e.colorStops!=null}function G0e(e){return e.image!=null}function D1(e){return e!==e}function Gs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function sr(e,t){return e??t}function Qb(e,t,r){return e??t??r}function tL(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return QR.apply(e,t)}function wQ(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function ul(e,t){if(!e)throw new Error(t)}function Ws(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var SQ="__ec_primitive__";function mO(e){e[SQ]=!0}function zv(e){return e[SQ]}var W0e=(function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return ln(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e})(),_Q=typeof Map=="function";function K0e(){return _Q?new Map:new W0e}var Y0e=(function(){function e(t){var r=wt(t);this.data=K0e();var n=this;t instanceof e?t.each(a):t&&re(t,a);function a(i,s){r?n.set(i,s):n.set(s,i)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,a){t.call(r,n,a)})},e.prototype.keys=function(){var t=this.data.keys();return _Q?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e})();function Xt(e){return new Y0e(e)}function X0e(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var a=e.length,n=0;n<t.length;n++)r[n+a]=t[n];return r}function jS(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&gt(r,t),r}function TQ(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function bf(e,t){return e.hasOwnProperty(t)}function _a(){}var Z0e=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vO=function(e,t){return vO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},vO(e,t)};function Wr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vO(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ap(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function Q0e(e){return[e[0],e[1]]}function Sz(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function CQ(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function J0e(e){return Math.sqrt(eye(e))}function eye(e){return e[0]*e[0]+e[1]*e[1]}function IN(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function rL(e,t){var r=J0e(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function gO(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var tye=gO;function rye(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Sh=rye;function Wi(e,t,r){var n=t[0],a=t[1];return e[0]=r[0]*n+r[2]*a+r[4],e[1]=r[1]*n+r[3]*a+r[5],e}function fh(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function dh(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}var Td=(function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e})(),nye=(function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Td(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,a=t.offsetY,i=n-this._x,s=a-this._y;this._x=n,this._y=a,r.drift(i,s,t),this.handler.dispatchToElement(new Td(r,t),"drag",t.event);var o=this.handler.findHover(n,a,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new Td(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new Td(o,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Td(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Td(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e})(),Es=(function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof r=="function"&&(a=n,n=r,r=null),!n||!t)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),i[t]||(i[t]=[]);for(var o=0;o<i[t].length;o++)if(i[t][o].h===n)return this;var l={h:n,query:r,ctx:a||this,callAtLast:n.zrEventfulCallAtLast},u=i[t].length-1,f=i[t][u];return f&&f.callAtLast?i[t].splice(u,0,l):i[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var a=[],i=0,s=n[t].length;i<s;i++)n[t][i].h!==r&&a.push(n[t][i]);n[t]=a}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var s=r.length,o=a.length,l=0;l<o;l++){var u=a[l];if(!(i&&i.filter&&u.query!=null&&!i.filter(t,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[t],i=this._$eventProcessor;if(a)for(var s=r.length,o=r[s-1],l=a.length,u=0;u<l;u++){var f=a[u];if(!(i&&i.filter&&f.query!=null&&!i.filter(t,f.query)))switch(s){case 0:f.h.call(o);break;case 1:f.h.call(o,r[0]);break;case 2:f.h.call(o,r[0],r[1]);break;default:f.h.apply(o,r.slice(1,s-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},e})(),aye=Math.log(2);function yO(e,t,r,n,a,i){var s=n+"-"+a,o=e.length;if(i.hasOwnProperty(s))return i[s];if(t===1){var l=Math.round(Math.log((1<<o)-1&~a)/aye);return e[r][l]}for(var u=n|1<<r,f=r+1;n&1<<f;)f++;for(var d=0,p=0,v=0;p<o;p++){var y=1<<p;y&a||(d+=(v%2?-1:1)*e[r][p]*yO(e,t-1,f,u,a|y,i),v++)}return i[s]=d,d}function _z(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},a=yO(r,8,0,0,0,n);if(a!==0){for(var i=[],s=0;s<8;s++)for(var o=0;o<8;o++)i[o]==null&&(i[o]=0),i[o]+=((s+o)%2?-1:1)*yO(r,7,s===0?1:0,1<<s,1<<o,n)/a*t[s];return function(l,u,f){var d=u*i[6]+f*i[7]+1;l[0]=(u*i[0]+f*i[1]+i[2])/d,l[1]=(u*i[3]+f*i[4]+i[5])/d}}}var Tz="___zrEVENTSAVED",BN=[];function iye(e,t,r,n,a){return xO(BN,t,n,a,!0)&&xO(e,r,BN[0],BN[1])}function xO(e,t,r,n,a){if(t.getBoundingClientRect&&Yt.domSupported&&!NQ(t)){var i=t[Tz]||(t[Tz]={}),s=sye(t,i),o=oye(s,i,a);if(o)return o(e,r,n),!0}return!1}function sye(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var s=document.createElement("div"),o=s.style,l=i%2,u=(i>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",a[u]+":0",n[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function oye(e,t,r){for(var n=r?"invTrans":"trans",a=t[n],i=t.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var f=e[u].getBoundingClientRect(),d=2*u,p=f.left,v=f.top;s.push(p,v),l=l&&i&&p===i[d]&&v===i[d+1],o.push(e[u].offsetLeft,e[u].offsetTop)}return l&&a?a:(t.srcCoords=s,t[n]=r?_z(o,s):_z(s,o))}function NQ(e){return e.nodeName.toUpperCase()==="CANVAS"}var lye=/([&<>"'])/g,uye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ba(e){return e==null?"":(e+"").replace(lye,function(t,r){return uye[r]})}var cye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,$N=[],fye=Yt.browser.firefox&&+Yt.browser.version.split(".")[0]<39;function bO(e,t,r,n){return r=r||{},n?Cz(e,t,r):fye&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):Cz(e,t,r),r}function Cz(e,t,r){if(Yt.domSupported&&e.getBoundingClientRect){var n=t.clientX,a=t.clientY;if(NQ(e)){var i=e.getBoundingClientRect();r.zrX=n-i.left,r.zrY=a-i.top;return}else if(xO($N,e,n,a)){r.zrX=$N[0],r.zrY=$N[1];return}}r.zrX=r.zrY=0}function nL(e){return e||window.event}function ki(e,t,r){if(t=nL(t),t.zrX!=null)return t;var n=t.type,a=n&&n.indexOf("touch")>=0;if(a){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&bO(e,s,t,r)}else{bO(e,t,t,r);var i=dye(t);t.zrDelta=i?i/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&cye.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function dye(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var a=Math.abs(n!==0?n:r),i=n>0?-1:n<0?1:r>0?-1:1;return 3*a*i}function hye(e,t,r,n){e.addEventListener(t,r,n)}function pye(e,t,r,n){e.removeEventListener(t,r,n)}var Wh=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function Nz(e){return e.which===2||e.which===3}var mye=(function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var a=t.touches;if(a){for(var i={points:[],touches:[],target:r,event:t},s=0,o=a.length;s<o;s++){var l=a[s],u=bO(n,l,{});i.points.push([u.zrX,u.zrY]),i.touches.push(l)}this._track.push(i)}},e.prototype._recognize=function(t){for(var r in zN)if(zN.hasOwnProperty(r)){var n=zN[r](this._track,t);if(n)return n}},e})();function Az(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function vye(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var zN={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,a=(e[r-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=Az(n)/Az(a);!isFinite(i)&&(i=1),t.pinchScale=i;var s=vye(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function _h(){return[1,0,0,1,0,0]}function aL(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function gye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Th(e,t,r){var n=t[0]*r[0]+t[2]*r[1],a=t[1]*r[0]+t[3]*r[1],i=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],o=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=a,e[2]=i,e[3]=s,e[4]=o,e[5]=l,e}function wO(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function iL(e,t,r,n){n===void 0&&(n=[0,0]);var a=t[0],i=t[2],s=t[4],o=t[1],l=t[3],u=t[5],f=Math.sin(r),d=Math.cos(r);return e[0]=a*d+o*f,e[1]=-a*f+o*d,e[2]=i*d+l*f,e[3]=-i*f+d*l,e[4]=d*(s-n[0])+f*(u-n[1])+n[0],e[5]=d*(u-n[1])-f*(s-n[0])+n[1],e}function yye(e,t,r){var n=r[0],a=r[1];return e[0]=t[0]*n,e[1]=t[1]*a,e[2]=t[2]*n,e[3]=t[3]*a,e[4]=t[4]*n,e[5]=t[5]*a,e}function sL(e,t){var r=t[0],n=t[2],a=t[4],i=t[1],s=t[3],o=t[5],l=r*s-i*n;return l?(l=1/l,e[0]=s*l,e[1]=-i*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-s*a)*l,e[5]=(i*a-r*o)*l,e):null}var Gr=(function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,a){t.x=r.x+n.x*a,t.y=r.y+n.y*a},e.lerp=function(t,r,n,a){var i=1-a;t.x=i*r.x+a*n.x,t.y=i*r.y+a*n.y},e})(),Sx=Math.min,_x=Math.max,yc=new Gr,xc=new Gr,bc=new Gr,wc=new Gr,Im=new Gr,Bm=new Gr,kr=(function(){function e(t,r,n,a){n<0&&(t=t+n,n=-n),a<0&&(r=r+a,a=-a),this.x=t,this.y=r,this.width=n,this.height=a}return e.prototype.union=function(t){var r=Sx(t.x,this.x),n=Sx(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=_x(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=_x(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,a=t.height/r.height,i=_h();return wO(i,i,[-r.x,-r.y]),yye(i,i,[n,a]),wO(i,i,[t.x,t.y]),i},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,a=n.x,i=n.x+n.width,s=n.y,o=n.y+n.height,l=t.x,u=t.x+t.width,f=t.y,d=t.y+t.height,p=!(i<l||u<a||o<f||d<s);if(r){var v=1/0,y=0,x=Math.abs(i-l),b=Math.abs(u-a),w=Math.abs(o-f),_=Math.abs(d-s),T=Math.min(x,b),M=Math.min(w,_);i<l||u<a?T>y&&(y=T,x<b?Gr.set(Bm,-x,0):Gr.set(Bm,b,0)):T<v&&(v=T,x<b?Gr.set(Im,x,0):Gr.set(Im,-b,0)),o<f||d<s?M>y&&(y=M,w<_?Gr.set(Bm,0,-w):Gr.set(Bm,0,_)):T<v&&(v=T,w<_?Gr.set(Im,0,w):Gr.set(Im,0,-_))}return r&&Gr.copy(r,p?Im:Bm),p},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],i=n[3],s=n[4],o=n[5];t.x=r.x*a+s,t.y=r.y*i+o,t.width=r.width*a,t.height=r.height*i,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}yc.x=bc.x=r.x,yc.y=wc.y=r.y,xc.x=wc.x=r.x+r.width,xc.y=bc.y=r.y+r.height,yc.transform(n),wc.transform(n),xc.transform(n),bc.transform(n),t.x=Sx(yc.x,xc.x,bc.x,wc.x),t.y=Sx(yc.y,xc.y,bc.y,wc.y);var l=_x(yc.x,xc.x,bc.x,wc.x),u=_x(yc.y,xc.y,bc.y,wc.y);t.width=l-t.x,t.height=u-t.y},e})(),AQ="silent";function xye(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:bye}}function bye(){Wh(this.event)}var wye=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Es),$m=(function(){function e(t,r){this.x=t,this.y=r}return e})(),Sye=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],FN=new kr(0,0,0,0),MQ=(function(e){Wr(t,e);function t(r,n,a,i,s){var o=e.call(this)||this;return o._hovered=new $m(0,0),o.storage=r,o.painter=n,o.painterRoot=i,o._pointerSize=s,a=a||new wye,o.proxy=null,o.setHandlerProxy(a),o._draggingMgr=new nye(o),o}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(re(Sye,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,a=r.zrY,i=EQ(this,n,a),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=i?new $m(n,a):this.findHover(n,a),u=l.target,f=this.proxy;f.setCursor&&f.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==o&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new $m(0,0)},t.prototype.dispatch=function(r,n){var a=this[r];a&&a.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,a){r=r||{};var i=r.target;if(!(i&&i.silent)){for(var s="on"+n,o=xye(n,r,a);i&&(i[s]&&(o.cancelBubble=!!i[s].call(i,o)),i.trigger(n,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(r,n,a){var i=this.storage.getDisplayList(),s=new $m(r,n);if(Mz(i,s,r,n,a),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,f=new kr(r-u,n-u,l,l),d=i.length-1;d>=0;d--){var p=i[d];p!==a&&!p.ignore&&!p.ignoreCoarsePointer&&(!p.parent||!p.parent.ignoreCoarsePointer)&&(FN.copy(p.getBoundingRect()),p.transform&&FN.applyTransform(p.transform),FN.intersect(f)&&o.push(p))}if(o.length)for(var v=4,y=Math.PI/12,x=Math.PI*2,b=0;b<u;b+=v)for(var w=0;w<x;w+=y){var _=r+b*Math.cos(w),T=n+b*Math.sin(w);if(Mz(o,s,_,T,a),s.target)return s}}return s},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new mye);var a=this._gestureMgr;n==="start"&&a.clear();var i=a.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&a.clear(),i){var s=i.type;r.gestureEvent=s;var o=new $m;o.target=i.target,this.dispatchToElement(o,s,i.event)}},t})(Es);re(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){MQ.prototype[e]=function(t){var r=t.zrX,n=t.zrY,a=EQ(this,r,n),i,s;if((e!=="mouseup"||!a)&&(i=this.findHover(r,n),s=i.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||tye(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function _ye(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,a=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var s=n.getClipPath();if(s&&!s.contain(t,r))return!1}n.silent&&(a=!0);var o=n.__hostTarget;n=o||n.parent}return a?AQ:!0}return!1}function Mz(e,t,r,n,a){for(var i=e.length-1;i>=0;i--){var s=e[i],o=void 0;if(s!==a&&!s.ignore&&(o=_ye(s,r,n))&&(!t.topTarget&&(t.topTarget=s),o!==AQ)){t.target=s;break}}}function EQ(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var jQ=32,zm=7;function Tye(e){for(var t=0;e>=jQ;)t|=e&1,e>>=1;return e+t}function Ez(e,t,r,n){var a=t+1;if(a===r)return 1;if(n(e[a++],e[t])<0){for(;a<r&&n(e[a],e[a-1])<0;)a++;Cye(e,t,a)}else for(;a<r&&n(e[a],e[a-1])>=0;)a++;return a-t}function Cye(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function jz(e,t,r,n,a){for(n===t&&n++;n<r;n++){for(var i=e[n],s=t,o=n,l;s<o;)l=s+o>>>1,a(i,e[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=i}}function UN(e,t,r,n,a,i){var s=0,o=0,l=1;if(i(e,t[r+a])>0){for(o=n-a;l<o&&i(e,t[r+a+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=a,l+=a}else{for(o=a+1;l<o&&i(e,t[r+a-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=a-l,l=a-u}for(s++;s<l;){var f=s+(l-s>>>1);i(e,t[r+f])>0?s=f+1:l=f}return l}function HN(e,t,r,n,a,i){var s=0,o=0,l=1;if(i(e,t[r+a])<0){for(o=a+1;l<o&&i(e,t[r+a-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=a-l,l=a-u}else{for(o=n-a;l<o&&i(e,t[r+a+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=a,l+=a}for(s++;s<l;){var f=s+(l-s>>>1);i(e,t[r+f])<0?l=f:s=f+1}return l}function Nye(e,t){var r=zm,n,a,i=0,s=[];n=[],a=[];function o(v,y){n[i]=v,a[i]=y,i+=1}function l(){for(;i>1;){var v=i-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;f(v)}}function u(){for(;i>1;){var v=i-2;v>0&&a[v-1]<a[v+1]&&v--,f(v)}}function f(v){var y=n[v],x=a[v],b=n[v+1],w=a[v+1];a[v]=x+w,v===i-3&&(n[v+1]=n[v+2],a[v+1]=a[v+2]),i--;var _=HN(e[b],e,y,x,0,t);y+=_,x-=_,x!==0&&(w=UN(e[y+x-1],e,b,w,w-1,t),w!==0&&(x<=w?d(y,x,b,w):p(y,x,b,w)))}function d(v,y,x,b){var w=0;for(w=0;w<y;w++)s[w]=e[v+w];var _=0,T=x,M=v;if(e[M++]=e[T++],--b===0){for(w=0;w<y;w++)e[M+w]=s[_+w];return}if(y===1){for(w=0;w<b;w++)e[M+w]=e[T+w];e[M+b]=s[_];return}for(var N=r,C,j,O;;){C=0,j=0,O=!1;do if(t(e[T],s[_])<0){if(e[M++]=e[T++],j++,C=0,--b===0){O=!0;break}}else if(e[M++]=s[_++],C++,j=0,--y===1){O=!0;break}while((C|j)<N);if(O)break;do{if(C=HN(e[T],s,_,y,0,t),C!==0){for(w=0;w<C;w++)e[M+w]=s[_+w];if(M+=C,_+=C,y-=C,y<=1){O=!0;break}}if(e[M++]=e[T++],--b===0){O=!0;break}if(j=UN(s[_],e,T,b,0,t),j!==0){for(w=0;w<j;w++)e[M+w]=e[T+w];if(M+=j,T+=j,b-=j,b===0){O=!0;break}}if(e[M++]=s[_++],--y===1){O=!0;break}N--}while(C>=zm||j>=zm);if(O)break;N<0&&(N=0),N+=2}if(r=N,r<1&&(r=1),y===1){for(w=0;w<b;w++)e[M+w]=e[T+w];e[M+b]=s[_]}else{if(y===0)throw new Error;for(w=0;w<y;w++)e[M+w]=s[_+w]}}function p(v,y,x,b){var w=0;for(w=0;w<b;w++)s[w]=e[x+w];var _=v+y-1,T=b-1,M=x+b-1,N=0,C=0;if(e[M--]=e[_--],--y===0){for(N=M-(b-1),w=0;w<b;w++)e[N+w]=s[w];return}if(b===1){for(M-=y,_-=y,C=M+1,N=_+1,w=y-1;w>=0;w--)e[C+w]=e[N+w];e[M]=s[T];return}for(var j=r;;){var O=0,P=0,R=!1;do if(t(s[T],e[_])<0){if(e[M--]=e[_--],O++,P=0,--y===0){R=!0;break}}else if(e[M--]=s[T--],P++,O=0,--b===1){R=!0;break}while((O|P)<j);if(R)break;do{if(O=y-HN(s[T],e,v,y,y-1,t),O!==0){for(M-=O,_-=O,y-=O,C=M+1,N=_+1,w=O-1;w>=0;w--)e[C+w]=e[N+w];if(y===0){R=!0;break}}if(e[M--]=s[T--],--b===1){R=!0;break}if(P=b-UN(e[_],s,0,b,b-1,t),P!==0){for(M-=P,T-=P,b-=P,C=M+1,N=T+1,w=0;w<P;w++)e[C+w]=s[N+w];if(b<=1){R=!0;break}}if(e[M--]=e[_--],--y===0){R=!0;break}j--}while(O>=zm||P>=zm);if(R)break;j<0&&(j=0),j+=2}if(r=j,r<1&&(r=1),b===1){for(M-=y,_-=y,C=M+1,N=_+1,w=y-1;w>=0;w--)e[C+w]=e[N+w];e[M]=s[T]}else{if(b===0)throw new Error;for(N=M-(b-1),w=0;w<b;w++)e[N+w]=s[w]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function Jb(e,t,r,n){r||(r=0),n||(n=e.length);var a=n-r;if(!(a<2)){var i=0;if(a<jQ){i=Ez(e,r,n,t),jz(e,r,n,r+i,t);return}var s=Nye(e,t),o=Tye(a);do{if(i=Ez(e,r,n,t),i<o){var l=a;l>o&&(l=o),jz(e,r,r+l,r+i,t),i=l}s.pushRun(r,i),s.mergeRuns(),a-=i,r+=i}while(a!==0);s.forceMergeRuns()}}var ci=1,Sv=2,eh=4,Dz=!1;function VN(){Dz||(Dz=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Oz(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Aye=(function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Oz}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,a=0,i=r.length;a<i;a++)this._updateAndAddDisplayable(r[a],null,t);n.length=this._displayListLen,Jb(n,Oz)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)r=null;else if(a){r?r=r.slice():r=[];for(var i=a,s=t;i;)i.parent=s,i.updateTransform(),r.push(i),s=i,i=i.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var u=o[l];t.__dirty&&(u.__dirty|=ci),this._updateAndAddDisplayable(u,r,n)}t.__dirty=0}else{var f=t;r&&r.length?f.__clipPaths=r:f.__clipPaths&&f.__clipPaths.length>0&&(f.__clipPaths=[]),isNaN(f.z)&&(VN(),f.z=0),isNaN(f.z2)&&(VN(),f.z2=0),isNaN(f.zlevel)&&(VN(),f.zlevel=0),this._displayList[this._displayListLen++]=f}var d=t.getDecalElement&&t.getDecalElement();d&&this._updateAndAddDisplayable(d,r,n);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,r,n);var v=t.getTextContent();v&&this._updateAndAddDisplayable(v,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var a=Cr(this._roots,t);a>=0&&this._roots.splice(a,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e})(),O1;O1=Yt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var Fv={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Fv.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Fv.bounceIn(e*2)*.5:Fv.bounceOut(e*2-1)*.5+.5}},Tx=Math.pow,Mu=Math.sqrt,P1=1e-8,DQ=1e-4,Pz=Mu(3),Cx=1/3,qs=Ap(),$i=Ap(),Ch=Ap();function xu(e){return e>-P1&&e<P1}function OQ(e){return e>P1||e<-P1}function ta(e,t,r,n,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*n+3*i*r)}function kz(e,t,r,n,a){var i=1-a;return 3*(((t-e)*i+2*(r-t)*a)*i+(n-r)*a*a)}function k1(e,t,r,n,a,i){var s=n+3*(t-r)-e,o=3*(r-t*2+e),l=3*(t-e),u=e-a,f=o*o-3*s*l,d=o*l-9*s*u,p=l*l-3*o*u,v=0;if(xu(f)&&xu(d))if(xu(o))i[0]=0;else{var y=-l/o;y>=0&&y<=1&&(i[v++]=y)}else{var x=d*d-4*f*p;if(xu(x)){var b=d/f,y=-o/s+b,w=-b/2;y>=0&&y<=1&&(i[v++]=y),w>=0&&w<=1&&(i[v++]=w)}else if(x>0){var _=Mu(x),T=f*o+1.5*s*(-d+_),M=f*o+1.5*s*(-d-_);T<0?T=-Tx(-T,Cx):T=Tx(T,Cx),M<0?M=-Tx(-M,Cx):M=Tx(M,Cx);var y=(-o-(T+M))/(3*s);y>=0&&y<=1&&(i[v++]=y)}else{var N=(2*f*o-3*s*d)/(2*Mu(f*f*f)),C=Math.acos(N)/3,j=Mu(f),O=Math.cos(C),y=(-o-2*j*O)/(3*s),w=(-o+j*(O+Pz*Math.sin(C)))/(3*s),P=(-o+j*(O-Pz*Math.sin(C)))/(3*s);y>=0&&y<=1&&(i[v++]=y),w>=0&&w<=1&&(i[v++]=w),P>=0&&P<=1&&(i[v++]=P)}}return v}function PQ(e,t,r,n,a){var i=6*r-12*t+6*e,s=9*t+3*n-3*e-9*r,o=3*t-3*e,l=0;if(xu(s)){if(OQ(i)){var u=-o/i;u>=0&&u<=1&&(a[l++]=u)}}else{var f=i*i-4*s*o;if(xu(f))a[0]=-i/(2*s);else if(f>0){var d=Mu(f),u=(-i+d)/(2*s),p=(-i-d)/(2*s);u>=0&&u<=1&&(a[l++]=u),p>=0&&p<=1&&(a[l++]=p)}}return l}function R1(e,t,r,n,a,i){var s=(t-e)*a+e,o=(r-t)*a+t,l=(n-r)*a+r,u=(o-s)*a+s,f=(l-o)*a+o,d=(f-u)*a+u;i[0]=e,i[1]=s,i[2]=u,i[3]=d,i[4]=d,i[5]=f,i[6]=l,i[7]=n}function Mye(e,t,r,n,a,i,s,o,l,u,f){var d,p=.005,v=1/0,y,x,b,w;qs[0]=l,qs[1]=u;for(var _=0;_<1;_+=.05)$i[0]=ta(e,r,a,s,_),$i[1]=ta(t,n,i,o,_),b=Sh(qs,$i),b<v&&(d=_,v=b);v=1/0;for(var T=0;T<32&&!(p<DQ);T++)y=d-p,x=d+p,$i[0]=ta(e,r,a,s,y),$i[1]=ta(t,n,i,o,y),b=Sh($i,qs),y>=0&&b<v?(d=y,v=b):(Ch[0]=ta(e,r,a,s,x),Ch[1]=ta(t,n,i,o,x),w=Sh(Ch,qs),x<=1&&w<v?(d=x,v=w):p*=.5);return Mu(v)}function Eye(e,t,r,n,a,i,s,o,l){for(var u=e,f=t,d=0,p=1/l,v=1;v<=l;v++){var y=v*p,x=ta(e,r,a,s,y),b=ta(t,n,i,o,y),w=x-u,_=b-f;d+=Math.sqrt(w*w+_*_),u=x,f=b}return d}function $a(e,t,r,n){var a=1-n;return a*(a*e+2*n*t)+n*n*r}function Rz(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function jye(e,t,r,n,a){var i=e-2*t+r,s=2*(t-e),o=e-n,l=0;if(xu(i)){if(OQ(s)){var u=-o/s;u>=0&&u<=1&&(a[l++]=u)}}else{var f=s*s-4*i*o;if(xu(f)){var u=-s/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(f>0){var d=Mu(f),u=(-s+d)/(2*i),p=(-s-d)/(2*i);u>=0&&u<=1&&(a[l++]=u),p>=0&&p<=1&&(a[l++]=p)}}return l}function kQ(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function L1(e,t,r,n,a){var i=(t-e)*n+e,s=(r-t)*n+t,o=(s-i)*n+i;a[0]=e,a[1]=i,a[2]=o,a[3]=o,a[4]=s,a[5]=r}function Dye(e,t,r,n,a,i,s,o,l){var u,f=.005,d=1/0;qs[0]=s,qs[1]=o;for(var p=0;p<1;p+=.05){$i[0]=$a(e,r,a,p),$i[1]=$a(t,n,i,p);var v=Sh(qs,$i);v<d&&(u=p,d=v)}d=1/0;for(var y=0;y<32&&!(f<DQ);y++){var x=u-f,b=u+f;$i[0]=$a(e,r,a,x),$i[1]=$a(t,n,i,x);var v=Sh($i,qs);if(x>=0&&v<d)u=x,d=v;else{Ch[0]=$a(e,r,a,b),Ch[1]=$a(t,n,i,b);var w=Sh(Ch,qs);b<=1&&w<d?(u=b,d=w):f*=.5}}return Mu(d)}function Oye(e,t,r,n,a,i,s){for(var o=e,l=t,u=0,f=1/s,d=1;d<=s;d++){var p=d*f,v=$a(e,r,a,p),y=$a(t,n,i,p),x=v-o,b=y-l;u+=Math.sqrt(x*x+b*b),o=v,l=y}return u}var Pye=/cubic-bezier\(([0-9,\.e ]+)\)/;function RQ(e){var t=e&&Pye.exec(e);if(t){var r=t[1].split(","),n=+Ws(r[0]),a=+Ws(r[1]),i=+Ws(r[2]),s=+Ws(r[3]);if(isNaN(n+a+i+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:k1(0,n,i,1,l,o)&&ta(0,a,s,1,o[0])}}}var kye=(function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||_a,this.ondestroy=t.ondestroy||_a,this.onrestart=t.onrestart||_a,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,a=t-this._startTime-this._pausedTime,i=a/n;i<0&&(i=0),i=Math.min(i,1);var s=this.easingFunc,o=s?s(i):i;if(this.onframe(o),i===1)if(this.loop){var l=a%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=rr(t)?t:Fv[t]||RQ(t)},e})(),LQ=(function(){function e(t){this.value=t}return e})(),Rye=(function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new LQ(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e})(),R0=(function(){function e(t){this._list=new Rye,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,a=this._map,i=null;if(a[t]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new LQ(r),o.key=t,n.insertEntry(o),a[t]=o}return i},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e})(),Lz={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Eu(e){return e=Math.round(e),e<0?0:e>255?255:e}function I1(e){return e<0?0:e>1?1:e}function qN(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Eu(parseFloat(t)/100*255):Eu(parseInt(t,10))}function Uv(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?I1(parseFloat(t)/100):I1(parseFloat(t))}function GN(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Nx(e,t,r){return e+(t-e)*r}function Oi(e,t,r,n,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=a,e}function SO(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var IQ=new R0(20),Ax=null;function Cd(e,t){Ax&&SO(Ax,t),Ax=IQ.put(e,Ax||t.slice())}function ro(e,t){if(e){t=t||[];var r=IQ.get(e);if(r)return SO(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in Lz)return SO(t,Lz[n]),Cd(e,t),t;var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){Oi(t,0,0,0,1);return}return Oi(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(n.slice(4),16)/15:1),Cd(e,t),t}else if(a===7||a===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){Oi(t,0,0,0,1);return}return Oi(t,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(n.slice(7),16)/255:1),Cd(e,t),t}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===a){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),f=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Oi(t,+u[0],+u[1],+u[2],1):Oi(t,0,0,0,1);f=Uv(u.pop());case"rgb":if(u.length>=3)return Oi(t,qN(u[0]),qN(u[1]),qN(u[2]),u.length===3?f:Uv(u[3])),Cd(e,t),t;Oi(t,0,0,0,1);return;case"hsla":if(u.length!==4){Oi(t,0,0,0,1);return}return u[3]=Uv(u[3]),Iz(u,t),Cd(e,t),t;case"hsl":if(u.length!==3){Oi(t,0,0,0,1);return}return Iz(u,t),Cd(e,t),t;default:return}}Oi(t,0,0,0,1)}}function Iz(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=Uv(e[1]),a=Uv(e[2]),i=a<=.5?a*(n+1):a+n-a*n,s=a*2-i;return t=t||[],Oi(t,Eu(GN(s,i,r+1/3)*255),Eu(GN(s,i,r)*255),Eu(GN(s,i,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Bz(e,t){var r=ro(e);if(r){for(var n=0;n<3;n++)r[n]=r[n]*(1-t)|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return L0(r,r.length===4?"rgba":"rgb")}}function Lye(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),a=Math.floor(n),i=Math.ceil(n),s=ro(t[a]),o=ro(t[i]),l=n-a,u=L0([Eu(Nx(s[0],o[0],l)),Eu(Nx(s[1],o[1],l)),Eu(Nx(s[2],o[2],l)),I1(Nx(s[3],o[3],l))],"rgba");return r?{color:u,leftIndex:a,rightIndex:i,value:n}:u}}function $z(e,t){var r=ro(e);if(r&&t!=null)return r[3]=I1(t),L0(r,"rgba")}function L0(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function B1(e,t){var r=ro(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}var zz=new R0(100);function Fz(e){if(Pt(e)){var t=zz.get(e);return t||(t=Bz(e,-.1),zz.put(e,t)),t}else if(ES(e)){var r=gt({},e);return r.colorStops=Rt(e.colorStops,function(n){return{offset:n.offset,color:Bz(n.color,-.1)}}),r}return e}function Iye(e){return e.type==="linear"}function Bye(e){return e.type==="radial"}(function(){return Yt.hasGlobalWindow&&rr(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}})();var _O=Array.prototype.slice;function Vo(e,t,r){return(t-e)*r+e}function WN(e,t,r,n){for(var a=t.length,i=0;i<a;i++)e[i]=Vo(t[i],r[i],n);return e}function $ye(e,t,r,n){for(var a=t.length,i=a&&t[0].length,s=0;s<a;s++){e[s]||(e[s]=[]);for(var o=0;o<i;o++)e[s][o]=Vo(t[s][o],r[s][o],n)}return e}function Mx(e,t,r,n){for(var a=t.length,i=0;i<a;i++)e[i]=t[i]+r[i]*n;return e}function Uz(e,t,r,n){for(var a=t.length,i=a&&t[0].length,s=0;s<a;s++){e[s]||(e[s]=[]);for(var o=0;o<i;o++)e[s][o]=t[s][o]+r[s][o]*n}return e}function zye(e,t){for(var r=e.length,n=t.length,a=r>n?t:e,i=Math.min(r,n),s=a[i-1]||{color:[0,0,0,0],offset:0},o=i;o<Math.max(r,n);o++)a.push({offset:s.offset,color:s.color.slice()})}function Fye(e,t,r){var n=e,a=t;if(!(!n.push||!a.push)){var i=n.length,s=a.length;if(i!==s){var o=i>s;if(o)n.length=s;else for(var l=i;l<s;l++)n.push(r===1?a[l]:_O.call(a[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=a[l]);else for(var f=0;f<u;f++)isNaN(n[l][f])&&(n[l][f]=a[l][f])}}function e1(e){if(qa(e)){var t=e.length;if(qa(e[0])){for(var r=[],n=0;n<t;n++)r.push(_O.call(e[n]));return r}return _O.call(e)}return e}function t1(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function Uye(e){return qa(e&&e[0])?2:1}var Ex=0,r1=1,BQ=2,_v=3,TO=4,CO=5,Hz=6;function Vz(e){return e===TO||e===CO}function jx(e){return e===r1||e===BQ}var Fm=[0,0,0,0],Hye=(function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var a=this.keyframes,i=a.length,s=!1,o=Hz,l=r;if(qa(r)){var u=Uye(r);o=u,(u===1&&!Jr(r[0])||u===2&&!Jr(r[0][0]))&&(s=!0)}else if(Jr(r)&&!D1(r))o=Ex;else if(Pt(r))if(!isNaN(+r))o=Ex;else{var f=ro(r);f&&(l=f,o=_v)}else if(ES(r)){var d=gt({},l);d.colorStops=Rt(r.colorStops,function(v){return{offset:v.offset,color:ro(v.color)}}),Iye(r)?o=TO:Bye(r)&&(o=CO),l=d}i===0?this.valType=o:(o!==this.valType||o===Hz)&&(s=!0),this.discrete=this.discrete||s;var p={time:t,value:l,rawValue:r,percent:0};return n&&(p.easing=n,p.easingFunc=rr(n)?n:Fv[n]||RQ(n)),a.push(p),p},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(x,b){return x.time-b.time});for(var a=this.valType,i=n.length,s=n[i-1],o=this.discrete,l=jx(a),u=Vz(a),f=0;f<i;f++){var d=n[f],p=d.value,v=s.value;d.percent=d.time/t,o||(l&&f!==i-1?Fye(p,v,a):u&&zye(p.colorStops,v.colorStops))}if(!o&&a!==CO&&r&&this.needsAnimate()&&r.needsAnimate()&&a===r.valType&&!r._finished){this._additiveTrack=r;for(var y=n[0].value,f=0;f<i;f++)a===Ex?n[f].additiveValue=n[f].value-y:a===_v?n[f].additiveValue=Mx([],n[f].value,y,-1):jx(a)&&(n[f].additiveValue=a===r1?Mx([],n[f].value,y,-1):Uz([],n[f].value,y,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,a=n?"additiveValue":"value",i=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=i===_v,f,d=this._lastFr,p=Math.min,v,y;if(o===1)v=y=s[0];else{if(r<0)f=0;else if(r<this._lastFrP){var x=p(d+1,o-1);for(f=x;f>=0&&!(s[f].percent<=r);f--);f=p(f,o-2)}else{for(f=d;f<o&&!(s[f].percent>r);f++);f=p(f-1,o-2)}y=s[f+1],v=s[f]}if(v&&y){this._lastFr=f,this._lastFrP=r;var b=y.percent-v.percent,w=b===0?1:p((r-v.percent)/b,1);y.easingFunc&&(w=y.easingFunc(w));var _=n?this._additiveValue:u?Fm:t[l];if((jx(i)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)t[l]=w<1?v.rawValue:y.rawValue;else if(jx(i))i===r1?WN(_,v[a],y[a],w):$ye(_,v[a],y[a],w);else if(Vz(i)){var T=v[a],M=y[a],N=i===TO;t[l]={type:N?"linear":"radial",x:Vo(T.x,M.x,w),y:Vo(T.y,M.y,w),colorStops:Rt(T.colorStops,function(j,O){var P=M.colorStops[O];return{offset:Vo(j.offset,P.offset,w),color:t1(WN([],j.color,P.color,w))}}),global:M.global},N?(t[l].x2=Vo(T.x2,M.x2,w),t[l].y2=Vo(T.y2,M.y2,w)):t[l].r=Vo(T.r,M.r,w)}else if(u)WN(_,v[a],y[a],w),n||(t[l]=t1(_));else{var C=Vo(v[a],y[a],w);n?this._additiveValue=C:t[l]=C}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,a=this._additiveValue;r===Ex?t[n]=t[n]+a:r===_v?(ro(t[n],Fm),Mx(Fm,Fm,a,1),t[n]=t1(Fm)):r===r1?Mx(t[n],t[n],a,1):r===BQ&&Uz(t[n],t[n],a,1)},e})(),oL=(function(){function e(t,r,n,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&a){eL("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,ln(r),n)},e.prototype.whenWithKeys=function(t,r,n,a){for(var i=this._tracks,s=0;s<n.length;s++){var o=n[s],l=i[o];if(!l){l=i[o]=new Hye(o);var u=void 0,f=this._getAdditiveTrack(o);if(f){var d=f.keyframes,p=d[d.length-1];u=p&&p.value,f.valType===_v&&u&&(u=t1(u))}else u=this._target[o];if(u==null)continue;t>0&&l.addKeyframe(0,e1(u),a),this._trackKeys.push(o)}l.addKeyframe(t,e1(r[o]),a)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var a=0;a<n.length;a++){var i=n[a].getTrack(t);i&&(r=i)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var s=this._trackKeys[i],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,f=u.length;if(o.prepare(a,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var d=u[f-1];d&&(r._target[o.propName]=d.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var p=new kye({life:a,loop:this._loop,delay:this._delay||0,onframe:function(v){r._started=2;var y=r._additiveAnimators;if(y){for(var x=!1,b=0;b<y.length;b++)if(y[b]._clip){x=!0;break}x||(r._additiveAnimators=null)}for(var b=0;b<n.length;b++)n[b].step(r._target,v);var w=r._onframeCbs;if(w)for(var b=0;b<w.length;b++)w[b](r._target,v)},ondestroy:function(){r._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&p.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return Rt(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,a=this._trackKeys,i=0;i<t.length;i++){var s=n[t[i]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,i=0;i<a.length;i++)if(!n[a[i]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var a=0;a<r.length;a++){var i=r[a],s=this._tracks[i];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(t[i]=e1(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||ln(t);for(var n=0;n<r.length;n++){var a=r[n],i=this._tracks[a];if(i){var s=i.keyframes;if(s.length>1){var o=s.pop();i.addKeyframe(o.time,t[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},e})();function hh(){return new Date().getTime()}var Vye=(function(e){Wr(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,a=r.next;n?n.next=a:this._head=a,a?a.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=hh()-this._pausedTime,a=n-this._time,i=this._head;i;){var s=i.next,o=i.step(n,a);o&&(i.ondestroy(),this.removeClip(i)),i=s}this._time=n,r||(this.trigger("frame",a),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(O1(n),!r._paused&&r.update())}O1(n)},t.prototype.start=function(){this._running||(this._time=hh(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=hh(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=hh()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var a=new oL(r,n.loop);return this.addAnimator(a),a},t})(Es),qye=300,KN=Yt.domSupported,YN=(function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Rt(e,function(a){var i=a.replace("mouse","pointer");return r.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:n}})(),qz={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Gz=!1;function NO(e){var t=e.pointerType;return t==="pen"||t==="touch"}function Gye(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function XN(e){e&&(e.zrByTouch=!0)}function Wye(e,t){return ki(e.dom,new Kye(e,t),!0)}function $Q(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var Kye=(function(){function e(t,r){this.stopPropagation=_a,this.stopImmediatePropagation=_a,this.preventDefault=_a,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e})(),ds={mousedown:function(e){e=ki(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=ki(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=ki(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=ki(this.dom,e);var t=e.toElement||e.relatedTarget;$Q(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){Gz=!0,e=ki(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){Gz||(e=ki(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=ki(this.dom,e),XN(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),ds.mousemove.call(this,e),ds.mousedown.call(this,e)},touchmove:function(e){e=ki(this.dom,e),XN(e),this.handler.processGesture(e,"change"),ds.mousemove.call(this,e)},touchend:function(e){e=ki(this.dom,e),XN(e),this.handler.processGesture(e,"end"),ds.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<qye&&ds.click.call(this,e)},pointerdown:function(e){ds.mousedown.call(this,e)},pointermove:function(e){NO(e)||ds.mousemove.call(this,e)},pointerup:function(e){ds.mouseup.call(this,e)},pointerout:function(e){NO(e)||ds.mouseout.call(this,e)}};re(["click","dblclick","contextmenu"],function(e){ds[e]=function(t){t=ki(this.dom,t),this.trigger(e,t)}});var AO={pointermove:function(e){NO(e)||AO.mousemove.call(this,e)},pointerup:function(e){AO.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function Yye(e,t){var r=t.domHandlers;Yt.pointerEventsSupported?re(YN.pointer,function(n){n1(t,n,function(a){r[n].call(e,a)})}):(Yt.touchEventsSupported&&re(YN.touch,function(n){n1(t,n,function(a){r[n].call(e,a),Gye(t)})}),re(YN.mouse,function(n){n1(t,n,function(a){a=nL(a),t.touching||r[n].call(e,a)})}))}function Xye(e,t){Yt.pointerEventsSupported?re(qz.pointer,r):Yt.touchEventsSupported||re(qz.mouse,r);function r(n){function a(i){i=nL(i),$Q(e,i.target)||(i=Wye(e,i),t.domHandlers[n].call(e,i))}n1(t,n,a,{capture:!0})}}function n1(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,hye(e.domTarget,t,r,n)}function ZN(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&pye(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var Wz=(function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e})(),Zye=(function(e){Wr(t,e);function t(r,n){var a=e.call(this)||this;return a.__pointerCapturing=!1,a.dom=r,a.painterRoot=n,a._localHandlerScope=new Wz(r,ds),KN&&(a._globalHandlerScope=new Wz(document,AO)),Yye(a,a._localHandlerScope),a}return t.prototype.dispose=function(){ZN(this._localHandlerScope),KN&&ZN(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,KN&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?Xye(this,n):ZN(n)}},t})(Es),zQ=1;Yt.hasGlobalWindow&&(zQ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var $1=zQ,MO=.4,EO="#333",jO="#ccc",Qye="#eee",Kz=aL,Yz=5e-5;function Sc(e){return e>Yz||e<-Yz}var _c=[],Nd=[],QN=_h(),JN=Math.abs,lL=(function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Sc(this.rotation)||Sc(this.x)||Sc(this.y)||Sc(this.scaleX-1)||Sc(this.scaleY-1)||Sc(this.skewX)||Sc(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(Kz(n),this.invTransform=null);return}n=n||_h(),r?this.getLocalTransform(n):Kz(n),t&&(r?Th(n,t,n):gye(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(_c);var n=_c[0]<0?-1:1,a=_c[1]<0?-1:1,i=((_c[0]-n)*r+n)/_c[0]||0,s=((_c[1]-a)*r+a)/_c[1]||0;t[0]*=i,t[1]*=i,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||_h(),sL(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),i=Math.PI/2+a-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(i),r=Math.sqrt(r),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||_h(),Th(Nd,t.invTransform,r),r=Nd);var n=this.originX,a=this.originY;(n||a)&&(QN[4]=n,QN[5]=a,Th(Nd,r,QN),Nd[4]-=n,Nd[5]-=a,r=Nd),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],a=this.invTransform;return a&&Wi(n,n,a),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],a=this.transform;return a&&Wi(n,n,a),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&JN(t[0]-1)>1e-10&&JN(t[3]-1)>1e-10?Math.sqrt(JN(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){Jye(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,a=t.originY||0,i=t.scaleX,s=t.scaleY,o=t.anchorX,l=t.anchorY,u=t.rotation||0,f=t.x,d=t.y,p=t.skewX?Math.tan(t.skewX):0,v=t.skewY?Math.tan(-t.skewY):0;if(n||a||o||l){var y=n+o,x=a+l;r[4]=-y*i-p*x*s,r[5]=-x*s-v*y*i}else r[4]=r[5]=0;return r[0]=i,r[3]=s,r[1]=v*i,r[2]=p*s,u&&iL(r,r,u),r[4]+=n+f,r[5]+=a+d,r},e.initDefaultProps=(function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),e})(),_g=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Jye(e,t){for(var r=0;r<_g.length;r++){var n=_g[r];e[n]=t[n]}}var Xz={};function hi(e,t){t=t||xf;var r=Xz[t];r||(r=Xz[t]=new R0(500));var n=r.get(e);return n==null&&(n=Cp.measureText(e,t).width,r.put(e,n)),n}function Zz(e,t,r,n){var a=hi(e,t),i=cL(t),s=Tv(0,a,r),o=th(0,i,n),l=new kr(s,o,a,i);return l}function uL(e,t,r,n){var a=((e||"")+"").split(`
`),i=a.length;if(i===1)return Zz(a[0],t,r,n);for(var s=new kr(0,0,0,0),o=0;o<a.length;o++){var l=Zz(a[o],t,r,n);o===0?s.copy(l):s.union(l)}return s}function Tv(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function th(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function cL(e){return hi("",e)}function zu(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function z1(e,t,r){var n=t.position||"inside",a=t.distance!=null?t.distance:5,i=r.height,s=r.width,o=i/2,l=r.x,u=r.y,f="left",d="top";if(n instanceof Array)l+=zu(n[0],r.width),u+=zu(n[1],r.height),f=null,d=null;else switch(n){case"left":l-=a,u+=o,f="right",d="middle";break;case"right":l+=a+s,u+=o,d="middle";break;case"top":l+=s/2,u-=a,f="center",d="bottom";break;case"bottom":l+=s/2,u+=i+a,f="center";break;case"inside":l+=s/2,u+=o,f="center",d="middle";break;case"insideLeft":l+=a,u+=o,d="middle";break;case"insideRight":l+=s-a,u+=o,f="right",d="middle";break;case"insideTop":l+=s/2,u+=a,f="center";break;case"insideBottom":l+=s/2,u+=i-a,f="center",d="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=s-a,u+=a,f="right";break;case"insideBottomLeft":l+=a,u+=i-a,d="bottom";break;case"insideBottomRight":l+=s-a,u+=i-a,f="right",d="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=f,e.verticalAlign=d,e}var eA="__zr_normal__",tA=_g.concat(["ignore"]),exe=Np(_g,function(e,t){return e[t]=!0,e},{ignore:!1}),Ad={},txe=new kr(0,0,0,0),DS=(function(){function e(t){this.id=bQ(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,a=n.local,i=r.innerTransformable,s=void 0,o=void 0,l=!1;i.parent=a?this:null;var u=!1;if(i.copyTransform(r),n.position!=null){var f=txe;n.layoutRect?f.copy(n.layoutRect):f.copy(this.getBoundingRect()),a||f.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ad,n,f):z1(Ad,n,f),i.x=Ad.x,i.y=Ad.y,s=Ad.align,o=Ad.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var p=void 0,v=void 0;d==="center"?(p=f.width*.5,v=f.height*.5):(p=zu(d[0],f.width),v=zu(d[1],f.height)),u=!0,i.originX=-i.x+p+(a?0:f.x),i.originY=-i.y+v+(a?0:f.y)}}n.rotation!=null&&(i.rotation=n.rotation);var y=n.offset;y&&(i.x+=y[0],i.y+=y[1],u||(i.originX=-y[0],i.originY=-y[1]));var x=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,_=void 0,T=void 0;x&&this.canBeInsideText()?(w=n.insideFill,_=n.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(_==null||_==="auto")&&(_=this.getInsideTextStroke(w),T=!0)):(w=n.outsideFill,_=n.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(_==null||_==="auto")&&(_=this.getOutsideStroke(w),T=!0)),w=w||"#000",(w!==b.fill||_!==b.stroke||T!==b.autoStroke||s!==b.align||o!==b.verticalAlign)&&(l=!0,b.fill=w,b.stroke=_,b.autoStroke=T,b.align=s,b.verticalAlign=o,r.setDefaultTextStyle(b)),r.__dirty|=ci,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?jO:EO},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&ro(r);n||(n=[255,255,255,1]);for(var a=n[3],i=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*a+(i?0:255)*(1-a);return n[3]=1,L0(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},gt(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(Vt(t))for(var n=t,a=ln(n),i=0;i<a.length;i++){var s=a[i];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var a=this.animators[n],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==eA)){var s=a.targetName,o=s?r[s]:r;a.saveTo(o)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,tA)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var a=0;a<n.length;a++){var i=n[a];t[i]!=null&&!(i in r)&&(r[i]=this[i])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(eA,!1,t)},e.prototype.useState=function(t,r,n,a){var i=t===eA,s=this.hasState();if(!(!s&&i)){var o=this.currentStates,l=this.stateTransition;if(!(Cr(o,t)>=0&&(r||o.length===1))){var u;if(this.stateProxy&&!i&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!i){eL("State "+t+" not exists.");return}i||this.saveCurrentToNormalState(u);var f=!!(u&&u.hoverLayer||a);f&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,p=this._textGuide;return d&&d.useState(t,r,n,f),p&&p.useState(t,r,n,f),i?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ci),u}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var a=[],i=this.currentStates,s=t.length,o=s===i.length;if(o){for(var l=0;l<s;l++)if(t[l]!==i[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=t[l],f=void 0;this.stateProxy&&(f=this.stateProxy(u,t)),f||(f=this.states[u]),f&&a.push(f)}var d=a[s-1],p=!!(d&&d.hoverLayer||n);p&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(a),y=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(t.join(","),v,this._normalState,!1,!r&&!this.__inHover&&y&&y.duration>0,y);var x=this._textContent,b=this._textGuide;x&&x.useStates(t,r,p),b&&b.useStates(t,r,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ci)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Cr(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var a=this.currentStates.slice(),i=Cr(a,t),s=Cr(a,r)>=0;i>=0?s?a.splice(i,1):a[i]=r:n&&!s&&a.push(r),this.useStates(a)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,a=0;a<t.length;a++){var i=t[a];gt(r,i),i.textConfig&&(n=n||{},gt(n,i.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,a,i,s){var o=!(r&&a);r&&r.textConfig?(this.textConfig=gt({},a?this.textConfig:n.textConfig),gt(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,f=0;f<tA.length;f++){var d=tA[f],p=i&&exe[d];r&&r[d]!=null?p?(u=!0,l[d]=r[d]):this[d]=r[d]:o&&n[d]!=null&&(p?(u=!0,l[d]=n[d]):this[d]=n[d])}if(!i)for(var f=0;f<this.animators.length;f++){var v=this.animators[f],y=v.targetName;v.getLoop()||v.__changeFinalValue(y?(r||n)[y]:r||n)}u&&this._transitionState(t,l,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new lL,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),gt(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ci;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var a=t?this[t]:this,i=new oL(a,r,n);return t&&(i.targetName=t),this.addAnimator(i,t),i},e.prototype.addAnimator=function(t,r){var n=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(r)}).done(function(){var i=a.animators,s=Cr(i,t);s>=0&&i.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,a=n.length,i=[],s=0;s<a;s++){var o=n[s];!t||t===o.scope?o.stop(r):i.push(o)}return this.animators=i,this},e.prototype.animateTo=function(t,r,n){rA(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){rA(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,a){for(var i=rA(this,r,n,a),s=0;s<i.length;s++)i[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=(function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ci;function r(n,a,i,s){Object.defineProperty(t,n,{get:function(){if(!this[a]){var l=this[a]=[];o(this,l)}return this[a]},set:function(l){this[i]=l[0],this[s]=l[1],this[a]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[i]},set:function(f){l[i]=f}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(f){l[s]=f}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))})(),e})();Ms(DS,Es);Ms(DS,lL);function rA(e,t,r,n,a){r=r||{};var i=[];FQ(e,"",e,t,r,n,i,a);var s=i.length,o=!1,l=r.done,u=r.aborted,f=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},d=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),i.length>0&&r.during&&i[0].during(function(y,x){r.during(x)});for(var p=0;p<i.length;p++){var v=i[p];f&&v.done(f),d&&v.aborted(d),r.force&&v.duration(r.duration),v.start(r.easing)}return i}function nA(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function rxe(e){return qa(e[0])}function nxe(e,t,r){if(qa(t[r]))if(qa(e[r])||(e[r]=[]),Ga(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),nA(e[r],t[r],n))}else{var a=t[r],i=e[r],s=a.length;if(rxe(a))for(var o=a[0].length,l=0;l<s;l++)i[l]?nA(i[l],a[l],o):i[l]=Array.prototype.slice.call(a[l]);else nA(i,a,s);i.length=a.length}else e[r]=t[r]}function axe(e,t){return e===t||qa(e)&&qa(t)&&ixe(e,t)}function ixe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function FQ(e,t,r,n,a,i,s,o){for(var l=ln(n),u=a.duration,f=a.delay,d=a.additive,p=a.setToFinal,v=!Vt(i),y=e.animators,x=[],b=0;b<l.length;b++){var w=l[b],_=n[w];if(_!=null&&r[w]!=null&&(v||i[w]))if(Vt(_)&&!qa(_)&&!ES(_)){if(t){o||(r[w]=_,e.updateDuringAnimation(t));continue}FQ(e,w,r[w],_,a,i&&i[w],s,o)}else x.push(w);else o||(r[w]=_,e.updateDuringAnimation(t),x.push(w))}var T=x.length;if(!d&&T)for(var M=0;M<y.length;M++){var N=y[M];if(N.targetName===t){var C=N.stopTracks(x);if(C){var j=Cr(y,N);y.splice(j,1)}}}if(a.force||(x=Fn(x,function(k){return!axe(n[k],r[k])}),T=x.length),T>0||a.force&&!s.length){var O=void 0,P=void 0,R=void 0;if(o){P={},p&&(O={});for(var M=0;M<T;M++){var w=x[M];P[w]=r[w],p?O[w]=n[w]:r[w]=n[w]}}else if(p){R={};for(var M=0;M<T;M++){var w=x[M];R[w]=e1(r[w]),nxe(r,n,w)}}var N=new oL(r,!1,!1,d?Fn(y,function(L){return L.targetName===t}):null);N.targetName=t,a.scope&&(N.scope=a.scope),p&&O&&N.whenWithKeys(0,O,x),R&&N.whenWithKeys(0,R,x),N.whenWithKeys(u??500,o?P:n,x).delay(f||0),e.addAnimator(N,t),s.push(N)}}var xn=(function(e){Wr(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,a=0;a<n.length;a++)if(n[a].name===r)return n[a]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var a=this._children,i=a.indexOf(n);i>=0&&(a.splice(i,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var a=Cr(this._children,r);return a>=0&&this.replaceAt(n,a),this},t.prototype.replaceAt=function(r,n){var a=this._children,i=a[n];if(r&&r!==this&&r.parent!==this&&r!==i){a[n]=r,i.parent=null;var s=this.__zr;s&&i.removeSelfFromZr(s),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,a=this._children,i=Cr(a,r);return i<0?this:(a.splice(i,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,a=0;a<r.length;a++){var i=r[a];n&&i.removeSelfFromZr(n),i.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var a=this._children,i=0;i<a.length;i++){var s=a[i];r.call(n,s,i)}return this},t.prototype.traverse=function(r,n){for(var a=0;a<this._children.length;a++){var i=this._children[a],s=r.call(n,i);i.isGroup&&!s&&i.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new kr(0,0,0,0),a=r||this._children,i=[],s=null,o=0;o<a.length;o++){var l=a[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),f=l.getLocalTransform(i);f?(kr.applyTransform(n,u,f),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},t})(DS);xn.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var a1={},UQ={};function sxe(e){delete UQ[e]}function oxe(e){if(!e)return!1;if(typeof e=="string")return B1(e,1)<MO;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,a=0;a<n;a++)r+=B1(t[a].color,1);return r/=n,r<MO}return!1}var lxe=(function(){function e(t,r,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var i=new Aye,s=n.renderer||"canvas";a1[s]||(s=ln(a1)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new a1[s](r,i,n,t),l=n.ssr||o.ssrOnly;this.storage=i,this.painter=o;var u=!Yt.node&&!Yt.worker&&!l?new Zye(o.getViewportRoot(),o.root):null,f=n.useCoarsePointer,d=f==null||f==="auto"?Yt.touchEventsSupported:!!f,p=44,v;d&&(v=sr(n.pointerSize,p)),this.handler=new MQ(i,o,u,o.root,v),this.animation=new Vye({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=oxe(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=hh();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var a=hh();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof xn&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,sxe(this.id))},e})();function Qz(e,t){var r=new lxe(bQ(),e,t);return UQ[r.id]=r,r}function uxe(e,t){a1[e]=t}var Jz=1e-4,HQ=20;function cxe(e){return e.replace(/^\s+|\s+$/g,"")}function fa(e,t,r,n){var a=t[0],i=t[1],s=r[0],o=r[1],l=i-a,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(e<=a)return s;if(e>=i)return o}else{if(e>=a)return s;if(e<=i)return o}else{if(e===a)return s;if(e===i)return o}return(e-a)/l*u+s}function Cn(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Pt(e)?cxe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function An(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),HQ),e=(+e).toFixed(t),r?e:+e}function Yc(e){return e.sort(function(t,r){return t-r}),e}function Ks(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return fxe(e)}function fxe(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,a=r>0?r:t.length,i=t.indexOf("."),s=i<0?0:a-1-i;return Math.max(0,s-n)}function VQ(e,t){var r=Math.log,n=Math.LN10,a=Math.floor(r(e[1]-e[0])/n),i=Math.round(r(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-a+i,0),20);return isFinite(s)?s:20}function dxe(e,t){var r=Math.max(Ks(e),Ks(t)),n=e+t;return r>HQ?n:An(n,r)}function qQ(e){var t=Math.PI*2;return(e%t+t)%t}function F1(e){return e>-Jz&&e<Jz}var hxe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function cl(e){if(e instanceof Date)return e;if(Pt(e)){var t=hxe.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function pxe(e){return Math.pow(10,fL(e))}function fL(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function GQ(e,t){var r=fL(e),n=Math.pow(10,r),a=e/n,i;return a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10,e=i*n,r>=-20?+e.toFixed(r<0?-r:0):e}function U1(e){var t=parseFloat(e);return t==e&&(t!==0||!Pt(e)||e.indexOf("x")<=0)?t:NaN}function mxe(e){return!isNaN(U1(e))}function WQ(){return Math.round(Math.random()*9)}function KQ(e,t){return t===0?e:KQ(t,e%t)}function eF(e,t){return e==null?t:t==null?e:e*t/KQ(e,t)}function za(e){throw new Error(e)}function tF(e,t,r){return(t-e)*r+e}var YQ="series\0",vxe="\0_ec_\0";function Ta(e){return e instanceof Array?e:e==null?[]:[e]}function DO(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,a=r.length;n<a;n++){var i=r[n];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var rF=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function I0(e){return Vt(e)&&!wt(e)&&!(e instanceof Date)?e.value:e}function gxe(e){return Vt(e)&&!(e instanceof Array)}function yxe(e,t,r){var n=r==="normalMerge",a=r==="replaceMerge",i=r==="replaceAll";e=e||[],t=(t||[]).slice();var s=Xt();re(t,function(l,u){if(!Vt(l)){t[u]=null;return}});var o=xxe(e,s,r);return(n||a)&&bxe(o,e,s,t),n&&wxe(o,t),n||a?Sxe(o,t,a):i&&_xe(o,t),Txe(o),o}function xxe(e,t,r){var n=[];if(r==="replaceAll")return n;for(var a=0;a<e.length;a++){var i=e[a];i&&i.id!=null&&t.set(i.id,a),n.push({existing:r==="replaceMerge"||Tg(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function bxe(e,t,r,n){re(n,function(a,i){if(!(!a||a.id==null)){var s=Hv(a.id),o=r.get(s);if(o!=null){var l=e[o];ul(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=a,l.existing=t[o],n[i]=null}}})}function wxe(e,t){re(t,function(r,n){if(!(!r||r.name==null))for(var a=0;a<e.length;a++){var i=e[a].existing;if(!e[a].newOption&&i&&(i.id==null||r.id==null)&&!Tg(r)&&!Tg(i)&&XQ("name",i,r)){e[a].newOption=r,t[n]=null;return}}})}function Sxe(e,t,r){re(t,function(n){if(n){for(var a,i=0;(a=e[i])&&(a.newOption||Tg(a.existing)||a.existing&&n.id!=null&&!XQ("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),i++}})}function _xe(e,t){re(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Txe(e){var t=Xt();re(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),re(e,function(r){var n=r.newOption;ul(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),re(e,function(r,n){var a=r.existing,i=r.newOption,s=r.keyInfo;if(Vt(i)){if(s.name=i.name!=null?Hv(i.name):a?a.name:YQ+n,a)s.id=Hv(a.id);else if(i.id!=null)s.id=Hv(i.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,r)}})}function XQ(e,t,r){var n=no(t[e],null),a=no(r[e],null);return n!=null&&a!=null&&n===a}function Hv(e){return no(e,"")}function no(e,t){return e==null?t:Pt(e)?e:Jr(e)||pO(e)?e+"":t}function dL(e){var t=e.name;return!!(t&&t.indexOf(YQ))}function Tg(e){return e&&e.id!=null&&Hv(e.id).indexOf(vxe)===0}function Cxe(e,t,r){re(e,function(n){var a=n.newOption;Vt(a)&&(n.keyInfo.mainType=t,n.keyInfo.subType=Nxe(t,a,n.existing,r))})}function Nxe(e,t,r,n){var a=t.type?t.type:r?r.subType:n.determineSubType(e,t);return a}function wf(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return wt(t.dataIndex)?Rt(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return wt(t.name)?Rt(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function un(){var e="__ec_inner_"+Axe++;return function(t){return t[e]||(t[e]={})}}var Axe=WQ();function aA(e,t,r){var n=hL(t,r),a=n.mainTypeSpecified,i=n.queryOptionMap,s=n.others,o=s,l=r?r.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(u,f){var d=B0(e,f,u,{useDefault:l===f,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[f+"Models"]=d.models,o[f+"Model"]=d.models[0]}),o}function hL(e,t){var r;if(Pt(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var a=Xt(),i={},s=!1;return re(r,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],f=u[1],d=(u[2]||"").toLowerCase();if(!(!f||!d||t&&t.includeMainTypes&&Cr(t.includeMainTypes,f)<0)){s=s||!!f;var p=a.get(f)||a.set(f,{});p[d]=o}}),{mainTypeSpecified:s,queryOptionMap:a,others:i}}var Ha={useDefault:!0,enableAll:!1,enableNone:!1},Mxe={useDefault:!1,enableAll:!0,enableNone:!0};function B0(e,t,r,n){n=n||Ha;var a=r.index,i=r.id,s=r.name,o={models:null,specified:a!=null||i!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],o}return a==="none"||a===!1?(ul(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(a==="all"&&(ul(n.enableAll,'`"all"` is not a valid value on index option.'),a=i=s=null),o.models=e.queryComponents({mainType:t,index:a,id:i,name:s}),o)}function ZQ(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function Exe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function jxe(e){return e==="auto"?Yt.domSupported?"html":"richText":e||"html"}function Dxe(e,t,r,n,a){var i=t==null||t==="auto";if(n==null)return n;if(Jr(n)){var s=tF(r||0,n,a);return An(s,i?Math.max(Ks(r||0),Ks(n)):t)}else{if(Pt(n))return a<1?r:n;for(var o=[],l=r,u=n,f=Math.max(l?l.length:0,u.length),d=0;d<f;++d){var p=e.getDimensionInfo(d);if(p&&p.type==="ordinal")o[d]=(a<1&&l?l:u)[d];else{var v=l&&l[d]?l[d]:0,y=u[d],s=tF(v,y,a);o[d]=An(s,i?Math.max(Ks(v),Ks(y)):t)}}return o}}var Oxe=".",Tc="___EC__COMPONENT__CONTAINER___",QQ="___EC__EXTENDED_CLASS___";function Ys(e){var t={main:"",sub:""};if(e){var r=e.split(Oxe);t.main=r[0]||"",t.sub=r[1]||""}return t}function Pxe(e){ul(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function kxe(e){return!!(e&&e[QQ])}function pL(e,t){e.$constructor=e,e.extend=function(r){var n=this,a;return Rxe(n)?a=(function(i){Bt(s,i);function s(){return i.apply(this,arguments)||this}return s})(n):(a=function(){(r.$constructor||n).apply(this,arguments)},V0e(a,this)),gt(a.prototype,r),a[QQ]=!0,a.extend=this.extend,a.superCall=Bxe,a.superApply=$xe,a.superClass=n,a}}function Rxe(e){return rr(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function JQ(e,t){e.extend=t.extend}var Lxe=Math.round(Math.random()*10);function Ixe(e){var t=["__\0is_clz",Lxe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function Bxe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function $xe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function OS(e){var t={};e.registerClass=function(n){var a=n.type||n.prototype.type;if(a){Pxe(a),n.prototype.type=a;var i=Ys(a);if(!i.sub)t[i.main]=n;else if(i.sub!==Tc){var s=r(i);s[i.sub]=n}}return n},e.getClass=function(n,a,i){var s=t[n];if(s&&s[Tc]&&(s=a?s[a]:null),i&&!s)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return s},e.getClassesByMainType=function(n){var a=Ys(n),i=[],s=t[a.main];return s&&s[Tc]?re(s,function(o,l){l!==Tc&&i.push(o)}):i.push(s),i},e.hasClass=function(n){var a=Ys(n);return!!t[a.main]},e.getAllClassMainTypes=function(){var n=[];return re(t,function(a,i){n.push(i)}),n},e.hasSubTypes=function(n){var a=Ys(n),i=t[a.main];return i&&i[Tc]};function r(n){var a=t[n.main];return(!a||!a[Tc])&&(a=t[n.main]={},a[Tc]=!0),a}}function Cg(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,a,i){for(var s={},o=0;o<e.length;o++){var l=e[o][1];if(!(a&&Cr(a,l)>=0||i&&Cr(i,l)<0)){var u=n.getShallow(l,t);u!=null&&(s[e[o][0]]=u)}}return s}}var zxe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Fxe=Cg(zxe),Uxe=(function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return Fxe(this,t,r)},e})(),OO=new R0(50);function Hxe(e){if(typeof e=="string"){var t=OO.get(e);return t&&t.image}else return e}function eJ(e,t,r,n,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var i=OO.get(e),s={hostEl:r,cb:n,cbPayload:a};return i?(t=i.image,!PS(t)&&i.pending.push(s)):(t=Cp.loadImage(e,nF,nF),t.__zrImageSrc=e,OO.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function nF(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function PS(e){return e&&e.width&&e.height}var iA=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Vxe(e,t,r,n,a,i){if(!r){e.text="",e.isTruncated=!1;return}var s=(t+"").split(`
`);i=tJ(r,n,a,i);for(var o=!1,l={},u=0,f=s.length;u<f;u++)rJ(l,s[u],i),s[u]=l.textLine,o=o||l.isTruncated;e.text=s.join(`
`),e.isTruncated=o}function tJ(e,t,r,n){n=n||{};var a=gt({},n);a.font=t,r=sr(r,"..."),a.maxIterations=sr(n.maxIterations,2);var i=a.minChar=sr(n.minChar,0);a.cnCharWidth=hi("",t);var s=a.ascCharWidth=hi("a",t);a.placeholder=sr(n.placeholder,"");for(var o=e=Math.max(0,e-1),l=0;l<i&&o>=s;l++)o-=s;var u=hi(r,t);return u>o&&(r="",u=0),o=e-u,a.ellipsis=r,a.ellipsisWidth=u,a.contentWidth=o,a.containerWidth=e,a}function rJ(e,t,r){var n=r.containerWidth,a=r.font,i=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var s=hi(t,a);if(s<=n){e.textLine=t,e.isTruncated=!1;return}for(var o=0;;o++){if(s<=i||o>=r.maxIterations){t+=r.ellipsis;break}var l=o===0?qxe(t,i,r.ascCharWidth,r.cnCharWidth):s>0?Math.floor(t.length*i/s):0;t=t.substr(0,l),s=hi(t,a)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function qxe(e,t,r,n){for(var a=0,i=0,s=e.length;i<s&&a<t;i++){var o=e.charCodeAt(i);a+=0<=o&&o<=127?r:n}return i}function Gxe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,a=t.font,i=r==="truncate",s=cL(a),o=sr(t.lineHeight,s),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",f=!1,d=t.width,p;d!=null&&(r==="break"||r==="breakAll")?p=e?nJ(e,t.font,d,r==="breakAll",0).lines:[]:p=e?e.split(`
`):[];var v=p.length*o,y=sr(t.height,v);if(v>y&&u){var x=Math.floor(y/o);f=f||p.length>x,p=p.slice(0,x)}if(e&&i&&d!=null)for(var b=tJ(d,a,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),w={},_=0;_<p.length;_++)rJ(w,p[_],b),p[_]=w.textLine,f=f||w.isTruncated;for(var T=y,M=0,_=0;_<p.length;_++)M=Math.max(hi(p[_],a),M);d==null&&(d=M);var N=M;return n&&(T+=n[0]+n[2],N+=n[1]+n[3],d+=n[1]+n[3]),l&&(N=d),{lines:p,height:y,outerWidth:N,outerHeight:T,lineHeight:o,calculatedLineHeight:s,contentWidth:M,contentHeight:v,width:d,isTruncated:f}}var Wxe=(function(){function e(){}return e})(),aF=(function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e})(),Kxe=(function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e})();function Yxe(e,t){var r=new Kxe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,a=t.height,i=t.overflow,s=(i==="break"||i==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:i==="breakAll"}:null,o=iA.lastIndex=0,l;(l=iA.exec(e))!=null;){var u=l.index;u>o&&sA(r,e.substring(o,u),t,s),sA(r,l[2],t,s,l[1]),o=iA.lastIndex}o<e.length&&sA(r,e.substring(o,e.length),t,s);var f=[],d=0,p=0,v=t.padding,y=i==="truncate",x=t.lineOverflow==="truncate",b={};function w(Y,H,U){Y.width=H,Y.lineHeight=U,d+=U,p=Math.max(p,H)}e:for(var _=0;_<r.lines.length;_++){for(var T=r.lines[_],M=0,N=0,C=0;C<T.tokens.length;C++){var j=T.tokens[C],O=j.styleName&&t.rich[j.styleName]||{},P=j.textPadding=O.padding,R=P?P[1]+P[3]:0,k=j.font=O.font||t.font;j.contentHeight=cL(k);var L=sr(O.height,j.contentHeight);if(j.innerHeight=L,P&&(L+=P[0]+P[2]),j.height=L,j.lineHeight=Qb(O.lineHeight,t.lineHeight,L),j.align=O&&O.align||t.align,j.verticalAlign=O&&O.verticalAlign||"middle",x&&a!=null&&d+j.lineHeight>a){var I=r.lines.length;C>0?(T.tokens=T.tokens.slice(0,C),w(T,N,M),r.lines=r.lines.slice(0,_+1)):r.lines=r.lines.slice(0,_),r.isTruncated=r.isTruncated||r.lines.length<I;break e}var $=O.width,F=$==null||$==="auto";if(typeof $=="string"&&$.charAt($.length-1)==="%")j.percentWidth=$,f.push(j),j.contentWidth=hi(j.text,k);else{if(F){var z=O.backgroundColor,V=z&&z.image;V&&(V=Hxe(V),PS(V)&&(j.width=Math.max(j.width,V.width*L/V.height)))}var q=y&&n!=null?n-N:null;q!=null&&q<j.width?!F||q<R?(j.text="",j.width=j.contentWidth=0):(Vxe(b,j.text,q-R,k,t.ellipsis,{minChar:t.truncateMinChar}),j.text=b.text,r.isTruncated=r.isTruncated||b.isTruncated,j.width=j.contentWidth=hi(j.text,k)):j.contentWidth=hi(j.text,k)}j.width+=R,N+=j.width,O&&(M=Math.max(M,j.lineHeight))}w(T,N,M)}r.outerWidth=r.width=sr(n,p),r.outerHeight=r.height=sr(a,d),r.contentHeight=d,r.contentWidth=p,v&&(r.outerWidth+=v[1]+v[3],r.outerHeight+=v[0]+v[2]);for(var _=0;_<f.length;_++){var j=f[_],W=j.percentWidth;j.width=parseInt(W,10)/100*r.width}return r}function sA(e,t,r,n,a){var i=t==="",s=a&&r.rich[a]||{},o=e.lines,l=s.font||r.font,u=!1,f,d;if(n){var p=s.padding,v=p?p[1]+p[3]:0;if(s.width!=null&&s.width!=="auto"){var y=zu(s.width,n.width)+v;o.length>0&&y+n.accumWidth>n.width&&(f=t.split(`
`),u=!0),n.accumWidth=y}else{var x=nJ(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=x.accumWidth+v,d=x.linesWidths,f=x.lines}}else f=t.split(`
`);for(var b=0;b<f.length;b++){var w=f[b],_=new Wxe;if(_.styleName=a,_.text=w,_.isLineHolder=!w&&!i,typeof s.width=="number"?_.width=s.width:_.width=d?d[b]:hi(w,l),!b&&!u){var T=(o[o.length-1]||(o[0]=new aF)).tokens,M=T.length;M===1&&T[0].isLineHolder?T[0]=_:(w||!M||i)&&T.push(_)}else o.push(new aF([_]))}}function Xxe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var Zxe=Np(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function Qxe(e){return Xxe(e)?!!Zxe[e]:!0}function nJ(e,t,r,n,a){for(var i=[],s=[],o="",l="",u=0,f=0,d=0;d<e.length;d++){var p=e.charAt(d);if(p===`
`){l&&(o+=l,f+=u),i.push(o),s.push(f),o="",l="",u=0,f=0;continue}var v=hi(p,t),y=n?!1:!Qxe(p);if(i.length?f+v>r:a+f+v>r){f?(o||l)&&(y?(o||(o=l,l="",u=0,f=u),i.push(o),s.push(f-u),l+=p,u+=v,o="",f=u):(l&&(o+=l,l="",u=0),i.push(o),s.push(f),o=p,f=v)):y?(i.push(l),s.push(u),l=p,u=v):(i.push(p),s.push(v));continue}f+=v,y?(l+=p,u+=v):(l&&(o+=l,l="",u=0),o+=p)}return!i.length&&!o&&(o=e,l="",u=0),l&&(o+=l),o&&(i.push(o),s.push(f)),i.length===1&&(f+=a),{accumWidth:f,lines:i,linesWidths:s}}var PO="__zr_style_"+Math.round(Math.random()*10),hf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},kS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};hf[PO]=!0;var iF=["z","z2","invisible"],Jxe=["invisible"],$0=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=ln(r),a=0;a<n.length;a++){var i=n[a];i==="style"?this.useStyle(r[i]):e.prototype.attrKV.call(this,i,r[i])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,a,i){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&ebe(this,r,n)||s&&!s[0]&&!s[3])return!1;if(a&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();return i.contain(a[0],a[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,a=this.getBoundingRect(),i=this.style,s=i.shadowBlur||0,o=i.shadowOffsetX||0,l=i.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new kr(0,0,0,0)),n?kr.applyTransform(r,a,n):r.copy(a),(s||o||l)&&(r.width+=s*2+Math.abs(o),r.height+=s*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-s),r.y=Math.min(r.y,r.y+l-s));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new kr(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:gt(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Sv,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Sv)},t.prototype.styleUpdated=function(){this.__dirty&=~Sv},t.prototype.createStyle=function(r){return jS(hf,r)},t.prototype.useStyle=function(r){r[PO]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[PO]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,iF)},t.prototype._applyStateObj=function(r,n,a,i,s,o){e.prototype._applyStateObj.call(this,r,n,a,i,s,o);var l=!(n&&i),u;if(n&&n.style?s?i?u=n.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(u,n.style)):l&&(u=a.style),u)if(s){var f=this.style;if(this.style=this.createStyle(l?{}:f),l)for(var d=ln(f),p=0;p<d.length;p++){var v=d[p];v in u&&(u[v]=u[v],this.style[v]=f[v])}for(var y=ln(u),p=0;p<y.length;p++){var v=y[p];this.style[v]=this.style[v]}this._transitionState(r,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var x=this.__inHover?Jxe:iF,p=0;p<x.length;p++){var v=x[p];n&&n[v]!=null?this[v]=n[v]:l&&a[v]!=null&&(this[v]=a[v])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var s=r[i];s.style&&(a=a||{},this._mergeStyle(a,s.style))}return a&&(n.style=a),n},t.prototype._mergeStyle=function(r,n){return gt(r,n),r},t.prototype.getAnimationStyleProps=function(){return kS},t.initDefaultProps=(function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ci|Sv})(),t})(DS),oA=new kr(0,0,0,0),lA=new kr(0,0,0,0);function ebe(e,t,r){return oA.copy(e.getBoundingRect()),e.transform&&oA.applyTransform(e.transform),lA.width=t,lA.height=r,!oA.intersect(lA)}var zi=Math.min,Fi=Math.max,uA=Math.sin,cA=Math.cos,Cc=Math.PI*2,Dx=Ap(),Ox=Ap(),Px=Ap();function sF(e,t,r,n,a,i){a[0]=zi(e,r),a[1]=zi(t,n),i[0]=Fi(e,r),i[1]=Fi(t,n)}var oF=[],lF=[];function tbe(e,t,r,n,a,i,s,o,l,u){var f=PQ,d=ta,p=f(e,r,a,s,oF);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var v=0;v<p;v++){var y=d(e,r,a,s,oF[v]);l[0]=zi(y,l[0]),u[0]=Fi(y,u[0])}p=f(t,n,i,o,lF);for(var v=0;v<p;v++){var x=d(t,n,i,o,lF[v]);l[1]=zi(x,l[1]),u[1]=Fi(x,u[1])}l[0]=zi(e,l[0]),u[0]=Fi(e,u[0]),l[0]=zi(s,l[0]),u[0]=Fi(s,u[0]),l[1]=zi(t,l[1]),u[1]=Fi(t,u[1]),l[1]=zi(o,l[1]),u[1]=Fi(o,u[1])}function rbe(e,t,r,n,a,i,s,o){var l=kQ,u=$a,f=Fi(zi(l(e,r,a),1),0),d=Fi(zi(l(t,n,i),1),0),p=u(e,r,a,f),v=u(t,n,i,d);s[0]=zi(e,a,p),s[1]=zi(t,i,v),o[0]=Fi(e,a,p),o[1]=Fi(t,i,v)}function nbe(e,t,r,n,a,i,s,o,l){var u=fh,f=dh,d=Math.abs(a-i);if(d%Cc<1e-4&&d>1e-4){o[0]=e-r,o[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(Dx[0]=cA(a)*r+e,Dx[1]=uA(a)*n+t,Ox[0]=cA(i)*r+e,Ox[1]=uA(i)*n+t,u(o,Dx,Ox),f(l,Dx,Ox),a=a%Cc,a<0&&(a=a+Cc),i=i%Cc,i<0&&(i=i+Cc),a>i&&!s?i+=Cc:a<i&&s&&(a+=Cc),s){var p=i;i=a,a=p}for(var v=0;v<i;v+=Math.PI/2)v>a&&(Px[0]=cA(v)*r+e,Px[1]=uA(v)*n+t,u(o,Px,o),f(l,Px,l))}var Er={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Nc=[],Ac=[],Ls=[],ql=[],Is=[],Bs=[],fA=Math.min,dA=Math.max,Mc=Math.cos,Ec=Math.sin,Lo=Math.abs,kO=Math.PI,iu=kO*2,hA=typeof Float32Array<"u",Um=[];function pA(e){var t=Math.round(e/kO*1e8)/1e8;return t%2*kO}function abe(e,t){var r=pA(e[0]);r<0&&(r+=iu);var n=r-e[0],a=e[1];a+=n,!t&&a-r>=iu?a=r+iu:t&&r-a>=iu?a=r-iu:!t&&r>a?a=r+(iu-pA(r-a)):t&&r<a&&(a=r-(iu-pA(a-r))),e[0]=r,e[1]=a}var Sf=(function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Lo(n/$1/t)||0,this._uy=Lo(n/$1/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(Er.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Lo(t-this._xi),a=Lo(r-this._yi),i=n>this._ux||a>this._uy;if(this.addData(Er.L,t,r),this._ctx&&i&&this._ctx.lineTo(t,r),i)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var s=n*n+a*a;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,r,n,a,i,s){return this._drawPendingPt(),this.addData(Er.C,t,r,n,a,i,s),this._ctx&&this._ctx.bezierCurveTo(t,r,n,a,i,s),this._xi=i,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,r,n,a){return this._drawPendingPt(),this.addData(Er.Q,t,r,n,a),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,a),this._xi=n,this._yi=a,this},e.prototype.arc=function(t,r,n,a,i,s){this._drawPendingPt(),Um[0]=a,Um[1]=i,abe(Um,s),a=Um[0],i=Um[1];var o=i-a;return this.addData(Er.A,t,r,n,n,a,o,0,s?0:1),this._ctx&&this._ctx.arc(t,r,n,a,i,s),this._xi=Mc(i)*n+t,this._yi=Ec(i)*n+r,this},e.prototype.arcTo=function(t,r,n,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,a,i),this},e.prototype.rect=function(t,r,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,a),this.addData(Er.R,t,r,n,a),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(Er.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&hA&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,a=this._len,i=0;i<r;i++)n+=t[i].len();hA&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+n));for(var i=0;i<r;i++)for(var s=t[i].data,o=0;o<s.length;o++)this.data[a++]=s[o];this._len=a},e.prototype.addData=function(t,r,n,a,i,s,o,l,u){if(this._saveData){var f=this.data;this._len+arguments.length>f.length&&(this._expandData(),f=this.data);for(var d=0;d<arguments.length;d++)f[this._len++]=arguments[d]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hA&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Ls[0]=Ls[1]=Is[0]=Is[1]=Number.MAX_VALUE,ql[0]=ql[1]=Bs[0]=Bs[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,a=0,i=0,s;for(s=0;s<this._len;){var o=t[s++],l=s===1;switch(l&&(r=t[s],n=t[s+1],a=r,i=n),o){case Er.M:r=a=t[s++],n=i=t[s++],Is[0]=a,Is[1]=i,Bs[0]=a,Bs[1]=i;break;case Er.L:sF(r,n,t[s],t[s+1],Is,Bs),r=t[s++],n=t[s++];break;case Er.C:tbe(r,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],Is,Bs),r=t[s++],n=t[s++];break;case Er.Q:rbe(r,n,t[s++],t[s++],t[s],t[s+1],Is,Bs),r=t[s++],n=t[s++];break;case Er.A:var u=t[s++],f=t[s++],d=t[s++],p=t[s++],v=t[s++],y=t[s++]+v;s+=1;var x=!t[s++];l&&(a=Mc(v)*d+u,i=Ec(v)*p+f),nbe(u,f,d,p,v,y,x,Is,Bs),r=Mc(y)*d+u,n=Ec(y)*p+f;break;case Er.R:a=r=t[s++],i=n=t[s++];var b=t[s++],w=t[s++];sF(a,i,a+b,i+w,Is,Bs);break;case Er.Z:r=a,n=i;break}fh(Ls,Ls,Is),dh(ql,ql,Bs)}return s===0&&(Ls[0]=Ls[1]=ql[0]=ql[1]=0),new kr(Ls[0],Ls[1],ql[0]-Ls[0],ql[1]-Ls[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,a=this._uy,i=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,f=0,d=0,p=0;p<r;){var v=t[p++],y=p===1;y&&(i=t[p],s=t[p+1],o=i,l=s);var x=-1;switch(v){case Er.M:i=o=t[p++],s=l=t[p++];break;case Er.L:{var b=t[p++],w=t[p++],_=b-i,T=w-s;(Lo(_)>n||Lo(T)>a||p===r-1)&&(x=Math.sqrt(_*_+T*T),i=b,s=w);break}case Er.C:{var M=t[p++],N=t[p++],b=t[p++],w=t[p++],C=t[p++],j=t[p++];x=Eye(i,s,M,N,b,w,C,j,10),i=C,s=j;break}case Er.Q:{var M=t[p++],N=t[p++],b=t[p++],w=t[p++];x=Oye(i,s,M,N,b,w,10),i=b,s=w;break}case Er.A:var O=t[p++],P=t[p++],R=t[p++],k=t[p++],L=t[p++],I=t[p++],$=I+L;p+=1,y&&(o=Mc(L)*R+O,l=Ec(L)*k+P),x=dA(R,k)*fA(iu,Math.abs(I)),i=Mc($)*R+O,s=Ec($)*k+P;break;case Er.R:{o=i=t[p++],l=s=t[p++];var F=t[p++],z=t[p++];x=F*2+z*2;break}case Er.Z:{var _=o-i,T=l-s;x=Math.sqrt(_*_+T*T),i=o,s=l;break}}x>=0&&(u[d++]=x,f+=x)}return this._pathLen=f,f},e.prototype.rebuildPath=function(t,r){var n=this.data,a=this._ux,i=this._uy,s=this._len,o,l,u,f,d,p,v=r<1,y,x,b=0,w=0,_,T=0,M,N;if(!(v&&(this._pathSegLen||this._calculateLength(),y=this._pathSegLen,x=this._pathLen,_=r*x,!_)))e:for(var C=0;C<s;){var j=n[C++],O=C===1;switch(O&&(u=n[C],f=n[C+1],o=u,l=f),j!==Er.L&&T>0&&(t.lineTo(M,N),T=0),j){case Er.M:o=u=n[C++],l=f=n[C++],t.moveTo(u,f);break;case Er.L:{d=n[C++],p=n[C++];var P=Lo(d-u),R=Lo(p-f);if(P>a||R>i){if(v){var k=y[w++];if(b+k>_){var L=(_-b)/k;t.lineTo(u*(1-L)+d*L,f*(1-L)+p*L);break e}b+=k}t.lineTo(d,p),u=d,f=p,T=0}else{var I=P*P+R*R;I>T&&(M=d,N=p,T=I)}break}case Er.C:{var $=n[C++],F=n[C++],z=n[C++],V=n[C++],q=n[C++],W=n[C++];if(v){var k=y[w++];if(b+k>_){var L=(_-b)/k;R1(u,$,z,q,L,Nc),R1(f,F,V,W,L,Ac),t.bezierCurveTo(Nc[1],Ac[1],Nc[2],Ac[2],Nc[3],Ac[3]);break e}b+=k}t.bezierCurveTo($,F,z,V,q,W),u=q,f=W;break}case Er.Q:{var $=n[C++],F=n[C++],z=n[C++],V=n[C++];if(v){var k=y[w++];if(b+k>_){var L=(_-b)/k;L1(u,$,z,L,Nc),L1(f,F,V,L,Ac),t.quadraticCurveTo(Nc[1],Ac[1],Nc[2],Ac[2]);break e}b+=k}t.quadraticCurveTo($,F,z,V),u=z,f=V;break}case Er.A:var Y=n[C++],H=n[C++],U=n[C++],K=n[C++],ee=n[C++],ae=n[C++],xe=n[C++],ke=!n[C++],Je=U>K?U:K,be=Lo(U-K)>.001,Te=ee+ae,De=!1;if(v){var k=y[w++];b+k>_&&(Te=ee+ae*(_-b)/k,De=!0),b+=k}if(be&&t.ellipse?t.ellipse(Y,H,U,K,xe,ee,Te,ke):t.arc(Y,H,Je,ee,Te,ke),De)break e;O&&(o=Mc(ee)*U+Y,l=Ec(ee)*K+H),u=Mc(Te)*U+Y,f=Ec(Te)*K+H;break;case Er.R:o=u=n[C],l=f=n[C+1],d=n[C++],p=n[C++];var J=n[C++],it=n[C++];if(v){var k=y[w++];if(b+k>_){var Ue=_-b;t.moveTo(d,p),t.lineTo(d+fA(Ue,J),p),Ue-=J,Ue>0&&t.lineTo(d+J,p+fA(Ue,it)),Ue-=it,Ue>0&&t.lineTo(d+dA(J-Ue,0),p+it),Ue-=J,Ue>0&&t.lineTo(d,p+dA(it-Ue,0));break e}b+=k}t.rect(d,p,J,it);break;case Er.Z:if(v){var k=y[w++];if(b+k>_){var L=(_-b)/k;t.lineTo(u*(1-L)+o*L,f*(1-L)+l*L);break e}b+=k}t.closePath(),u=o,f=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=Er,e.initDefaultProps=(function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),e})();function Md(e,t,r,n,a,i,s){if(a===0)return!1;var o=a,l=0,u=e;if(s>t+o&&s>n+o||s<t-o&&s<n-o||i>e+o&&i>r+o||i<e-o&&i<r-o)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(i-e)<=o/2;var f=l*i-s+u,d=f*f/(l*l+1);return d<=o/2*o/2}function ibe(e,t,r,n,a,i,s,o,l,u,f){if(l===0)return!1;var d=l;if(f>t+d&&f>n+d&&f>i+d&&f>o+d||f<t-d&&f<n-d&&f<i-d&&f<o-d||u>e+d&&u>r+d&&u>a+d&&u>s+d||u<e-d&&u<r-d&&u<a-d&&u<s-d)return!1;var p=Mye(e,t,r,n,a,i,s,o,u,f);return p<=d/2}function sbe(e,t,r,n,a,i,s,o,l){if(s===0)return!1;var u=s;if(l>t+u&&l>n+u&&l>i+u||l<t-u&&l<n-u&&l<i-u||o>e+u&&o>r+u&&o>a+u||o<e-u&&o<r-u&&o<a-u)return!1;var f=Dye(e,t,r,n,a,i,o,l);return f<=u/2}var uF=Math.PI*2;function kx(e){return e%=uF,e<0&&(e+=uF),e}var Hm=Math.PI*2;function obe(e,t,r,n,a,i,s,o,l){if(s===0)return!1;var u=s;o-=e,l-=t;var f=Math.sqrt(o*o+l*l);if(f-u>r||f+u<r)return!1;if(Math.abs(n-a)%Hm<1e-4)return!0;if(i){var d=n;n=kx(a),a=kx(d)}else n=kx(n),a=kx(a);n>a&&(a+=Hm);var p=Math.atan2(l,o);return p<0&&(p+=Hm),p>=n&&p<=a||p+Hm>=n&&p+Hm<=a}function jc(e,t,r,n,a,i){if(i>t&&i>n||i<t&&i<n||n===t)return 0;var s=(i-t)/(n-t),o=n<t?1:-1;(s===1||s===0)&&(o=n<t?.5:-.5);var l=s*(r-e)+e;return l===a?1/0:l>a?o:0}var Gl=Sf.CMD,Dc=Math.PI*2,lbe=1e-4;function ube(e,t){return Math.abs(e-t)<lbe}var xa=[-1,-1,-1],Bi=[-1,-1];function cbe(){var e=Bi[0];Bi[0]=Bi[1],Bi[1]=e}function fbe(e,t,r,n,a,i,s,o,l,u){if(u>t&&u>n&&u>i&&u>o||u<t&&u<n&&u<i&&u<o)return 0;var f=k1(t,n,i,o,u,xa);if(f===0)return 0;for(var d=0,p=-1,v=void 0,y=void 0,x=0;x<f;x++){var b=xa[x],w=b===0||b===1?.5:1,_=ta(e,r,a,s,b);_<l||(p<0&&(p=PQ(t,n,i,o,Bi),Bi[1]<Bi[0]&&p>1&&cbe(),v=ta(t,n,i,o,Bi[0]),p>1&&(y=ta(t,n,i,o,Bi[1]))),p===2?b<Bi[0]?d+=v<t?w:-w:b<Bi[1]?d+=y<v?w:-w:d+=o<y?w:-w:b<Bi[0]?d+=v<t?w:-w:d+=o<v?w:-w)}return d}function dbe(e,t,r,n,a,i,s,o){if(o>t&&o>n&&o>i||o<t&&o<n&&o<i)return 0;var l=jye(t,n,i,o,xa);if(l===0)return 0;var u=kQ(t,n,i);if(u>=0&&u<=1){for(var f=0,d=$a(t,n,i,u),p=0;p<l;p++){var v=xa[p]===0||xa[p]===1?.5:1,y=$a(e,r,a,xa[p]);y<s||(xa[p]<u?f+=d<t?v:-v:f+=i<d?v:-v)}return f}else{var v=xa[0]===0||xa[0]===1?.5:1,y=$a(e,r,a,xa[0]);return y<s?0:i<t?v:-v}}function hbe(e,t,r,n,a,i,s,o){if(o-=t,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);xa[0]=-l,xa[1]=l;var u=Math.abs(n-a);if(u<1e-4)return 0;if(u>=Dc-1e-4){n=0,a=Dc;var f=i?1:-1;return s>=xa[0]+e&&s<=xa[1]+e?f:0}if(n>a){var d=n;n=a,a=d}n<0&&(n+=Dc,a+=Dc);for(var p=0,v=0;v<2;v++){var y=xa[v];if(y+e>s){var x=Math.atan2(o,y),f=i?1:-1;x<0&&(x=Dc+x),(x>=n&&x<=a||x+Dc>=n&&x+Dc<=a)&&(x>Math.PI/2&&x<Math.PI*1.5&&(f=-f),p+=f)}}return p}function aJ(e,t,r,n,a){for(var i=e.data,s=e.len(),o=0,l=0,u=0,f=0,d=0,p,v,y=0;y<s;){var x=i[y++],b=y===1;switch(x===Gl.M&&y>1&&(r||(o+=jc(l,u,f,d,n,a))),b&&(l=i[y],u=i[y+1],f=l,d=u),x){case Gl.M:f=i[y++],d=i[y++],l=f,u=d;break;case Gl.L:if(r){if(Md(l,u,i[y],i[y+1],t,n,a))return!0}else o+=jc(l,u,i[y],i[y+1],n,a)||0;l=i[y++],u=i[y++];break;case Gl.C:if(r){if(ibe(l,u,i[y++],i[y++],i[y++],i[y++],i[y],i[y+1],t,n,a))return!0}else o+=fbe(l,u,i[y++],i[y++],i[y++],i[y++],i[y],i[y+1],n,a)||0;l=i[y++],u=i[y++];break;case Gl.Q:if(r){if(sbe(l,u,i[y++],i[y++],i[y],i[y+1],t,n,a))return!0}else o+=dbe(l,u,i[y++],i[y++],i[y],i[y+1],n,a)||0;l=i[y++],u=i[y++];break;case Gl.A:var w=i[y++],_=i[y++],T=i[y++],M=i[y++],N=i[y++],C=i[y++];y+=1;var j=!!(1-i[y++]);p=Math.cos(N)*T+w,v=Math.sin(N)*M+_,b?(f=p,d=v):o+=jc(l,u,p,v,n,a);var O=(n-w)*M/T+w;if(r){if(obe(w,_,M,N,N+C,j,t,O,a))return!0}else o+=hbe(w,_,M,N,N+C,j,O,a);l=Math.cos(N+C)*T+w,u=Math.sin(N+C)*M+_;break;case Gl.R:f=l=i[y++],d=u=i[y++];var P=i[y++],R=i[y++];if(p=f+P,v=d+R,r){if(Md(f,d,p,d,t,n,a)||Md(p,d,p,v,t,n,a)||Md(p,v,f,v,t,n,a)||Md(f,v,f,d,t,n,a))return!0}else o+=jc(p,d,p,v,n,a),o+=jc(f,v,f,d,n,a);break;case Gl.Z:if(r){if(Md(l,u,f,d,t,n,a))return!0}else o+=jc(l,u,f,d,n,a);l=f,u=d;break}}return!r&&!ube(u,d)&&(o+=jc(l,u,f,d,n,a)||0),o!==0}function pbe(e,t,r){return aJ(e,0,!1,t,r)}function mbe(e,t,r,n){return aJ(e,t,!0,r,n)}var iJ=Rr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},hf),vbe={style:Rr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},kS.style)},mA=_g.concat(["invisible","culling","z","z2","zlevel","parent"]),Lr=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new t;a.buildPath===t.prototype.buildPath&&(a.buildPath=function(l){r.buildPath(l,r.shape)}),a.silent=!0;var i=a.style;for(var s in n)i[s]!==n[s]&&(i[s]=n[s]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var o=0;o<mA.length;++o)a[mA[o]]=this[mA[o]];a.__dirty|=ci}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=ln(r);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<n.length;i++){var s=n[i],o=r[s];s==="style"?this.style?gt(this.style,o):this.useStyle(o):s==="shape"?gt(this.shape,o):e.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(Pt(r)){var n=B1(r,0);return n>.5?EO:n>.2?Qye:jO}else if(r)return jO}return EO},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(Pt(n)){var a=this.__zr,i=!!(a&&a.isDarkMode()),s=B1(r,0)<MO;if(i===s)return n}},t.prototype.buildPath=function(r,n,a){},t.prototype.pathUpdated=function(){this.__dirty&=~eh},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Sf(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,a=!r;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var s=this.path;(i||this.__dirty&eh)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||a){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var f=this.strokeContainThreshold;u=Math.max(u,f??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return r},t.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect(),s=this.style;if(r=a[0],n=a[1],i.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),mbe(o,l/u,r,n)))return!0}if(this.hasFill())return pbe(o,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=eh,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var a=this.shape;return a||(a=this.shape={}),typeof r=="string"?a[r]=n:gt(a,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&eh)},t.prototype.createStyle=function(r){return jS(iJ,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=gt({},this.shape))},t.prototype._applyStateObj=function(r,n,a,i,s,o){e.prototype._applyStateObj.call(this,r,n,a,i,s,o);var l=!(n&&i),u;if(n&&n.shape?s?i?u=n.shape:(u=gt({},a.shape),gt(u,n.shape)):(u=gt({},i?this.shape:a.shape),gt(u,n.shape)):l&&(u=a.shape),u)if(s){this.shape=gt({},this.shape);for(var f={},d=ln(u),p=0;p<d.length;p++){var v=d[p];typeof u[v]=="object"?this.shape[v]=u[v]:f[v]=u[v]}this._transitionState(r,{shape:f},o)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),a,i=0;i<r.length;i++){var s=r[i];s.shape&&(a=a||{},this._mergeStyle(a,s.shape))}return a&&(n.shape=a),n},t.prototype.getAnimationStyleProps=function(){return vbe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=(function(i){Wr(s,i);function s(o){var l=i.call(this,o)||this;return r.init&&r.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return ur(r.style)},s.prototype.getDefaultShape=function(){return ur(r.shape)},s})(t);for(var a in r)typeof r[a]=="function"&&(n.prototype[a]=r[a]);return n},t.initDefaultProps=(function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ci|Sv|eh})(),t})($0),gbe=Rr({strokeFirst:!0,font:xf,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},iJ),H1=(function(e){Wr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return jS(gbe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var a=uL(n,r.font,r.textAlign,r.textBaseline);if(a.x+=r.x||0,a.y+=r.y||0,this.hasStroke()){var i=r.lineWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect},t.initDefaultProps=(function(){var r=t.prototype;r.dirtyRectTolerance=10})(),t})($0);H1.prototype.type="tspan";var ybe=Rr({x:0,y:0},hf),xbe={style:Rr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},kS.style)};function bbe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Gu=(function(e){Wr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return jS(ybe,r)},t.prototype._getSize=function(r){var n=this.style,a=n[r];if(a!=null)return a;var i=bbe(n.image)?n.image:this.__image;if(!i)return 0;var s=r==="width"?"height":"width",o=n[s];return o==null?i[r]:i[r]/i[s]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return xbe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new kr(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t})($0);Gu.prototype.type="image";function wbe(e,t){var r=t.x,n=t.y,a=t.width,i=t.height,s=t.r,o,l,u,f;a<0&&(r=r+a,a=-a),i<0&&(n=n+i,i=-i),typeof s=="number"?o=l=u=f=s:s instanceof Array?s.length===1?o=l=u=f=s[0]:s.length===2?(o=u=s[0],l=f=s[1]):s.length===3?(o=s[0],l=f=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],f=s[3]):o=l=u=f=0;var d;o+l>a&&(d=o+l,o*=a/d,l*=a/d),u+f>a&&(d=u+f,u*=a/d,f*=a/d),l+u>i&&(d=l+u,l*=i/d,u*=i/d),o+f>i&&(d=o+f,o*=i/d,f*=i/d),e.moveTo(r+o,n),e.lineTo(r+a-l,n),l!==0&&e.arc(r+a-l,n+l,l,-Math.PI/2,0),e.lineTo(r+a,n+i-u),u!==0&&e.arc(r+a-u,n+i-u,u,0,Math.PI/2),e.lineTo(r+f,n+i),f!==0&&e.arc(r+f,n+i-f,f,Math.PI/2,Math.PI),e.lineTo(r,n+o),o!==0&&e.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var ph=Math.round;function sJ(e,t,r){if(t){var n=t.x1,a=t.x2,i=t.y1,s=t.y2;e.x1=n,e.x2=a,e.y1=i,e.y2=s;var o=r&&r.lineWidth;return o&&(ph(n*2)===ph(a*2)&&(e.x1=e.x2=Xc(n,o,!0)),ph(i*2)===ph(s*2)&&(e.y1=e.y2=Xc(i,o,!0))),e}}function oJ(e,t,r){if(t){var n=t.x,a=t.y,i=t.width,s=t.height;e.x=n,e.y=a,e.width=i,e.height=s;var o=r&&r.lineWidth;return o&&(e.x=Xc(n,o,!0),e.y=Xc(a,o,!0),e.width=Math.max(Xc(n+i,o,!1)-e.x,i===0?0:1),e.height=Math.max(Xc(a+s,o,!1)-e.y,s===0?0:1)),e}}function Xc(e,t,r){if(!t)return e;var n=ph(e*2);return(n+ph(t))%2===0?n/2:(n+(r?1:-1))/2}var Sbe=(function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e})(),_be={},dn=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new Sbe},t.prototype.buildPath=function(r,n){var a,i,s,o;if(this.subPixelOptimize){var l=oJ(_be,n,this.style);a=l.x,i=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else a=n.x,i=n.y,s=n.width,o=n.height;n.r?wbe(r,n):r.rect(a,i,s,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(Lr);dn.prototype.type="rect";var cF={fill:"#000"},fF=2,Tbe={style:Rr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},kS.style)},Ca=(function(e){Wr(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=cF,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,Ebe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new kr(0,0,0,0),n=this._children,a=[],i=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(a);u?(r.copy(l),r.applyTransform(u),i=i||r.clone(),i.union(r)):(i=i||l.clone(),i.union(l))}this._rect=i||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||cF},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var a=n.rich,i=r.rich||a&&{};return gt(r,n),a&&i?(this._mergeRich(i,a),r.rich=i):i&&(r.rich=i),r},t.prototype._mergeRich=function(r,n){for(var a=ln(n),i=0;i<a.length;i++){var s=a[i];r[s]=r[s]||{},gt(r[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return Tbe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||xf,a=r.padding,i=yF(r),s=Gxe(i,r),o=vA(r),l=!!r.backgroundColor,u=s.outerHeight,f=s.outerWidth,d=s.contentWidth,p=s.lines,v=s.lineHeight,y=this._defaultStyle;this.isTruncated=!!s.isTruncated;var x=r.x||0,b=r.y||0,w=r.align||y.align||"left",_=r.verticalAlign||y.verticalAlign||"top",T=x,M=th(b,s.contentHeight,_);if(o||a){var N=Tv(x,f,w),C=th(b,u,_);o&&this._renderBackground(r,r,N,C,f,u)}M+=v/2,a&&(T=gF(x,w,a),_==="top"?M+=a[0]:_==="bottom"&&(M-=a[2]));for(var j=0,O=!1,P=vF("fill"in r?r.fill:(O=!0,y.fill)),R=mF("stroke"in r?r.stroke:!l&&(!y.autoStroke||O)?(j=fF,y.stroke):null),k=r.textShadowBlur>0,L=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),I=s.calculatedLineHeight,$=0;$<p.length;$++){var F=this._getOrCreateChild(H1),z=F.createStyle();F.useStyle(z),z.text=p[$],z.x=T,z.y=M,z.textAlign=w,z.textBaseline="middle",z.opacity=r.opacity,z.strokeFirst=!0,k&&(z.shadowBlur=r.textShadowBlur||0,z.shadowColor=r.textShadowColor||"transparent",z.shadowOffsetX=r.textShadowOffsetX||0,z.shadowOffsetY=r.textShadowOffsetY||0),z.stroke=R,z.fill=P,R&&(z.lineWidth=r.lineWidth||j,z.lineDash=r.lineDash,z.lineDashOffset=r.lineDashOffset||0),z.font=n,hF(z,r),M+=v,L&&F.setBoundingRect(new kr(Tv(z.x,d,z.textAlign),th(z.y,I,z.textBaseline),d,I))}},t.prototype._updateRichTexts=function(){var r=this.style,n=yF(r),a=Yxe(n,r),i=a.width,s=a.outerWidth,o=a.outerHeight,l=r.padding,u=r.x||0,f=r.y||0,d=this._defaultStyle,p=r.align||d.align,v=r.verticalAlign||d.verticalAlign;this.isTruncated=!!a.isTruncated;var y=Tv(u,s,p),x=th(f,o,v),b=y,w=x;l&&(b+=l[3],w+=l[0]);var _=b+i;vA(r)&&this._renderBackground(r,r,y,x,s,o);for(var T=!!r.backgroundColor,M=0;M<a.lines.length;M++){for(var N=a.lines[M],C=N.tokens,j=C.length,O=N.lineHeight,P=N.width,R=0,k=b,L=_,I=j-1,$=void 0;R<j&&($=C[R],!$.align||$.align==="left");)this._placeToken($,r,O,w,k,"left",T),P-=$.width,k+=$.width,R++;for(;I>=0&&($=C[I],$.align==="right");)this._placeToken($,r,O,w,L,"right",T),P-=$.width,L-=$.width,I--;for(k+=(i-(k-b)-(_-L)-P)/2;R<=I;)$=C[R],this._placeToken($,r,O,w,k+$.width/2,"center",T),k+=$.width,R++;w+=O}},t.prototype._placeToken=function(r,n,a,i,s,o,l){var u=n.rich[r.styleName]||{};u.text=r.text;var f=r.verticalAlign,d=i+a/2;f==="top"?d=i+r.height/2:f==="bottom"&&(d=i+a-r.height/2);var p=!r.isLineHolder&&vA(u);p&&this._renderBackground(u,n,o==="right"?s-r.width:o==="center"?s-r.width/2:s,d-r.height/2,r.width,r.height);var v=!!u.backgroundColor,y=r.textPadding;y&&(s=gF(s,o,y),d-=r.height/2-y[0]-r.innerHeight/2);var x=this._getOrCreateChild(H1),b=x.createStyle();x.useStyle(b);var w=this._defaultStyle,_=!1,T=0,M=vF("fill"in u?u.fill:"fill"in n?n.fill:(_=!0,w.fill)),N=mF("stroke"in u?u.stroke:"stroke"in n?n.stroke:!v&&!l&&(!w.autoStroke||_)?(T=fF,w.stroke):null),C=u.textShadowBlur>0||n.textShadowBlur>0;b.text=r.text,b.x=s,b.y=d,C&&(b.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,b.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",b.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,b.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),b.textAlign=o,b.textBaseline="middle",b.font=r.font||xf,b.opacity=Qb(u.opacity,n.opacity,1),hF(b,u),N&&(b.lineWidth=Qb(u.lineWidth,n.lineWidth,T),b.lineDash=sr(u.lineDash,n.lineDash),b.lineDashOffset=n.lineDashOffset||0,b.stroke=N),M&&(b.fill=M);var j=r.contentWidth,O=r.contentHeight;x.setBoundingRect(new kr(Tv(b.x,j,b.textAlign),th(b.y,O,b.textBaseline),j,O))},t.prototype._renderBackground=function(r,n,a,i,s,o){var l=r.backgroundColor,u=r.borderWidth,f=r.borderColor,d=l&&l.image,p=l&&!d,v=r.borderRadius,y=this,x,b;if(p||r.lineHeight||u&&f){x=this._getOrCreateChild(dn),x.useStyle(x.createStyle()),x.style.fill=null;var w=x.shape;w.x=a,w.y=i,w.width=s,w.height=o,w.r=v,x.dirtyShape()}if(p){var _=x.style;_.fill=l||null,_.fillOpacity=sr(r.fillOpacity,1)}else if(d){b=this._getOrCreateChild(Gu),b.onload=function(){y.dirtyStyle()};var T=b.style;T.image=l.image,T.x=a,T.y=i,T.width=s,T.height=o}if(u&&f){var _=x.style;_.lineWidth=u,_.stroke=f,_.strokeOpacity=sr(r.strokeOpacity,1),_.lineDash=r.borderDash,_.lineDashOffset=r.borderDashOffset||0,x.strokeContainThreshold=0,x.hasFill()&&x.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var M=(x||b).style;M.shadowBlur=r.shadowBlur||0,M.shadowColor=r.shadowColor||"transparent",M.shadowOffsetX=r.shadowOffsetX||0,M.shadowOffsetY=r.shadowOffsetY||0,M.opacity=Qb(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return Mbe(r)&&(n=[r.fontStyle,r.fontWeight,Abe(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&Ws(n)||r.textFont||r.font},t})($0),Cbe={left:!0,right:1,center:1},Nbe={top:1,bottom:1,middle:1},dF=["fontStyle","fontWeight","fontSize","fontFamily"];function Abe(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?ZR+"px":e+"px"}function hF(e,t){for(var r=0;r<dF.length;r++){var n=dF[r],a=t[n];a!=null&&(e[n]=a)}}function Mbe(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function Ebe(e){return pF(e),re(e.rich,pF),e}function pF(e){if(e){e.font=Ca.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||Cbe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||Nbe[r]?r:"top";var n=e.padding;n&&(e.padding=wQ(e.padding))}}function mF(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function vF(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function gF(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function yF(e){var t=e.text;return t!=null&&(t+=""),t}function vA(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var wr=un(),jbe=function(e,t,r,n){if(n){var a=wr(n);a.dataIndex=r,a.dataType=t,a.seriesIndex=e,a.ssrType="chart",n.type==="group"&&n.traverse(function(i){var s=wr(i);s.seriesIndex=e,s.dataIndex=r,s.dataType=t,s.ssrType="chart"})}},xF=1,bF={},lJ=un(),mL=un(),vL=0,RS=1,LS=2,Zi=["emphasis","blur","select"],wF=["normal","emphasis","blur","select"],Dbe=10,Obe=9,pf="highlight",i1="downplay",Vv="select",s1="unselect",qv="toggleSelect";function Ed(e){return e!=null&&e!=="none"}function IS(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function uJ(e){IS(e,"emphasis",LS)}function cJ(e){e.hoverState===LS&&IS(e,"normal",vL)}function gL(e){IS(e,"blur",RS)}function fJ(e){e.hoverState===RS&&IS(e,"normal",vL)}function Pbe(e){e.selected=!0}function kbe(e){e.selected=!1}function SF(e,t,r){t(e,r)}function gl(e,t,r){SF(e,t,r),e.isGroup&&e.traverse(function(n){SF(n,t,r)})}function _F(e,t){switch(t){case"emphasis":e.hoverState=LS;break;case"normal":e.hoverState=vL;break;case"blur":e.hoverState=RS;break;case"select":e.selected=!0}}function Rbe(e,t,r,n){for(var a=e.style,i={},s=0;s<t.length;s++){var o=t[s],l=a[o];i[o]=l??(n&&n[o])}for(var s=0;s<e.animators.length;s++){var u=e.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(i,t)}return i}function Lbe(e,t,r,n){var a=r&&Cr(r,"select")>=0,i=!1;if(e instanceof Lr){var s=lJ(e),o=a&&s.selectFill||s.normalFill,l=a&&s.selectStroke||s.normalStroke;if(Ed(o)||Ed(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(i=!0,n=gt({},n),u=gt({},u),u.fill=o):!Ed(u.fill)&&Ed(o)?(i=!0,n=gt({},n),u=gt({},u),u.fill=Fz(o)):!Ed(u.stroke)&&Ed(l)&&(i||(n=gt({},n),u=gt({},u)),u.stroke=Fz(l)),n.style=u}}if(n&&n.z2==null){i||(n=gt({},n));var f=e.z2EmphasisLift;n.z2=e.z2+(f??Dbe)}return n}function Ibe(e,t,r){if(r&&r.z2==null){r=gt({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??Obe)}return r}function Bbe(e,t,r){var n=Cr(e.currentStates,t)>=0,a=e.style.opacity,i=n?null:Rbe(e,["opacity"],t,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=gt({},r),s=gt({opacity:n?a:i.opacity*.1},s),r.style=s),r}function gA(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return Lbe(this,e,t,r);if(e==="blur")return Bbe(this,e,r);if(e==="select")return Ibe(this,e,r)}return r}function $be(e){e.stateProxy=gA;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=gA),r&&(r.stateProxy=gA)}function TF(e,t){!mJ(e,t)&&!e.__highByOuter&&gl(e,uJ)}function CF(e,t){!mJ(e,t)&&!e.__highByOuter&&gl(e,cJ)}function Ng(e,t){e.__highByOuter|=1<<(t||0),gl(e,uJ)}function Ag(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&gl(e,cJ)}function dJ(e){gl(e,gL)}function yL(e){gl(e,fJ)}function hJ(e){gl(e,Pbe)}function pJ(e){gl(e,kbe)}function mJ(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function vJ(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(a,i){var s=mL(i),o=a==="series",l=o?e.getViewOfSeriesModel(i):e.getViewOfComponentModel(i);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){fJ(u)}),o&&r.push(i)),s.isBlured=!1}),re(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(r,!1,t)})}function RO(e,t,r,n){var a=n.getModel();r=r||"coordinateSystem";function i(u,f){for(var d=0;d<f.length;d++){var p=u.getItemGraphicEl(f[d]);p&&yL(p)}}if(e!=null&&!(!t||t==="none")){var s=a.getSeriesByIndex(e),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];a.eachSeries(function(u){var f=s===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var p=d&&o?d===o:f;if(!(r==="series"&&!f||r==="coordinateSystem"&&!p||t==="series"&&f)){var v=n.getViewOfSeriesModel(u);if(v.group.traverse(function(b){b.__highByOuter&&f&&t==="self"||gL(b)}),qa(t))i(u.getData(),t);else if(Vt(t))for(var y=ln(t),x=0;x<y.length;x++)i(u.getData(y[x]),t[y[x]]);l.push(u),mL(u).isBlured=!0}}),a.eachComponent(function(u,f){if(u!=="series"){var d=n.getViewOfComponentModel(f);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,a)}})}}function LO(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){mL(n).isBlured=!0;var a=r.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){gL(i)})}}}function zbe(e,t,r){var n=e.seriesIndex,a=e.getData(t.dataType);if(a){var i=wf(a,t);i=(wt(i)?i[0]:i)||0;var s=a.getItemGraphicEl(i);if(!s)for(var o=a.count(),l=0;!s&&l<o;)s=a.getItemGraphicEl(l++);if(s){var u=wr(s);RO(n,u.focus,u.blurScope,r)}else{var f=e.get(["emphasis","focus"]),d=e.get(["emphasis","blurScope"]);f!=null&&RO(n,f,d,r)}}}function xL(e,t,r,n){var a={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return a;var i=n.getModel().getComponent(e,t);if(!i)return a;var s=n.getViewOfComponentModel(i);if(!s||!s.findHighDownDispatchers)return a;for(var o=s.findHighDownDispatchers(r),l,u=0;u<o.length;u++)if(wr(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function Fbe(e,t,r){var n=wr(e),a=xL(n.componentMainType,n.componentIndex,n.componentHighDownName,r),i=a.dispatchers,s=a.focusSelf;i?(s&&LO(n.componentMainType,n.componentIndex,r),re(i,function(o){return TF(o,t)})):(RO(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&LO(n.componentMainType,n.componentIndex,r),TF(e,t))}function Ube(e,t,r){vJ(r);var n=wr(e),a=xL(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;a?re(a,function(i){return CF(i,t)}):CF(e,t)}function Hbe(e,t,r){if(BO(t)){var n=t.dataType,a=e.getData(n),i=wf(a,t);wt(i)||(i=[i]),e[t.type===qv?"toggleSelect":t.type===Vv?"select":"unselect"](i,n)}}function NF(e){var t=e.getAllData();re(t,function(r){var n=r.data,a=r.type;n.eachItemGraphicEl(function(i,s){e.isSelected(s,a)?hJ(i):pJ(i)})})}function Vbe(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();re(n,function(a){a.data;var i=a.type,s=r.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:r.seriesIndex};i!=null&&(o.dataType=i),t.push(o)}})}),t}function V1(e,t,r){gJ(e,!0),gl(e,$be),Gbe(e,t,r)}function qbe(e){gJ(e,!1)}function Kh(e,t,r,n){n?qbe(e):V1(e,t,r)}function Gbe(e,t,r){var n=wr(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var AF=["emphasis","blur","select"],Wbe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function q1(e,t,r,n){r=r||"itemStyle";for(var a=0;a<AF.length;a++){var i=AF[a],s=t.getModel([i,r]),o=e.ensureState(i);o.style=s[Wbe[r]]()}}function gJ(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function IO(e){return!!(e&&e.__highDownDispatcher)}function Kbe(e){var t=bF[e];return t==null&&xF<=32&&(t=bF[e]=xF++),t}function BO(e){var t=e.type;return t===Vv||t===s1||t===qv}function MF(e){var t=e.type;return t===pf||t===i1}function Ybe(e){var t=lJ(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var jd=Sf.CMD,Xbe=[[],[],[]],EF=Math.sqrt,Zbe=Math.atan2;function Qbe(e,t){if(t){var r=e.data,n=e.len(),a,i,s,o,l,u,f=jd.M,d=jd.C,p=jd.L,v=jd.R,y=jd.A,x=jd.Q;for(s=0,o=0;s<n;){switch(a=r[s++],o=s,i=0,a){case f:i=1;break;case p:i=1;break;case d:i=3;break;case x:i=2;break;case y:var b=t[4],w=t[5],_=EF(t[0]*t[0]+t[1]*t[1]),T=EF(t[2]*t[2]+t[3]*t[3]),M=Zbe(-t[1]/T,t[0]/_);r[s]*=_,r[s++]+=b,r[s]*=T,r[s++]+=w,r[s++]*=_,r[s++]*=T,r[s++]+=M,r[s++]+=M,s+=2,o=s;break;case v:u[0]=r[s++],u[1]=r[s++],Wi(u,u,t),r[o++]=u[0],r[o++]=u[1],u[0]+=r[s++],u[1]+=r[s++],Wi(u,u,t),r[o++]=u[0],r[o++]=u[1]}for(l=0;l<i;l++){var N=Xbe[l];N[0]=r[s++],N[1]=r[s++],Wi(N,N,t),r[o++]=N[0],r[o++]=N[1]}}e.increaseVersion()}}var yA=Math.sqrt,Rx=Math.sin,Lx=Math.cos,Vm=Math.PI;function jF(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function $O(e,t){return(e[0]*t[0]+e[1]*t[1])/(jF(e)*jF(t))}function DF(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos($O(e,t))}function OF(e,t,r,n,a,i,s,o,l,u,f){var d=l*(Vm/180),p=Lx(d)*(e-r)/2+Rx(d)*(t-n)/2,v=-1*Rx(d)*(e-r)/2+Lx(d)*(t-n)/2,y=p*p/(s*s)+v*v/(o*o);y>1&&(s*=yA(y),o*=yA(y));var x=(a===i?-1:1)*yA((s*s*(o*o)-s*s*(v*v)-o*o*(p*p))/(s*s*(v*v)+o*o*(p*p)))||0,b=x*s*v/o,w=x*-o*p/s,_=(e+r)/2+Lx(d)*b-Rx(d)*w,T=(t+n)/2+Rx(d)*b+Lx(d)*w,M=DF([1,0],[(p-b)/s,(v-w)/o]),N=[(p-b)/s,(v-w)/o],C=[(-1*p-b)/s,(-1*v-w)/o],j=DF(N,C);if($O(N,C)<=-1&&(j=Vm),$O(N,C)>=1&&(j=0),j<0){var O=Math.round(j/Vm*1e6)/1e6;j=Vm*2+O%2*Vm}f.addData(u,_,T,s,o,M,j,d,i)}var Jbe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,e1e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function t1e(e){var t=new Sf;if(!e)return t;var r=0,n=0,a=r,i=n,s,o=Sf.CMD,l=e.match(Jbe);if(!l)return t;for(var u=0;u<l.length;u++){for(var f=l[u],d=f.charAt(0),p=void 0,v=f.match(e1e)||[],y=v.length,x=0;x<y;x++)v[x]=parseFloat(v[x]);for(var b=0;b<y;){var w=void 0,_=void 0,T=void 0,M=void 0,N=void 0,C=void 0,j=void 0,O=r,P=n,R=void 0,k=void 0;switch(d){case"l":r+=v[b++],n+=v[b++],p=o.L,t.addData(p,r,n);break;case"L":r=v[b++],n=v[b++],p=o.L,t.addData(p,r,n);break;case"m":r+=v[b++],n+=v[b++],p=o.M,t.addData(p,r,n),a=r,i=n,d="l";break;case"M":r=v[b++],n=v[b++],p=o.M,t.addData(p,r,n),a=r,i=n,d="L";break;case"h":r+=v[b++],p=o.L,t.addData(p,r,n);break;case"H":r=v[b++],p=o.L,t.addData(p,r,n);break;case"v":n+=v[b++],p=o.L,t.addData(p,r,n);break;case"V":n=v[b++],p=o.L,t.addData(p,r,n);break;case"C":p=o.C,t.addData(p,v[b++],v[b++],v[b++],v[b++],v[b++],v[b++]),r=v[b-2],n=v[b-1];break;case"c":p=o.C,t.addData(p,v[b++]+r,v[b++]+n,v[b++]+r,v[b++]+n,v[b++]+r,v[b++]+n),r+=v[b-2],n+=v[b-1];break;case"S":w=r,_=n,R=t.len(),k=t.data,s===o.C&&(w+=r-k[R-4],_+=n-k[R-3]),p=o.C,O=v[b++],P=v[b++],r=v[b++],n=v[b++],t.addData(p,w,_,O,P,r,n);break;case"s":w=r,_=n,R=t.len(),k=t.data,s===o.C&&(w+=r-k[R-4],_+=n-k[R-3]),p=o.C,O=r+v[b++],P=n+v[b++],r+=v[b++],n+=v[b++],t.addData(p,w,_,O,P,r,n);break;case"Q":O=v[b++],P=v[b++],r=v[b++],n=v[b++],p=o.Q,t.addData(p,O,P,r,n);break;case"q":O=v[b++]+r,P=v[b++]+n,r+=v[b++],n+=v[b++],p=o.Q,t.addData(p,O,P,r,n);break;case"T":w=r,_=n,R=t.len(),k=t.data,s===o.Q&&(w+=r-k[R-4],_+=n-k[R-3]),r=v[b++],n=v[b++],p=o.Q,t.addData(p,w,_,r,n);break;case"t":w=r,_=n,R=t.len(),k=t.data,s===o.Q&&(w+=r-k[R-4],_+=n-k[R-3]),r+=v[b++],n+=v[b++],p=o.Q,t.addData(p,w,_,r,n);break;case"A":T=v[b++],M=v[b++],N=v[b++],C=v[b++],j=v[b++],O=r,P=n,r=v[b++],n=v[b++],p=o.A,OF(O,P,r,n,C,j,T,M,N,p,t);break;case"a":T=v[b++],M=v[b++],N=v[b++],C=v[b++],j=v[b++],O=r,P=n,r+=v[b++],n+=v[b++],p=o.A,OF(O,P,r,n,C,j,T,M,N,p,t);break}}(d==="z"||d==="Z")&&(p=o.Z,t.addData(p),r=a,n=i),s=p}return t.toStatic(),t}var yJ=(function(e){Wr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t})(Lr);function xJ(e){return e.setData!=null}function bJ(e,t){var r=t1e(e),n=gt({},t);return n.buildPath=function(a){if(xJ(a)){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i,1)}else{var i=a;r.rebuildPath(i,1)}},n.applyTransform=function(a){Qbe(r,a),this.dirtyShape()},n}function r1e(e,t){return new yJ(bJ(e,t))}function n1e(e,t){var r=bJ(e,t),n=(function(a){Wr(i,a);function i(s){var o=a.call(this,s)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return i})(yJ);return n}function a1e(e,t){for(var r=[],n=e.length,a=0;a<n;a++){var i=e[a];r.push(i.getUpdatedPathProxy(!0))}var s=new Lr(t);return s.createPathProxy(),s.buildPath=function(o){if(xJ(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}var i1e=(function(){function e(){this.cx=0,this.cy=0,this.r=0}return e})(),BS=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new i1e},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(Lr);BS.prototype.type="circle";var s1e=(function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e})(),bL=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new s1e},t.prototype.buildPath=function(r,n){var a=.5522848,i=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*a,f=l*a;r.moveTo(i-o,s),r.bezierCurveTo(i-o,s-f,i-u,s-l,i,s-l),r.bezierCurveTo(i+u,s-l,i+o,s-f,i+o,s),r.bezierCurveTo(i+o,s+f,i+u,s+l,i,s+l),r.bezierCurveTo(i-u,s+l,i-o,s+f,i-o,s),r.closePath()},t})(Lr);bL.prototype.type="ellipse";var wJ=Math.PI,xA=wJ*2,Oc=Math.sin,Dd=Math.cos,o1e=Math.acos,oa=Math.atan2,PF=Math.abs,Gv=Math.sqrt,Cv=Math.max,$s=Math.min,cs=1e-4;function l1e(e,t,r,n,a,i,s,o){var l=r-e,u=n-t,f=s-a,d=o-i,p=d*l-f*u;if(!(p*p<cs))return p=(f*(t-i)-d*(e-a))/p,[e+p*l,t+p*u]}function Ix(e,t,r,n,a,i,s){var o=e-r,l=t-n,u=(s?i:-i)/Gv(o*o+l*l),f=u*l,d=-u*o,p=e+f,v=t+d,y=r+f,x=n+d,b=(p+y)/2,w=(v+x)/2,_=y-p,T=x-v,M=_*_+T*T,N=a-i,C=p*x-y*v,j=(T<0?-1:1)*Gv(Cv(0,N*N*M-C*C)),O=(C*T-_*j)/M,P=(-C*_-T*j)/M,R=(C*T+_*j)/M,k=(-C*_+T*j)/M,L=O-b,I=P-w,$=R-b,F=k-w;return L*L+I*I>$*$+F*F&&(O=R,P=k),{cx:O,cy:P,x0:-f,y0:-d,x1:O*(a/N-1),y1:P*(a/N-1)}}function u1e(e){var t;if(wt(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function c1e(e,t){var r,n=Cv(t.r,0),a=Cv(t.r0||0,0),i=n>0,s=a>0;if(!(!i&&!s)){if(i||(n=a,a=0),a>n){var o=n;n=a,a=o}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var f=t.cx,d=t.cy,p=!!t.clockwise,v=PF(u-l),y=v>xA&&v%xA;if(y>cs&&(v=y),!(n>cs))e.moveTo(f,d);else if(v>xA-cs)e.moveTo(f+n*Dd(l),d+n*Oc(l)),e.arc(f,d,n,l,u,!p),a>cs&&(e.moveTo(f+a*Dd(u),d+a*Oc(u)),e.arc(f,d,a,u,l,p));else{var x=void 0,b=void 0,w=void 0,_=void 0,T=void 0,M=void 0,N=void 0,C=void 0,j=void 0,O=void 0,P=void 0,R=void 0,k=void 0,L=void 0,I=void 0,$=void 0,F=n*Dd(l),z=n*Oc(l),V=a*Dd(u),q=a*Oc(u),W=v>cs;if(W){var Y=t.cornerRadius;Y&&(r=u1e(Y),x=r[0],b=r[1],w=r[2],_=r[3]);var H=PF(n-a)/2;if(T=$s(H,w),M=$s(H,_),N=$s(H,x),C=$s(H,b),P=j=Cv(T,M),R=O=Cv(N,C),(j>cs||O>cs)&&(k=n*Dd(u),L=n*Oc(u),I=a*Dd(l),$=a*Oc(l),v<wJ)){var U=l1e(F,z,I,$,k,L,V,q);if(U){var K=F-U[0],ee=z-U[1],ae=k-U[0],xe=L-U[1],ke=1/Oc(o1e((K*ae+ee*xe)/(Gv(K*K+ee*ee)*Gv(ae*ae+xe*xe)))/2),Je=Gv(U[0]*U[0]+U[1]*U[1]);P=$s(j,(n-Je)/(ke+1)),R=$s(O,(a-Je)/(ke-1))}}}if(!W)e.moveTo(f+F,d+z);else if(P>cs){var be=$s(w,P),Te=$s(_,P),De=Ix(I,$,F,z,n,be,p),J=Ix(k,L,V,q,n,Te,p);e.moveTo(f+De.cx+De.x0,d+De.cy+De.y0),P<j&&be===Te?e.arc(f+De.cx,d+De.cy,P,oa(De.y0,De.x0),oa(J.y0,J.x0),!p):(be>0&&e.arc(f+De.cx,d+De.cy,be,oa(De.y0,De.x0),oa(De.y1,De.x1),!p),e.arc(f,d,n,oa(De.cy+De.y1,De.cx+De.x1),oa(J.cy+J.y1,J.cx+J.x1),!p),Te>0&&e.arc(f+J.cx,d+J.cy,Te,oa(J.y1,J.x1),oa(J.y0,J.x0),!p))}else e.moveTo(f+F,d+z),e.arc(f,d,n,l,u,!p);if(!(a>cs)||!W)e.lineTo(f+V,d+q);else if(R>cs){var be=$s(x,R),Te=$s(b,R),De=Ix(V,q,k,L,a,-Te,p),J=Ix(F,z,I,$,a,-be,p);e.lineTo(f+De.cx+De.x0,d+De.cy+De.y0),R<O&&be===Te?e.arc(f+De.cx,d+De.cy,R,oa(De.y0,De.x0),oa(J.y0,J.x0),!p):(Te>0&&e.arc(f+De.cx,d+De.cy,Te,oa(De.y0,De.x0),oa(De.y1,De.x1),!p),e.arc(f,d,a,oa(De.cy+De.y1,De.cx+De.x1),oa(J.cy+J.y1,J.cx+J.x1),p),be>0&&e.arc(f+J.cx,d+J.cy,be,oa(J.y1,J.x1),oa(J.y0,J.x0),!p))}else e.lineTo(f+V,d+q),e.arc(f,d,a,u,l,p)}e.closePath()}}}var f1e=(function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e})(),Mp=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new f1e},t.prototype.buildPath=function(r,n){c1e(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(Lr);Mp.prototype.type="sector";var d1e=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e})(),wL=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new d1e},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,s=Math.PI*2;r.moveTo(a+n.r,i),r.arc(a,i,n.r,0,s,!1),r.moveTo(a+n.r0,i),r.arc(a,i,n.r0,0,s,!0)},t})(Lr);wL.prototype.type="ring";function h1e(e,t,r,n){var a=[],i=[],s=[],o=[],l,u,f,d;if(n){f=[1/0,1/0],d=[-1/0,-1/0];for(var p=0,v=e.length;p<v;p++)fh(f,f,e[p]),dh(d,d,e[p]);fh(f,f,n[0]),dh(d,d,n[1])}for(var p=0,v=e.length;p<v;p++){var y=e[p];if(r)l=e[p?p-1:v-1],u=e[(p+1)%v];else if(p===0||p===v-1){a.push(Q0e(e[p]));continue}else l=e[p-1],u=e[p+1];CQ(i,u,l),IN(i,i,t);var x=gO(y,l),b=gO(y,u),w=x+b;w!==0&&(x/=w,b/=w),IN(s,i,-x),IN(o,i,b);var _=Sz([],y,s),T=Sz([],y,o);n&&(dh(_,_,f),fh(_,_,d),dh(T,T,f),fh(T,T,d)),a.push(_),a.push(T)}return r&&a.push(a.shift()),a}function SJ(e,t,r){var n=t.smooth,a=t.points;if(a&&a.length>=2){if(n){var i=h1e(a,n,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var s=a.length,o=0;o<(r?s:s-1);o++){var l=i[o*2],u=i[o*2+1],f=a[(o+1)%s];e.bezierCurveTo(l[0],l[1],u[0],u[1],f[0],f[1])}}else{e.moveTo(a[0][0],a[0][1]);for(var o=1,d=a.length;o<d;o++)e.lineTo(a[o][0],a[o][1])}r&&e.closePath()}}var p1e=(function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e})(),Yh=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new p1e},t.prototype.buildPath=function(r,n){SJ(r,n,!0)},t})(Lr);Yh.prototype.type="polygon";var m1e=(function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e})(),$S=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new m1e},t.prototype.buildPath=function(r,n){SJ(r,n,!1)},t})(Lr);$S.prototype.type="polyline";var v1e={},g1e=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})(),fl=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new g1e},t.prototype.buildPath=function(r,n){var a,i,s,o;if(this.subPixelOptimize){var l=sJ(v1e,n,this.style);a=l.x1,i=l.y1,s=l.x2,o=l.y2}else a=n.x1,i=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(r.moveTo(a,i),u<1&&(s=a*(1-u)+s*u,o=i*(1-u)+o*u),r.lineTo(s,o))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t})(Lr);fl.prototype.type="line";var Pa=[],y1e=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e})();function kF(e,t,r){var n=e.cpx2,a=e.cpy2;return n!=null||a!=null?[(r?kz:ta)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?kz:ta)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?Rz:$a)(e.x1,e.cpx1,e.x2,t),(r?Rz:$a)(e.y1,e.cpy1,e.y2,t)]}var zS=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new y1e},t.prototype.buildPath=function(r,n){var a=n.x1,i=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,f=n.cpx2,d=n.cpy2,p=n.percent;p!==0&&(r.moveTo(a,i),f==null||d==null?(p<1&&(L1(a,l,s,p,Pa),l=Pa[1],s=Pa[2],L1(i,u,o,p,Pa),u=Pa[1],o=Pa[2]),r.quadraticCurveTo(l,u,s,o)):(p<1&&(R1(a,l,f,s,p,Pa),l=Pa[1],f=Pa[2],s=Pa[3],R1(i,u,d,o,p,Pa),u=Pa[1],d=Pa[2],o=Pa[3]),r.bezierCurveTo(l,u,f,d,s,o)))},t.prototype.pointAt=function(r){return kF(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=kF(this.shape,r,!0);return rL(n,n)},t})(Lr);zS.prototype.type="bezier-curve";var x1e=(function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e})(),FS=(function(e){Wr(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new x1e},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,f=Math.cos(o),d=Math.sin(o);r.moveTo(f*s+a,d*s+i),r.arc(a,i,s,o,l,!u)},t})(Lr);FS.prototype.type="arc";var b1e=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),a=0;a<r.length;a++)n=n||r[a].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),a=0;a<r.length;a++)r[a].path||r[a].createPathProxy(),r[a].path.setScale(n[0],n[1],r[a].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var a=n.paths||[],i=0;i<a.length;i++)a[i].buildPath(r,a[i].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Lr.prototype.getBoundingRect.call(this)},t})(Lr),_J=(function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e})(),TJ=(function(e){Wr(t,e);function t(r,n,a,i,s,o){var l=e.call(this,s)||this;return l.x=r??0,l.y=n??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=o||!1,l}return t})(_J),w1e=(function(e){Wr(t,e);function t(r,n,a,i,s){var o=e.call(this,i)||this;return o.x=r??.5,o.y=n??.5,o.r=a??.5,o.type="radial",o.global=s||!1,o}return t})(_J),Pc=[0,0],kc=[0,0],Bx=new Gr,$x=new Gr,G1=(function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new Gr;for(var n=0;n<2;n++)this._axes[n]=new Gr;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,a=this._axes,i=t.x,s=t.y,o=i+t.width,l=s+t.height;if(n[0].set(i,s),n[1].set(o,s),n[2].set(o,l),n[3].set(i,l),r)for(var u=0;u<4;u++)n[u].transform(r);Gr.sub(a[0],n[1],n[0]),Gr.sub(a[1],n[3],n[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,a=!r;return Bx.set(1/0,1/0),$x.set(0,0),!this._intersectCheckOneSide(this,t,Bx,$x,a,1)&&(n=!1,a)||!this._intersectCheckOneSide(t,this,Bx,$x,a,-1)&&(n=!1,a)||a||Gr.copy(r,n?Bx:$x),n},e.prototype._intersectCheckOneSide=function(t,r,n,a,i,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Pc),this._getProjMinMaxOnAxis(l,r._corners,kc),Pc[1]<kc[0]||Pc[0]>kc[1]){if(o=!1,i)return o;var f=Math.abs(kc[0]-Pc[1]),d=Math.abs(Pc[0]-kc[1]);Math.min(f,d)>a.len()&&(f<d?Gr.scale(a,u,-f*s):Gr.scale(a,u,d*s))}else if(n){var f=Math.abs(kc[0]-Pc[1]),d=Math.abs(Pc[0]-kc[1]);Math.min(f,d)<n.len()&&(f<d?Gr.scale(n,u,f*s):Gr.scale(n,u,-d*s))}}return o},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var a=this._axes[t],i=this._origin,s=r[0].dot(a)+i[t],o=s,l=s,u=1;u<r.length;u++){var f=r[u].dot(a)+i[t];o=Math.min(f,o),l=Math.max(f,l)}n[0]=o,n[1]=l},e})(),S1e=[],_1e=(function(e){Wr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var a=0;a<r.length;a++)this.addDisplayable(r[a],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new kr(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var a=this._displayables[n],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(S1e)),r.union(i)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var a=this.transformCoordToLocal(r,n),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(r,n))return!0}return!1},t})($0),T1e=un();function C1e(e,t,r,n,a){var i;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();i=s&&s.animation}var o=t&&t.isAnimationEnabled(),l=e==="update";if(o){var u=void 0,f=void 0,d=void 0;n?(u=sr(n.duration,200),f=sr(n.easing,"cubicOut"),d=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),f=t.getShallow(l?"animationEasingUpdate":"animationEasing"),d=t.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(u=i.duration),i.easing!=null&&(f=i.easing),i.delay!=null&&(d=i.delay)),rr(d)&&(d=d(r,a)),rr(u)&&(u=u(r));var p={duration:u||0,delay:d,easing:f};return p}else return null}function SL(e,t,r,n,a,i,s){var o=!1,l;rr(a)?(s=i,i=a,a=null):Vt(a)&&(i=a.cb,s=a.during,o=a.isFrom,l=a.removeOpt,a=a.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var f=C1e(e,n,a,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,a):null);if(f&&f.duration>0){var d=f.duration,p=f.delay,v=f.easing,y={duration:d,delay:p||0,easing:v,done:i,force:!!i||!!s,setToFinal:!u,scope:e,during:s};o?t.animateFrom(r,y):t.animateTo(r,y)}else t.stopAnimation(),!o&&t.attr(r),s&&s(1),i&&i()}function Na(e,t,r,n,a,i){SL("update",e,t,r,n,a,i)}function oo(e,t,r,n,a,i){SL("enter",e,t,r,n,a,i)}function Wv(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function W1(e,t,r,n,a,i){Wv(e)||SL("leave",e,t,r,n,a,i)}function RF(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),W1(e,{style:{opacity:0}},t,r,n)}function zO(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(a){a.isGroup||RF(a,t,r,n)}):RF(e,t,r,n)}function CJ(e){T1e(e).oldStyle=e.style}var K1=Math.max,Y1=Math.min,FO={};function N1e(e){return Lr.extend(e)}var A1e=n1e;function M1e(e,t){return A1e(e,t)}function js(e,t){FO[e]=t}function E1e(e){if(FO.hasOwnProperty(e))return FO[e]}function _L(e,t,r,n){var a=r1e(e,t);return r&&(n==="center"&&(r=AJ(r,a.getBoundingRect())),MJ(a,r)),a}function NJ(e,t,r){var n=new Gu({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(r==="center"){var i={width:a.width,height:a.height};n.setStyle(AJ(t,i))}}});return n}function AJ(e,t){var r=t.width/t.height,n=e.height*r,a;n<=e.width?a=e.height:(n=e.width,a=n/r);var i=e.x+e.width/2,s=e.y+e.height/2;return{x:i-n/2,y:s-a/2,width:n,height:a}}var j1e=a1e;function MJ(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function Mg(e,t){return sJ(e,e,{lineWidth:t}),e}function D1e(e){return oJ(e.shape,e.shape,e.style),e}var O1e=Xc;function EJ(e,t){for(var r=aL([]);e&&e!==t;)Th(r,e.getLocalTransform(),r),e=e.parent;return r}function Eg(e,t,r){return t&&!qa(t)&&(t=lL.getLocalTransform(t)),r&&(t=sL([],t)),Wi([],e,t)}function jJ(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-n:e==="right"?n:0,e==="top"?-a:e==="bottom"?a:0];return i=Eg(i,t,r),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function LF(e){return!e.isGroup}function P1e(e){return e.shape!=null}function DJ(e,t,r){if(!e||!t)return;function n(s){var o={};return s.traverse(function(l){LF(l)&&l.anid&&(o[l.anid]=l)}),o}function a(s){var o={x:s.x,y:s.y,rotation:s.rotation};return P1e(s)&&(o.shape=gt({},s.shape)),o}var i=n(e);t.traverse(function(s){if(LF(s)&&s.anid){var o=i[s.anid];if(o){var l=a(s);s.attr(a(o)),Na(s,l,r,wr(s).dataIndex)}}})}function k1e(e,t){return Rt(e,function(r){var n=r[0];n=K1(n,t.x),n=Y1(n,t.x+t.width);var a=r[1];return a=K1(a,t.y),a=Y1(a,t.y+t.height),[n,a]})}function R1e(e,t){var r=K1(e.x,t.x),n=Y1(e.x+e.width,t.x+t.width),a=K1(e.y,t.y),i=Y1(e.y+e.height,t.y+t.height);if(n>=r&&i>=a)return{x:r,y:a,width:n-r,height:i-a}}function TL(e,t,r){var n=gt({rectHover:!0},t),a=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Rr(a,r),new Gu(n)):_L(e.replace("path://",""),n,r,"center")}function L1e(e,t,r,n,a){for(var i=0,s=a[a.length-1];i<a.length;i++){var o=a[i];if(OJ(e,t,r,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function OJ(e,t,r,n,a,i,s,o){var l=r-e,u=n-t,f=s-a,d=o-i,p=bA(f,d,l,u);if(I1e(p))return!1;var v=e-a,y=t-i,x=bA(v,y,l,u)/p;if(x<0||x>1)return!1;var b=bA(v,y,f,d)/p;return!(b<0||b>1)}function bA(e,t,r,n){return e*n-r*t}function I1e(e){return e<=1e-6&&e>=-1e-6}function US(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,a=Pt(t)?{formatter:t}:t,i=r.mainType,s=r.componentIndex,o={componentType:i,name:n,$vars:["name"]};o[i+"Index"]=s;var l=e.formatterParamsExtra;l&&re(ln(l),function(f){bf(o,f)||(o[f]=l[f],o.$vars.push(f))});var u=wr(e.el);u.componentMainType=i,u.componentIndex=s,u.tooltipConfig={name:n,option:Rr({content:n,encodeHTMLContent:!0,formatterParams:o},a)}}function IF(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function z0(e,t){if(e)if(wt(e))for(var r=0;r<e.length;r++)IF(e[r],t);else IF(e,t)}js("circle",BS);js("ellipse",bL);js("sector",Mp);js("ring",wL);js("polygon",Yh);js("polyline",$S);js("rect",dn);js("line",fl);js("bezierCurve",zS);js("arc",FS);const B1e=Object.freeze(Object.defineProperty({__proto__:null,Arc:FS,BezierCurve:zS,BoundingRect:kr,Circle:BS,CompoundPath:b1e,Ellipse:bL,Group:xn,Image:Gu,IncrementalDisplayable:_1e,Line:fl,LinearGradient:TJ,OrientedBoundingRect:G1,Path:Lr,Point:Gr,Polygon:Yh,Polyline:$S,RadialGradient:w1e,Rect:dn,Ring:wL,Sector:Mp,Text:Ca,applyTransform:Eg,clipPointsByRect:k1e,clipRectByRect:R1e,createIcon:TL,extendPath:M1e,extendShape:N1e,getShapeClass:E1e,getTransform:EJ,groupTransition:DJ,initProps:oo,isElementRemoved:Wv,lineLineIntersect:OJ,linePolygonIntersect:L1e,makeImage:NJ,makePath:_L,mergePath:j1e,registerShape:js,removeElement:W1,removeElementWithFadeOut:zO,resizePath:MJ,setTooltipConfig:US,subPixelOptimize:O1e,subPixelOptimizeLine:Mg,subPixelOptimizeRect:D1e,transformDirection:jJ,traverseElements:z0,updateProps:Na},Symbol.toStringTag,{value:"Module"}));var HS={};function $1e(e,t){for(var r=0;r<Zi.length;r++){var n=Zi[r],a=t[n],i=e.ensureState(n);i.style=i.style||{},i.style.text=a}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function BF(e,t,r){var n=e.labelFetcher,a=e.labelDataIndex,i=e.labelDimIndex,s=t.normal,o;n&&(o=n.getFormattedLabel(a,"normal",null,i,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),o==null&&(o=rr(e.defaultText)?e.defaultText(a,e,r):e.defaultText);for(var l={normal:o},u=0;u<Zi.length;u++){var f=Zi[u],d=t[f];l[f]=sr(n?n.getFormattedLabel(a,f,null,i,d&&d.get("formatter")):null,o)}return l}function Ep(e,t,r,n){r=r||HS;for(var a=e instanceof Ca,i=!1,s=0;s<wF.length;s++){var o=t[wF[s]];if(o&&o.getShallow("show")){i=!0;break}}var l=a?e:e.getTextContent();if(i){a||(l||(l=new Ca,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=BF(r,t),f=t.normal,d=!!f.getShallow("show"),p=_f(f,n&&n.normal,r,!1,!a);p.text=u.normal,a||e.setTextConfig($F(f,r,!1));for(var s=0;s<Zi.length;s++){var v=Zi[s],o=t[v];if(o){var y=l.ensureState(v),x=!!sr(o.getShallow("show"),d);if(x!==d&&(y.ignore=!x),y.style=_f(o,n&&n[v],r,!0,!a),y.style.text=u[v],!a){var b=e.ensureState(v);b.textConfig=$F(o,r,!0)}}}l.silent=!!f.getShallow("silent"),l.style.x!=null&&(p.x=l.style.x),l.style.y!=null&&(p.y=l.style.y),l.ignore=!d,l.useStyle(p),l.dirty(),r.enableTextSetter&&(VS(l).setLabelText=function(w){var _=BF(r,t,w);$1e(l,_)})}else l&&(l.ignore=!0);e.dirty()}function Rf(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Zi.length;n++){var a=Zi[n];r[a]=e.getModel([a,t])}return r}function _f(e,t,r,n,a){var i={};return z1e(i,e,r,n,a),t&&gt(i,t),i}function $F(e,t,r){t=t||{};var n={},a,i=e.getShallow("rotate"),s=sr(e.getShallow("distance"),r?null:5),o=e.getShallow("offset");return a=e.getShallow("position")||(r?null:"inside"),a==="outside"&&(a=t.defaultOutsidePosition||"top"),a!=null&&(n.position=a),o!=null&&(n.offset=o),i!=null&&(i*=Math.PI/180,n.rotation=i),s!=null&&(n.distance=s),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function z1e(e,t,r,n,a){r=r||HS;var i=t.ecModel,s=i&&i.option.textStyle,o=F1e(t),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var f=t.getModel(["rich",u]);HF(l[u]={},f,s,r,n,a,!1,!0)}}l&&(e.rich=l);var d=t.get("overflow");d&&(e.overflow=d);var p=t.get("minMargin");p!=null&&(e.margin=p),HF(e,t,s,r,n,a,!0,!1)}function F1e(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||HS).rich;if(r){t=t||{};for(var n=ln(r),a=0;a<n.length;a++){var i=n[a];t[i]=1}}e=e.parentModel}return t}var zF=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],FF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],UF=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function HF(e,t,r,n,a,i,s,o){r=!a&&r||HS;var l=n&&n.inheritColor,u=t.getShallow("color"),f=t.getShallow("textBorderColor"),d=sr(t.getShallow("opacity"),r.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(f==="inherit"||f==="auto")&&(l?f=l:f=null),i||(u=u||r.color,f=f||r.textBorderColor),u!=null&&(e.fill=u),f!=null&&(e.stroke=f);var p=sr(t.getShallow("textBorderWidth"),r.textBorderWidth);p!=null&&(e.lineWidth=p);var v=sr(t.getShallow("textBorderType"),r.textBorderType);v!=null&&(e.lineDash=v);var y=sr(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);y!=null&&(e.lineDashOffset=y),!a&&d==null&&!o&&(d=n&&n.defaultOpacity),d!=null&&(e.opacity=d),!a&&!i&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var x=0;x<zF.length;x++){var b=zF[x],w=sr(t.getShallow(b),r[b]);w!=null&&(e[b]=w)}for(var x=0;x<FF.length;x++){var b=FF[x],w=t.getShallow(b);w!=null&&(e[b]=w)}if(e.verticalAlign==null){var _=t.getShallow("baseline");_!=null&&(e.verticalAlign=_)}if(!s||!n.disableBox){for(var x=0;x<UF.length;x++){var b=UF[x],w=t.getShallow(b);w!=null&&(e[b]=w)}var T=t.getShallow("borderType");T!=null&&(e.borderDash=T),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function U1e(e,t){var r=t&&t.getModel("textStyle");return Ws([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var VS=un();function H1e(e,t,r,n){if(e){var a=VS(e);a.prevValue=a.value,a.value=r;var i=t.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=n,a.statesModels=t)}}var V1e=["textStyle","color"],wA=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],SA=new Ca,q1e=(function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(V1e):null)},e.prototype.getFont=function(){return U1e({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<wA.length;n++)r[wA[n]]=this.getShallow(wA[n]);return SA.useStyle(r),SA.update(),SA.getBoundingRect()},e})(),PJ=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],G1e=Cg(PJ),W1e=(function(){function e(){}return e.prototype.getLineStyle=function(t){return G1e(this,t)},e})(),kJ=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],K1e=Cg(kJ),Y1e=(function(){function e(){}return e.prototype.getItemStyle=function(t,r){return K1e(this,t,r)},e})(),yn=(function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){xr(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,a=n==null?n:n[t];if(a==null&&!r){var i=this.parentModel;i&&(a=i.getShallow(t))}return a},e.prototype.getModel=function(t,r){var n=t!=null,a=n?this.parsePath(t):null,i=n?this._doGet(a):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new e(i,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(ur(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Yt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var a=0;a<t.length&&!(t[a]&&(n=n&&typeof n=="object"?n[t[a]]:null,n==null));a++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e})();pL(yn);Ixe(yn);Ms(yn,W1e);Ms(yn,Y1e);Ms(yn,Uxe);Ms(yn,q1e);var X1e=Math.round(Math.random()*10);function qS(e){return[e||"",X1e++].join("_")}function Z1e(e){var t={};e.registerSubTypeDefaulter=function(r,n){var a=Ys(r);t[a.main]=n},e.determineSubType=function(r,n){var a=n.type;if(!a){var i=Ys(r).main;e.hasSubTypes(r)&&t[i]&&(a=t[i](n))}return a}}function Q1e(e,t){e.topologicalTravel=function(i,s,o,l){if(!i.length)return;var u=r(s),f=u.graph,d=u.noEntryList,p={};for(re(i,function(_){p[_]=!0});d.length;){var v=d.pop(),y=f[v],x=!!p[v];x&&(o.call(l,v,y.originalDeps.slice()),delete p[v]),re(y.successor,x?w:b)}re(p,function(){var _="";throw new Error(_)});function b(_){f[_].entryCount--,f[_].entryCount===0&&d.push(_)}function w(_){p[_]=!0,b(_)}};function r(i){var s={},o=[];return re(i,function(l){var u=n(s,l),f=u.originalDeps=t(l),d=a(f,i);u.entryCount=d.length,u.entryCount===0&&o.push(l),re(d,function(p){Cr(u.predecessor,p)<0&&u.predecessor.push(p);var v=n(s,p);Cr(v.successor,p)<0&&v.successor.push(l)})}),{graph:s,noEntryList:o}}function n(i,s){return i[s]||(i[s]={predecessor:[],successor:[]}),i[s]}function a(i,s){var o=[];return re(i,function(l){Cr(s,l)>=0&&o.push(l)}),o}}function GS(e,t){return xr(xr({},e,!0),t,!0)}const J1e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},ewe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var X1="ZH",CL="EN",Nh=CL,o1={},NL={},RJ=Yt.domSupported?(function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Nh).toUpperCase();return e.indexOf(X1)>-1?X1:Nh})():Nh;function LJ(e,t){e=e.toUpperCase(),NL[e]=new yn(t),o1[e]=t}function twe(e){if(Pt(e)){var t=o1[e.toUpperCase()]||{};return e===X1||e===CL?ur(t):xr(ur(t),ur(o1[Nh]),!1)}else return xr(ur(e),ur(o1[Nh]),!1)}function rwe(e){return NL[e]}function nwe(){return NL[Nh]}LJ(CL,J1e);LJ(X1,ewe);var AL=1e3,ML=AL*60,Kv=ML*60,Ui=Kv*24,VF=Ui*365,Nv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},zx="{yyyy}-{MM}-{dd}",qF={year:"{yyyy}",month:"{yyyy}-{MM}",day:zx,hour:zx+" "+Nv.hour,minute:zx+" "+Nv.minute,second:zx+" "+Nv.second,millisecond:Nv.none},_A=["year","month","day","hour","minute","second","millisecond"],IJ=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Wl(e,t){return e+="","0000".substr(0,t-e.length)+e}function Ah(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function awe(e){return e===Ah(e)}function iwe(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function WS(e,t,r,n){var a=cl(e),i=a[EL(r)](),s=a[Mh(r)]()+1,o=Math.floor((s-1)/3)+1,l=a[KS(r)](),u=a["get"+(r?"UTC":"")+"Day"](),f=a[jg(r)](),d=(f-1)%12+1,p=a[YS(r)](),v=a[XS(r)](),y=a[ZS(r)](),x=f>=12?"pm":"am",b=x.toUpperCase(),w=n instanceof yn?n:rwe(n||RJ)||nwe(),_=w.getModel("time"),T=_.get("month"),M=_.get("monthAbbr"),N=_.get("dayOfWeek"),C=_.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,x+"").replace(/{A}/g,b+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Wl(i%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,T[s-1]).replace(/{MMM}/g,M[s-1]).replace(/{MM}/g,Wl(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Wl(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,N[u]).replace(/{ee}/g,C[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Wl(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,Wl(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Wl(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Wl(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Wl(y,3)).replace(/{S}/g,y+"")}function swe(e,t,r,n,a){var i=null;if(Pt(r))i=r;else if(rr(r))i=r(e.value,t,{level:e.level});else{var s=gt({},Nv);if(e.level>0)for(var o=0;o<_A.length;++o)s[_A[o]]="{primary|"+s[_A[o]]+"}";var l=r?r.inherit===!1?r:Rr(r,s):s,u=BJ(e.value,a);if(l[u])i=l[u];else if(l.inherit){for(var f=IJ.indexOf(u),o=f-1;o>=0;--o)if(l[u]){i=l[u];break}i=i||s.none}if(wt(i)){var d=e.level==null?0:e.level>=0?e.level:i.length+e.level;d=Math.min(d,i.length-1),i=i[d]}}return WS(new Date(e.value),i,a,n)}function BJ(e,t){var r=cl(e),n=r[Mh(t)]()+1,a=r[KS(t)](),i=r[jg(t)](),s=r[YS(t)](),o=r[XS(t)](),l=r[ZS(t)](),u=l===0,f=u&&o===0,d=f&&s===0,p=d&&i===0,v=p&&a===1,y=v&&n===1;return y?"year":v?"month":p?"day":d?"hour":f?"minute":u?"second":"millisecond"}function GF(e,t,r){var n=Jr(e)?cl(e):e;switch(t=t||BJ(e,r),t){case"year":return n[EL(r)]();case"half-year":return n[Mh(r)]()>=6?1:0;case"quarter":return Math.floor((n[Mh(r)]()+1)/4);case"month":return n[Mh(r)]();case"day":return n[KS(r)]();case"half-day":return n[jg(r)]()/24;case"hour":return n[jg(r)]();case"minute":return n[YS(r)]();case"second":return n[XS(r)]();case"millisecond":return n[ZS(r)]()}}function EL(e){return e?"getUTCFullYear":"getFullYear"}function Mh(e){return e?"getUTCMonth":"getMonth"}function KS(e){return e?"getUTCDate":"getDate"}function jg(e){return e?"getUTCHours":"getHours"}function YS(e){return e?"getUTCMinutes":"getMinutes"}function XS(e){return e?"getUTCSeconds":"getSeconds"}function ZS(e){return e?"getUTCMilliseconds":"getMilliseconds"}function owe(e){return e?"setUTCFullYear":"setFullYear"}function $J(e){return e?"setUTCMonth":"setMonth"}function zJ(e){return e?"setUTCDate":"setDate"}function FJ(e){return e?"setUTCHours":"setHours"}function UJ(e){return e?"setUTCMinutes":"setMinutes"}function HJ(e){return e?"setUTCSeconds":"setSeconds"}function VJ(e){return e?"setUTCMilliseconds":"setMilliseconds"}function qJ(e){if(!mxe(e))return Pt(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function GJ(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var QS=wQ;function UO(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(f){return f&&Ws(f)?f:"-"}function i(f){return!!(f!=null&&!isNaN(f)&&isFinite(f))}var s=t==="time",o=e instanceof Date;if(s||o){var l=s?cl(e):e;if(isNaN(+l)){if(o)return"-"}else return WS(l,n,r)}if(t==="ordinal")return pO(e)?a(e):Jr(e)&&i(e)?e+"":"-";var u=U1(e);return i(u)?qJ(u):pO(e)?a(e):typeof e=="boolean"?e+"":"-"}var WF=["a","b","c","d","e","f","g"],TA=function(e,t){return"{"+e+(t??"")+"}"};function WJ(e,t,r){wt(t)||(t=[t]);var n=t.length;if(!n)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var s=WF[i];e=e.replace(TA(s),TA(s,0))}for(var o=0;o<n;o++)for(var l=0;l<a.length;l++){var u=t[o][a[l]];e=e.replace(TA(WF[l],o),r?Ba(u):u)}return e}function lwe(e,t){var r=Pt(e)?{color:e,extraCssText:t}:e||{},n=r.color,a=r.type;t=r.extraCssText;var i=r.renderMode||"html";if(!n)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ba(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ba(n)+";"+(t||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:i,content:"{"+s+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Tf(e,t){return t=t||"transparent",Pt(e)?e:Vt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}var l1=re,uwe=["left","right","top","bottom","width","height"],Fx=[["width","left","right"],["height","top","bottom"]];function jL(e,t,r,n,a){var i=0,s=0;n==null&&(n=1/0),a==null&&(a=1/0);var o=0;t.eachChild(function(l,u){var f=l.getBoundingRect(),d=t.childAt(u+1),p=d&&d.getBoundingRect(),v,y;if(e==="horizontal"){var x=f.width+(p?-p.x+f.x:0);v=i+x,v>n||l.newline?(i=0,v=x,s+=o+r,o=f.height):o=Math.max(o,f.height)}else{var b=f.height+(p?-p.y+f.y:0);y=s+b,y>a||l.newline?(i+=o+r,s=0,y=b,o=f.width):o=Math.max(o,f.width)}l.newline||(l.x=i,l.y=s,l.markRedraw(),e==="horizontal"?i=v+r:s=y+r)})}var Yv=jL;zr(jL,"vertical");zr(jL,"horizontal");function Dg(e,t,r){r=QS(r||0);var n=t.width,a=t.height,i=Cn(e.left,n),s=Cn(e.top,a),o=Cn(e.right,n),l=Cn(e.bottom,a),u=Cn(e.width,n),f=Cn(e.height,a),d=r[2]+r[0],p=r[1]+r[3],v=e.aspect;switch(isNaN(u)&&(u=n-o-p-i),isNaN(f)&&(f=a-l-d-s),v!=null&&(isNaN(u)&&isNaN(f)&&(v>n/a?u=n*.8:f=a*.8),isNaN(u)&&(u=v*f),isNaN(f)&&(f=u/v)),isNaN(i)&&(i=n-o-u-p),isNaN(s)&&(s=a-l-f-d),e.left||e.right){case"center":i=n/2-u/2-r[3];break;case"right":i=n-u-p;break}switch(e.top||e.bottom){case"middle":case"center":s=a/2-f/2-r[0];break;case"bottom":s=a-f-d;break}i=i||0,s=s||0,isNaN(u)&&(u=n-p-i-(o||0)),isNaN(f)&&(f=a-d-s-(l||0));var y=new kr(i+r[3],s+r[0],u,f);return y.margin=r,y}function Og(e){var t=e.layoutMode||e.constructor.layoutMode;return Vt(t)?t:t?{type:t}:null}function Xh(e,t,r){var n=r&&r.ignoreSize;!wt(n)&&(n=[n,n]);var a=s(Fx[0],0),i=s(Fx[1],1);u(Fx[0],e,a),u(Fx[1],e,i);function s(f,d){var p={},v=0,y={},x=0,b=2;if(l1(f,function(T){y[T]=e[T]}),l1(f,function(T){o(t,T)&&(p[T]=y[T]=t[T]),l(p,T)&&v++,l(y,T)&&x++}),n[d])return l(t,f[1])?y[f[2]]=null:l(t,f[2])&&(y[f[1]]=null),y;if(x===b||!v)return y;if(v>=b)return p;for(var w=0;w<f.length;w++){var _=f[w];if(!o(p,_)&&o(e,_)){p[_]=e[_];break}}return p}function o(f,d){return f.hasOwnProperty(d)}function l(f,d){return f[d]!=null&&f[d]!=="auto"}function u(f,d,p){l1(f,function(v){d[v]=p[v]})}}function F0(e){return cwe({},e)}function cwe(e,t){return t&&e&&l1(uwe,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var fwe=un(),Pr=(function(e){Bt(t,e);function t(r,n,a){var i=e.call(this,r,n,a)||this;return i.uid=qS("ec_cpt_model"),i}return t.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a)},t.prototype.mergeDefaultAndTheme=function(r,n){var a=Og(this),i=a?F0(r):{},s=n.getTheme();xr(r,s.get(this.mainType)),xr(r,this.getDefaultOption()),a&&Xh(r,i,a)},t.prototype.mergeOption=function(r,n){xr(this.option,r,!0);var a=Og(this);a&&Xh(this.option,r,a)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!kxe(r))return r.defaultOption;var n=fwe(this);if(!n.defaultOption){for(var a=[],i=r;i;){var s=i.prototype.defaultOption;s&&a.push(s),i=i.superClass}for(var o={},l=a.length-1;l>=0;l--)o=xr(o,a[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var a=r+"Index",i=r+"Id";return B0(this.ecModel,r,{index:this.get(a,!0),id:this.get(i,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=(function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0})(),t})(yn);JQ(Pr,yn);OS(Pr);Z1e(Pr);Q1e(Pr,dwe);function dwe(e){var t=[];return re(Pr.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=Rt(t,function(r){return Ys(r).main}),e!=="dataset"&&Cr(t,"dataset")<=0&&t.unshift("dataset"),t}var KJ="";typeof navigator<"u"&&(KJ=navigator.platform||"");var Od="rgba(0, 0, 0, 0.2)";const hwe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Od,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Od,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Od,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Od,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Od,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Od,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:KJ.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var YJ=Xt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),rs="original",Wa="arrayRows",mo="objectRows",yl="keyedColumns",ju="typedArray",XJ="unknown",rl="column",jp="row",ii={Must:1,Might:2,Not:3},ZJ=un();function pwe(e){ZJ(e).datasetMap=Xt()}function mwe(e,t,r){var n={},a=QJ(t);if(!a||!e)return n;var i=[],s=[],o=t.ecModel,l=ZJ(o).datasetMap,u=a.uid+"_"+r.seriesLayoutBy,f,d;e=e.slice(),re(e,function(x,b){var w=Vt(x)?x:e[b]={name:x};w.type==="ordinal"&&f==null&&(f=b,d=y(w)),n[w.name]=[]});var p=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});re(e,function(x,b){var w=x.name,_=y(x);if(f==null){var T=p.valueWayDim;v(n[w],T,_),v(s,T,_),p.valueWayDim+=_}else if(f===b)v(n[w],0,_),v(i,0,_);else{var T=p.categoryWayDim;v(n[w],T,_),v(s,T,_),p.categoryWayDim+=_}});function v(x,b,w){for(var _=0;_<w;_++)x.push(b+_)}function y(x){var b=x.dimsDef;return b?b.length:1}return i.length&&(n.itemName=i),s.length&&(n.seriesName=s),n}function QJ(e){var t=e.get("data",!0);if(!t)return B0(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},Ha).models[0]}function vwe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:B0(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},Ha).models}function JJ(e,t){return gwe(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function gwe(e,t,r,n,a,i){var s,o=5;if(Ga(e))return ii.Not;var l,u;if(n){var f=n[i];Vt(f)?(l=f.name,u=f.type):Pt(f)&&(l=f)}if(u!=null)return u==="ordinal"?ii.Must:ii.Not;if(t===Wa){var d=e;if(r===jp){for(var p=d[i],v=0;v<(p||[]).length&&v<o;v++)if((s=M(p[a+v]))!=null)return s}else for(var v=0;v<d.length&&v<o;v++){var y=d[a+v];if(y&&(s=M(y[i]))!=null)return s}}else if(t===mo){var x=e;if(!l)return ii.Not;for(var v=0;v<x.length&&v<o;v++){var b=x[v];if(b&&(s=M(b[l]))!=null)return s}}else if(t===yl){var w=e;if(!l)return ii.Not;var p=w[l];if(!p||Ga(p))return ii.Not;for(var v=0;v<p.length&&v<o;v++)if((s=M(p[v]))!=null)return s}else if(t===rs)for(var _=e,v=0;v<_.length&&v<o;v++){var b=_[v],T=I0(b);if(!wt(T))return ii.Not;if((s=M(T[i]))!=null)return s}function M(N){var C=Pt(N);if(N!=null&&Number.isFinite(Number(N))&&N!=="")return C?ii.Might:ii.Not;if(C&&N!=="-")return ii.Must}return ii.Not}var ywe=Xt();function xwe(e,t,r){var n=ywe.get(t);if(!n)return r;var a=n(e);return a?r.concat(a):r}var KF=un();un();var DL=(function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var a=Ta(this.get("color",!0)),i=this.get("colorLayer",!0);return wwe(this,KF,a,i,t,r,n)},e.prototype.clearColorPalette=function(){Swe(this,KF)},e})();function bwe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function wwe(e,t,r,n,a,i,s){i=i||e;var o=t(i),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var f=s==null||!n?r:bwe(n,s);if(f=f||r,!(!f||!f.length)){var d=f[l];return a&&(u[a]=d),o.paletteIdx=(l+1)%f.length,d}}function Swe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var Ux,qm,YF,XF="\0_ec_inner",_we=1,OL=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,a,i,s,o){i=i||{},this.option=null,this._theme=new yn(i),this._locale=new yn(s),this._optionManager=o},t.prototype.setOption=function(r,n,a){var i=JF(n);this._optionManager.setOption(r,a,i),this._resetOption(null,i)},t.prototype.resetOption=function(r,n){return this._resetOption(r,JF(n))},t.prototype._resetOption=function(r,n){var a=!1,i=this._optionManager;if(!r||r==="recreate"){var s=i.mountOption(r==="recreate");!this.option||r==="recreate"?YF(this,s):(this.restoreData(),this._mergeOption(s,n)),a=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var o=i.getTimelineOption(this);o&&(a=!0,this._mergeOption(o,n))}if(!r||r==="recreate"||r==="media"){var l=i.getMediaOption(this);l.length&&re(l,function(u){a=!0,this._mergeOption(u,n)},this)}return a},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var a=this.option,i=this._componentsMap,s=this._componentsCount,o=[],l=Xt(),u=n&&n.replaceMergeMainTypeMap;pwe(this),re(r,function(d,p){d!=null&&(Pr.hasClass(p)?p&&(o.push(p),l.set(p,!0)):a[p]=a[p]==null?ur(d):xr(a[p],d,!0))}),u&&u.each(function(d,p){Pr.hasClass(p)&&!l.get(p)&&(o.push(p),l.set(p,!0))}),Pr.topologicalTravel(o,Pr.getAllClassMainTypes(),f,this);function f(d){var p=xwe(this,d,Ta(r[d])),v=i.get(d),y=v?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",x=yxe(v,p,y);Cxe(x,d,Pr),a[d]=null,i.set(d,null),s.set(d,0);var b=[],w=[],_=0,T;re(x,function(M,N){var C=M.existing,j=M.newOption;if(!j)C&&(C.mergeOption({},this),C.optionUpdated({},!1));else{var O=d==="series",P=Pr.getClass(d,M.keyInfo.subType,!O);if(!P)return;if(d==="tooltip"){if(T)return;T=!0}if(C&&C.constructor===P)C.name=M.keyInfo.name,C.mergeOption(j,this),C.optionUpdated(j,!1);else{var R=gt({componentIndex:N},M.keyInfo);C=new P(j,this,this,R),gt(C,R),M.brandNew&&(C.__requireNewView=!0),C.init(j,this,this),C.optionUpdated(null,!0)}}C?(b.push(C.option),w.push(C),_++):(b.push(void 0),w.push(void 0))},this),a[d]=b,i.set(d,w),s.set(d,_),d==="series"&&Ux(this)}this._seriesIndices||Ux(this)},t.prototype.getOption=function(){var r=ur(this.option);return re(r,function(n,a){if(Pr.hasClass(a)){for(var i=Ta(n),s=i.length,o=!1,l=s-1;l>=0;l--)i[l]&&!Tg(i[l])?o=!0:(i[l]=null,!o&&s--);i.length=s,r[a]=i}}),delete r[XF],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var a=this._componentsMap.get(r);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var s=0;s<a.length;s++)if(a[s])return a[s]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var a=r.index,i=r.id,s=r.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return a!=null?(l=[],re(Ta(a),function(u){o[u]&&l.push(o[u])})):i!=null?l=ZF("id",i,o):s!=null?l=ZF("name",s,o):l=Fn(o,function(u){return!!u}),QF(l,r)},t.prototype.findComponents=function(r){var n=r.query,a=r.mainType,i=o(n),s=i?this.queryComponents(i):Fn(this._componentsMap.get(a),function(u){return!!u});return l(QF(s,r));function o(u){var f=a+"Index",d=a+"Id",p=a+"Name";return u&&(u[f]!=null||u[d]!=null||u[p]!=null)?{mainType:a,index:u[f],id:u[d],name:u[p]}:null}function l(u){return r.filter?Fn(u,r.filter):u}},t.prototype.eachComponent=function(r,n,a){var i=this._componentsMap;if(rr(r)){var s=n,o=r;i.each(function(d,p){for(var v=0;d&&v<d.length;v++){var y=d[v];y&&o.call(s,p,y,y.componentIndex)}})}else for(var l=Pt(r)?i.get(r):Vt(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var f=l[u];f&&n.call(a,f,f.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=no(r,null);return Fn(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return Fn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return Fn(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){qm(this),re(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];r.call(n,i,a)},this)},t.prototype.eachRawSeries=function(r,n){re(this._componentsMap.get("series"),function(a){a&&r.call(n,a,a.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,a){qm(this),re(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];s.subType===r&&n.call(a,s,i)},this)},t.prototype.eachRawSeriesByType=function(r,n,a){return re(this.getSeriesByType(r),n,a)},t.prototype.isSeriesFiltered=function(r){return qm(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){qm(this);var a=[];re(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];r.call(n,s,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Xt(a)},t.prototype.restoreData=function(r){Ux(this);var n=this._componentsMap,a=[];n.each(function(i,s){Pr.hasClass(s)&&a.push(s)}),Pr.topologicalTravel(a,Pr.getAllClassMainTypes(),function(i){re(n.get(i),function(s){s&&(i!=="series"||!Twe(s,r))&&s.restoreData()})})},t.internalField=(function(){Ux=function(r){var n=r._seriesIndices=[];re(r._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),r._seriesIndicesMap=Xt(n)},qm=function(r){},YF=function(r,n){r.option={},r.option[XF]=_we,r._componentsMap=Xt({series:[]}),r._componentsCount=Xt();var a=n.aria;Vt(a)&&a.enabled==null&&(a.enabled=!0),Cwe(n,r._theme.option),xr(n,hwe,!1),r._mergeOption(n,null)}})(),t})(yn);function Twe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,a=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||a!=null&&e.name!==a}}function Cwe(e,t){var r=e.color&&!e.colorLayer;re(t,function(n,a){a==="colorLayer"&&r||Pr.hasClass(a)||(typeof n=="object"?e[a]=e[a]?xr(e[a],n,!1):ur(n):e[a]==null&&(e[a]=n))})}function ZF(e,t,r){if(wt(t)){var n=Xt();return re(t,function(i){if(i!=null){var s=no(i,null);s!=null&&n.set(i,!0)}}),Fn(r,function(i){return i&&n.get(i[e])})}else{var a=no(t,null);return Fn(r,function(i){return i&&a!=null&&i[e]===a})}}function QF(e,t){return t.hasOwnProperty("subType")?Fn(e,function(r){return r&&r.subType===t.subType}):e}function JF(e){var t=Xt();return e&&re(Ta(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}Ms(OL,DL);var Nwe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],eee=(function(){function e(t){re(Nwe,function(r){this[r]=er(t[r],t)},this)}return e})(),CA={},PL=(function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];re(CA,function(a,i){var s=a.create(t,r);n=n.concat(s||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){re(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){CA[t]=r},e.get=function(t){return CA[t]},e})(),Awe=/^(min|max)?(.+)$/,Mwe=(function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(re(Ta(t.series),function(s){s&&s.data&&Ga(s.data)&&mO(s.data)}),re(Ta(t.dataset),function(s){s&&s.source&&Ga(s.source)&&mO(s.source)})),t=ur(t);var a=this._optionBackup,i=Ewe(t,r,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],ur(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var a=t.getComponent("timeline");a&&(r=ur(n[a.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,s=[],o=[];if(!a.length&&!i)return o;for(var l=0,u=a.length;l<u;l++)jwe(a[l].query,r,n)&&s.push(l);return!s.length&&i&&(s=[-1]),s.length&&!Owe(s,this._currentMediaIndices)&&(o=Rt(s,function(f){return ur(f===-1?i.option:a[f].option)})),this._currentMediaIndices=s,o},e})();function Ewe(e,t,r){var n=[],a,i,s=e.baseOption,o=e.timeline,l=e.options,u=e.media,f=!!e.media,d=!!(l||o||s&&s.timeline);s?(i=s,i.timeline||(i.timeline=o)):((d||f)&&(e.options=e.media=null),i=e),f&&wt(u)&&re(u,function(v){v&&v.option&&(v.query?n.push(v):a||(a=v))}),p(i),re(l,function(v){return p(v)}),re(n,function(v){return p(v.option)});function p(v){re(t,function(y){y(v,r)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:n}}function jwe(e,t,r){var n={width:t,height:r,aspectratio:t/r},a=!0;return re(e,function(i,s){var o=s.match(Awe);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();Dwe(n[u],i,l)||(a=!1)}}),a}function Dwe(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function Owe(e,t){return e.join(",")===t.join(",")}var os=re,Pg=Vt,eU=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function NA(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=eU.length;r<n;r++){var a=eU[r],i=t.normal,s=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?xr(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),s&&s[a]&&(e[a]=e[a]||{},e[a].emphasis?xr(e[a].emphasis,s[a]):e[a].emphasis=s[a],s[a]=null)}}function da(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,a=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,Rr(e[t],n)):e[t]=n),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a,a.focus&&(e.emphasis.focus=a.focus),a.blurScope&&(e.emphasis.blurScope=a.blurScope))}}function Av(e){da(e,"itemStyle"),da(e,"lineStyle"),da(e,"areaStyle"),da(e,"label"),da(e,"labelLine"),da(e,"upperLabel"),da(e,"edgeLabel")}function Tn(e,t){var r=Pg(e)&&e[t],n=Pg(r)&&r.textStyle;if(n)for(var a=0,i=rF.length;a<i;a++){var s=rF[a];n.hasOwnProperty(s)&&(r[s]=n[s])}}function Ri(e){e&&(Av(e),Tn(e,"label"),e.emphasis&&Tn(e.emphasis,"label"))}function Pwe(e){if(Pg(e)){NA(e),Av(e),Tn(e,"label"),Tn(e,"upperLabel"),Tn(e,"edgeLabel"),e.emphasis&&(Tn(e.emphasis,"label"),Tn(e.emphasis,"upperLabel"),Tn(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(NA(t),Ri(t));var r=e.markLine;r&&(NA(r),Ri(r));var n=e.markArea;n&&Ri(n);var a=e.data;if(e.type==="graph"){a=a||e.nodes;var i=e.links||e.edges;if(i&&!Ga(i))for(var s=0;s<i.length;s++)Ri(i[s]);re(e.categories,function(u){Av(u)})}if(a&&!Ga(a))for(var s=0;s<a.length;s++)Ri(a[s]);if(t=e.markPoint,t&&t.data)for(var o=t.data,s=0;s<o.length;s++)Ri(o[s]);if(r=e.markLine,r&&r.data)for(var l=r.data,s=0;s<l.length;s++)wt(l[s])?(Ri(l[s][0]),Ri(l[s][1])):Ri(l[s]);e.type==="gauge"?(Tn(e,"axisLabel"),Tn(e,"title"),Tn(e,"detail")):e.type==="treemap"?(da(e.breadcrumb,"itemStyle"),re(e.levels,function(u){Av(u)})):e.type==="tree"&&Av(e.leaves)}}function Io(e){return wt(e)?e:e?[e]:[]}function tU(e){return(wt(e)?e[0]:e)||{}}function kwe(e,t){os(Io(e.series),function(n){Pg(n)&&Pwe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),os(r,function(n){os(Io(e[n]),function(a){a&&(Tn(a,"axisLabel"),Tn(a.axisPointer,"label"))})}),os(Io(e.parallel),function(n){var a=n&&n.parallelAxisDefault;Tn(a,"axisLabel"),Tn(a&&a.axisPointer,"label")}),os(Io(e.calendar),function(n){da(n,"itemStyle"),Tn(n,"dayLabel"),Tn(n,"monthLabel"),Tn(n,"yearLabel")}),os(Io(e.radar),function(n){Tn(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),os(Io(e.geo),function(n){Pg(n)&&(Ri(n),os(Io(n.regions),function(a){Ri(a)}))}),os(Io(e.timeline),function(n){Ri(n),da(n,"label"),da(n,"itemStyle"),da(n,"controlStyle",!0);var a=n.data;wt(a)&&re(a,function(i){Vt(i)&&(da(i,"label"),da(i,"itemStyle"))})}),os(Io(e.toolbox),function(n){da(n,"iconStyle"),os(n.feature,function(a){da(a,"iconStyle")})}),Tn(tU(e.axisPointer),"label"),Tn(tU(e.tooltip).axisPointer,"label")}function Rwe(e,t){for(var r=t.split(","),n=e,a=0;a<r.length&&(n=n&&n[r[a]],n!=null);a++);return n}function Lwe(e,t,r,n){for(var a=t.split(","),i=e,s,o=0;o<a.length-1;o++)s=a[o],i[s]==null&&(i[s]={}),i=i[s];i[a[o]]==null&&(i[a[o]]=r)}function rU(e){e&&re(Iwe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Iwe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Bwe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],AA=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Gm(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<AA.length;r++){var n=AA[r][1],a=AA[r][0];t[n]!=null&&(t[a]=t[n])}}function nU(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function aU(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function $we(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function tee(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&tee(e[r].children,t)}function ree(e,t){kwe(e,t),e.series=Ta(e.series),re(e.series,function(r){if(Vt(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),nU(r.label);var a=r.data;if(a&&!Ga(a))for(var i=0;i<a.length;i++)nU(a[i]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var s=Rwe(r,"pointer.color");s!=null&&Lwe(r,"itemStyle.color",s)}else if(n==="bar"){Gm(r),Gm(r.backgroundStyle),Gm(r.emphasis);var a=r.data;if(a&&!Ga(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(Gm(a[i]),Gm(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var o=r.highlightPolicy;o&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=o)),aU(r),tee(r.data,aU)}else n==="graph"||n==="sankey"?$we(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&Rr(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),rU(r)}}),e.dataRange&&(e.visualMap=e.dataRange),re(Bwe,function(r){var n=e[r];n&&(wt(n)||(n=[n]),re(n,function(a){rU(a)}))})}function zwe(e){var t=Xt();e.eachSeries(function(r){var n=r.get("stack");if(n){var a=t.get(n)||t.set(n,[]),i=r.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(s)}}),t.each(Fwe)}function Fwe(e){re(e,function(t,r){var n=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(i,function(u,f,d){var p=s.get(t.stackedDimension,d);if(isNaN(p))return a;var v,y;o?y=s.getRawIndex(d):v=s.get(t.stackedByDimension,d);for(var x=NaN,b=r-1;b>=0;b--){var w=e[b];if(o||(y=w.data.rawIndexOf(w.stackedByDimension,v)),y>=0){var _=w.data.getByRawIndex(w.stackResultDimension,y);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&p>=0&&_>0||l==="samesign"&&p<=0&&_<0){p=dxe(p,_),x=_;break}}}return n[0]=p,n[1]=x,n})})}var JS=(function(){function e(t){this.data=t.data||(t.sourceFormat===yl?{}:[]),this.sourceFormat=t.sourceFormat||XJ,this.seriesLayoutBy=t.seriesLayoutBy||rl,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var a=r[n];a.type==null&&JJ(this,n)===ii.Must&&(a.type="ordinal")}}return e})();function kL(e){return e instanceof JS}function HO(e,t,r){r=r||aee(e);var n=t.seriesLayoutBy,a=Hwe(e,r,n,t.sourceHeader,t.dimensions),i=new JS({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:ur(t)});return i}function nee(e){return new JS({data:e,sourceFormat:Ga(e)?ju:rs})}function Uwe(e){return new JS({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:ur(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function aee(e){var t=XJ;if(Ga(e))t=ju;else if(wt(e)){e.length===0&&(t=Wa);for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a!=null){if(wt(a)||Ga(a)){t=Wa;break}else if(Vt(a)){t=mo;break}}}}else if(Vt(e)){for(var i in e)if(bf(e,i)&&qa(e[i])){t=yl;break}}return t}function Hwe(e,t,r,n,a){var i,s;if(!e)return{dimensionsDefine:iU(a),startIndex:s,dimensionsDetectedCount:i};if(t===Wa){var o=e;n==="auto"||n==null?sU(function(u){u!=null&&u!=="-"&&(Pt(u)?s==null&&(s=1):s=0)},r,o,10):s=Jr(n)?n:n?1:0,!a&&s===1&&(a=[],sU(function(u,f){a[f]=u!=null?u+"":""},r,o,1/0)),i=a?a.length:r===jp?o.length:o[0]?o[0].length:null}else if(t===mo)a||(a=Vwe(e));else if(t===yl)a||(a=[],re(e,function(u,f){a.push(f)}));else if(t===rs){var l=I0(e[0]);i=wt(l)&&l.length||1}return{startIndex:s,dimensionsDefine:iU(a),dimensionsDetectedCount:i}}function Vwe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return ln(r)}function iU(e){if(e){var t=Xt();return Rt(e,function(r,n){r=Vt(r)?r:{name:r};var a={name:r.name,displayName:r.displayName,type:r.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=t.get(a.name);return i?a.name+="-"+i.count++:t.set(a.name,{count:1}),a})}}function sU(e,t,r,n){if(t===jp)for(var a=0;a<r.length&&a<n;a++)e(r[a]?r[a][0]:null,a);else for(var i=r[0]||[],a=0;a<i.length&&a<n;a++)e(i[a],a)}function iee(e){var t=e.sourceFormat;return t===mo||t===yl}var Rc,Lc,Ic,oU,lU,see=(function(){function e(t,r){var n=kL(t)?t:nee(t);this._source=n;var a=this._data=n.data;n.sourceFormat===ju&&(this._offset=0,this._dimSize=r,this._data=a),lU(this,a,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=(function(){var t=e.prototype;t.pure=!1,t.persistent=!0})(),e.internalField=(function(){var t;lU=function(s,o,l){var u=l.sourceFormat,f=l.seriesLayoutBy,d=l.startIndex,p=l.dimensionsDefine,v=oU[RL(u,f)];if(gt(s,v),u===ju)s.getItem=r,s.count=a,s.fillStorage=n;else{var y=oee(u,f);s.getItem=er(y,null,o,d,p);var x=lee(u,f);s.count=er(x,null,o,d,p)}};var r=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,f=u*s,d=0;d<u;d++)o[d]=l[f+d];return o},n=function(s,o,l,u){for(var f=this._data,d=this._dimSize,p=0;p<d;p++){for(var v=u[p],y=v[0]==null?1/0:v[0],x=v[1]==null?-1/0:v[1],b=o-s,w=l[p],_=0;_<b;_++){var T=f[_*d+p];w[s+_]=T,T<y&&(y=T),T>x&&(x=T)}v[0]=y,v[1]=x}},a=function(){return this._data?this._data.length/this._dimSize:0};oU=(t={},t[Wa+"_"+rl]={pure:!0,appendData:i},t[Wa+"_"+jp]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[mo]={pure:!0,appendData:i},t[yl]={pure:!0,appendData:function(s){var o=this._data;re(s,function(l,u){for(var f=o[u]||(o[u]=[]),d=0;d<(l||[]).length;d++)f.push(l[d])})}},t[rs]={appendData:i},t[ju]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function i(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}})(),e})(),uU=function(e,t,r,n){return e[n]},qwe=(Rc={},Rc[Wa+"_"+rl]=function(e,t,r,n){return e[n+t]},Rc[Wa+"_"+jp]=function(e,t,r,n,a){n+=t;for(var i=a||[],s=e,o=0;o<s.length;o++){var l=s[o];i[o]=l?l[n]:null}return i},Rc[mo]=uU,Rc[yl]=function(e,t,r,n,a){for(var i=a||[],s=0;s<r.length;s++){var o=r[s].name,l=e[o];i[s]=l?l[n]:null}return i},Rc[rs]=uU,Rc);function oee(e,t){var r=qwe[RL(e,t)];return r}var cU=function(e,t,r){return e.length},Gwe=(Lc={},Lc[Wa+"_"+rl]=function(e,t,r){return Math.max(0,e.length-t)},Lc[Wa+"_"+jp]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},Lc[mo]=cU,Lc[yl]=function(e,t,r){var n=r[0].name,a=e[n];return a?a.length:0},Lc[rs]=cU,Lc);function lee(e,t){var r=Gwe[RL(e,t)];return r}var MA=function(e,t,r){return e[t]},Wwe=(Ic={},Ic[Wa]=MA,Ic[mo]=function(e,t,r){return e[r]},Ic[yl]=MA,Ic[rs]=function(e,t,r){var n=I0(e);return n instanceof Array?n[t]:n},Ic[ju]=MA,Ic);function uee(e){var t=Wwe[e];return t}function RL(e,t){return e===Wa?e+"_"+t:e}function Zh(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var a=e.getStore(),i=a.getSource().sourceFormat;if(r!=null){var s=e.getDimensionIndex(r),o=a.getDimensionProperty(s);return uee(i)(n,s,o)}else{var l=n;return i===rs&&(l=I0(n)),l}}}}var Kwe=/\{@(.+?)\}/g,LL=(function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),a=this.getRawValue(t,r),i=n.getRawIndex(t),s=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],f=l&&l.stroke,d=this.mainType,p=d==="series",v=n.userOutput&&n.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:s,dataIndex:i,data:o,dataType:r,value:a,color:u,borderColor:f,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,a,i,s){r=r||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(s&&(l.value=s.interpolatedValue),a!=null&&wt(l.value)&&(l.value=l.value[a]),!i){var u=o.getItemModel(t);i=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(rr(i))return l.status=r,l.dimensionIndex=a,i(l);if(Pt(i)){var f=WJ(i,l);return f.replace(Kwe,function(d,p){var v=p.length,y=p;y.charAt(0)==="["&&y.charAt(v-1)==="]"&&(y=+y.slice(1,v-1));var x=Zh(o,t,y);if(s&&wt(s.interpolatedValue)){var b=o.getDimensionIndex(y);b>=0&&(x=s.interpolatedValue[b])}return x!=null?x+"":""})}},e.prototype.getRawValue=function(t,r){return Zh(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e})();function fU(e){var t,r;return Vt(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function Xv(e){return new Ywe(e)}var Ywe=(function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var a=this.context;a.data=a.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var s=f(this._modBy),o=this._modDataCount||0,l=f(t&&t.modBy),u=t&&t.modDataCount||0;(s!==l||o!==u)&&(i="reset");function f(_){return!(_>=1)&&(_=1),_}var d;(this._dirty||i==="reset")&&(this._dirty=!1,d=this._doReset(n)),this._modBy=l,this._modDataCount=u;var p=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var v=this._dueIndex,y=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!n&&(d||v<y)){var x=this._progress;if(wt(x))for(var b=0;b<x.length;b++)this._doProgress(x[b],v,y,l,u);else this._doProgress(x,v,y,l,u)}this._dueIndex=y;var w=this._settedOutputEnd!=null?this._settedOutputEnd:y;this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,a,i){dU.reset(r,n,a,i),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:dU.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),wt(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e})(),dU=(function(){var e,t,r,n,a,i={reset:function(l,u,f,d){t=l,e=u,r=f,n=d,a=Math.ceil(n/r),i.next=r>1&&n>0?o:s}};return i;function s(){return t<e?t++:null}function o(){var l=t%a*r+Math.ceil(t/a),u=t>=e?null:l<n?l:t;return t++,u}})();function Du(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!Jr(e)&&e!=null&&e!=="-"&&(e=+cl(e)),e==null||e===""?NaN:Number(e))}Xt({number:function(e){return parseFloat(e)},time:function(e){return+cl(e)},trim:function(e){return Pt(e)?Ws(e):e}});var Xwe=(function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=Jr(t)?t:U1(t),a=Jr(r)?r:U1(r),i=isNaN(n),s=isNaN(a);if(i&&(n=this._incomparable),s&&(a=this._incomparable),i&&s){var o=Pt(t),l=Pt(r);o&&(n=l?t:0),l&&(a=o?r:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},e})(),Zwe=(function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Du(t,r)},e})();function Qwe(e,t){var r=new Zwe,n=e.data,a=r.sourceFormat=e.sourceFormat,i=e.startIndex,s="";e.seriesLayoutBy!==rl&&za(s);var o=[],l={},u=e.dimensionsDefine;if(u)re(u,function(x,b){var w=x.name,_={index:b,name:w,displayName:x.displayName};if(o.push(_),w!=null){var T="";bf(l,w)&&za(T),l[w]=_}});else for(var f=0;f<e.dimensionsDetectedCount;f++)o.push({index:f});var d=oee(a,rl);t.__isBuiltIn&&(r.getRawDataItem=function(x){return d(n,i,o,x)},r.getRawData=er(Jwe,null,e)),r.cloneRawData=er(eSe,null,e);var p=lee(a,rl);r.count=er(p,null,n,i,o);var v=uee(a);r.retrieveValue=function(x,b){var w=d(n,i,o,x);return y(w,b)};var y=r.retrieveValueFromItem=function(x,b){if(x!=null){var w=o[b];if(w)return v(x,b,w.name)}};return r.getDimensionInfo=er(tSe,null,o,l),r.cloneAllDimensionInfo=er(rSe,null,o),r}function Jwe(e){var t=e.sourceFormat;if(!IL(t)){var r="";za(r)}return e.data}function eSe(e){var t=e.sourceFormat,r=e.data;if(!IL(t)){var n="";za(n)}if(t===Wa){for(var a=[],i=0,s=r.length;i<s;i++)a.push(r[i].slice());return a}else if(t===mo){for(var a=[],i=0,s=r.length;i<s;i++)a.push(gt({},r[i]));return a}}function tSe(e,t,r){if(r!=null){if(Jr(r)||!isNaN(r)&&!bf(t,r))return e[r];if(bf(t,r))return t[r]}}function rSe(e){return ur(e)}var cee=Xt();function nSe(e){e=ur(e);var t=e.type,r="";t||za(r);var n=t.split(":");n.length!==2&&za(r);var a=!1;n[0]==="echarts"&&(t=n[1],a=!0),e.__isBuiltIn=a,cee.set(t,e)}function aSe(e,t,r){var n=Ta(e),a=n.length,i="";a||za(i);for(var s=0,o=a;s<o;s++){var l=n[s];t=iSe(l,t),s!==o-1&&(t.length=Math.max(t.length,1))}return t}function iSe(e,t,r,n){var a="";t.length||za(a),Vt(e)||za(a);var i=e.type,s=cee.get(i);s||za(a);var o=Rt(t,function(u){return Qwe(u,s)}),l=Ta(s.transform({upstream:o[0],upstreamList:o,config:ur(e.config)}));return Rt(l,function(u,f){var d="";Vt(u)||za(d),u.data||za(d);var p=aee(u.data);IL(p)||za(d);var v,y=t[0];if(y&&f===0&&!u.dimensions){var x=y.startIndex;x&&(u.data=y.data.slice(0,x).concat(u.data)),v={seriesLayoutBy:rl,sourceHeader:x,dimensions:y.metaRawOption.dimensions}}else v={seriesLayoutBy:rl,sourceHeader:0,dimensions:u.dimensions};return HO(u.data,v,null)})}function IL(e){return e===Wa||e===mo}var e_="undefined",sSe=typeof Uint32Array===e_?Array:Uint32Array,oSe=typeof Uint16Array===e_?Array:Uint16Array,fee=typeof Int32Array===e_?Array:Int32Array,hU=typeof Float64Array===e_?Array:Float64Array,dee={float:hU,int:fee,ordinal:Array,number:Array,time:hU},EA;function Pd(e){return e>65535?sSe:oSe}function kd(){return[1/0,-1/0]}function lSe(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function pU(e,t,r,n,a){var i=dee[r||"float"];if(a){var s=e[t],o=s&&s.length;if(o!==n){for(var l=new i(n),u=0;u<o;u++)l[u]=s[u];e[t]=l}}else e[t]=new i(n)}var VO=(function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Xt()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),i=this.defaultDimValueGetter=EA[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],iee(a),this._dimensions=Rt(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(t);if(i!=null){if(a[i].type===r)return i}else i=a.length;return a[i]={type:r},n.set(t,i),this._chunks[i]=new dee[r||"float"](this._rawCount),this._rawExtent[i]=kd(),i},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],a=this._dimensions[t],i=this._rawExtent,s=a.ordinalOffset||0,o=n.length;s===0&&(i[t]=kd());for(var l=i[t],u=s;u<o;u++){var f=n[u]=r.parseAndCollect(n[u]);isNaN(f)||(l[0]=Math.min(f,l[0]),l[1]=Math.max(f,l[1]))}a.ordinalMeta=r,a.ordinalOffset=o,a.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var a=r.count();return r.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,a=this._dimensions,i=a.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,r||0),u=0;u<i;u++){var f=a[u];pU(n,u,f.type,l,!0)}for(var d=[],p=o;p<l;p++)for(var v=p-o,y=0;y<i;y++){var f=a[y],x=EA.arrayRows.call(this,t[v]||d,f.property,v,y);n[y][p]=x;var b=s[y];x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}return this._rawCount=this._count=l,{start:o,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var a=this._provider,i=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=Rt(s,function(_){return _.property}),f=0;f<o;f++){var d=s[f];l[f]||(l[f]=kd()),pU(i,f,d.type,r,n)}if(a.fillStorage)a.fillStorage(t,r,i,l);else for(var p=[],v=t;v<r;v++){p=a.getItem(v,p);for(var y=0;y<o;y++){var x=i[y],b=this._dimValueGetter(p,u[y],v,y);x[v]=b;var w=l[y];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],a=[];if(r==null){r=t,t=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=t;for(var i=0,s=a.length;i<s;i++)n.push(this.get(a[i],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var a=0,i=this.count();a<i;a++){var s=this.get(t,a);isNaN(s)||(n+=s)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(i){isNaN(i)||r.push(i)});var n=r.sort(function(i,s){return i-s}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var a=0,i=this._count-1;a<=i;){var s=(a+i)/2|0;if(r[s]<t)a=s+1;else if(r[s]>t)i=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,r,n){var a=this._chunks,i=a[t],s=[];if(!i)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,f=0,d=this.count();f<d;f++){var p=this.getRawIndex(f),v=r-i[p],y=Math.abs(v);y<=n&&((y<o||y===o&&v>=0&&l<0)&&(o=y,l=v,u=0),v===l&&(s[u++]=f))}return s.length=u,s},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,a=this._count;if(n===Array){t=new n(a);for(var i=0;i<a;i++)t[i]=r[i]}else t=new n(r.buffer,0,a)}else{var n=Pd(this._rawCount);t=new n(this.count());for(var i=0;i<t.length;i++)t[i]=i}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=Pd(n._rawCount),s=new i(a),o=[],l=t.length,u=0,f=t[0],d=n._chunks,p=0;p<a;p++){var v=void 0,y=n.getRawIndex(p);if(l===0)v=r(p);else if(l===1){var x=d[f][y];v=r(x,p)}else{for(var b=0;b<l;b++)o[b]=d[t[b]][y];o[b]=p,v=r.apply(null,o)}v&&(s[u++]=y)}return u<a&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var a=ln(t),i=a.length;if(!i)return this;var s=r.count(),o=Pd(r._rawCount),l=new o(s),u=0,f=a[0],d=t[f][0],p=t[f][1],v=r._chunks,y=!1;if(!r._indices){var x=0;if(i===1){for(var b=v[a[0]],w=0;w<n;w++){var _=b[w];(_>=d&&_<=p||isNaN(_))&&(l[u++]=x),x++}y=!0}else if(i===2){for(var b=v[a[0]],T=v[a[1]],M=t[a[1]][0],N=t[a[1]][1],w=0;w<n;w++){var _=b[w],C=T[w];(_>=d&&_<=p||isNaN(_))&&(C>=M&&C<=N||isNaN(C))&&(l[u++]=x),x++}y=!0}}if(!y)if(i===1)for(var w=0;w<s;w++){var j=r.getRawIndex(w),_=v[a[0]][j];(_>=d&&_<=p||isNaN(_))&&(l[u++]=j)}else for(var w=0;w<s;w++){for(var O=!0,j=r.getRawIndex(w),P=0;P<i;P++){var R=a[P],_=v[R][j];(_<t[R][0]||_>t[R][1])&&(O=!1)}O&&(l[u++]=r.getRawIndex(w))}return u<s&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var a=t._chunks,i=[],s=r.length,o=t.count(),l=[],u=t._rawExtent,f=0;f<r.length;f++)u[r[f]]=kd();for(var d=0;d<o;d++){for(var p=t.getRawIndex(d),v=0;v<s;v++)l[v]=a[r[v]][p];l[s]=d;var y=n&&n.apply(null,l);if(y!=null){typeof y!="object"&&(i[0]=y,y=i);for(var f=0;f<y.length;f++){var x=r[f],b=y[f],w=u[x],_=a[x];_&&(_[p]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),a=n._chunks,i=a[t],s=this.count(),o=0,l=Math.floor(1/r),u=this.getRawIndex(0),f,d,p,v=new(Pd(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));v[o++]=u;for(var y=1;y<s-1;y+=l){for(var x=Math.min(y+l,s-1),b=Math.min(y+l*2,s),w=(b+x)/2,_=0,T=x;T<b;T++){var M=this.getRawIndex(T),N=i[M];isNaN(N)||(_+=N)}_/=b-x;var C=y,j=Math.min(y+l,s),O=y-1,P=i[u];f=-1,p=C;for(var R=-1,k=0,T=C;T<j;T++){var M=this.getRawIndex(T),N=i[M];if(isNaN(N)){k++,R<0&&(R=M);continue}d=Math.abs((O-w)*(N-P)-(O-T)*(_-P)),d>f&&(f=d,p=M)}k>0&&k<j-C&&(v[o++]=Math.min(R,p),p=Math.max(R,p)),v[o++]=p,u=p}return v[o++]=this.getRawIndex(s-1),n._count=o,n._indices=v,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),a=n._chunks,i=Math.floor(1/r),s=a[t],o=this.count(),l=new(Pd(this._rawCount))(Math.ceil(o/i)*2),u=0,f=0;f<o;f+=i){var d=f,p=s[this.getRawIndex(d)],v=f,y=s[this.getRawIndex(v)],x=i;f+i>o&&(x=o-f);for(var b=0;b<x;b++){var w=this.getRawIndex(f+b),_=s[w];_<p&&(p=_,d=f+b),_>y&&(y=_,v=f+b)}var T=this.getRawIndex(d),M=this.getRawIndex(v);d<v?(l[u++]=T,l[u++]=M):(l[u++]=M,l[u++]=T)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,a){for(var i=this.clone([t],!0),s=i._chunks,o=[],l=Math.floor(1/r),u=s[t],f=this.count(),d=i._rawExtent[t]=kd(),p=new(Pd(this._rawCount))(Math.ceil(f/l)),v=0,y=0;y<f;y+=l){l>f-y&&(l=f-y,o.length=l);for(var x=0;x<l;x++){var b=this.getRawIndex(y+x);o[x]=u[b]}var w=n(o),_=this.getRawIndex(Math.min(y+a(o,w)||0,f-1));u[_]=w,w<d[0]&&(d[0]=w),w>d[1]&&(d[1]=w),p[v++]=_}return i._count=v,i._indices=p,i._updateGetRawIdx(),i},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,a=this._chunks,i=0,s=this.count();i<s;i++){var o=this.getRawIndex(i);switch(n){case 0:r(i);break;case 1:r(a[t[0]][o],i);break;case 2:r(a[t[0]][o],a[t[1]][o],i);break;default:for(var l=0,u=[];l<n;l++)u[l]=a[t[l]][o];u[l]=i,r.apply(null,u)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=kd();if(!r)return n;var a=this.count(),i=!this._indices,s;if(i)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<a;u++){var f=this.getRawIndex(u),d=r[f];d<o&&(o=d),d>l&&(l=d)}return s=[o,l],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][r]);return n},e.prototype.clone=function(t,r){var n=new e,a=this._chunks,i=t&&Np(t,function(o,l){return o[l]=!0,o},{});if(i)for(var s=0;s<a.length;s++)n._chunks[s]=i[s]?lSe(a[s]):a[s];else n._chunks=a;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=ur(this._extent),t._rawExtent=ur(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var a=0;a<n;a++)r[a]=this._indices[a]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=(function(){function t(r,n,a,i){return Du(r[i],this._dimensions[i])}EA={arrayRows:t,objectRows:function(r,n,a,i){return Du(r[n],this._dimensions[i])},keyedColumns:t,original:function(r,n,a,i){var s=r&&(r.value==null?r:r.value);return Du(s instanceof Array?s[i]:s,this._dimensions[i])},typedArray:function(r,n,a,i){return r[i]}}})(),e})(),uSe=(function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,a,i;if(Hx(t)){var s=t,o=void 0,l=void 0,u=void 0;if(n){var f=r[0];f.prepareSource(),u=f.getSource(),o=u.data,l=u.sourceFormat,i=[f._getVersionSign()]}else o=s.get("data",!0),l=Ga(o)?ju:rs,i=[];var d=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},v=sr(d.seriesLayoutBy,p.seriesLayoutBy)||null,y=sr(d.sourceHeader,p.sourceHeader),x=sr(d.dimensions,p.dimensions),b=v!==p.seriesLayoutBy||!!y!=!!p.sourceHeader||x;a=b?[HO(o,{seriesLayoutBy:v,sourceHeader:y,dimensions:x},l)]:[]}else{var w=t;if(n){var _=this._applyTransform(r);a=_.sourceList,i=_.upstreamSignList}else{var T=w.get("source",!0);a=[HO(T,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),a=r.get("fromTransformResult",!0);if(a!=null){var i="";t.length!==1&&mU(i)}var s,o=[],l=[];return re(t,function(u){u.prepareSource();var f=u.getSource(a||0),d="";a!=null&&!f&&mU(d),o.push(f),l.push(u._getVersionSign())}),n?s=aSe(n,o,{datasetIndex:r.componentIndex}):a!=null&&(s=[Uwe(o[0])]),{sourceList:s,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var a=0,i=this._storeList,s=i[a];s||(s=i[a]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];Hx(this._sourceHost)&&l?o=l._innerGetDataStore(t,r,n):(o=new VO,o.initData(new see(r,t.length),t)),s[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Hx(t)){var r=QJ(t);return r?[r.getSourceManager()]:[]}else return Rt(vwe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,a;if(Hx(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),a=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=t;r=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:a}},e})();function Hx(e){return e.mainType==="series"}function mU(e){throw new Error(e)}var cSe="line-height:1";function hee(e){var t=e.lineHeight;return t==null?cSe:"line-height:"+Ba(t+"")+"px"}function pee(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,a=e.fontWeight||"400",i=e.color||"#464646",s=e.fontSize||14,o=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+Ba(n+"")+"px;color:"+Ba(r)+";font-weight:"+Ba(a+""),valueStyle:"font-size:"+Ba(s+"")+"px;color:"+Ba(i)+";font-weight:"+Ba(o+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:a},valueStyle:{fontSize:s,fill:i,fontWeight:o}}}var fSe=[0,10,20,30],dSe=["",`
`,`

`,`


`];function Cf(e,t){return t.type=e,t}function qO(e){return e.type==="section"}function mee(e){return qO(e)?hSe:pSe}function vee(e){if(qO(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return re(e.blocks,function(a){var i=vee(a);i>=t&&(t=i+ +(n&&(!i||qO(a)&&!a.noHeader)))}),t}return 0}function hSe(e,t,r,n){var a=t.noHeader,i=mSe(vee(t)),s=[],o=t.blocks||[];ul(!o||wt(o)),o=o||[];var l=e.orderMode;if(t.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(bf(u,l)){var f=new Xwe(u[l],null);o.sort(function(x,b){return f.evaluate(x.sortParam,b.sortParam)})}else l==="seriesDesc"&&o.reverse()}re(o,function(x,b){var w=t.valueFormatter,_=mee(x)(w?gt(gt({},e),{valueFormatter:w}):e,x,b>0?i.html:0,n);_!=null&&s.push(_)});var d=e.renderMode==="richText"?s.join(i.richText):GO(n,s.join(""),a?r:i.html);if(a)return d;var p=UO(t.header,"ordinal",e.useUTC),v=pee(n,e.renderMode).nameStyle,y=hee(n);return e.renderMode==="richText"?gee(e,p,v)+i.richText+d:GO(n,'<div style="'+v+";"+y+';">'+Ba(p)+"</div>"+d,r)}function pSe(e,t,r,n){var a=e.renderMode,i=t.noName,s=t.noValue,o=!t.markerType,l=t.name,u=e.useUTC,f=t.valueFormatter||e.valueFormatter||function(M){return M=wt(M)?M:[M],Rt(M,function(N,C){return UO(N,wt(v)?v[C]:v,u)})};if(!(i&&s)){var d=o?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",a),p=i?"":UO(l,"ordinal",u),v=t.valueType,y=s?[]:f(t.value,t.dataIndex),x=!o||!i,b=!o&&i,w=pee(n,a),_=w.nameStyle,T=w.valueStyle;return a==="richText"?(o?"":d)+(i?"":gee(e,p,_))+(s?"":ySe(e,y,x,b,T)):GO(n,(o?"":d)+(i?"":vSe(p,!o,_))+(s?"":gSe(y,x,b,T)),r)}}function vU(e,t,r,n,a,i){if(e){var s=mee(e),o={useUTC:a,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(o,e,0,i)}}function mSe(e){return{html:fSe[e],richText:dSe[e]}}function GO(e,t,r){var n='<div style="clear:both"></div>',a="margin: "+r+"px 0 0",i=hee(e);return'<div style="'+a+";"+i+';">'+t+n+"</div>"}function vSe(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+Ba(e)+"</span>"}function gSe(e,t,r,n){var a=r?"10px":"20px",i=t?"float:right;margin-left:"+a:"";return e=wt(e)?e:[e],'<span style="'+i+";"+n+'">'+Rt(e,function(s){return Ba(s)}).join("&nbsp;&nbsp;")+"</span>"}function gee(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function ySe(e,t,r,n,a){var i=[a],s=n?10:20;return r&&i.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(wt(t)?t.join("  "):t,i)}function xSe(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return Tf(n)}function yee(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var jA=(function(){function e(){this.richTextStyles={},this._nextStyleNameId=WQ()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var a=n==="richText"?this._generateStyleName():null,i=lwe({color:r,type:t,renderMode:n,markerId:a});return Pt(i)?i:(this.richTextStyles[a]=i.style,i.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};wt(r)?re(r,function(i){return gt(n,i)}):gt(n,r);var a=this._generateStyleName();return this.richTextStyles[a]=n,"{"+a+"|"+t+"}"},e})();function bSe(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,a=t.getData(),i=a.mapDimensionsAll("defaultedTooltip"),s=i.length,o=t.getRawValue(r),l=wt(o),u=xSe(t,r),f,d,p,v;if(s>1||l&&!s){var y=wSe(o,t,r,i,u);f=y.inlineValues,d=y.inlineValueTypes,p=y.blocks,v=y.inlineValues[0]}else if(s){var x=a.getDimensionInfo(i[0]);v=f=Zh(a,r,i[0]),d=x.type}else v=f=l?o[0]:o;var b=dL(t),w=b&&t.name||"",_=a.getName(r),T=n?w:_;return Cf("section",{header:w,noHeader:n||!b,sortParam:v,blocks:[Cf("nameValue",{markerType:"item",markerColor:u,name:T,noName:!Ws(T),value:f,valueType:d,dataIndex:r})].concat(p||[])})}function wSe(e,t,r,n,a){var i=t.getData(),s=Np(e,function(d,p,v){var y=i.getDimensionInfo(v);return d=d||y&&y.tooltip!==!1&&y.displayName!=null},!1),o=[],l=[],u=[];n.length?re(n,function(d){f(Zh(i,r,d),d)}):re(e,f);function f(d,p){var v=i.getDimensionInfo(p);!v||v.otherDims.tooltip===!1||(s?u.push(Cf("nameValue",{markerType:"subItem",markerColor:a,name:v.displayName,value:d,valueType:v.type})):(o.push(d),l.push(v.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var Kl=un();function Vx(e,t){return e.getName(t)||e.getId(t)}var SSe="__universalTransitionEnabled",lo=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,a){this.seriesIndex=this.componentIndex,this.dataTask=Xv({count:TSe,reset:CSe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,a);var i=Kl(this).sourceManager=new uSe(this);i.prepareSource();var s=this.getInitialData(r,a);yU(s,this),this.dataTask.context.data=s,Kl(this).dataBeforeProcessed=s,gU(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(r,n){var a=Og(this),i=a?F0(r):{},s=this.subType;Pr.hasClass(s)&&(s+="Series"),xr(r,n.getTheme().get(this.subType)),xr(r,this.getDefaultOption()),DO(r,"label",["show"]),this.fillDataTextStyle(r.data),a&&Xh(r,i,a)},t.prototype.mergeOption=function(r,n){r=xr(this.option,r,!0),this.fillDataTextStyle(r.data);var a=Og(this);a&&Xh(this.option,r,a);var i=Kl(this).sourceManager;i.dirty(),i.prepareSource();var s=this.getInitialData(r,n);yU(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Kl(this).dataBeforeProcessed=s,gU(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(r){if(r&&!Ga(r))for(var n=["show"],a=0;a<r.length;a++)r[a]&&r[a].label&&DO(r[a],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=WO(this);if(n){var a=n.context.data;return r==null||!a.getLinkedData?a:a.getLinkedData(r)}else return Kl(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=WO(this);if(n){var a=n.context;a.outputData=r,n!==this.dataTask&&(a.data=r)}Kl(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return Xt(r)},t.prototype.getSourceManager=function(){return Kl(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Kl(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,a){return bSe({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Yt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,a){var i=this.ecModel,s=DL.prototype.getColorFromPalette.call(this,r,n,a);return s||(s=i.getColorFromPalette(r,n,a)),s},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,s=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<r.length;o++){var l=r[o],u=Vx(s,l);a[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(r,n){for(var a=[],i=0;i<r.length;i++)a[0]=r[i],this.isSelected(r[i],n)?this.unselect(a,n):this.select(a,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=ln(r),a=[],i=0;i<n.length;i++){var s=r[n[i]];s>=0&&a.push(s)}return a},t.prototype.isSelected=function(r,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[Vx(i,r)])&&!i.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[SSe])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var a,i,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){Vt(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,f=0;f<l;f++){var d=n[f],p=Vx(r,d);u[p]=!0,this._selectedDataIndicesMap[p]=r.getRawIndex(d)}}else if(o==="single"||o===!0){var v=n[l-1],p=Vx(r,v);s.selectedMap=(a={},a[p]=!0,a),this._selectedDataIndicesMap=(i={},i[p]=r.getRawIndex(v),i)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(a){var i=r.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return Pr.registerClass(r)},t.protoInitialize=(function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"})(),t})(Pr);Ms(lo,LL);Ms(lo,DL);JQ(lo,Pr);function gU(e){var t=e.name;dL(e)||(e.name=_Se(e)||t)}function _Se(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return re(r,function(a){var i=t.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function TSe(e){return e.model.getRawData().count()}function CSe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),NSe}function NSe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function yU(e,t){re(X0e(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,zr(ASe,t))})}function ASe(e,t){var r=WO(e);return r&&r.setOutputEnd((t||this).count()),t}function WO(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(e.uid))}return n}}var Qi=(function(){function e(){this.group=new xn,this.uid=qS("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,a){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,a){},e.prototype.updateLayout=function(t,r,n,a){},e.prototype.updateVisual=function(t,r,n,a){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e})();pL(Qi);OS(Qi);function BL(){var e=un();return function(t){var r=e(t),n=t.pipelineContext,a=!!r.large,i=!!r.progressiveRender,s=r.large=!!(n&&n.large),o=r.progressiveRender=!!(n&&n.progressiveRender);return(a!==s||i!==o)&&"reset"}}var xee=un(),MSe=BL(),Ss=(function(){function e(){this.group=new xn,this.uid=qS("viewChart"),this.renderTask=Xv({plan:ESe,reset:jSe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,a){},e.prototype.highlight=function(t,r,n,a){var i=t.getData(a&&a.dataType);i&&bU(i,a,"emphasis")},e.prototype.downplay=function(t,r,n,a){var i=t.getData(a&&a.dataType);i&&bU(i,a,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.updateLayout=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.updateVisual=function(t,r,n,a){this.render(t,r,n,a)},e.prototype.eachRendered=function(t){z0(this.group,t)},e.markUpdateMethod=function(t,r){xee(t).updateMethod=r},e.protoInitialize=(function(){var t=e.prototype;t.type="chart"})(),e})();function xU(e,t,r){e&&IO(e)&&(t==="emphasis"?Ng:Ag)(e,r)}function bU(e,t,r){var n=wf(e,t),a=t&&t.highlightKey!=null?Kbe(t.highlightKey):null;n!=null?re(Ta(n),function(i){xU(e.getItemGraphicEl(i),r,a)}):e.eachItemGraphicEl(function(i){xU(i,r,a)})}pL(Ss);OS(Ss);function ESe(e){return MSe(e.model)}function jSe(e){var t=e.model,r=e.ecModel,n=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,s=e.view,o=a&&xee(a).updateMethod,l=i?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](t,r,n,a),DSe[l]}var DSe={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Z1="\0__throttleOriginMethod",wU="\0__throttleRate",SU="\0__throttleType";function $L(e,t,r){var n,a=0,i=0,s=null,o,l,u,f;t=t||0;function d(){i=new Date().getTime(),s=null,e.apply(l,u||[])}var p=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];n=new Date().getTime(),l=this,u=v;var x=f||t,b=f||r;f=null,o=n-(b?a:i)-x,clearTimeout(s),b?s=setTimeout(d,x):o>=0?d():s=setTimeout(d,-o),a=n};return p.clear=function(){s&&(clearTimeout(s),s=null)},p.debounceNextCall=function(v){f=v},p}function t_(e,t,r,n){var a=e[t];if(a){var i=a[Z1]||a,s=a[SU],o=a[wU];if(o!==r||s!==n){if(r==null||!n)return e[t]=i;a=e[t]=$L(i,r,n==="debounce"),a[Z1]=i,a[SU]=n,a[wU]=r}return a}}function Q1(e,t){var r=e[t];r&&r[Z1]&&(r.clear&&r.clear(),e[t]=r[Z1])}var _U=un(),TU={itemStyle:Cg(kJ,!0),lineStyle:Cg(PJ,!0)},OSe={lineStyle:"stroke",itemStyle:"fill"};function bee(e,t){var r=e.visualStyleMapper||TU[t];return r||(console.warn("Unknown style type '"+t+"'."),TU.itemStyle)}function wee(e,t){var r=e.visualDrawType||OSe[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var PSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",a=e.getModel(n),i=bee(e,n),s=i(a),o=a.getShallow("decal");o&&(r.setVisual("decal",o),o.dirty=!0);var l=wee(e,n),u=s[l],f=rr(u)?u:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[l]||f||d){var p=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[l]||(s[l]=p,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||rr(s.fill)?p:s.fill,s.stroke=s.stroke==="auto"||rr(s.stroke)?p:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&f)return r.setVisual("colorFromPalette",!1),{dataEach:function(v,y){var x=e.getDataParams(y),b=gt({},s);b[l]=f(x),v.setItemVisual(y,"style",b)}}}},Wm=new yn,kSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",a=bee(e,n),i=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){Wm.option=l[n];var u=a(Wm),f=s.ensureUniqueItemVisual(o,"style");gt(f,u),Wm.option.decal&&(s.setItemVisual(o,"decal",Wm.option.decal),Wm.option.decal.dirty=!0),i in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},RSe={performRawSeries:!0,overallReset:function(e){var t=Xt();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var a=r.type+"-"+n,i=t.get(a);i||(i={},t.set(a,i)),_U(r).scope=i}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),a={},i=r.getData(),s=_U(r).scope,o=r.visualStyleAccessPath||"itemStyle",l=wee(r,o);i.each(function(u){var f=i.getRawIndex(u);a[f]=u}),n.each(function(u){var f=a[u],d=i.getItemVisual(f,"colorFromPalette");if(d){var p=i.ensureUniqueItemVisual(f,"style"),v=n.getName(u)||u+"",y=n.count();p[l]=r.getColorFromPalette(v,s,y)}})}})}},qx=Math.PI;function LSe(e,t){t=t||{},Rr(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new xn,n=new dn({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var a=new Ca({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),i=new dn({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(i);var s;return t.showSpinner&&(s=new FS({shape:{startAngle:-qx/2,endAngle:-qx/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:qx*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:qx*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var o=a.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),f=e.getHeight()/2;t.showSpinner&&s.setShape({cx:u,cy:f}),i.setShape({x:u-l,y:f-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var See=(function(){function e(t,r,n,a){this._stageTaskMap=Xt(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),a=n.context,i=!r&&n.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=i?n.step:null,o=a&&a.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),a=t.getData(),i=a.count(),s=n.progressiveEnabled&&r.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?i:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=Xt();t.eachSeries(function(a){var i=a.getProgressive(),s=a.uid;n.set(s,{id:s,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),r._pipe(a,a.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;re(this._allHandlers,function(a){var i=t.get(a.uid)||t.set(a.uid,{}),s="";ul(!(a.reset&&a.overallReset),s),a.reset&&this._createSeriesStageTask(a,i,r,n),a.overallReset&&this._createOverallStageTask(a,i,r,n)},this)},e.prototype.prepareView=function(t,r,n,a){var i=t.renderTask,s=i.context;s.model=r,s.ecModel=n,s.api=a,i.__block=!t.incrementalPrepareRender,this._pipe(r,i)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,a){a=a||{};var i=!1,s=this;re(t,function(l,u){if(!(a.visualType&&a.visualType!==l.visualType)){var f=s._stageTaskMap.get(l.uid),d=f.seriesTaskMap,p=f.overallTask;if(p){var v,y=p.agentStubMap;y.each(function(b){o(a,b)&&(b.dirty(),v=!0)}),v&&p.dirty(),s.updatePayload(p,n);var x=s.getPerformArgs(p,a.block);y.each(function(b){b.perform(x)}),p.perform(x)&&(i=!0)}else d&&d.each(function(b,w){o(a,b)&&b.dirty();var _=s.getPerformArgs(b,a.block);_.skip=!l.performRawSeries&&r.isSeriesFiltered(b.context.model),s.updatePayload(b,n),b.perform(_)&&(i=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=i||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,a){var i=this,s=r.seriesTaskMap,o=r.seriesTaskMap=Xt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(f):l?n.eachRawSeriesByType(l,f):u&&u(n,a).each(f);function f(d){var p=d.uid,v=o.set(p,s&&s.get(p)||Xv({plan:FSe,reset:USe,count:VSe}));v.context={model:d,ecModel:n,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:i},i._pipe(d,v)}},e.prototype._createOverallStageTask=function(t,r,n,a){var i=this,s=r.overallTask=r.overallTask||Xv({reset:ISe});s.context={ecModel:n,api:a,overallReset:t.overallReset,scheduler:i};var o=s.agentStubMap,l=s.agentStubMap=Xt(),u=t.seriesType,f=t.getTargetSeries,d=!0,p=!1,v="";ul(!t.createOnAllSeries,v),u?n.eachRawSeriesByType(u,y):f?f(n,a).each(y):(d=!1,re(n.getSeries(),y));function y(x){var b=x.uid,w=l.set(b,o&&o.get(b)||(p=!0,Xv({reset:BSe,onDirty:zSe})));w.context={model:x,overallProgress:d},w.agent=s,w.__block=d,i._pipe(x,w)}p&&s.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a},e.wrapStageHandler=function(t,r){return rr(t)&&(t={overallReset:t,seriesType:qSe(t)}),t.uid=qS("stageHandler"),r&&(t.visualType=r),t},e})();function ISe(e){e.overallReset(e.ecModel,e.api,e.payload)}function BSe(e){return e.overallProgress&&$Se}function $Se(){this.agent.dirty(),this.getDownstream().dirty()}function zSe(){this.agent&&this.agent.dirty()}function FSe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function USe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Ta(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Rt(t,function(r,n){return _ee(n)}):HSe}var HSe=_ee(0);function _ee(e){return function(t,r){var n=r.data,a=r.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(t,n)}}function VSe(e){return e.data.count()}function qSe(e){J1=null;try{e(kg,Tee)}catch{}return J1}var kg={},Tee={},J1;Cee(kg,OL);Cee(Tee,eee);kg.eachSeriesByType=kg.eachRawSeriesByType=function(e){J1=e};kg.eachComponent=function(e){e.mainType==="series"&&e.subType&&(J1=e.subType)};function Cee(e,t){for(var r in t.prototype)e[r]=_a}var CU=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const GSe={color:CU,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],CU]};var ua="#B9B8CE",NU="#100C2A",Gx=function(){return{axisLine:{lineStyle:{color:ua}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},AU=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Nee={darkMode:!0,color:AU,backgroundColor:NU,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ua},pageTextStyle:{color:ua}},textStyle:{color:ua},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ua}},dataZoom:{borderColor:"#71708A",textStyle:{color:ua},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ua}},timeline:{lineStyle:{color:ua},label:{color:ua},controlStyle:{color:ua,borderColor:ua}},calendar:{itemStyle:{color:NU},dayLabel:{color:ua},monthLabel:{color:ua},yearLabel:{color:ua}},timeAxis:Gx(),logAxis:Gx(),valueAxis:Gx(),categoryAxis:Gx(),line:{symbol:"circle"},graph:{color:AU},gauge:{title:{color:ua},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ua},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Nee.categoryAxis.splitLine.show=!1;var WSe=(function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},a={};if(Pt(t)){var i=Ys(t);r.mainType=i.main||null,r.subType=i.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};re(t,function(l,u){for(var f=!1,d=0;d<s.length;d++){var p=s[d],v=u.lastIndexOf(p);if(v>0&&v===u.length-p.length){var y=u.slice(0,v);y!=="data"&&(r.mainType=y,r[p.toLowerCase()]=l,f=!0)}}o.hasOwnProperty(u)&&(n[u]=l,f=!0),f||(a[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:a}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=r.cptQuery,u=r.dataQuery;return f(l,s,"mainType")&&f(l,s,"subType")&&f(l,s,"index","componentIndex")&&f(l,s,"name")&&f(l,s,"id")&&f(u,i,"name")&&f(u,i,"dataIndex")&&f(u,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,r.otherQuery,a,i));function f(d,p,v,y){return d[v]==null||p[y||v]===d[v]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e})(),KO=["symbol","symbolSize","symbolRotate","symbolOffset"],MU=KO.concat(["symbolKeepAspect"]),KSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},a={},i=!1,s=0;s<KO.length;s++){var o=KO[s],l=e.get(o);rr(l)?(i=!0,a[o]=l):n[o]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(gt({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var u=ln(a);function f(d,p){for(var v=e.getRawValue(p),y=e.getDataParams(p),x=0;x<u.length;x++){var b=u[x];d.setItemVisual(p,b,a[b](v,y))}}return{dataEach:i?f:null}}},YSe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(a,i){for(var s=a.getItemModel(i),o=0;o<MU.length;o++){var l=MU[o],u=s.getShallow(l,!0);u!=null&&a.setItemVisual(i,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function XSe(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function zL(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function Rd(e,t,r,n,a){var i=e+t;r.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=a.selected,f=0;f<u.length;f++)if(u[f].seriesIndex===o){var d=s.getData(),p=wf(d,a.fromActionPayload);r.trigger(i,{type:i,seriesId:s.id,name:wt(p)?d.getName(p[0]):d.getName(p),selected:Pt(l)?l:gt({},l)})}})}function ZSe(e,t,r){e.on("selectchanged",function(n){var a=r.getModel();n.isFromClick?(Rd("map","selectchanged",t,a,n),Rd("pie","selectchanged",t,a,n)):n.fromAction==="select"?(Rd("map","selected",t,a,n),Rd("pie","selected",t,a,n)):n.fromAction==="unselect"&&(Rd("map","unselected",t,a,n),Rd("pie","unselected",t,a,n))})}function Mv(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var QSe=Math.round(Math.random()*9),JSe=typeof Object.defineProperty=="function",e_e=(function(){function e(){this._id="__ec_inner_"+QSe++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return JSe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e})(),t_e=Lr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,a=t.width/2,i=t.height/2;e.moveTo(r,n-i),e.lineTo(r+a,n+i),e.lineTo(r-a,n+i),e.closePath()}}),r_e=Lr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,a=t.width/2,i=t.height/2;e.moveTo(r,n-i),e.lineTo(r+a,n),e.lineTo(r,n+i),e.lineTo(r-a,n),e.closePath()}}),n_e=Lr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,a=t.width/5*3,i=Math.max(a,t.height),s=a/2,o=s*s/(i-s),l=n-i+s+o,u=Math.asin(o/s),f=Math.cos(u)*s,d=Math.sin(u),p=Math.cos(u),v=s*.6,y=s*.7;e.moveTo(r-f,l+o),e.arc(r,l,s,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(r+f-d*v,l+o+p*v,r,n-y,r,n),e.bezierCurveTo(r,n-y,r-f+d*v,l+o+p*v,r-f,l+o),e.closePath()}}),a_e=Lr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,a=t.x,i=t.y,s=n/3*2;e.moveTo(a,i),e.lineTo(a+s,i+r),e.lineTo(a,i+r/4*3),e.lineTo(a-s,i+r),e.lineTo(a,i),e.closePath()}}),i_e={line:fl,rect:dn,roundRect:dn,square:dn,circle:BS,diamond:r_e,pin:n_e,arrow:a_e,triangle:t_e},s_e={line:function(e,t,r,n,a){a.x1=e,a.y1=t+n/2,a.x2=e+r,a.y2=t+n/2},rect:function(e,t,r,n,a){a.x=e,a.y=t,a.width=r,a.height=n},roundRect:function(e,t,r,n,a){a.x=e,a.y=t,a.width=r,a.height=n,a.r=Math.min(r,n)/4},square:function(e,t,r,n,a){var i=Math.min(r,n);a.x=e,a.y=t,a.width=i,a.height=i},circle:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.r=Math.min(r,n)/2},diamond:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.width=r,a.height=n},pin:function(e,t,r,n,a){a.x=e+r/2,a.y=t+n/2,a.width=r,a.height=n},arrow:function(e,t,r,n,a){a.x=e+r/2,a.y=t+n/2,a.width=r,a.height=n},triangle:function(e,t,r,n,a){a.cx=e+r/2,a.cy=t+n/2,a.width=r,a.height=n}},ew={};re(i_e,function(e,t){ew[t]=new e});var o_e=Lr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=z1(e,t,r),a=this.shape;return a&&a.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var a=ew[n];a||(n="rect",a=ew[n]),s_e[n](t.x,t.y,t.width,t.height,a.shape),a.buildPath(e,a.shape,r)}}});function l_e(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function dl(e,t,r,n,a,i,s){var o=e.indexOf("empty")===0;o&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=NJ(e.slice(8),new kr(t,r,n,a),s?"center":"cover"):e.indexOf("path://")===0?l=_L(e.slice(7),{},new kr(t,r,n,a),s?"center":"cover"):l=new o_e({shape:{symbolType:e,x:t,y:r,width:n,height:a}}),l.__isEmptyBrush=o,l.setColor=l_e,i&&l.setColor(i),l}function FL(e){return wt(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function r_(e,t){if(e!=null)return wt(e)||(e=[e,e]),[Cn(e[0],t[0])||0,Cn(sr(e[1],e[0]),t[1])||0]}function Zc(e){return isFinite(e)}function u_e(e,t,r){var n=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,a=a*r.width+r.x,i=i*r.height+r.y,s=s*r.height+r.y),n=Zc(n)?n:0,a=Zc(a)?a:1,i=Zc(i)?i:0,s=Zc(s)?s:0;var o=e.createLinearGradient(n,i,a,s);return o}function c_e(e,t,r){var n=r.width,a=r.height,i=Math.min(n,a),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(s=s*n+r.x,o=o*a+r.y,l=l*i),s=Zc(s)?s:.5,o=Zc(o)?o:.5,l=l>=0&&Zc(l)?l:.5;var u=e.createRadialGradient(s,o,0,s,o,l);return u}function YO(e,t,r){for(var n=t.type==="radial"?c_e(e,t,r):u_e(e,t,r),a=t.colorStops,i=0;i<a.length;i++)n.addColorStop(a[i].offset,a[i].color);return n}function f_e(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function Wx(e){return parseInt(e,10)}function Kx(e,t,r){var n=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var o=document.defaultView.getComputedStyle(e);return(e[a]||Wx(o[n])||Wx(e.style[n]))-(Wx(o[i])||0)-(Wx(o[s])||0)|0}function d_e(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:Jr(e)?[e]:wt(e)?e:null}function Aee(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&d_e(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var a=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;a&&a!==1&&(r=Rt(r,function(i){return i/a}),n/=a)}return[r,n]}var h_e=new Sf(!0);function tw(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function EU(e){return typeof e=="string"&&e!=="none"}function rw(e){var t=e.fill;return t!=null&&t!=="none"}function jU(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function DU(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function XO(e,t,r){var n=eJ(t.image,t.__image,r);if(PS(n)){var a=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(t.x||0,t.y||0),i.rotateSelf(0,0,(t.rotation||0)*Z0e),i.scaleSelf(t.scaleX||1,t.scaleY||1),a.setTransform(i)}return a}}function p_e(e,t,r,n){var a,i=tw(r),s=rw(r),o=r.strokePercent,l=o<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var f=t.path||h_e,d=t.__dirty;if(!n){var p=r.fill,v=r.stroke,y=s&&!!p.colorStops,x=i&&!!v.colorStops,b=s&&!!p.image,w=i&&!!v.image,_=void 0,T=void 0,M=void 0,N=void 0,C=void 0;(y||x)&&(C=t.getBoundingRect()),y&&(_=d?YO(e,p,C):t.__canvasFillGradient,t.__canvasFillGradient=_),x&&(T=d?YO(e,v,C):t.__canvasStrokeGradient,t.__canvasStrokeGradient=T),b&&(M=d||!t.__canvasFillPattern?XO(e,p,t):t.__canvasFillPattern,t.__canvasFillPattern=M),w&&(N=d||!t.__canvasStrokePattern?XO(e,v,t):t.__canvasStrokePattern,t.__canvasStrokePattern=M),y?e.fillStyle=_:b&&(M?e.fillStyle=M:s=!1),x?e.strokeStyle=T:w&&(N?e.strokeStyle=N:i=!1)}var j=t.getGlobalScale();f.setScale(j[0],j[1],t.segmentIgnoreThreshold);var O,P;e.setLineDash&&r.lineDash&&(a=Aee(t),O=a[0],P=a[1]);var R=!0;(u||d&eh)&&(f.setDPR(e.dpr),l?f.setContext(null):(f.setContext(e),R=!1),f.reset(),t.buildPath(f,t.shape,n),f.toStatic(),t.pathUpdated()),R&&f.rebuildPath(e,l?o:1),O&&(e.setLineDash(O),e.lineDashOffset=P),n||(r.strokeFirst?(i&&DU(e,r),s&&jU(e,r)):(s&&jU(e,r),i&&DU(e,r))),O&&e.setLineDash([])}function m_e(e,t,r){var n=t.__image=eJ(r.image,t.__image,t,t.onload);if(!(!n||!PS(n))){var a=r.x||0,i=r.y||0,s=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,f=r.sy||0;e.drawImage(n,u,f,r.sWidth,r.sHeight,a,i,s,o)}else if(r.sx&&r.sy){var u=r.sx,f=r.sy,d=s-u,p=o-f;e.drawImage(n,u,f,d,p,a,i,s,o)}else e.drawImage(n,a,i,s,o)}}function v_e(e,t,r){var n,a=r.text;if(a!=null&&(a+=""),a){e.font=r.font||xf,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var i=void 0,s=void 0;e.setLineDash&&r.lineDash&&(n=Aee(t),i=n[0],s=n[1]),i&&(e.setLineDash(i),e.lineDashOffset=s),r.strokeFirst?(tw(r)&&e.strokeText(a,r.x,r.y),rw(r)&&e.fillText(a,r.x,r.y)):(rw(r)&&e.fillText(a,r.x,r.y),tw(r)&&e.strokeText(a,r.x,r.y)),i&&e.setLineDash([])}}var OU=["shadowBlur","shadowOffsetX","shadowOffsetY"],PU=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Mee(e,t,r,n,a){var i=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){Fa(e,a),i=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?hf.opacity:s}(n||t.blend!==r.blend)&&(i||(Fa(e,a),i=!0),e.globalCompositeOperation=t.blend||hf.blend);for(var o=0;o<OU.length;o++){var l=OU[o];(n||t[l]!==r[l])&&(i||(Fa(e,a),i=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(i||(Fa(e,a),i=!0),e.shadowColor=t.shadowColor||hf.shadowColor),i}function kU(e,t,r,n,a){var i=Rg(t,a.inHover),s=n?null:r&&Rg(r,a.inHover)||{};if(i===s)return!1;var o=Mee(e,i,s,n,a);if((n||i.fill!==s.fill)&&(o||(Fa(e,a),o=!0),EU(i.fill)&&(e.fillStyle=i.fill)),(n||i.stroke!==s.stroke)&&(o||(Fa(e,a),o=!0),EU(i.stroke)&&(e.strokeStyle=i.stroke)),(n||i.opacity!==s.opacity)&&(o||(Fa(e,a),o=!0),e.globalAlpha=i.opacity==null?1:i.opacity),t.hasStroke()){var l=i.lineWidth,u=l/(i.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(o||(Fa(e,a),o=!0),e.lineWidth=u)}for(var f=0;f<PU.length;f++){var d=PU[f],p=d[0];(n||i[p]!==s[p])&&(o||(Fa(e,a),o=!0),e[p]=i[p]||d[1])}return o}function g_e(e,t,r,n,a){return Mee(e,Rg(t,a.inHover),r&&Rg(r,a.inHover),n,a)}function Eee(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function y_e(e,t,r){for(var n=!1,a=0;a<e.length;a++){var i=e[a];n=n||i.isZeroArea(),Eee(t,i),t.beginPath(),i.buildPath(t,i.shape),t.clip()}r.allClipped=n}function x_e(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var RU=1,LU=2,IU=3,BU=4;function b_e(e){var t=rw(e),r=tw(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function Fa(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function Rg(e,t){return t&&e.__hoverStyle||e.style}function jee(e,t){Qc(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Qc(e,t,r,n){var a=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~ci,t.__isRendered=!1;return}var i=t.__clipPaths,s=r.prevElClipPaths,o=!1,l=!1;if((!s||f_e(i,s))&&(s&&s.length&&(Fa(e,r),e.restore(),l=o=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),i&&i.length&&(Fa(e,r),e.save(),y_e(i,e,r),o=!0),r.prevElClipPaths=i),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=r.prevEl;u||(l=o=!0);var f=t instanceof Lr&&t.autoBatch&&b_e(t.style);o||x_e(a,u.transform)?(Fa(e,r),Eee(e,t)):f||Fa(e,r);var d=Rg(t,r.inHover);t instanceof Lr?(r.lastDrawType!==RU&&(l=!0,r.lastDrawType=RU),kU(e,t,u,l,r),(!f||!r.batchFill&&!r.batchStroke)&&e.beginPath(),p_e(e,t,d,f),f&&(r.batchFill=d.fill||"",r.batchStroke=d.stroke||"")):t instanceof H1?(r.lastDrawType!==IU&&(l=!0,r.lastDrawType=IU),kU(e,t,u,l,r),v_e(e,t,d)):t instanceof Gu?(r.lastDrawType!==LU&&(l=!0,r.lastDrawType=LU),g_e(e,t,u,l,r),m_e(e,t,d)):t.getTemporalDisplayables&&(r.lastDrawType!==BU&&(l=!0,r.lastDrawType=BU),w_e(e,t,r)),f&&n&&Fa(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function w_e(e,t,r){var n=t.getDisplayables(),a=t.getTemporalDisplayables();e.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,o;for(s=t.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qc(e,l,i,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var u=0,f=a.length;u<f;u++){var l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qc(e,l,i,u===f-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var DA=new e_e,$U=new R0(100),zU=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ZO(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),a=n.painter.type==="svg";e.dirty&&DA.delete(e);var i=DA.get(e);if(i)return i;var s=Rr(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=a?1:1/r,DA.set(e,o),e.dirty=!1,o;function l(u){for(var f=[r],d=!0,p=0;p<zU.length;++p){var v=s[zU[p]];if(v!=null&&!wt(v)&&!Pt(v)&&!Jr(v)&&typeof v!="boolean"){d=!1;break}f.push(v)}var y;if(d){y=f.join(",")+(a?"-svg":"");var x=$U.get(y);x&&(a?u.svgElement=x:u.image=x)}var b=Oee(s.dashArrayX),w=S_e(s.dashArrayY),_=Dee(s.symbol),T=__e(b),M=Pee(w),N=!a&&Cp.createCanvas(),C=a&&{tag:"g",attrs:{},key:"dcl",children:[]},j=P(),O;N&&(N.width=j.width*r,N.height=j.height*r,O=N.getContext("2d")),R(),d&&$U.put(y,N||C),u.image=N,u.svgElement=C,u.svgWidth=j.width,u.svgHeight=j.height;function P(){for(var k=1,L=0,I=T.length;L<I;++L)k=eF(k,T[L]);for(var $=1,L=0,I=_.length;L<I;++L)$=eF($,_[L].length);k*=$;var F=M*T.length*_.length;return{width:Math.max(1,Math.min(k,s.maxTileWidth)),height:Math.max(1,Math.min(F,s.maxTileHeight))}}function R(){O&&(O.clearRect(0,0,N.width,N.height),s.backgroundColor&&(O.fillStyle=s.backgroundColor,O.fillRect(0,0,N.width,N.height)));for(var k=0,L=0;L<w.length;++L)k+=w[L];if(k<=0)return;for(var I=-M,$=0,F=0,z=0;I<j.height;){if($%2===0){for(var V=F/2%_.length,q=0,W=0,Y=0;q<j.width*2;){for(var H=0,L=0;L<b[z].length;++L)H+=b[z][L];if(H<=0)break;if(W%2===0){var U=(1-s.symbolSize)*.5,K=q+b[z][W]*U,ee=I+w[$]*U,ae=b[z][W]*s.symbolSize,xe=w[$]*s.symbolSize,ke=Y/2%_[V].length;Je(K,ee,ae,xe,_[V][ke])}q+=b[z][W],++Y,++W,W===b[z].length&&(W=0)}++z,z===b.length&&(z=0)}I+=w[$],++F,++$,$===w.length&&($=0)}function Je(be,Te,De,J,it){var Ue=a?1:r,ft=dl(it,be*Ue,Te*Ue,De*Ue,J*Ue,s.color,s.symbolKeepAspect);if(a){var le=n.painter.renderOneToVNode(ft);le&&C.children.push(le)}else jee(O,ft)}}}}function Dee(e){if(!e||e.length===0)return[["rect"]];if(Pt(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!Pt(e[r])){t=!1;break}if(t)return Dee([e]);for(var n=[],r=0;r<e.length;++r)Pt(e[r])?n.push([e[r]]):n.push(e[r]);return n}function Oee(e){if(!e||e.length===0)return[[0,0]];if(Jr(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!Jr(e[n])){r=!1;break}if(r)return Oee([e]);for(var a=[],n=0;n<e.length;++n)if(Jr(e[n])){var t=Math.ceil(e[n]);a.push([t,t])}else{var t=Rt(e[n],function(o){return Math.ceil(o)});t.length%2===1?a.push(t.concat(t)):a.push(t)}return a}function S_e(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(Jr(e)){var t=Math.ceil(e);return[t,t]}var r=Rt(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function __e(e){return Rt(e,function(t){return Pee(t)})}function Pee(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function T_e(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=ZO(o,t)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=ZO(a,t)}}})}var hs=new Es,kee={};function C_e(e,t){kee[e]=t}function N_e(e){return kee[e]}var A_e=1,M_e=800,E_e=900,j_e=1e3,D_e=2e3,O_e=5e3,Ree=1e3,P_e=1100,UL=2e3,Lee=3e3,k_e=4e3,n_=4500,R_e=4600,L_e=5e3,I_e=6e3,Iee=7e3,B_e={PROCESSOR:{FILTER:j_e,SERIES_FILTER:M_e,STATISTIC:O_e},VISUAL:{LAYOUT:Ree,PROGRESSIVE_LAYOUT:P_e,GLOBAL:UL,CHART:Lee,POST_CHART_LAYOUT:R_e,COMPONENT:k_e,BRUSH:L_e,CHART_ITEM:n_,ARIA:I_e,DECAL:Iee}},la="__flagInMainProcess",ka="__pendingUpdate",OA="__needsUpdateStatus",FU=/^[a-zA-Z0-9_]+$/,PA="__connectUpdateStatus",UU=0,$_e=1,z_e=2;function Bee(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return zee(this,e,t)}}function $ee(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return zee(this,e,t)}}function zee(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),Es.prototype[t].apply(e,r)}var Fee=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Es),Uee=Fee.prototype;Uee.on=$ee("on");Uee.off=$ee("off");var Ld,kA,Yx,Yl,RA,LA,IA,Km,Ym,HU,VU,BA,qU,Xx,GU,Hee,Ai,WU,Vee=(function(e){Bt(t,e);function t(r,n,a){var i=e.call(this,new WSe)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},Pt(n)&&(n=qee[n]),i._dom=r;var s="canvas",o="auto",l=!1;a.ssr;var u=i._zr=Qz(r,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:sr(a.useDirtyRect,l),useCoarsePointer:sr(a.useCoarsePointer,o),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=$L(er(u.flush,u),17),n=ur(n),n&&ree(n,!0),i._theme=n,i._locale=twe(a.locale||RJ),i._coordSysMgr=new PL;var f=i._api=GU(i);function d(p,v){return p.__prio-v.__prio}return Jb(aw,d),Jb(QO,d),i._scheduler=new See(i,f,QO,aw),i._messageCenter=new Fee,i._initEvents(),i.resize=er(i.resize,i),u.animation.on("frame",i._onframe,i),HU(u,i),VU(u,i),mO(i),i}return t.prototype._onframe=function(){if(!this._disposed){WU(this);var r=this._scheduler;if(this[ka]){var n=this[ka].silent;this[la]=!0;try{Ld(this),Yl.update.call(this,null,this[ka].updateParams)}catch(l){throw this[la]=!1,this[ka]=null,l}this._zr.flush(),this[la]=!1,this[ka]=null,Km.call(this,n),Ym.call(this,n)}else if(r.unfinished){var a=A_e,i=this._model,s=this._api;r.unfinished=!1;do{var o=+new Date;r.performSeriesTasks(i),r.performDataProcessorTasks(i),LA(this,i),r.performVisualTasks(i),Xx(this,this._model,s,"remain",{}),a-=+new Date-o}while(a>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,a){if(!this[la]){if(this._disposed){this.id;return}var i,s,o;if(Vt(n)&&(a=n.lazyUpdate,i=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[la]=!0,!this._model||n){var l=new Mwe(this._api),u=this._theme,f=this._model=new OL;f.scheduler=this._scheduler,f.ssr=this._ssr,f.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:s},JO);var d={seriesTransition:o,optionChanged:!0};if(a)this[ka]={silent:i,updateParams:d},this[la]=!1,this.getZr().wakeUp();else{try{Ld(this),Yl.update.call(this,null,d)}catch(p){throw this[ka]=null,this[la]=!1,p}this._ssr||this._zr.flush(),this[ka]=null,this[la]=!1,Km.call(this,i),Ym.call(this,i)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Yt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Yt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return re(n,function(a){a.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,a=this._model,i=[],s=this;re(n,function(l){a.eachComponent({mainType:l},function(u){var f=s._componentsMap[u.__viewId];f.group.ignore||(i.push(f),f.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return re(i,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",a=this.group,i=Math.min,s=Math.max,o=1/0;if(KU[a]){var l=o,u=o,f=-o,d=-o,p=[],v=r&&r.pixelRatio||this.getDevicePixelRatio();re(Qv,function(T,M){if(T.group===a){var N=n?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(ur(r)),C=T.getDom().getBoundingClientRect();l=i(C.left,l),u=i(C.top,u),f=s(C.right,f),d=s(C.bottom,d),p.push({dom:N,left:C.left,top:C.top})}}),l*=v,u*=v,f*=v,d*=v;var y=f-l,x=d-u,b=Cp.createCanvas(),w=Qz(b,{renderer:n?"svg":"canvas"});if(w.resize({width:y,height:x}),n){var _="";return re(p,function(T){var M=T.left-l,N=T.top-u;_+='<g transform="translate('+M+","+N+')">'+T.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=_,r.connectedBackgroundColor&&w.painter.setBackgroundColor(r.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return r.connectedBackgroundColor&&w.add(new dn({shape:{x:0,y:0,width:y,height:x},style:{fill:r.connectedBackgroundColor}})),re(p,function(T){var M=new Gu({style:{x:T.left*v-l,y:T.top*v-u,image:T.dom}});w.add(M)}),w.refreshImmediately(),b.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return RA(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return RA(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var a=this._model,i,s=aA(a,r);return re(s,function(o,l){l.indexOf("Models")>=0&&re(o,function(u){var f=u.coordinateSystem;if(f&&f.containPoint)i=i||!!f.containPoint(n);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(i=i||d.containPoint(n,u))}},this)},this),!!i},t.prototype.getVisual=function(r,n){var a=this._model,i=aA(a,r,{defaultMainType:"series"}),s=i.seriesModel,o=s.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?o.indexOfRawIndex(i.dataIndex):null;return l!=null?XSe(o,l,n):zL(o,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;re(F_e,function(n){var a=function(i){var s=r.getModel(),o=i.target,l,u=n==="globalout";if(u?l={}:o&&Mv(o,function(y){var x=wr(y);if(x&&x.dataIndex!=null){var b=x.dataModel||s.getSeriesByIndex(x.seriesIndex);return l=b&&b.getDataParams(x.dataIndex,x.dataType,o)||{},!0}else if(x.eventData)return l=gt({},x.eventData),!0},!0),l){var f=l.componentType,d=l.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=l.seriesIndex);var p=f&&d!=null&&s.getComponent(f,d),v=p&&r[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];l.event=i,l.type=n,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:p,view:v},r.trigger(n,l)}};a.zrEventfulCallAtLast=!0,r._zr.on(n,a,r)}),re(Zv,function(n,a){r._messageCenter.on(a,function(i){this.trigger(a,i)},r)}),re(["selectchanged"],function(n){r._messageCenter.on(n,function(a){this.trigger(n,a)},r)}),ZSe(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&ZQ(this.getDom(),VL,"");var n=this,a=n._api,i=n._model;re(n._componentsViews,function(s){s.dispose(i,a)}),re(n._chartsViews,function(s){s.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Qv[n.id]},t.prototype.resize=function(r){if(!this[la]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=r&&r.silent;this[ka]&&(i==null&&(i=this[ka].silent),a=!0,this[ka]=null),this[la]=!0;try{a&&Ld(this),Yl.update.call(this,{type:"resize",animation:gt({duration:0},r&&r.animation)})}catch(s){throw this[la]=!1,s}this[la]=!1,Km.call(this,i),Ym.call(this,i)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(Vt(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!eP[r]){var a=eP[r](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=gt({},r);return n.type=Zv[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(Vt(n)||(n={silent:!!n}),!!nw[r.type]&&this._model){if(this[la]){this._pendingActions.push(r);return}var a=n.silent;IA.call(this,r,a);var i=n.flush;i?this._zr.flush():i!==!1&&Yt.browser.weChat&&this._throttledZrFlush(),Km.call(this,a),Ym.call(this,a)}},t.prototype.updateLabelLayout=function(){hs.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);i.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){Ld=function(d){var p=d._scheduler;p.restorePipelines(d._model),p.prepareStageTasks(),kA(d,!0),kA(d,!1),p.plan()},kA=function(d,p){for(var v=d._model,y=d._scheduler,x=p?d._componentsViews:d._chartsViews,b=p?d._componentsMap:d._chartsMap,w=d._zr,_=d._api,T=0;T<x.length;T++)x[T].__alive=!1;p?v.eachComponent(function(C,j){C!=="series"&&M(j)}):v.eachSeries(M);function M(C){var j=C.__requireNewView;C.__requireNewView=!1;var O="_ec_"+C.id+"_"+C.type,P=!j&&b[O];if(!P){var R=Ys(C.type),k=p?Qi.getClass(R.main,R.sub):Ss.getClass(R.sub);P=new k,P.init(v,_),b[O]=P,x.push(P),w.add(P.group)}C.__viewId=P.__id=O,P.__alive=!0,P.__model=C,P.group.__ecComponentInfo={mainType:C.mainType,index:C.componentIndex},!p&&y.prepareView(P,C,v,_)}for(var T=0;T<x.length;){var N=x[T];N.__alive?T++:(!p&&N.renderTask.dispose(),w.remove(N.group),N.dispose(v,_),x.splice(T,1),b[N.__id]===N&&delete b[N.__id],N.__id=N.group.__ecComponentInfo=null)}},Yx=function(d,p,v,y,x){var b=d._model;if(b.setUpdatePayload(v),!y){re([].concat(d._componentsViews).concat(d._chartsViews),N);return}var w={};w[y+"Id"]=v[y+"Id"],w[y+"Index"]=v[y+"Index"],w[y+"Name"]=v[y+"Name"];var _={mainType:y,query:w};x&&(_.subType=x);var T=v.excludeSeriesId,M;T!=null&&(M=Xt(),re(Ta(T),function(C){var j=no(C,null);j!=null&&M.set(j,!0)})),b&&b.eachComponent(_,function(C){var j=M&&M.get(C.id)!=null;if(!j)if(MF(v))if(C instanceof lo)v.type===pf&&!v.notBlur&&!C.get(["emphasis","disabled"])&&zbe(C,v,d._api);else{var O=xL(C.mainType,C.componentIndex,v.name,d._api),P=O.focusSelf,R=O.dispatchers;v.type===pf&&P&&!v.notBlur&&LO(C.mainType,C.componentIndex,d._api),R&&re(R,function(k){v.type===pf?Ng(k):Ag(k)})}else BO(v)&&C instanceof lo&&(Hbe(C,v,d._api),NF(C),Ai(d))},d),b&&b.eachComponent(_,function(C){var j=M&&M.get(C.id)!=null;j||N(d[y==="series"?"_chartsMap":"_componentsMap"][C.__viewId])},d);function N(C){C&&C.__alive&&C[p]&&C[p](C.__model,b,d._api,v)}},Yl={prepareAndUpdate:function(d){Ld(this),Yl.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,p){var v=this._model,y=this._api,x=this._zr,b=this._coordSysMgr,w=this._scheduler;if(v){v.setUpdatePayload(d),w.restoreData(v,d),w.performSeriesTasks(v),b.create(v,y),w.performDataProcessorTasks(v,d),LA(this,v),b.update(v,y),r(v),w.performVisualTasks(v,d),BA(this,v,y,d,p);var _=v.get("backgroundColor")||"transparent",T=v.get("darkMode");x.setBackgroundColor(_),T!=null&&T!=="auto"&&x.setDarkMode(T),hs.trigger("afterupdate",v,y)}},updateTransform:function(d){var p=this,v=this._model,y=this._api;if(v){v.setUpdatePayload(d);var x=[];v.eachComponent(function(w,_){if(w!=="series"){var T=p.getViewOfComponentModel(_);if(T&&T.__alive)if(T.updateTransform){var M=T.updateTransform(_,v,y,d);M&&M.update&&x.push(T)}else x.push(T)}});var b=Xt();v.eachSeries(function(w){var _=p._chartsMap[w.__viewId];if(_.updateTransform){var T=_.updateTransform(w,v,y,d);T&&T.update&&b.set(w.uid,1)}else b.set(w.uid,1)}),r(v),this._scheduler.performVisualTasks(v,d,{setDirty:!0,dirtyMap:b}),Xx(this,v,y,d,{},b),hs.trigger("afterupdate",v,y)}},updateView:function(d){var p=this._model;p&&(p.setUpdatePayload(d),Ss.markUpdateMethod(d,"updateView"),r(p),this._scheduler.performVisualTasks(p,d,{setDirty:!0}),BA(this,p,this._api,d,{}),hs.trigger("afterupdate",p,this._api))},updateVisual:function(d){var p=this,v=this._model;v&&(v.setUpdatePayload(d),v.eachSeries(function(y){y.getData().clearAllVisual()}),Ss.markUpdateMethod(d,"updateVisual"),r(v),this._scheduler.performVisualTasks(v,d,{visualType:"visual",setDirty:!0}),v.eachComponent(function(y,x){if(y!=="series"){var b=p.getViewOfComponentModel(x);b&&b.__alive&&b.updateVisual(x,v,p._api,d)}}),v.eachSeries(function(y){var x=p._chartsMap[y.__viewId];x.updateVisual(y,v,p._api,d)}),hs.trigger("afterupdate",v,this._api))},updateLayout:function(d){Yl.update.call(this,d)}},RA=function(d,p,v,y){if(d._disposed){d.id;return}for(var x=d._model,b=d._coordSysMgr.getCoordinateSystems(),w,_=aA(x,v),T=0;T<b.length;T++){var M=b[T];if(M[p]&&(w=M[p](x,_,y))!=null)return w}},LA=function(d,p){var v=d._chartsMap,y=d._scheduler;p.eachSeries(function(x){y.updateStreamModes(x,v[x.__viewId])})},IA=function(d,p){var v=this,y=this.getModel(),x=d.type,b=d.escapeConnect,w=nw[x],_=w.actionInfo,T=(_.update||"update").split(":"),M=T.pop(),N=T[0]!=null&&Ys(T[0]);this[la]=!0;var C=[d],j=!1;d.batch&&(j=!0,C=Rt(d.batch,function($){return $=Rr(gt({},$),d),$.batch=null,$}));var O=[],P,R=BO(d),k=MF(d);if(k&&vJ(this._api),re(C,function($){if(P=w.action($,v._model,v._api),P=P||gt({},$),P.type=_.event||P.type,O.push(P),k){var F=hL(d),z=F.queryOptionMap,V=F.mainTypeSpecified,q=V?z.keys()[0]:"series";Yx(v,M,$,q),Ai(v)}else R?(Yx(v,M,$,"series"),Ai(v)):N&&Yx(v,M,$,N.main,N.sub)}),M!=="none"&&!k&&!R&&!N)try{this[ka]?(Ld(this),Yl.update.call(this,d),this[ka]=null):Yl[M].call(this,d)}catch($){throw this[la]=!1,$}if(j?P={type:_.event||x,escapeConnect:b,batch:O}:P=O[0],this[la]=!1,!p){var L=this._messageCenter;if(L.trigger(P.type,P),R){var I={type:"selectchanged",escapeConnect:b,selected:Vbe(y),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};L.trigger(I.type,I)}}},Km=function(d){for(var p=this._pendingActions;p.length;){var v=p.shift();IA.call(this,v,d)}},Ym=function(d){!d&&this.trigger("updated")},HU=function(d,p){d.on("rendered",function(v){p.trigger("rendered",v),d.animation.isFinished()&&!p[ka]&&!p._scheduler.unfinished&&!p._pendingActions.length&&p.trigger("finished")})},VU=function(d,p){d.on("mouseover",function(v){var y=v.target,x=Mv(y,IO);x&&(Fbe(x,v,p._api),Ai(p))}).on("mouseout",function(v){var y=v.target,x=Mv(y,IO);x&&(Ube(x,v,p._api),Ai(p))}).on("click",function(v){var y=v.target,x=Mv(y,function(_){return wr(_).dataIndex!=null},!0);if(x){var b=x.selected?"unselect":"select",w=wr(x);p._api.dispatchAction({type:b,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function r(d){d.clearColorPalette(),d.eachSeries(function(p){p.clearColorPalette()})}function n(d){var p=[],v=[],y=!1;if(d.eachComponent(function(_,T){var M=T.get("zlevel")||0,N=T.get("z")||0,C=T.getZLevelKey();y=y||!!C,(_==="series"?v:p).push({zlevel:M,z:N,idx:T.componentIndex,type:_,key:C})}),y){var x=p.concat(v),b,w;Jb(x,function(_,T){return _.zlevel===T.zlevel?_.z-T.z:_.zlevel-T.zlevel}),re(x,function(_){var T=d.getComponent(_.type,_.idx),M=_.zlevel,N=_.key;b!=null&&(M=Math.max(b,M)),N?(M===b&&N!==w&&M++,w=N):w&&(M===b&&M++,w=""),b=M,T.setZLevel(M)})}}BA=function(d,p,v,y,x){n(p),qU(d,p,v,y,x),re(d._chartsViews,function(b){b.__alive=!1}),Xx(d,p,v,y,x),re(d._chartsViews,function(b){b.__alive||b.remove(p,v)})},qU=function(d,p,v,y,x,b){re(b||d._componentsViews,function(w){var _=w.__model;u(_,w),w.render(_,p,v,y),o(_,w),f(_,w)})},Xx=function(d,p,v,y,x,b){var w=d._scheduler;x=gt(x||{},{updatedSeries:p.getSeries()}),hs.trigger("series:beforeupdate",p,v,x);var _=!1;p.eachSeries(function(T){var M=d._chartsMap[T.__viewId];M.__alive=!0;var N=M.renderTask;w.updatePayload(N,y),u(T,M),b&&b.get(T.uid)&&N.dirty(),N.perform(w.getPerformArgs(N))&&(_=!0),M.group.silent=!!T.get("silent"),s(T,M),NF(T)}),w.unfinished=_||w.unfinished,hs.trigger("series:layoutlabels",p,v,x),hs.trigger("series:transition",p,v,x),p.eachSeries(function(T){var M=d._chartsMap[T.__viewId];o(T,M),f(T,M)}),i(d,p),hs.trigger("series:afterupdate",p,v,x)},Ai=function(d){d[OA]=!0,d.getZr().wakeUp()},WU=function(d){d[OA]&&(d.getZr().storage.traverse(function(p){Wv(p)||a(p)}),d[OA]=!1)};function a(d){for(var p=[],v=d.currentStates,y=0;y<v.length;y++){var x=v[y];x==="emphasis"||x==="blur"||x==="select"||p.push(x)}d.selected&&d.states.select&&p.push("select"),d.hoverState===LS&&d.states.emphasis?p.push("emphasis"):d.hoverState===RS&&d.states.blur&&p.push("blur"),d.useStates(p)}function i(d,p){var v=d._zr,y=v.storage,x=0;y.traverse(function(b){b.isGroup||x++}),x>p.get("hoverLayerThreshold")&&!Yt.node&&!Yt.worker&&p.eachSeries(function(b){if(!b.preventUsingHoverLayer){var w=d._chartsMap[b.__viewId];w.__alive&&w.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function s(d,p){var v=d.get("blendMode")||null;p.eachRendered(function(y){y.isGroup||(y.style.blend=v)})}function o(d,p){if(!d.preventAutoZ){var v=d.get("z")||0,y=d.get("zlevel")||0;p.eachRendered(function(x){return l(x,v,y,-1/0),!0})}}function l(d,p,v,y){var x=d.getTextContent(),b=d.getTextGuideLine(),w=d.isGroup;if(w)for(var _=d.childrenRef(),T=0;T<_.length;T++)y=Math.max(l(_[T],p,v,y),y);else d.z=p,d.zlevel=v,y=Math.max(d.z2,y);if(x&&(x.z=p,x.zlevel=v,isFinite(y)&&(x.z2=y+2)),b){var M=d.textGuideLineConfig;b.z=p,b.zlevel=v,isFinite(y)&&(b.z2=y+(M&&M.showAbove?1:-1))}return y}function u(d,p){p.eachRendered(function(v){if(!Wv(v)){var y=v.getTextContent(),x=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),y&&y.stateTransition&&(y.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function f(d,p){var v=d.getModel("stateAnimation"),y=d.isAnimationEnabled(),x=v.get("duration"),b=x>0?{duration:x,delay:v.get("delay"),easing:v.get("easing")}:null;p.eachRendered(function(w){if(w.states&&w.states.emphasis){if(Wv(w))return;if(w instanceof Lr&&Ybe(w),w.__dirty){var _=w.prevStates;_&&w.useStates(_)}if(y){w.stateTransition=b;var T=w.getTextContent(),M=w.getTextGuideLine();T&&(T.stateTransition=b),M&&(M.stateTransition=b)}w.__dirty&&a(w)}})}GU=function(d){return new((function(p){Bt(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(y){for(;y;){var x=y.__ecComponentInfo;if(x!=null)return d._model.getComponent(x.mainType,x.index);y=y.parent}},v.prototype.enterEmphasis=function(y,x){Ng(y,x),Ai(d)},v.prototype.leaveEmphasis=function(y,x){Ag(y,x),Ai(d)},v.prototype.enterBlur=function(y){dJ(y),Ai(d)},v.prototype.leaveBlur=function(y){yL(y),Ai(d)},v.prototype.enterSelect=function(y){hJ(y),Ai(d)},v.prototype.leaveSelect=function(y){pJ(y),Ai(d)},v.prototype.getModel=function(){return d.getModel()},v.prototype.getViewOfComponentModel=function(y){return d.getViewOfComponentModel(y)},v.prototype.getViewOfSeriesModel=function(y){return d.getViewOfSeriesModel(y)},v})(eee))(d)},Hee=function(d){function p(v,y){for(var x=0;x<v.length;x++){var b=v[x];b[PA]=y}}re(Zv,function(v,y){d._messageCenter.on(y,function(x){if(KU[d.group]&&d[PA]!==UU){if(x&&x.escapeConnect)return;var b=d.makeActionFromEvent(x),w=[];re(Qv,function(_){_!==d&&_.group===d.group&&w.push(_)}),p(w,UU),re(w,function(_){_[PA]!==$_e&&_.dispatchAction(b)}),p(w,z_e)}})})}})(),t})(Es),HL=Vee.prototype;HL.on=Bee("on");HL.off=Bee("off");HL.one=function(e,t,r){var n=this;function a(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];t&&t.apply&&t.apply(this,i),n.off(e,a)}this.on.call(this,e,a,r)};var F_e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var nw={},Zv={},QO=[],JO=[],aw=[],qee={},eP={},Qv={},KU={},U_e=+new Date-0,VL="_echarts_instance_";function Gee(e,t,r){var n=!(r&&r.ssr);if(n){var a=qL(e);if(a)return a}var i=new Vee(e,t,r);return i.id="ec_"+U_e++,Qv[i.id]=i,n&&ZQ(e,VL,i.id),Hee(i),hs.trigger("afterinit",i),i}function qL(e){return Qv[Exe(e,VL)]}function Wee(e,t){qee[e]=t}function Kee(e){Cr(JO,e)<0&&JO.push(e)}function Yee(e,t){WL(QO,e,t,D_e)}function H_e(e){GL("afterinit",e)}function V_e(e){GL("afterupdate",e)}function GL(e,t){hs.on(e,t)}function Lf(e,t,r){rr(t)&&(r=t,t="");var n=Vt(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!Zv[t]&&(ul(FU.test(n)&&FU.test(t)),nw[n]||(nw[n]={action:r,actionInfo:e}),Zv[t]=n)}function q_e(e,t){PL.register(e,t)}function G_e(e,t){WL(aw,e,t,Ree,"layout")}function If(e,t){WL(aw,e,t,Lee,"visual")}var YU=[];function WL(e,t,r,n,a){if((rr(t)||Vt(t))&&(r=t,t=n),!(Cr(YU,r)>=0)){YU.push(r);var i=See.wrapStageHandler(r,a);i.__prio=t,i.__raw=r,e.push(i)}}function Xee(e,t){eP[e]=t}function W_e(e,t,r){var n=N_e("registerMap");n&&n(e,t,r)}var K_e=nSe;If(UL,PSe);If(n_,kSe);If(n_,RSe);If(UL,KSe);If(n_,YSe);If(Iee,T_e);Kee(ree);Yee(E_e,zwe);Xee("default",LSe);Lf({type:pf,event:pf,update:pf},_a);Lf({type:i1,event:i1,update:i1},_a);Lf({type:Vv,event:Vv,update:Vv},_a);Lf({type:s1,event:s1,update:s1},_a);Lf({type:qv,event:qv,update:qv},_a);Wee("light",GSe);Wee("dark",Nee);function Xm(e){return e==null?0:e.length||1}function XU(e){return e}var Y_e=(function(){function e(t,r,n,a,i,s){this._old=t,this._new=r,this._oldKeyGetter=n||XU,this._newKeyGetter=a||XU,this.context=i,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},a=new Array(t.length),i=new Array(r.length);this._initIndexMap(t,null,a,"_oldKeyGetter"),this._initIndexMap(r,n,i,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=a[s],l=n[o],u=Xm(l);if(u>1){var f=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(f,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(i,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},a={},i=[],s=[];this._initIndexMap(t,n,i,"_oldKeyGetter"),this._initIndexMap(r,a,s,"_newKeyGetter");for(var o=0;o<i.length;o++){var l=i[o],u=n[l],f=a[l],d=Xm(u),p=Xm(f);if(d>1&&p===1)this._updateManyToOne&&this._updateManyToOne(f,u),a[l]=null;else if(d===1&&p>1)this._updateOneToMany&&this._updateOneToMany(f,u),a[l]=null;else if(d===1&&p===1)this._update&&this._update(f,u),a[l]=null;else if(d>1&&p>1)this._updateManyToMany&&this._updateManyToMany(f,u),a[l]=null;else if(d>1)for(var v=0;v<d;v++)this._remove&&this._remove(u[v]);else this._remove&&this._remove(u)}this._performRestAdd(s,a)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var a=t[n],i=r[a],s=Xm(i);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(i[o]);else s===1&&this._add&&this._add(i);r[a]=null}},e.prototype._initIndexMap=function(t,r,n,a){for(var i=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[a](t[s],s);if(i||(n[s]=o),!!r){var l=r[o],u=Xm(l);u===0?(r[o]=s,i&&n.push(o)):u===1?r[o]=[l,s]:l.push(s)}}},e})(),X_e=(function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e})();function Z_e(e,t){var r={},n=r.encode={},a=Xt(),i=[],s=[],o={};re(e.dimensions,function(p){var v=e.getDimensionInfo(p),y=v.coordDim;if(y){var x=v.coordDimIndex;$A(n,y)[x]=p,v.isExtraCoord||(a.set(y,1),J_e(v.type)&&(i[0]=p),$A(o,y)[x]=e.getDimensionIndex(v.name)),v.defaultTooltip&&s.push(p)}YJ.each(function(b,w){var _=$A(n,w),T=v.otherDims[w];T!=null&&T!==!1&&(_[T]=v.name)})});var l=[],u={};a.each(function(p,v){var y=n[v];u[v]=y[0],l=l.concat(y)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=Rt(l,function(p){return e.getDimensionInfo(p).storeDimIndex}),r.encodeFirstDimNotExtra=u;var f=n.label;f&&f.length&&(i=f.slice());var d=n.tooltip;return d&&d.length?s=d.slice():s.length||(s=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=s,r.userOutput=new X_e(o,t),r}function $A(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Q_e(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function J_e(e){return!(e==="ordinal"||e==="time")}var u1=(function(){function e(t){this.otherDims={},t!=null&&gt(this,t)}return e})(),eTe=un(),tTe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Zee=(function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=ete(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return sr(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=iee(this.source),n=!tte(t),a="",i=[],s=0,o=0;s<t;s++){var l=void 0,u=void 0,f=void 0,d=this.dimensions[o];if(d&&d.storeDimIndex===s)l=r?d.name:null,u=d.type,f=d.ordinalMeta,o++;else{var p=this.getSourceDimension(s);p&&(l=r?p.name:null,u=p.type)}i.push({property:l,type:u,ordinalMeta:f}),r&&l!=null&&(!d||!d.isCalculationCoord)&&(a+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=tTe[u]||"f",f&&(a+=f.uid),a+="$"}var v=this.source,y=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:i,hash:y}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===r)i.isCalculationCoord||(a=i.name),n++;else{var s=this.getSourceDimension(r);s&&(a=s.name)}t.push(a)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e})();function Qee(e){return e instanceof Zee}function Jee(e){for(var t=Xt(),r=0;r<(e||[]).length;r++){var n=e[r],a=Vt(n)?n.name:n;a!=null&&t.get(a)==null&&t.set(a,r)}return t}function ete(e){var t=eTe(e);return t.dimNameMap||(t.dimNameMap=Jee(e.dimensionsDefine))}function tte(e){return e>30}var Zm=Vt,Xl=Rt,rTe=typeof Int32Array>"u"?Array:Int32Array,nTe="e\0\0",ZU=-1,aTe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],iTe=["_approximateExtent"],QU,Zx,Qm,Jm,zA,ev,FA,Eh=(function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,a=!1;Qee(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,n=t),n=n||["x","y"];for(var i={},s=[],o={},l=!1,u={},f=0;f<n.length;f++){var d=n[f],p=Pt(d)?new u1({name:d}):d instanceof u1?d:new u1(d),v=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=v,p.coordDimIndex=0);var y=p.otherDims=p.otherDims||{};s.push(v),i[v]=p,u[v]!=null&&(l=!0),p.createInvertedIndices&&(o[v]=[]),y.itemName===0&&(this._nameDimIdx=f),y.itemId===0&&(this._idDimIdx=f),a&&(p.storeDimIndex=f)}if(this.dimensions=s,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=o,this._dimOmitted){var x=this._dimIdxToName=Xt();re(s,function(b){x.set(i[b].storeDimIndex,b)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var a=this._schema.getSourceDimension(r);if(a)return a.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(Jr(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var a=n.encode[t];return a?a[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var a=this,i;if(t instanceof VO&&(i=t),!i){var s=this.dimensions,o=kL(t)||qa(t)?new see(t,s.length):t;i=new VO;var l=Xl(s,function(u){return{type:a._dimInfos[u].type,property:u}});i.initData(o,l,n)}this._store=i,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=Z_e(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),a=n.start,i=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var o=a;o<i;o++){var l=o-a;this._nameList[o]=r[l],s&&FA(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var a=this._dimInfos[r[n]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==ju&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,s=this._idList,o=a.getSource().sourceFormat,l=o===rs;if(l&&!a.pure)for(var u=[],f=t;f<r;f++){var d=a.getItem(f,u);if(!this.hasItemOption&&gxe(d)&&(this.hasItemOption=!0),d){var p=d.name;i[f]==null&&p!=null&&(i[f]=no(p,null));var v=d.id;s[f]==null&&v!=null&&(s[f]=no(v,null))}}if(this._shouldMakeIdFromName())for(var f=t;f<r;f++)FA(this,f);QU(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){Zm(t)?gt(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=Qm(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),a=this._store.getOrdinalMeta(t);return a?a.categories[n]:n},e.prototype.getId=function(t){return Zx(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,a=this._dimInfos[t];if(a)return n.get(a.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,a=this._dimInfos[t];if(a)return n.getByRawIndex(a.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,a=this._store;return wt(t)?a.getValues(Xl(t,function(i){return n._getStoreDimIndex(i)}),r):a.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,a=r.length;n<a;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],a=n&&n[r];return a==null||isNaN(a)?ZU:a},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){rr(t)&&(n=r,r=t,t=[]);var a=n||this,i=Xl(Jm(t),this._getStoreDimIndex,this);this._store.each(i,a?er(r,a):r)},e.prototype.filterSelf=function(t,r,n){rr(t)&&(n=r,r=t,t=[]);var a=n||this,i=Xl(Jm(t),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?er(r,a):r),this},e.prototype.selectRange=function(t){var r=this,n={},a=ln(t);return re(a,function(i){var s=r._getStoreDimIndex(i);n[s]=t[i]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){rr(t)&&(n=r,r=t,t=[]),n=n||this;var a=[];return this.each(t,function(){a.push(r&&r.apply(this,arguments))},n),a},e.prototype.map=function(t,r,n,a){var i=n||a||this,s=Xl(Jm(t),this._getStoreDimIndex,this),o=ev(this);return o._store=this._store.map(s,i?er(r,i):r),o},e.prototype.modify=function(t,r,n,a){var i=n||a||this,s=Xl(Jm(t),this._getStoreDimIndex,this);this._store.modify(s,i?er(r,i):r)},e.prototype.downSample=function(t,r,n,a){var i=ev(this);return i._store=this._store.downSample(this._getStoreDimIndex(t),r,n,a),i},e.prototype.minmaxDownSample=function(t,r){var n=ev(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=ev(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new yn(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new Y_e(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Zx(t,n)},function(n){return Zx(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},Zm(t)?gt(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],a=n&&n[r];return a??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,a=n[t];a||(a=n[t]={});var i=a[r];return i==null&&(i=this.getVisual(r),wt(i)?i=i.slice():Zm(i)&&(i=gt({},i)),a[r]=i),i},e.prototype.setItemVisual=function(t,r,n){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,Zm(r)?gt(a,r):a[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){Zm(t)?gt(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?gt(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;jbe(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){re(this._graphicEls,function(n,a){n&&t&&t.call(r,n,a)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Xl(this.dimensions,this._getDimInfo,this),this.hostModel)),zA(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];rr(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var a=n.apply(this,arguments);return r.apply(this,[a].concat(tL(arguments)))})},e.internalField=(function(){QU=function(t){var r=t._invertedIndicesMap;re(r,function(n,a){var i=t._dimInfos[a],s=i.ordinalMeta,o=t._store;if(s){n=r[a]=new rTe(s.categories.length);for(var l=0;l<n.length;l++)n[l]=ZU;for(var l=0;l<o.count();l++)n[o.get(i.storeDimIndex,l)]=l}})},Qm=function(t,r,n){return no(t._getCategory(r,n),null)},Zx=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=Qm(t,t._idDimIdx,r)),n==null&&(n=nTe+r),n},Jm=function(t){return wt(t)||(t=t!=null?[t]:[]),t},ev=function(t){var r=new e(t._schema?t._schema:Xl(t.dimensions,t._getDimInfo,t),t.hostModel);return zA(r,t),r},zA=function(t,r){re(aTe.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,re(iTe,function(n){t[n]=ur(r[n])}),t._calculationInfo=gt({},r._calculationInfo)},FA=function(t,r){var n=t._nameList,a=t._idList,i=t._nameDimIdx,s=t._idDimIdx,o=n[r],l=a[r];if(o==null&&i!=null&&(n[r]=o=Qm(t,i,r)),l==null&&s!=null&&(a[r]=l=Qm(t,s,r)),l==null&&o!=null){var u=t._nameRepeatCount,f=u[o]=(u[o]||0)+1;l=o,f>1&&(l+="__ec__"+f),a[r]=l}}})(),e})();function sTe(e,t){kL(e)||(e=nee(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],a=Xt(),i=[],s=lTe(e,r,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&tte(s),l=n===e.dimensionsDefine,u=l?ete(e):Jee(n),f=t.encodeDefine;!f&&t.encodeDefaulter&&(f=t.encodeDefaulter(e,s));for(var d=Xt(f),p=new fee(s),v=0;v<p.length;v++)p[v]=-1;function y(P){var R=p[P];if(R<0){var k=n[P],L=Vt(k)?k:{name:k},I=new u1,$=L.name;$!=null&&u.get($)!=null&&(I.name=I.displayName=$),L.type!=null&&(I.type=L.type),L.displayName!=null&&(I.displayName=L.displayName);var F=i.length;return p[P]=F,I.storeDimIndex=P,i.push(I),I}return i[R]}if(!o)for(var v=0;v<s;v++)y(v);d.each(function(P,R){var k=Ta(P).slice();if(k.length===1&&!Pt(k[0])&&k[0]<0){d.set(R,!1);return}var L=d.set(R,[]);re(k,function(I,$){var F=Pt(I)?u.get(I):I;F!=null&&F<s&&(L[$]=F,b(y(F),R,$))})});var x=0;re(r,function(P){var R,k,L,I;if(Pt(P))R=P,I={};else{I=P,R=I.name;var $=I.ordinalMeta;I.ordinalMeta=null,I=gt({},I),I.ordinalMeta=$,k=I.dimsDef,L=I.otherDims,I.name=I.coordDim=I.coordDimIndex=I.dimsDef=I.otherDims=null}var F=d.get(R);if(F!==!1){if(F=Ta(F),!F.length)for(var z=0;z<(k&&k.length||1);z++){for(;x<s&&y(x).coordDim!=null;)x++;x<s&&F.push(x++)}re(F,function(V,q){var W=y(V);if(l&&I.type!=null&&(W.type=I.type),b(Rr(W,I),R,q),W.name==null&&k){var Y=k[q];!Vt(Y)&&(Y={name:Y}),W.name=W.displayName=Y.name,W.defaultTooltip=Y.defaultTooltip}L&&Rr(W.otherDims,L)})}});function b(P,R,k){YJ.get(R)!=null?P.otherDims[R]=k:(P.coordDim=R,P.coordDimIndex=k,a.set(R,!0))}var w=t.generateCoord,_=t.generateCoordCount,T=_!=null;_=w?_||1:0;var M=w||"value";function N(P){P.name==null&&(P.name=P.coordDim)}if(o)re(i,function(P){N(P)}),i.sort(function(P,R){return P.storeDimIndex-R.storeDimIndex});else for(var C=0;C<s;C++){var j=y(C),O=j.coordDim;O==null&&(j.coordDim=uTe(M,a,T),j.coordDimIndex=0,(!w||_<=0)&&(j.isExtraCoord=!0),_--),N(j),j.type==null&&(JJ(e,C)===ii.Must||j.isExtraCoord&&(j.otherDims.itemName!=null||j.otherDims.seriesName!=null))&&(j.type="ordinal")}return oTe(i),new Zee({source:e,dimensions:i,fullDimensionCount:s,dimensionOmitted:o})}function oTe(e){for(var t=Xt(),r=0;r<e.length;r++){var n=e[r],a=n.name,i=t.get(a)||0;i>0&&(n.name=a+(i-1)),i++,t.set(a,i)}}function lTe(e,t,r,n){var a=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return re(t,function(i){var s;Vt(i)&&(s=i.dimsDef)&&(a=Math.max(a,s.length))}),a}function uTe(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var cTe=(function(){function e(t){this.coordSysDims=[],this.axisMap=Xt(),this.categoryAxisMap=Xt(),this.coordSysName=t}return e})();function fTe(e){var t=e.get("coordinateSystem"),r=new cTe(t),n=dTe[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var dTe={cartesian2d:function(e,t,r,n){var a=e.getReferringComponents("xAxis",Ha).models[0],i=e.getReferringComponents("yAxis",Ha).models[0];t.coordSysDims=["x","y"],r.set("x",a),r.set("y",i),Id(a)&&(n.set("x",a),t.firstCategoryDimIndex=0),Id(i)&&(n.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var a=e.getReferringComponents("singleAxis",Ha).models[0];t.coordSysDims=["single"],r.set("single",a),Id(a)&&(n.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var a=e.getReferringComponents("polar",Ha).models[0],i=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",i),r.set("angle",s),Id(i)&&(n.set("radius",i),t.firstCategoryDimIndex=0),Id(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var a=e.ecModel,i=a.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=i.dimensions.slice();re(i.parallelAxisIndex,function(o,l){var u=a.getComponent("parallelAxis",o),f=s[l];r.set(f,u),Id(u)&&(n.set(f,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function Id(e){return e.get("type")==="category"}function hTe(e,t,r){r=r||{};var n=r.byIndex,a=r.stackedCoordDimension,i,s,o;pTe(t)?i=t:(s=t.schema,i=s.dimensions,o=t.store);var l=!!(e&&e.get("stack")),u,f,d,p;if(re(i,function(_,T){Pt(_)&&(i[T]=_={name:_}),l&&!_.isExtraCoord&&(!n&&!u&&_.ordinalMeta&&(u=_),!f&&_.type!=="ordinal"&&_.type!=="time"&&(!a||a===_.coordDim)&&(f=_))}),f&&!n&&!u&&(n=!0),f){d="__\0ecstackresult_"+e.id,p="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var v=f.coordDim,y=f.type,x=0;re(i,function(_){_.coordDim===v&&x++});var b={name:d,coordDim:v,coordDimIndex:x,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},w={name:p,coordDim:p,coordDimIndex:x+1,type:y,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};s?(o&&(b.storeDimIndex=o.ensureCalculationDimension(p,y),w.storeDimIndex=o.ensureCalculationDimension(d,y)),s.appendCalculationDimension(b),s.appendCalculationDimension(w)):(i.push(b),i.push(w))}return{stackedDimension:f&&f.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:p,stackResultDimension:d}}function pTe(e){return!Qee(e.schema)}function Nf(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function rte(e,t){return Nf(e,t)?e.getCalculationInfo("stackResultDimension"):t}function mTe(e,t){var r=e.get("coordinateSystem"),n=PL.get(r),a;return t&&t.coordSysDims&&(a=Rt(t.coordSysDims,function(i){var s={name:i},o=t.axisMap.get(i);if(o){var l=o.get("type");s.type=Q_e(l)}return s})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function vTe(e,t,r){var n,a;return r&&re(e,function(i,s){var o=i.coordDim,l=r.categoryAxisMap.get(o);l&&(n==null&&(n=s),i.ordinalMeta=l.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(e[n].otherDims.itemName=0),n}function KL(e,t,r){r=r||{};var n=t.getSourceManager(),a,i=!1;a=n.getSource(),i=a.sourceFormat===rs;var s=fTe(t),o=mTe(t,s),l=r.useEncodeDefaulter,u=rr(l)?l:l?zr(mwe,o,t):null,f={coordDimensions:o,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!i},d=sTe(a,f),p=vTe(d.dimensions,r.createInvertedIndices,s),v=i?null:n.getSharedDataStore(d),y=hTe(t,{schema:d,store:v}),x=new Eh(d,t);x.setCalculationInfo(y);var b=p!=null&&gTe(a)?function(w,_,T,M){return M===p?T:this.defaultDimValueGetter(w,_,T,M)}:null;return x.hasItemOption=!1,x.initData(i?a:v,null,b),x}function gTe(e){if(e.sourceFormat===rs){var t=yTe(e.data||[]);return!wt(I0(t))}}function yTe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var vo=(function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e})();OS(vo);var xTe=0,tP=(function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++xTe}return e.createByAxisModel=function(t){var r=t.option,n=r.data,a=n&&Rt(n,bTe);return new e({categories:a,needCollect:!a,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!Pt(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var a=this._getOrCreateMap();return r=a.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,a.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Xt(this.categories))},e})();function bTe(e){return Vt(e)&&e.value!=null?e.value:e+""}function rP(e){return e.type==="interval"||e.type==="log"}function wTe(e,t,r,n){var a={},i=e[1]-e[0],s=a.interval=GQ(i/t);r!=null&&s<r&&(s=a.interval=r),n!=null&&s>n&&(s=a.interval=n);var o=a.intervalPrecision=nte(s),l=a.niceTickExtent=[An(Math.ceil(e[0]/s)*s,o),An(Math.floor(e[1]/s)*s,o)];return STe(l,e),a}function UA(e){var t=Math.pow(10,fL(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,An(r*t)}function nte(e){return Ks(e)+2}function JU(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function STe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),JU(e,0,t),JU(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function a_(e,t){return e>=t[0]&&e<=t[1]}function i_(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function s_(e,t){return e*(t[1]-t[0])+t[0]}var YL=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new tP({})),wt(a)&&(a=new tP({categories:Rt(a,function(i){return Vt(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:Pt(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),a_(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),i_(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(s_(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,a=n[0];a<=n[1];)r.push({value:a}),a++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];a[s]=u,i[u]=s}for(var f=0;s<o;++s){for(;i[f]!=null;)f++;a.push(f),i[f]=s}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(vo);vo.registerClass(YL);var Bc=An,Dp=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return a_(r,this._extent)},t.prototype.normalize=function(r){return i_(r,this._extent)},t.prototype.scale=function(r){return s_(r,this._extent)},t.prototype.setExtent=function(r,n){var a=this._extent;isNaN(r)||(a[0]=parseFloat(r)),isNaN(n)||(a[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=nte(r)},t.prototype.getTicks=function(r){var n=this._interval,a=this._extent,i=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;a[0]<i[0]&&(r?o.push({value:Bc(i[0]-n,s)}):o.push({value:a[0]}));for(var u=i[0];u<=i[1]&&(o.push({value:u}),u=Bc(u+n,s),u!==o[o.length-1].value);)if(o.length>l)return[];var f=o.length?o[o.length-1].value:i[1];return a[1]>f&&(r?o.push({value:Bc(f+n,s)}):o.push({value:a[1]})),o},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),a=[],i=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],u=0,f=[],d=o.value-l.value,p=d/r;u<r-1;){var v=Bc(l.value+(u+1)*p);v>i[0]&&v<i[1]&&f.push(v),u++}a.push(f)}return a},t.prototype.getLabel=function(r,n){if(r==null)return"";var a=n&&n.precision;a==null?a=Ks(r.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=Bc(r.value,a,!0);return qJ(i)},t.prototype.calcNiceTicks=function(r,n,a){r=r||5;var i=this._extent,s=i[1]-i[0];if(isFinite(s)){s<0&&(s=-s,i.reverse());var o=wTe(i,r,n,a);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);r.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(n[0]=Bc(Math.floor(n[0]/s)*s)),r.fixMax||(n[1]=Bc(Math.ceil(n[1]/s)*s))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t})(vo);vo.registerClass(Dp);var ate=typeof Float32Array<"u",_Te=ate?Float32Array:Array;function Xo(e){return wt(e)?ate?new Float32Array(e):e:new _Te(e)}var TTe="__ec_stack_";function ite(e){return e.get("stack")||TTe+e.seriesIndex}function XL(e){return e.dim+e.index}function ste(e,t){var r=[];return t.eachSeriesByType(e,function(n){lte(n)&&r.push(n)}),r}function CTe(e){var t={};re(e,function(l){var u=l.coordinateSystem,f=u.getBaseAxis();if(!(f.type!=="time"&&f.type!=="value"))for(var d=l.getData(),p=f.dim+"_"+f.index,v=d.getDimensionIndex(d.mapDimension(f.dim)),y=d.getStore(),x=0,b=y.count();x<b;++x){var w=y.get(v,x);t[p]?t[p].push(w):t[p]=[w]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];if(a){a.sort(function(l,u){return l-u});for(var i=null,s=1;s<a.length;++s){var o=a[s]-a[s-1];o>0&&(i=i===null?o:Math.min(i,o))}r[n]=i}}return r}function ote(e){var t=CTe(e),r=[];return re(e,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),s=i.getExtent(),o;if(i.type==="category")o=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,u=t[l],f=Math.abs(s[1]-s[0]),d=i.scale.getExtent(),p=Math.abs(d[1]-d[0]);o=u?f/p*u:f}else{var v=n.getData();o=Math.abs(s[1]-s[0])/v.count()}var y=Cn(n.get("barWidth"),o),x=Cn(n.get("barMaxWidth"),o),b=Cn(n.get("barMinWidth")||(ute(n)?.5:1),o),w=n.get("barGap"),_=n.get("barCategoryGap");r.push({bandWidth:o,barWidth:y,barMaxWidth:x,barMinWidth:b,barGap:w,barCategoryGap:_,axisKey:XL(i),stackId:ite(n)})}),NTe(r)}function NTe(e){var t={};re(e,function(n,a){var i=n.axisKey,s=n.bandWidth,o=t[i]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;t[i]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var f=n.barWidth;f&&!l[u].width&&(l[u].width=f,f=Math.min(o.remainedWidth,f),o.remainedWidth-=f);var d=n.barMaxWidth;d&&(l[u].maxWidth=d);var p=n.barMinWidth;p&&(l[u].minWidth=p);var v=n.barGap;v!=null&&(o.gap=v);var y=n.barCategoryGap;y!=null&&(o.categoryGap=y)});var r={};return re(t,function(n,a){r[a]={};var i=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=ln(i).length;o=Math.max(35-l*4,15)+"%"}var u=Cn(o,s),f=Cn(n.gap,1),d=n.remainedWidth,p=n.autoWidthCount,v=(d-u)/(p+(p-1)*f);v=Math.max(v,0),re(i,function(w){var _=w.maxWidth,T=w.minWidth;if(w.width){var M=w.width;_&&(M=Math.min(M,_)),T&&(M=Math.max(M,T)),w.width=M,d-=M+f*M,p--}else{var M=v;_&&_<M&&(M=Math.min(_,d)),T&&T>M&&(M=T),M!==v&&(w.width=M,d-=M+f*M,p--)}}),v=(d-u)/(p+(p-1)*f),v=Math.max(v,0);var y=0,x;re(i,function(w,_){w.width||(w.width=v),x=w,y+=w.width*(1+f)}),x&&(y-=x.width*f);var b=-y/2;re(i,function(w,_){r[a][_]=r[a][_]||{bandWidth:s,offset:b,width:w.width},b+=w.width*(1+f)})}),r}function ATe(e,t,r){if(e&&t){var n=e[XL(t)];return n}}function MTe(e,t){var r=ste(e,t),n=ote(r);re(r,function(a){var i=a.getData(),s=a.coordinateSystem,o=s.getBaseAxis(),l=ite(a),u=n[XL(o)][l],f=u.offset,d=u.width;i.setLayout({bandWidth:u.bandWidth,offset:f,size:d})})}function ETe(e){return{seriesType:e,plan:BL(),reset:function(t){if(lte(t)){var r=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),s=r.getDimensionIndex(r.mapDimension(i.dim)),o=r.getDimensionIndex(r.mapDimension(a.dim)),l=t.get("showBackground",!0),u=r.mapDimension(i.dim),f=r.getCalculationInfo("stackResultDimension"),d=Nf(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),p=i.isHorizontal(),v=jTe(a,i),y=ute(t),x=t.get("barMinHeight")||0,b=f&&r.getDimensionIndex(f),w=r.getLayout("size"),_=r.getLayout("offset");return{progress:function(T,M){for(var N=T.count,C=y&&Xo(N*3),j=y&&l&&Xo(N*3),O=y&&Xo(N),P=n.master.getRect(),R=p?P.width:P.height,k,L=M.getStore(),I=0;(k=T.next())!=null;){var $=L.get(d?b:s,k),F=L.get(o,k),z=v,V=void 0;d&&(V=+$-L.get(s,k));var q=void 0,W=void 0,Y=void 0,H=void 0;if(p){var U=n.dataToPoint([$,F]);if(d){var K=n.dataToPoint([V,F]);z=K[0]}q=z,W=U[1]+_,Y=U[0]-z,H=w,Math.abs(Y)<x&&(Y=(Y<0?-1:1)*x)}else{var U=n.dataToPoint([F,$]);if(d){var K=n.dataToPoint([F,V]);z=K[1]}q=U[0]+_,W=z,Y=w,H=U[1]-z,Math.abs(H)<x&&(H=(H<=0?-1:1)*x)}y?(C[I]=q,C[I+1]=W,C[I+2]=p?Y:H,j&&(j[I]=p?P.x:q,j[I+1]=p?W:P.y,j[I+2]=R),O[k]=k):M.setItemLayout(k,{x:q,y:W,width:Y,height:H}),I+=3}y&&M.setLayout({largePoints:C,largeDataIndices:O,largeBackgroundPoints:j,valueAxisHorizontal:p})}}}}}}function lte(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function ute(e){return e.pipelineContext&&e.pipelineContext.large}function jTe(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var DTe=function(e,t,r,n){for(;r<n;){var a=r+n>>>1;e[a][1]<t?r=a+1:n=a}return r},cte=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return WS(r.value,qF[iwe(Ah(this._minLevelUnit))]||qF.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,a){var i=this.getSetting("useUTC"),s=this.getSetting("locale");return swe(r,n,a,s,i)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,a=[];if(!r)return a;a.push({value:n[0],level:0});var i=this.getSetting("useUTC"),s=BTe(this._minLevelUnit,this._approxInterval,i,n);return a=a.concat(s),a.push({value:n[1],level:0}),a},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Ui,n[1]+=Ui),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-Ui}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,a){r=r||10;var i=this._extent,s=i[1]-i[0];this._approxInterval=s/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var o=Qx.length,l=Math.min(DTe(Qx,this._approxInterval,0,o),o-1);this._interval=Qx[l][1],this._minLevelUnit=Qx[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return Jr(r)?r:+cl(r)},t.prototype.contain=function(r){return a_(this.parse(r),this._extent)},t.prototype.normalize=function(r){return i_(this.parse(r),this._extent)},t.prototype.scale=function(r){return s_(r,this._extent)},t.type="time",t})(Dp),Qx=[["second",AL],["minute",ML],["hour",Kv],["quarter-day",Kv*6],["half-day",Kv*12],["day",Ui*1.2],["half-week",Ui*3.5],["week",Ui*7],["month",Ui*31],["quarter",Ui*95],["half-year",VF/2],["year",VF]];function OTe(e,t,r,n){var a=cl(t),i=cl(r),s=function(y){return GF(a,y,n)===GF(i,y,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},f=function(){return u()&&s("hour")},d=function(){return f()&&s("minute")},p=function(){return d()&&s("second")},v=function(){return p()&&s("millisecond")};switch(e){case"year":return o();case"month":return l();case"day":return u();case"hour":return f();case"minute":return d();case"second":return p();case"millisecond":return v()}}function PTe(e,t){return e/=Ui,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function kTe(e){var t=30*Ui;return e/=t,e>6?6:e>3?3:e>2?2:1}function RTe(e){return e/=Kv,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function e8(e,t){return e/=t?ML:AL,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function LTe(e){return GQ(e)}function ITe(e,t,r){var n=new Date(e);switch(Ah(t)){case"year":case"month":n[$J(r)](0);case"day":n[zJ(r)](1);case"hour":n[FJ(r)](0);case"minute":n[UJ(r)](0);case"second":n[HJ(r)](0),n[VJ(r)](0)}return n.getTime()}function BTe(e,t,r,n){var a=1e4,i=IJ,s=0;function o(R,k,L,I,$,F,z){for(var V=new Date(k),q=k,W=V[I]();q<L&&q<=n[1];)z.push({value:q}),W+=R,V[$](W),q=V.getTime();z.push({value:q,notAdd:!0})}function l(R,k,L){var I=[],$=!k.length;if(!OTe(Ah(R),n[0],n[1],r)){$&&(k=[{value:ITe(new Date(n[0]),R,r)},{value:n[1]}]);for(var F=0;F<k.length-1;F++){var z=k[F].value,V=k[F+1].value;if(z!==V){var q=void 0,W=void 0,Y=void 0,H=!1;switch(R){case"year":q=Math.max(1,Math.round(t/Ui/365)),W=EL(r),Y=owe(r);break;case"half-year":case"quarter":case"month":q=kTe(t),W=Mh(r),Y=$J(r);break;case"week":case"half-week":case"day":q=PTe(t),W=KS(r),Y=zJ(r),H=!0;break;case"half-day":case"quarter-day":case"hour":q=RTe(t),W=jg(r),Y=FJ(r);break;case"minute":q=e8(t,!0),W=YS(r),Y=UJ(r);break;case"second":q=e8(t,!1),W=XS(r),Y=HJ(r);break;case"millisecond":q=LTe(t),W=ZS(r),Y=VJ(r);break}o(q,z,V,W,Y,H,I),R==="year"&&L.length>1&&F===0&&L.unshift({value:L[0].value-q})}}for(var F=0;F<I.length;F++)L.push(I[F]);return I}}for(var u=[],f=[],d=0,p=0,v=0;v<i.length&&s++<a;++v){var y=Ah(i[v]);if(awe(i[v])){l(i[v],u[u.length-1]||[],f);var x=i[v+1]?Ah(i[v+1]):null;if(y!==x){if(f.length){p=d,f.sort(function(R,k){return R.value-k.value});for(var b=[],w=0;w<f.length;++w){var _=f[w].value;(w===0||f[w-1].value!==_)&&(b.push(f[w]),_>=n[0]&&_<=n[1]&&d++)}var T=(n[1]-n[0])/t;if(d>T*1.5&&p>T/1.5||(u.push(b),d>T||e===i[v]))break}f=[]}}}for(var M=Fn(Rt(u,function(R){return Fn(R,function(k){return k.value>=n[0]&&k.value<=n[1]&&!k.notAdd})}),function(R){return R.length>0}),N=[],C=M.length-1,v=0;v<M.length;++v)for(var j=M[v],O=0;O<j.length;++O)N.push({value:j[O].value,level:C-v});N.sort(function(R,k){return R.value-k.value});for(var P=[],v=0;v<N.length;++v)(v===0||N[v].value!==N[v-1].value)&&P.push(N[v]);return P}vo.registerClass(cte);var t8=vo.prototype,Jv=Dp.prototype,$Te=An,zTe=Math.floor,FTe=Math.ceil,Jx=Math.pow,ls=Math.log,ZL=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new Dp,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,a=this._extent,i=n.getExtent(),s=Jv.getTicks.call(this,r);return Rt(s,function(o){var l=o.value,u=An(Jx(this.base,l));return u=l===a[0]&&this._fixMin?eb(u,i[0]):u,u=l===a[1]&&this._fixMax?eb(u,i[1]):u,{value:u}},this)},t.prototype.setExtent=function(r,n){var a=ls(this.base);r=ls(Math.max(0,r))/a,n=ls(Math.max(0,n))/a,Jv.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=t8.getExtent.call(this);n[0]=Jx(r,n[0]),n[1]=Jx(r,n[1]);var a=this._originalScale,i=a.getExtent();return this._fixMin&&(n[0]=eb(n[0],i[0])),this._fixMax&&(n[1]=eb(n[1],i[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=ls(r[0])/ls(n),r[1]=ls(r[1])/ls(n),t8.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,a=n[1]-n[0];if(!(a===1/0||a<=0)){var i=pxe(a),s=r/a*i;for(s<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[An(FTe(n[0]/i)*i),An(zTe(n[1]/i)*i)];this._interval=i,this._niceExtent=o}},t.prototype.calcNiceExtent=function(r){Jv.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=ls(r)/ls(this.base),a_(r,this._extent)},t.prototype.normalize=function(r){return r=ls(r)/ls(this.base),i_(r,this._extent)},t.prototype.scale=function(r){return r=s_(r,this._extent),Jx(this.base,r)},t.type="log",t})(vo),fte=ZL.prototype;fte.getMinorTicks=Jv.getMinorTicks;fte.getLabel=Jv.getLabel;function eb(e,t){return $Te(e,Ks(t))}vo.registerClass(ZL);var UTe=(function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var i=r.get("min",!0);i==null&&(i=r.get("startValue",!0));var s=this._modelMinRaw=i;rr(s)?this._modelMinNum=tb(t,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=tb(t,s));var o=this._modelMaxRaw=r.get("max",!0);if(rr(o)?this._modelMaxNum=tb(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=tb(t,o)),a)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=wt(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[zu(u[0],1),zu(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,s=t?null:n-r||Math.abs(r),o=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,f=l!=null;o==null&&(o=t?a?0:NaN:r-i[0]*s),l==null&&(l=t?a?a-1:NaN:n+i[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=D1(o)||D1(l)||t&&!a;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!f&&(l=0));var p=this._determinedMin,v=this._determinedMax;return p!=null&&(o=p,u=!0),v!=null&&(l=v,f=!0),{min:o,max:l,minFixed:u,maxFixed:f,isBlank:d}},e.prototype.modifyDataMinMax=function(t,r){this[VTe[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=HTe[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e})(),HTe={min:"_determinedMin",max:"_determinedMax"},VTe={min:"_dataMin",max:"_dataMax"};function dte(e,t,r){var n=e.rawExtentInfo;return n||(n=new UTe(e,t,r),e.rawExtentInfo=n,n)}function tb(e,t){return t==null?null:D1(t)?NaN:e.parse(t)}function hte(e,t){var r=e.type,n=dte(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var a=n.min,i=n.max,s=t.ecModel;if(s&&r==="time"){var o=ste("bar",s),l=!1;if(re(o,function(d){l=l||d.getBaseAxis()===t.axis}),l){var u=ote(o),f=qTe(a,i,t,u);a=f.min,i=f.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function qTe(e,t,r,n){var a=r.axis.getExtent(),i=Math.abs(a[1]-a[0]),s=ATe(n,r.axis);if(s===void 0)return{min:e,max:t};var o=1/0;re(s,function(v){o=Math.min(v.offset,o)});var l=-1/0;re(s,function(v){l=Math.max(v.offset+v.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,f=t-e,d=1-(o+l)/i,p=f/d-f;return t+=p*(l/u),e-=p*(o/u),{min:e,max:t}}function r8(e,t){var r=t,n=hte(e,r),a=n.extent,i=r.get("splitNumber");e instanceof ZL&&(e.base=r.get("logBase"));var s=e.type,o=r.get("interval"),l=s==="interval"||s==="time";e.setExtent(a[0],a[1]),e.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),o!=null&&e.setInterval&&e.setInterval(o)}function GTe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new YL({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new cte({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(vo.getClass(t)||Dp)}}function WTe(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function Op(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?(function(n){return function(a,i){return e.scale.getFormattedLabel(a,i,n)}})(t):Pt(t)?(function(n){return function(a){var i=e.scale.getLabel(a),s=n.replace("{value}",i??"");return s}})(t):rr(t)?(function(n){return function(a,i){return r!=null&&(i=a.value-r),n(QL(e,a),i,a.level!=null?{level:a.level}:null)}})(t):function(n){return e.scale.getLabel(n)}}function QL(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function KTe(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,a,i=r.getExtent();r instanceof YL?a=r.count():(n=r.getTicks(),a=n.length);var s=e.getLabelModel(),o=Op(e),l,u=1;a>40&&(u=Math.ceil(a/40));for(var f=0;f<a;f+=u){var d=n?n[f]:{value:i[0]+f},p=o(d,f),v=s.getTextRect(p),y=YTe(v,s.get("rotate")||0);l?l.union(y):l=y}return l}}function YTe(e,t){var r=t*Math.PI/180,n=e.width,a=e.height,i=n*Math.abs(Math.cos(r))+Math.abs(a*Math.sin(r)),s=n*Math.abs(Math.sin(r))+Math.abs(a*Math.cos(r)),o=new kr(e.x,e.y,i,s);return o}function JL(e){var t=e.get("interval");return t??"auto"}function pte(e){return e.type==="category"&&JL(e.getLabelModel())===0}function mte(e,t){var r={};return re(e.mapDimensionsAll(t),function(n){r[rte(e,n)]=!0}),ln(r)}function XTe(e,t,r){t&&re(mte(t,r),function(n){var a=t.getApproximateExtent(n);a[0]<e[0]&&(e[0]=a[0]),a[1]>e[1]&&(e[1]=a[1])})}var ZTe=(function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e})(),n8=[],QTe={registerPreprocessor:Kee,registerProcessor:Yee,registerPostInit:H_e,registerPostUpdate:V_e,registerUpdateLifecycle:GL,registerAction:Lf,registerCoordinateSystem:q_e,registerLayout:G_e,registerVisual:If,registerTransform:K_e,registerLoading:Xee,registerMap:W_e,registerImpl:C_e,PRIORITY:B_e,ComponentModel:Pr,ComponentView:Qi,SeriesModel:lo,ChartView:Ss,registerComponentModel:function(e){Pr.registerClass(e)},registerComponentView:function(e){Qi.registerClass(e)},registerSeriesModel:function(e){lo.registerClass(e)},registerChartView:function(e){Ss.registerClass(e)},registerSubTypeDefaulter:function(e,t){Pr.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){uxe(e,t)}};function Cs(e){if(wt(e)){re(e,function(t){Cs(t)});return}Cr(n8,e)>=0||(n8.push(e),rr(e)&&(e={install:e}),e.install(QTe))}var Lg=un();function vte(e,t){var r=Rt(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function JTe(e){var t=e.getLabelModel().get("customValues");if(t){var r=Op(e),n=e.scale.getExtent(),a=vte(e,t),i=Fn(a,function(s){return s>=n[0]&&s<=n[1]});return{labels:Rt(i,function(s){var o={value:s};return{formattedLabel:r(o),rawLabel:e.scale.getLabel(o),tickValue:s}})}}return e.type==="category"?tCe(e):nCe(e)}function eCe(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),a=vte(e,r);return{ticks:Fn(a,function(i){return i>=n[0]&&i<=n[1]})}}return e.type==="category"?rCe(e,t):{ticks:Rt(e.scale.getTicks(),function(i){return i.value})}}function tCe(e){var t=e.getLabelModel(),r=gte(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function gte(e,t){var r=yte(e,"labels"),n=JL(t),a=xte(r,n);if(a)return a;var i,s;return rr(n)?i=Ste(e,n):(s=n==="auto"?aCe(e):n,i=wte(e,s)),bte(r,n,{labels:i,labelCategoryInterval:s})}function rCe(e,t){var r=yte(e,"ticks"),n=JL(t),a=xte(r,n);if(a)return a;var i,s;if((!t.get("show")||e.scale.isBlank())&&(i=[]),rr(n))i=Ste(e,n,!0);else if(n==="auto"){var o=gte(e,e.getLabelModel());s=o.labelCategoryInterval,i=Rt(o.labels,function(l){return l.tickValue})}else s=n,i=wte(e,s,!0);return bte(r,n,{ticks:i,tickCategoryInterval:s})}function nCe(e){var t=e.scale.getTicks(),r=Op(e);return{labels:Rt(t,function(n,a){return{level:n.level,formattedLabel:r(n,a),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function yte(e,t){return Lg(e)[t]||(Lg(e)[t]=[])}function xte(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function bte(e,t,r){return e.push({key:t,value:r}),r}function aCe(e){var t=Lg(e).autoInterval;return t??(Lg(e).autoInterval=e.calculateCategoryInterval())}function iCe(e){var t=sCe(e),r=Op(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,i=a.getExtent(),s=a.count();if(i[1]-i[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=i[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),f=Math.abs(u*Math.cos(n)),d=Math.abs(u*Math.sin(n)),p=0,v=0;l<=i[1];l+=o){var y=0,x=0,b=uL(r({value:l}),t.font,"center","top");y=b.width*1.3,x=b.height*1.3,p=Math.max(p,y,7),v=Math.max(v,x,7)}var w=p/f,_=v/d;isNaN(w)&&(w=1/0),isNaN(_)&&(_=1/0);var T=Math.max(0,Math.floor(Math.min(w,_))),M=Lg(e.model),N=e.getExtent(),C=M.lastAutoInterval,j=M.lastTickCount;return C!=null&&j!=null&&Math.abs(C-T)<=1&&Math.abs(j-s)<=1&&C>T&&M.axisExtent0===N[0]&&M.axisExtent1===N[1]?T=C:(M.lastTickCount=s,M.lastAutoInterval=T,M.axisExtent0=N[0],M.axisExtent1=N[1]),T}function sCe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function wte(e,t,r){var n=Op(e),a=e.scale,i=a.getExtent(),s=e.getLabelModel(),o=[],l=Math.max((t||0)+1,1),u=i[0],f=a.count();u!==0&&l>1&&f/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=pte(e),p=s.get("showMinLabel")||d,v=s.get("showMaxLabel")||d;p&&u!==i[0]&&x(i[0]);for(var y=u;y<=i[1];y+=l)x(y);v&&y-l!==i[1]&&x(i[1]);function x(b){var w={value:b};o.push(r?b:{formattedLabel:n(w),rawLabel:a.getLabel(w),tickValue:b})}return o}function Ste(e,t,r){var n=e.scale,a=Op(e),i=[];return re(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;t(s.value,o)&&i.push(r?l:{formattedLabel:a(s),rawLabel:o,tickValue:l})}),i}var a8=[0,1],oCe=(function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return t>=n&&t<=a},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return VQ(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type==="ordinal"&&(n=n.slice(),i8(n,a.count())),fa(t,a8,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),i8(n,a.count()));var i=fa(t,n,a8,r);return this.scale.scale(i)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=eCe(this,r),a=n.ticks,i=Rt(a,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=r.get("alignWithLabel");return lCe(this,i,s,t.clamp),i},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),a=Rt(n,function(i){return Rt(i,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return a},e.prototype.getViewLabels=function(){return JTe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/n},e.prototype.calculateCategoryInterval=function(){return iCe(this)},e})();function i8(e,t){var r=e[1]-e[0],n=t,a=r/n/2;e[0]+=a,e[1]-=a}function lCe(e,t,r,n){var a=t.length;if(!e.onBand||r||!a)return;var i=e.getExtent(),s,o;if(a===1)t[0].coord=i[0],s=t[1]={coord:i[1],tickValue:t[0].tickValue};else{var l=t[a-1].tickValue-t[0].tickValue,u=(t[a-1].coord-t[0].coord)/l;re(t,function(v){v.coord-=u/2});var f=e.scale.getExtent();o=1+f[1]-t[a-1].tickValue,s={coord:t[a-1].coord+u*o,tickValue:f[1]+1},t.push(s)}var d=i[0]>i[1];p(t[0].coord,i[0])&&(n?t[0].coord=i[0]:t.shift()),n&&p(i[0],t[0].coord)&&t.unshift({coord:i[0]}),p(i[1],s.coord)&&(n?s.coord=i[1]:t.pop()),n&&p(s.coord,i[1])&&t.push({coord:i[1]});function p(v,y){return v=An(v),y=An(y),d?v>y:v<y}}function uCe(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var a=n.label,i=a.getComputedTransform(),s=a.getBoundingRect(),o=!i||i[1]<1e-5&&i[2]<1e-5,l=a.style.margin||0,u=s.clone();u.applyTransform(i),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var f=o?new G1(s,i):null;t.push({label:a,labelLine:n.labelLine,rect:u,localRect:s,obb:f,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:i})}}return t}function cCe(e){var t=[];e.sort(function(x,b){return b.priority-x.priority});var r=new kr(0,0,0,0);function n(x){if(!x.ignore){var b=x.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}x.ignore=!0}for(var a=0;a<e.length;a++){var i=e[a],s=i.axisAligned,o=i.localRect,l=i.transform,u=i.label,f=i.labelLine;r.copy(i.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var d=i.obb,p=!1,v=0;v<t.length;v++){var y=t[v];if(r.intersect(y.rect)){if(s&&y.axisAligned){p=!0;break}if(y.obb||(y.obb=new G1(y.localRect,y.transform)),d||(d=new G1(o,l)),d.intersect(y.obb)){p=!0;break}}}p?(n(u),f&&n(f)):(u.attr("ignore",i.defaultAttr.ignore),f&&f.attr("ignore",i.defaultAttr.labelGuideIgnore),t.push(i))}}var fCe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return KL(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new xn,a=dl("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(a),a.setStyle(r.lineStyle);var i=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=i==="none"?"circle":i,l=r.itemHeight*.8,u=dl(o,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var f=r.iconRotate==="inherit"?s:r.iconRotate||0;return u.rotation=f*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(lo);function eI(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var a=Zh(e,t,r[0]);return a!=null?a+"":null}else if(n){for(var i=[],s=0;s<r.length;s++)i.push(Zh(e,t,r[s]));return i.join(" ")}}function _te(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!wt(t))return t+"";for(var n=[],a=0;a<r.length;a++){var i=e.getDimensionIndex(r[a]);i>=0&&n.push(t[i])}return n.join(" ")}var tI=(function(e){Bt(t,e);function t(r,n,a,i){var s=e.call(this)||this;return s.updateData(r,n,a,i),s}return t.prototype._createSymbol=function(r,n,a,i,s){this.removeAll();var o=dl(r,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),o.drift=dCe,this._symbolType=r,this.add(o)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Ng(this.childAt(0))},t.prototype.downplay=function(){Ag(this.childAt(0))},t.prototype.setZ=function(r,n){var a=this.childAt(0);a.zlevel=r,a.z=n},t.prototype.setDraggable=function(r,n){var a=this.childAt(0);a.draggable=r,a.cursor=!n&&r?"move":a.cursor},t.prototype.updateData=function(r,n,a,i){this.silent=!1;var s=r.getItemVisual(n,"symbol")||"circle",o=r.hostModel,l=t.getSymbolSize(r,n),u=s!==this._symbolType,f=i&&i.disableAnimation;if(u){var d=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,r,n,l,d)}else{var p=this.childAt(0);p.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?p.attr(v):Na(p,v,o,n),CJ(p)}if(this._updateCommon(r,n,l,a,i),u){var p=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,oo(p,v,o,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,a,i,s){var o=this.childAt(0),l=r.hostModel,u,f,d,p,v,y,x,b,w;if(i&&(u=i.emphasisItemStyle,f=i.blurItemStyle,d=i.selectItemStyle,p=i.focus,v=i.blurScope,x=i.labelStatesModels,b=i.hoverScale,w=i.cursorStyle,y=i.emphasisDisabled),!i||r.hasItemOption){var _=i&&i.itemModel?i.itemModel:r.getItemModel(n),T=_.getModel("emphasis");u=T.getModel("itemStyle").getItemStyle(),d=_.getModel(["select","itemStyle"]).getItemStyle(),f=_.getModel(["blur","itemStyle"]).getItemStyle(),p=T.get("focus"),v=T.get("blurScope"),y=T.get("disabled"),x=Rf(_),b=T.getShallow("scale"),w=_.getShallow("cursor")}var M=r.getItemVisual(n,"symbolRotate");o.attr("rotation",(M||0)*Math.PI/180||0);var N=r_(r.getItemVisual(n,"symbolOffset"),a);N&&(o.x=N[0],o.y=N[1]),w&&o.attr("cursor",w);var C=r.getItemVisual(n,"style"),j=C.fill;if(o instanceof Gu){var O=o.style;o.useStyle(gt({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},C))}else o.__isEmptyBrush?o.useStyle(gt({},C)):o.useStyle(C),o.style.decal=null,o.setColor(j,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var P=r.getItemVisual(n,"liftZ"),R=this._z2;P!=null?R==null&&(this._z2=o.z2,o.z2+=P):R!=null&&(o.z2=R,this._z2=null);var k=s&&s.useNameLabel;Ep(o,x,{labelFetcher:l,labelDataIndex:n,defaultText:L,inheritColor:j,defaultOpacity:C.opacity});function L(F){return k?r.getName(F):eI(r,F)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var I=o.ensureState("emphasis");I.style=u,o.ensureState("select").style=d,o.ensureState("blur").style=f;var $=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;I.scaleX=this._sizeX*$,I.scaleY=this._sizeY*$,this.setSymbolScale(1),Kh(this,p,v,y)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,a){var i=this.childAt(0),s=wr(this).dataIndex,o=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&W1(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();W1(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:r,removeOpt:o})},t.getSymbolSize=function(r,n){return FL(r.getItemVisual(n,"symbolSize"))},t})(xn);function dCe(e,t){this.parent.drift(e,t)}function HA(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function s8(e){return e!=null&&!Vt(e)&&(e={isIgnore:e}),e||{}}function o8(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Rf(t),cursorStyle:t.get("cursor")}}var hCe=(function(){function e(t){this.group=new xn,this._SymbolCtor=t||tI}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=s8(r);var n=this.group,a=t.hostModel,i=this._data,s=this._SymbolCtor,o=r.disableAnimation,l=o8(t),u={disableAnimation:o},f=r.getSymbolPoint||function(d){return t.getItemLayout(d)};i||n.removeAll(),t.diff(i).add(function(d){var p=f(d);if(HA(t,p,d,r)){var v=new s(t,d,l,u);v.setPosition(p),t.setItemGraphicEl(d,v),n.add(v)}}).update(function(d,p){var v=i.getItemGraphicEl(p),y=f(d);if(!HA(t,y,d,r)){n.remove(v);return}var x=t.getItemVisual(d,"symbol")||"circle",b=v&&v.getSymbolType&&v.getSymbolType();if(!v||b&&b!==x)n.remove(v),v=new s(t,d,l,u),v.setPosition(y);else{v.updateData(t,d,l,u);var w={x:y[0],y:y[1]};o?v.attr(w):Na(v,w,a)}n.add(v),t.setItemGraphicEl(d,v)}).remove(function(d){var p=i.getItemGraphicEl(d);p&&p.fadeOut(function(){n.remove(p)},a)}).execute(),this._getSymbolPoint=f,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,a){var i=t._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=o8(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=s8(n);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var s=r.getItemLayout(i);if(HA(r,s,i,n)){var o=new this._SymbolCtor(r,i,this._seriesScope);o.traverse(a),o.setPosition(s),this.group.add(o),r.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},e.prototype.eachRendered=function(t){z0(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(a){a.fadeOut(function(){r.remove(a)},n.hostModel)}):r.removeAll()},e})();function Tte(e,t,r){var n=e.getBaseAxis(),a=e.getOtherAxis(n),i=pCe(a,r),s=n.dim,o=a.dim,l=t.mapDimension(o),u=t.mapDimension(s),f=o==="x"||o==="radius"?1:0,d=Rt(e.dimensions,function(y){return t.mapDimension(y)}),p=!1,v=t.getCalculationInfo("stackResultDimension");return Nf(t,d[0])&&(p=!0,d[0]=v),Nf(t,d[1])&&(p=!0,d[1]=v),{dataDimsForPoint:d,valueStart:i,valueAxisDim:o,baseAxisDim:s,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function pCe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:Jr(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function Cte(e,t,r,n){var a=NaN;e.stacked&&(a=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=e.valueStart);var i=e.baseDataOffset,s=[];return s[i]=r.get(e.baseDim,n),s[1-i]=a,t.dataToPoint(s)}function mCe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,a){r.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function vCe(e,t,r,n,a,i,s,o){for(var l=mCe(e,t),u=[],f=[],d=[],p=[],v=[],y=[],x=[],b=Tte(a,t,s),w=e.getLayout("points")||[],_=t.getLayout("points")||[],T=0;T<l.length;T++){var M=l[T],N=!0,C=void 0,j=void 0;switch(M.cmd){case"=":C=M.idx*2,j=M.idx1*2;var O=w[C],P=w[C+1],R=_[j],k=_[j+1];(isNaN(O)||isNaN(P))&&(O=R,P=k),u.push(O,P),f.push(R,k),d.push(r[C],r[C+1]),p.push(n[j],n[j+1]),x.push(t.getRawIndex(M.idx1));break;case"+":var L=M.idx,I=b.dataDimsForPoint,$=a.dataToPoint([t.get(I[0],L),t.get(I[1],L)]);j=L*2,u.push($[0],$[1]),f.push(_[j],_[j+1]);var F=Cte(b,a,t,L);d.push(F[0],F[1]),p.push(n[j],n[j+1]),x.push(t.getRawIndex(L));break;case"-":N=!1}N&&(v.push(M),y.push(y.length))}y.sort(function(ae,xe){return x[ae]-x[xe]});for(var z=u.length,V=Xo(z),q=Xo(z),W=Xo(z),Y=Xo(z),H=[],T=0;T<y.length;T++){var U=y[T],K=T*2,ee=U*2;V[K]=u[ee],V[K+1]=u[ee+1],q[K]=f[ee],q[K+1]=f[ee+1],W[K]=d[ee],W[K+1]=d[ee+1],Y[K]=p[ee],Y[K+1]=p[ee+1],H[T]=v[U]}return{current:V,next:q,stackedOnCurrent:W,stackedOnNext:Y,status:H}}var Zl=Math.min,Ql=Math.max;function mf(e,t){return isNaN(e)||isNaN(t)}function nP(e,t,r,n,a,i,s,o,l){for(var u,f,d,p,v,y,x=r,b=0;b<n;b++){var w=t[x*2],_=t[x*2+1];if(x>=a||x<0)break;if(mf(w,_)){if(l){x+=i;continue}break}if(x===r)e[i>0?"moveTo":"lineTo"](w,_),d=w,p=_;else{var T=w-u,M=_-f;if(T*T+M*M<.5){x+=i;continue}if(s>0){for(var N=x+i,C=t[N*2],j=t[N*2+1];C===w&&j===_&&b<n;)b++,N+=i,x+=i,C=t[N*2],j=t[N*2+1],w=t[x*2],_=t[x*2+1],T=w-u,M=_-f;var O=b+1;if(l)for(;mf(C,j)&&O<n;)O++,N+=i,C=t[N*2],j=t[N*2+1];var P=.5,R=0,k=0,L=void 0,I=void 0;if(O>=n||mf(C,j))v=w,y=_;else{R=C-u,k=j-f;var $=w-u,F=C-w,z=_-f,V=j-_,q=void 0,W=void 0;if(o==="x"){q=Math.abs($),W=Math.abs(F);var Y=R>0?1:-1;v=w-Y*q*s,y=_,L=w+Y*W*s,I=_}else if(o==="y"){q=Math.abs(z),W=Math.abs(V);var H=k>0?1:-1;v=w,y=_-H*q*s,L=w,I=_+H*W*s}else q=Math.sqrt($*$+z*z),W=Math.sqrt(F*F+V*V),P=W/(W+q),v=w-R*s*(1-P),y=_-k*s*(1-P),L=w+R*s*P,I=_+k*s*P,L=Zl(L,Ql(C,w)),I=Zl(I,Ql(j,_)),L=Ql(L,Zl(C,w)),I=Ql(I,Zl(j,_)),R=L-w,k=I-_,v=w-R*q/W,y=_-k*q/W,v=Zl(v,Ql(u,w)),y=Zl(y,Ql(f,_)),v=Ql(v,Zl(u,w)),y=Ql(y,Zl(f,_)),R=w-v,k=_-y,L=w+R*W/q,I=_+k*W/q}e.bezierCurveTo(d,p,v,y,w,_),d=L,p=I}else e.lineTo(w,_)}u=w,f=_,x+=i}return b}var Nte=(function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e})(),gCe=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Nte},t.prototype.buildPath=function(r,n){var a=n.points,i=0,s=a.length/2;if(n.connectNulls){for(;s>0&&mf(a[s*2-2],a[s*2-1]);s--);for(;i<s&&mf(a[i*2],a[i*2+1]);i++);}for(;i<s;)i+=nP(r,a,i,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,s=Sf.CMD,o,l,u=n==="x",f=[],d=0;d<i.length;){var p=i[d++],v=void 0,y=void 0,x=void 0,b=void 0,w=void 0,_=void 0,T=void 0;switch(p){case s.M:o=i[d++],l=i[d++];break;case s.L:if(v=i[d++],y=i[d++],T=u?(r-o)/(v-o):(r-l)/(y-l),T<=1&&T>=0){var M=u?(y-l)*T+l:(v-o)*T+o;return u?[r,M]:[M,r]}o=v,l=y;break;case s.C:v=i[d++],y=i[d++],x=i[d++],b=i[d++],w=i[d++],_=i[d++];var N=u?k1(o,v,x,w,r,f):k1(l,y,b,_,r,f);if(N>0)for(var C=0;C<N;C++){var j=f[C];if(j<=1&&j>=0){var M=u?ta(l,y,b,_,j):ta(o,v,x,w,j);return u?[r,M]:[M,r]}}o=w,l=_;break}}},t})(Lr),yCe=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Nte),xCe=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new yCe},t.prototype.buildPath=function(r,n){var a=n.points,i=n.stackedOnPoints,s=0,o=a.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&mf(a[o*2-2],a[o*2-1]);o--);for(;s<o&&mf(a[s*2],a[s*2+1]);s++);}for(;s<o;){var u=nP(r,a,s,o,o,1,n.smooth,l,n.connectNulls);nP(r,i,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,r.closePath()}},t})(Lr);function Ate(e,t,r,n,a){var i=e.getArea(),s=i.x,o=i.y,l=i.width,u=i.height,f=r.get(["lineStyle","width"])||0;s-=f/2,o-=f/2,l+=f,u+=f,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var d=new dn({shape:{x:s,y:o,width:l,height:u}});if(t){var p=e.getBaseAxis(),v=p.isHorizontal(),y=p.inverse;v?(y&&(d.shape.x+=l),d.shape.width=0):(y||(d.shape.y+=u),d.shape.height=0);var x=rr(a)?function(b){a(b,d)}:null;oo(d,{shape:{width:l,height:u,x:s,y:o}},r,null,n,x)}return d}function Mte(e,t,r){var n=e.getArea(),a=An(n.r0,1),i=An(n.r,1),s=new Mp({shape:{cx:An(e.cx,1),cy:An(e.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=e.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=a,oo(s,{shape:{endAngle:n.endAngle,r:i}},r)}return s}function bCe(e,t,r,n,a){if(e){if(e.type==="polar")return Mte(e,t,r);if(e.type==="cartesian2d")return Ate(e,t,r,n,a)}else return null;return null}function Pp(e,t){return e.type===t}function l8(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function u8(e){for(var t=1/0,r=1/0,n=-1/0,a=-1/0,i=0;i<e.length;){var s=e[i++],o=e[i++];isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n)),isNaN(o)||(r=Math.min(o,r),a=Math.max(o,a))}return[[t,r],[n,a]]}function c8(e,t){var r=u8(e),n=r[0],a=r[1],i=u8(t),s=i[0],o=i[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]))}function f8(e){return Jr(e)?e:e?.5:0}function wCe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),a=Xo(n*2),i=0;i<n;i++){var s=Cte(r,e,t,i);a[i*2]=s[0],a[i*2+1]=s[1]}return a}function Jl(e,t,r,n,a){var i=r.getBaseAxis(),s=i.dim==="x"||i.dim==="radius"?0:1,o=[],l=0,u=[],f=[],d=[],p=[];if(a){for(l=0;l<e.length;l+=2){var v=t||e;!isNaN(v[l])&&!isNaN(v[l+1])&&p.push(e[l],e[l+1])}e=p}for(l=0;l<e.length-2;l+=2)switch(d[0]=e[l+2],d[1]=e[l+3],f[0]=e[l],f[1]=e[l+1],o.push(f[0],f[1]),n){case"end":u[s]=d[s],u[1-s]=f[1-s],o.push(u[0],u[1]);break;case"middle":var y=(f[s]+d[s])/2,x=[];u[s]=x[s]=y,u[1-s]=f[1-s],x[1-s]=d[1-s],o.push(u[0],u[1]),o.push(x[0],x[1]);break;default:u[s]=f[s],u[1-s]=d[1-s],o.push(u[0],u[1])}return o.push(e[l++],e[l++]),o}function SCe(e,t){var r=[],n=e.length,a,i;function s(f,d,p){var v=f.coord,y=(p-v)/(d.coord-v),x=Lye(y,[f.color,d.color]);return{coord:p,color:x}}for(var o=0;o<n;o++){var l=e[o],u=l.coord;if(u<0)a=l;else if(u>t){i?r.push(s(i,l,t)):a&&r.push(s(a,l,0),s(a,l,t));break}else a&&(r.push(s(a,l,0)),a=null),r.push(l),i=l}return r}function _Ce(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var a,i,s=n.length-1;s>=0;s--){var o=e.getDimensionInfo(n[s].dimension);if(a=o&&o.coordDim,a==="x"||a==="y"){i=n[s];break}}if(i){var l=t.getAxis(a),u=Rt(i.stops,function(T){return{coord:l.toGlobalCoord(l.dataToCoord(T.value)),color:T.color}}),f=u.length,d=i.outerColors.slice();f&&u[0].coord>u[f-1].coord&&(u.reverse(),d.reverse());var p=SCe(u,a==="x"?r.getWidth():r.getHeight()),v=p.length;if(!v&&f)return u[0].coord<0?d[1]?d[1]:u[f-1].color:d[0]?d[0]:u[0].color;var y=10,x=p[0].coord-y,b=p[v-1].coord+y,w=b-x;if(w<.001)return"transparent";re(p,function(T){T.offset=(T.coord-x)/w}),p.push({offset:v?p[v-1].offset:.5,color:d[1]||"transparent"}),p.unshift({offset:v?p[0].offset:.5,color:d[0]||"transparent"});var _=new TJ(0,0,0,0,p,!0);return _[a]=x,_[a+"2"]=b,_}}}function TCe(e,t,r){var n=e.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=r.getAxesByScale("ordinal")[0];if(i&&!(a&&CCe(i,t))){var s=t.mapDimension(i.dim),o={};return re(i.getViewLabels(),function(l){var u=i.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(t.get(s,l))}}}}function CCe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var a=t.count(),i=Math.max(1,Math.round(a/5)),s=0;s<a;s+=i)if(tI.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function NCe(e,t){return isNaN(e)||isNaN(t)}function ACe(e){for(var t=e.length/2;t>0&&NCe(e[t*2-2],e[t*2-1]);t--);return t-1}function d8(e,t){return[e[t*2],e[t*2+1]]}function MCe(e,t,r){for(var n=e.length/2,a=r==="x"?0:1,i,s,o=0,l=-1,u=0;u<n;u++)if(s=e[u*2+a],!(isNaN(s)||isNaN(e[u*2+1-a]))){if(u===0){i=s;continue}if(i<=t&&s>=t||i>=t&&s<=t){l=u;break}o=u,i=s}return{range:[o,l],t:(t-i)/(s-i)}}function Ete(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Zi.length;t++)if(e.get([Zi[t],"endLabel","show"]))return!0;return!1}function VA(e,t,r,n){if(Pp(t,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=Ete(n)?function(v,y){e._endLabelOnDuring(v,y,s,o,i,a,t)}:null,u=t.getBaseAxis().isHorizontal(),f=Ate(t,r,n,function(){var v=e._endLabel;v&&r&&o.originalX!=null&&v.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var d=f.shape,p=Math.max(d.width,d.height);u?(d.y-=p,d.height+=p*2):(d.x-=p,d.width+=p*2)}return l&&l(1,f),f}else return Mte(t,r,n)}function ECe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),a=r.inverse,i=n?a?"right":"left":"center",s=n?"middle":a?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||s}}}var jCe=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new xn,n=new hCe;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=er(this._changePolyState,this)},t.prototype.render=function(r,n,a){var i=r.coordinateSystem,s=this.group,o=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),f=o.getLayout("points")||[],d=i.type==="polar",p=this._coordSys,v=this._symbolDraw,y=this._polyline,x=this._polygon,b=this._lineGroup,w=!n.ssr&&r.get("animation"),_=!u.isEmpty(),T=u.get("origin"),M=Tte(i,o,T),N=_&&wCe(i,o,M),C=r.get("showSymbol"),j=r.get("connectNulls"),O=C&&!d&&TCe(r,o,i),P=this._data;P&&P.eachItemGraphicEl(function(ae,xe){ae.__temp&&(s.remove(ae),P.setItemGraphicEl(xe,null))}),C||v.remove(),s.add(b);var R=d?!1:r.get("step"),k;i&&i.getArea&&r.get("clip",!0)&&(k=i.getArea(),k.width!=null?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var L=_Ce(o,i,a)||o.getVisual("style")[o.getVisual("drawType")];if(!(y&&p.type===i.type&&R===this._step))C&&v.updateData(o,{isIgnore:O,clipShape:k,disableAnimation:!0,getSymbolPoint:function(ae){return[f[ae*2],f[ae*2+1]]}}),w&&this._initSymbolLabelAnimation(o,i,k),R&&(N&&(N=Jl(N,f,i,R,j)),f=Jl(f,null,i,R,j)),y=this._newPolyline(f),_?x=this._newPolygon(f,N):x&&(b.remove(x),x=this._polygon=null),d||this._initOrUpdateEndLabel(r,i,Tf(L)),b.setClipPath(VA(this,i,!0,r));else{_&&!x?x=this._newPolygon(f,N):x&&!_&&(b.remove(x),x=this._polygon=null),d||this._initOrUpdateEndLabel(r,i,Tf(L));var I=b.getClipPath();if(I){var $=VA(this,i,!1,r);oo(I,{shape:$.shape},r)}else b.setClipPath(VA(this,i,!0,r));C&&v.updateData(o,{isIgnore:O,clipShape:k,disableAnimation:!0,getSymbolPoint:function(ae){return[f[ae*2],f[ae*2+1]]}}),(!l8(this._stackedOnPoints,N)||!l8(this._points,f))&&(w?this._doUpdateAnimation(o,N,i,a,R,T,j):(R&&(N&&(N=Jl(N,f,i,R,j)),f=Jl(f,null,i,R,j)),y.setShape({points:f}),x&&x.setShape({points:f,stackedOnPoints:N})))}var F=r.getModel("emphasis"),z=F.get("focus"),V=F.get("blurScope"),q=F.get("disabled");if(y.useStyle(Rr(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),q1(y,r,"lineStyle"),y.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var W=y.getState("emphasis").style;W.lineWidth=+y.style.lineWidth+1}wr(y).seriesIndex=r.seriesIndex,Kh(y,z,V,q);var Y=f8(r.get("smooth")),H=r.get("smoothMonotone");if(y.setShape({smooth:Y,smoothMonotone:H,connectNulls:j}),x){var U=o.getCalculationInfo("stackedOnSeries"),K=0;x.useStyle(Rr(u.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),U&&(K=f8(U.get("smooth"))),x.setShape({smooth:Y,stackedOnSmooth:K,smoothMonotone:H,connectNulls:j}),q1(x,r,"areaStyle"),wr(x).seriesIndex=r.seriesIndex,Kh(x,z,V,q)}var ee=this._changePolyState;o.eachItemGraphicEl(function(ae){ae&&(ae.onHoverStateChange=ee)}),this._polyline.onHoverStateChange=ee,this._data=o,this._coordSys=i,this._stackedOnPoints=N,this._points=f,this._step=R,this._valueOrigin=T,r.get("triggerLineEvent")&&(this.packEventData(r,y),x&&this.packEventData(r,x))},t.prototype.packEventData=function(r,n){wr(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,a,i){var s=r.getData(),o=wf(s,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var f=l[o*2],d=l[o*2+1];if(isNaN(f)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,d))return;var p=r.get("zlevel")||0,v=r.get("z")||0;u=new tI(s,o),u.x=f,u.y=d,u.setZ(p,v);var y=u.getSymbolPath().getTextContent();y&&(y.zlevel=p,y.z=v,y.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Ss.prototype.highlight.call(this,r,n,a,i)},t.prototype.downplay=function(r,n,a,i){var s=r.getData(),o=wf(s,i);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Ss.prototype.downplay.call(this,r,n,a,i)},t.prototype._changePolyState=function(r){var n=this._polygon;_F(this._polyline,r),n&&_F(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new gCe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new xCe({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(r,n,a){var i,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(i=o.isHorizontal(),s=!1):n.type==="polar"&&(i=o.dim==="angle",s=!0);var u=r.hostModel,f=u.get("animationDuration");rr(f)&&(f=f(null));var d=u.get("animationDelay")||0,p=rr(d)?d(null):d;r.eachItemGraphicEl(function(v,y){var x=v;if(x){var b=[v.x,v.y],w=void 0,_=void 0,T=void 0;if(a)if(s){var M=a,N=n.pointToCoord(b);i?(w=M.startAngle,_=M.endAngle,T=-N[1]/180*Math.PI):(w=M.r0,_=M.r,T=N[0])}else{var C=a;i?(w=C.x,_=C.x+C.width,T=v.x):(w=C.y+C.height,_=C.y,T=v.y)}var j=_===w?0:(T-w)/(_-w);l&&(j=1-j);var O=rr(d)?d(y):f*j+p,P=x.getSymbolPath(),R=P.getTextContent();x.attr({scaleX:0,scaleY:0}),x.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),R&&R.animateFrom({style:{opacity:0}},{duration:300,delay:O}),P.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,a){var i=r.getModel("endLabel");if(Ete(r)){var s=r.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Ca({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var f=ACe(l);f>=0&&(Ep(o,Rf(r,"endLabel"),{inheritColor:a,labelFetcher:r,labelDataIndex:f,defaultText:function(d,p,v){return v!=null?_te(s,v):eI(s,d)},enableTextSetter:!0},ECe(i,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,a,i,s,o,l){var u=this._endLabel,f=this._polyline;if(u){r<1&&i.originalX==null&&(i.originalX=u.x,i.originalY=u.y);var d=a.getLayout("points"),p=a.hostModel,v=p.get("connectNulls"),y=o.get("precision"),x=o.get("distance")||0,b=l.getBaseAxis(),w=b.isHorizontal(),_=b.inverse,T=n.shape,M=_?w?T.x:T.y+T.height:w?T.x+T.width:T.y,N=(w?x:0)*(_?-1:1),C=(w?0:-x)*(_?-1:1),j=w?"x":"y",O=MCe(d,M,j),P=O.range,R=P[1]-P[0],k=void 0;if(R>=1){if(R>1&&!v){var L=d8(d,P[0]);u.attr({x:L[0]+N,y:L[1]+C}),s&&(k=p.getRawValue(P[0]))}else{var L=f.getPointOn(M,j);L&&u.attr({x:L[0]+N,y:L[1]+C});var I=p.getRawValue(P[0]),$=p.getRawValue(P[1]);s&&(k=Dxe(a,y,I,$,O.t))}i.lastFrameIndex=P[0]}else{var F=r===1||i.lastFrameIndex>0?P[0]:0,L=d8(d,F);s&&(k=p.getRawValue(F)),u.attr({x:L[0]+N,y:L[1]+C})}if(s){var z=VS(u);typeof z.setLabelText=="function"&&z.setLabelText(k)}}},t.prototype._doUpdateAnimation=function(r,n,a,i,s,o,l){var u=this._polyline,f=this._polygon,d=r.hostModel,p=vCe(this._data,r,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),v=p.current,y=p.stackedOnCurrent,x=p.next,b=p.stackedOnNext;if(s&&(y=Jl(p.stackedOnCurrent,p.current,a,s,l),v=Jl(p.current,null,a,s,l),b=Jl(p.stackedOnNext,p.next,a,s,l),x=Jl(p.next,null,a,s,l)),c8(v,x)>3e3||f&&c8(y,b)>3e3){u.stopAnimation(),u.setShape({points:x}),f&&(f.stopAnimation(),f.setShape({points:x,stackedOnPoints:b}));return}u.shape.__points=p.current,u.shape.points=v;var w={shape:{points:x}};p.current!==v&&(w.shape.__points=p.next),u.stopAnimation(),Na(u,w,d),f&&(f.setShape({points:v,stackedOnPoints:y}),f.stopAnimation(),Na(f,{shape:{stackedOnPoints:b}},d),u.shape.points!==f.shape.points&&(f.shape.points=u.shape.points));for(var _=[],T=p.status,M=0;M<T.length;M++){var N=T[M].cmd;if(N==="="){var C=r.getItemGraphicEl(T[M].idx1);C&&_.push({el:C,ptIdx:M})}}u.animators&&u.animators.length&&u.animators[0].during(function(){f&&f.dirtyShape();for(var j=u.shape.__points,O=0;O<_.length;O++){var P=_[O].el,R=_[O].ptIdx*2;P.x=j[R],P.y=j[R+1],P.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,s){i.__temp&&(n.remove(i),a.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Ss);function DCe(e,t){return{seriesType:e,plan:BL(),reset:function(r){var n=r.getData(),a=r.coordinateSystem;if(r.pipelineContext,!!a){var i=Rt(a.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),s=i.length,o=n.getCalculationInfo("stackResultDimension");Nf(n,i[0])&&(i[0]=o),Nf(n,i[1])&&(i[1]=o);var l=n.getStore(),u=n.getDimensionIndex(i[0]),f=n.getDimensionIndex(i[1]);return s&&{progress:function(d,p){for(var v=d.end-d.start,y=Xo(v*s),x=[],b=[],w=d.start,_=0;w<d.end;w++){var T=void 0;if(s===1){var M=l.get(u,w);T=a.dataToPoint(M,null,b)}else x[0]=l.get(u,w),x[1]=l.get(f,w),T=a.dataToPoint(x,null,b);y[_++]=T[0],y[_++]=T[1]}p.setLayout("points",y)}}}}}}var OCe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},PCe=function(e){return Math.round(e.length/2)};function jte(e){return{seriesType:e,reset:function(t,r,n){var a=t.getData(),i=t.get("sampling"),s=t.coordinateSystem,o=a.count();if(o>10&&s.type==="cartesian2d"&&i){var l=s.getBaseAxis(),u=s.getOtherAxis(l),f=l.getExtent(),d=n.getDevicePixelRatio(),p=Math.abs(f[1]-f[0])*(d||1),v=Math.round(o/p);if(isFinite(v)&&v>1){i==="lttb"?t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/v)):i==="minmax"&&t.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/v));var y=void 0;Pt(i)?y=OCe[i]:rr(i)&&(y=i),y&&t.setData(a.downSample(a.mapDimension(u.dim),1/v,y,PCe))}}}}}function Dte(e){e.registerChartView(jCe),e.registerSeriesModel(fCe),e.registerLayout(DCe("line")),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,jte("line"))}var aP=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return KL(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var s=i.clampData(r),o=i.dataToPoint(s);if(a)re(i.getAxes(),function(p,v){if(p.type==="category"&&n!=null){var y=p.getTicksCoords(),x=p.getTickModel().get("alignWithLabel"),b=s[v],w=n[v]==="x1"||n[v]==="y1";if(w&&!x&&(b+=1),y.length<2)return;if(y.length===2){o[v]=p.toGlobalCoord(p.getExtent()[w?1:0]);return}for(var _=void 0,T=void 0,M=1,N=0;N<y.length;N++){var C=y[N].coord,j=N===y.length-1?y[N-1].tickValue+M:y[N].tickValue;if(j===b){T=C;break}else if(j<b)_=C;else if(_!=null&&j>b){T=(C+_)/2;break}N===1&&(M=j-y[0].tickValue)}T==null&&(_?_&&(T=y[y.length-1].coord):T=y[0].coord),o[v]=p.toGlobalCoord(T)}});else{var l=this.getData(),u=l.getLayout("offset"),f=l.getLayout("size"),d=i.getBaseAxis().isHorizontal()?0:1;o[d]+=u+f/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t})(lo);lo.registerClass(aP);var kCe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return KL(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,a){return a.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=GS(aP.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t})(aP),RCe=(function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e})(),h8=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new RCe},t.prototype.buildPath=function(r,n){var a=n.cx,i=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,f=n.startAngle,d=n.endAngle,p=n.clockwise,v=Math.PI*2,y=p?d-f<v:f-d<v;y||(f=d-(p?v:-v));var x=Math.cos(f),b=Math.sin(f),w=Math.cos(d),_=Math.sin(d);y?(r.moveTo(x*s+a,b*s+i),r.arc(x*u+a,b*u+i,l,-Math.PI+f,f,!p)):r.moveTo(x*o+a,b*o+i),r.arc(a,i,o,f,d,!p),r.arc(w*u+a,_*u+i,l,d-Math.PI*2,d-Math.PI,!p),s!==0&&r.arc(a,i,s,d,f,p)},t})(Lr);function LCe(e,t){t=t||{};var r=t.isRoundCap;return function(n,a,i){var s=a.position;if(!s||s instanceof Array)return z1(n,a,i);var o=e(s),l=a.distance!=null?a.distance:5,u=this.shape,f=u.cx,d=u.cy,p=u.r,v=u.r0,y=(p+v)/2,x=u.startAngle,b=u.endAngle,w=(x+b)/2,_=r?Math.abs(p-v)/2:0,T=Math.cos,M=Math.sin,N=f+p*T(x),C=d+p*M(x),j="left",O="top";switch(o){case"startArc":N=f+(v-l)*T(w),C=d+(v-l)*M(w),j="center",O="top";break;case"insideStartArc":N=f+(v+l)*T(w),C=d+(v+l)*M(w),j="center",O="bottom";break;case"startAngle":N=f+y*T(x)+rb(x,l+_,!1),C=d+y*M(x)+nb(x,l+_,!1),j="right",O="middle";break;case"insideStartAngle":N=f+y*T(x)+rb(x,-l+_,!1),C=d+y*M(x)+nb(x,-l+_,!1),j="left",O="middle";break;case"middle":N=f+y*T(w),C=d+y*M(w),j="center",O="middle";break;case"endArc":N=f+(p+l)*T(w),C=d+(p+l)*M(w),j="center",O="bottom";break;case"insideEndArc":N=f+(p-l)*T(w),C=d+(p-l)*M(w),j="center",O="top";break;case"endAngle":N=f+y*T(b)+rb(b,l+_,!0),C=d+y*M(b)+nb(b,l+_,!0),j="left",O="middle";break;case"insideEndAngle":N=f+y*T(b)+rb(b,-l+_,!0),C=d+y*M(b)+nb(b,-l+_,!0),j="right",O="middle";break;default:return z1(n,a,i)}return n=n||{},n.x=N,n.y=C,n.align=j,n.verticalAlign=O,n}}function ICe(e,t,r,n){if(Jr(n)){e.setTextConfig({rotation:n});return}else if(wt(t)){e.setTextConfig({rotation:0});return}var a=e.shape,i=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,o=(i+s)/2,l,u=r(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=s;break;default:e.setTextConfig({rotation:0});return}var f=Math.PI*1.5-l;u==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),e.setTextConfig({rotation:f})}function rb(e,t,r){return t*Math.sin(e)*(r?-1:1)}function nb(e,t,r){return t*Math.cos(e)*(r?1:-1)}function BCe(e,t,r){var n=e.get("borderRadius");if(n==null)return{cornerRadius:0};wt(n)||(n=[n,n,n,n]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Rt(n,function(i){return zu(i,a)})}}var qA=Math.max,GA=Math.min;function $Ce(e,t){var r=e.getArea&&e.getArea();if(Pp(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=a,r.width+=a*2):(r.y-=a,r.height+=a*2)}}return r}var zCe=(function(e){Bt(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,a,i){this._model=r,this._removeOnRenderedListener(a),this._updateDrawMode(r);var s=r.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,a):this._renderNormal(r,n,a,i))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){z0(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,a,i){var s=this.group,o=r.getData(),l=this._data,u=r.coordinateSystem,f=u.getBaseAxis(),d;u.type==="cartesian2d"?d=f.isHorizontal():u.type==="polar"&&(d=f.dim==="angle");var p=r.isAnimationEnabled()?r:null,v=FCe(r,u);v&&this._enableRealtimeSort(v,o,a);var y=r.get("clip",!0)||v,x=$Ce(u,o);s.removeClipPath();var b=r.get("roundCap",!0),w=r.get("showBackground",!0),_=r.getModel("backgroundStyle"),T=_.get("borderRadius")||0,M=[],N=this._backgroundEls,C=i&&i.isInitSort,j=i&&i.type==="changeAxisOrder";function O(k){var L=ab[u.type](o,k),I=KCe(u,d,L);return I.useStyle(_.getItemStyle()),u.type==="cartesian2d"?I.setShape("r",T):I.setShape("cornerRadius",T),M[k]=I,I}o.diff(l).add(function(k){var L=o.getItemModel(k),I=ab[u.type](o,k,L);if(w&&O(k),!(!o.hasValue(k)||!y8[u.type](I))){var $=!1;y&&($=p8[u.type](x,I));var F=m8[u.type](r,o,k,I,d,p,f.model,!1,b);v&&(F.forceLabelAnimation=!0),x8(F,o,k,L,I,r,d,u.type==="polar"),C?F.attr({shape:I}):v?v8(v,p,F,I,k,d,!1,!1):oo(F,{shape:I},r,k),o.setItemGraphicEl(k,F),s.add(F),F.ignore=$}}).update(function(k,L){var I=o.getItemModel(k),$=ab[u.type](o,k,I);if(w){var F=void 0;N.length===0?F=O(L):(F=N[L],F.useStyle(_.getItemStyle()),u.type==="cartesian2d"?F.setShape("r",T):F.setShape("cornerRadius",T),M[k]=F);var z=ab[u.type](o,k),V=Pte(d,z,u);Na(F,{shape:V},p,k)}var q=l.getItemGraphicEl(L);if(!o.hasValue(k)||!y8[u.type]($)){s.remove(q);return}var W=!1;if(y&&(W=p8[u.type](x,$),W&&s.remove(q)),q?CJ(q):q=m8[u.type](r,o,k,$,d,p,f.model,!!q,b),v&&(q.forceLabelAnimation=!0),j){var Y=q.getTextContent();if(Y){var H=VS(Y);H.prevValue!=null&&(H.prevValue=H.value)}}else x8(q,o,k,I,$,r,d,u.type==="polar");C?q.attr({shape:$}):v?v8(v,p,q,$,k,d,!0,j):Na(q,{shape:$},r,k,null),o.setItemGraphicEl(k,q),q.ignore=W,s.add(q)}).remove(function(k){var L=l.getItemGraphicEl(k);L&&zO(L,r,k)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new xn);P.removeAll();for(var R=0;R<M.length;++R)P.add(M[R]);s.add(P),this._backgroundEls=M,this._data=o},t.prototype._renderLarge=function(r,n,a){this._clear(),w8(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),w8(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&bCe(r.coordinateSystem,!1,r),a=this.group;n?a.setClipPath(n):a.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,a){var i=this;if(n.count()){var s=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,a),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),f=u&&u.shape;return f&&Math.abs(s.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,o,s,a)},a.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,a){var i=[];return r.each(r.mapDimension(n.dim),function(s,o){var l=a(o);l=l??NaN,i.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),i.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Rt(i,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,a){for(var i=a.scale,s=r.mapDimension(a.dim),o=Number.MAX_VALUE,l=0,u=i.getOrdinalMeta().categories.length;l<u;++l){var f=r.rawIndexOf(s,i.getRawOrdinalNumber(l)),d=f<0?Number.MIN_VALUE:n(r.indexOfRawIndex(f));if(d>o)return!0;o=d}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var a=n.scale,i=a.getExtent(),s=Math.max(0,i[0]),o=Math.min(i[1],a.getOrdinalMeta().categories.length-1);s<=o;++s)if(r.ordinalNumbers[s]!==a.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(r,n,a,i){if(this._isOrderChangedWithinSameData(r,n,a)){var s=this._dataSort(r,a,n);this._isOrderDifferentInView(s,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(r,n,a){var i=n.baseAxis,s=this._dataSort(r,i,function(o){return r.get(r.mapDimension(n.otherAxis.dim),o)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,a=this._data;r&&r.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){zO(i,r,wr(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Ss),p8={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,i=e.y+e.height,s=qA(t.x,e.x),o=GA(t.x+t.width,a),l=qA(t.y,e.y),u=GA(t.y+t.height,i),f=o<s,d=u<l;return t.x=f&&s>a?o:s,t.y=d&&l>i?u:l,t.width=f?0:o-s,t.height=d?0:u-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),f||d},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var a=GA(t.r,e.r),i=qA(t.r0,e.r0);t.r=a,t.r0=i;var s=a-i<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return s}},m8={cartesian2d:function(e,t,r,n,a,i,s,o,l){var u=new dn({shape:gt({},n),z2:1});if(u.__dataIndex=r,u.name="item",i){var f=u.shape,d=a?"height":"width";f[d]=0}return u},polar:function(e,t,r,n,a,i,s,o,l){var u=!a&&l?h8:Mp,f=new u({shape:n,z2:1});f.name="item";var d=Ote(a);if(f.calculateTextPosition=LCe(d,{isRoundCap:u===h8}),i){var p=f.shape,v=a?"r":"endAngle",y={};p[v]=a?n.r0:n.startAngle,y[v]=n[v],(o?Na:oo)(f,{shape:y},i)}return f}};function FCe(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function v8(e,t,r,n,a,i,s,o){var l,u;i?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?Na:oo)(r,{shape:l},t,a,null);var f=t?e.baseAxis.model:null;(s?Na:oo)(r,{shape:u},f,a)}function g8(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var UCe=["x","y","width","height"],HCe=["cx","cy","r","startAngle","endAngle"],y8={cartesian2d:function(e){return!g8(e,UCe)},polar:function(e){return!g8(e,HCe)}},ab={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),a=r?qCe(r,n):0,i=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+s*a/2,width:n.width-i*a,height:n.height-s*a}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function VCe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Ote(e){return(function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}})(e)}function x8(e,t,r,n,a,i,s,o){var l=t.getItemVisual(r,"style");if(o){if(!i.get("roundCap")){var f=e.shape,d=BCe(n.getModel("itemStyle"),f);gt(f,d),e.setShape(f)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var p=n.getShallow("cursor");p&&e.attr("cursor",p);var v=o?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",y=Rf(n);Ep(e,y,{labelFetcher:i,labelDataIndex:r,defaultText:eI(i.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var x=e.getTextContent();if(o&&x){var b=n.get(["label","position"]);e.textConfig.inside=b==="middle"?!0:null,ICe(e,b==="outside"?v:b,Ote(s),n.get(["label","rotate"]))}H1e(x,y,i.getRawValue(r),function(_){return _te(t,_)});var w=n.getModel(["emphasis"]);Kh(e,w.get("focus"),w.get("blurScope"),w.get("disabled")),q1(e,n),VCe(a)&&(e.style.fill="none",e.style.stroke="none",re(e.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}function qCe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,a,i)}var GCe=(function(){function e(){}return e})(),b8=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new GCe},t.prototype.buildPath=function(r,n){for(var a=n.points,i=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,f=0;f<a.length;f+=3)l[i]=u,l[s]=a[f+2],o[i]=a[f+i],o[s]=a[f+s],r.rect(o[0],o[1],l[0],l[1])},t})(Lr);function w8(e,t,r,n){var a=e.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,s=a.getLayout("largeDataIndices"),o=a.getLayout("size"),l=e.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var f=new b8({shape:{points:u},incremental:!!n,silent:!0,z2:0});f.baseDimIdx=i,f.largeDataIndices=s,f.barWidth=o,f.useStyle(l.getItemStyle()),t.add(f),r&&r.push(f)}var d=new b8({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=i,d.largeDataIndices=s,d.barWidth=o,t.add(d),d.useStyle(a.getVisual("style")),d.style.stroke=null,wr(d).seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",S8),d.on("mousemove",S8)),r&&r.push(d)}var S8=$L(function(e){var t=this,r=WCe(t,e.offsetX,e.offsetY);wr(t).dataIndex=r>=0?r:null},30,!1);function WCe(e,t,r){for(var n=e.baseDimIdx,a=1-n,i=e.shape.points,s=e.largeDataIndices,o=[],l=[],u=e.barWidth,f=0,d=i.length/3;f<d;f++){var p=f*3;if(l[n]=u,l[a]=i[p+2],o[n]=i[p+n],o[a]=i[p+a],l[a]<0&&(o[a]+=l[a],l[a]=-l[a]),t>=o[0]&&t<=o[0]+l[0]&&r>=o[1]&&r<=o[1]+l[1])return s[f]}return-1}function Pte(e,t,r){if(Pp(r,"cartesian2d")){var n=t,a=r.getArea();return{x:e?n.x:a.x,y:e?a.y:n.y,width:e?n.width:a.width,height:e?a.height:n.height}}else{var a=r.getArea(),i=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:i.r0,r:e?a.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:Math.PI*2}}}function KCe(e,t,r){var n=e.type==="polar"?Mp:dn;return new n({shape:Pte(t,r,e),silent:!0,z2:0})}function YCe(e){e.registerChartView(zCe),e.registerSeriesModel(kCe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,zr(MTe,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ETe("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,jte("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(a){t.sortInfo&&a.axis.setCategorySortInfo(t.sortInfo)})})}var XCe=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t})(Pr),iP=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ha).models[0]},t.type="cartesian2dAxis",t})(Pr);Ms(iP,ZTe);var kte={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ZCe=xr({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kte),rI=xr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},kte),QCe=xr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},rI),JCe=Rr({logBase:10},rI);const eNe={category:ZCe,value:rI,time:QCe,log:JCe};var tNe={value:1,category:1,time:1,log:1};function _8(e,t,r,n){re(tNe,function(a,i){var s=xr(xr({},eNe[i],!0),n,!0),o=(function(l){Bt(u,l);function u(){var f=l!==null&&l.apply(this,arguments)||this;return f.type=t+"Axis."+i,f}return u.prototype.mergeDefaultAndTheme=function(f,d){var p=Og(this),v=p?F0(f):{},y=d.getTheme();xr(f,y.get(i+"Axis")),xr(f,this.getDefaultOption()),f.type=T8(f),p&&Xh(f,v,p)},u.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=tP.createByAxisModel(this))},u.prototype.getCategories=function(f){var d=this.option;if(d.type==="category")return f?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+i,u.defaultOption=s,u})(r);e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis",T8)}function T8(e){return e.type||(e.data?"category":"value")}var rNe=(function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return Rt(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Fn(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e})(),sP=["x","y"];function C8(e){return e.type==="interval"||e.type==="time"}var nNe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=sP,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!C8(r)||!C8(n))){var a=r.getExtent(),i=n.getExtent(),s=this.dataToPoint([a[0],i[0]]),o=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],u=i[1]-i[0];if(!(!l||!u)){var f=(o[0]-s[0])/l,d=(o[1]-s[1])/u,p=s[0]-a[0]*f,v=s[1]-i[0]*d,y=this._transform=[f,0,0,d,p,v];this._invTransform=sL([],y)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&a.contain(a.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var a=this.dataToPoint(r),i=this.dataToPoint(n),s=this.getArea(),o=new kr(a[0],a[1],i[0]-a[0],i[1]-a[1]);return s.intersect(o)},t.prototype.dataToPoint=function(r,n,a){a=a||[];var i=r[0],s=r[1];if(this._transform&&i!=null&&isFinite(i)&&s!=null&&isFinite(s))return Wi(a,r,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return a[0]=o.toGlobalCoord(o.dataToCoord(i,n)),a[1]=l.toGlobalCoord(l.dataToCoord(s,n)),a},t.prototype.clampData=function(r,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,s=a.getExtent(),o=i.getExtent(),l=a.parse(r[0]),u=i.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},t.prototype.pointToData=function(r,n){var a=[];if(this._invTransform)return Wi(a,r,this._invTransform);var i=this.getAxis("x"),s=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(r[0]),n),a[1]=s.coordToData(s.toLocalCoord(r[1]),n),a},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-r,s=Math.min(a[0],a[1])-r,o=Math.max(n[0],n[1])-i+r,l=Math.max(a[0],a[1])-s+r;return new kr(i,s,o,l)},t})(rNe),aNe=(function(e){Bt(t,e);function t(r,n,a,i,s){var o=e.call(this,r,n,a)||this;return o.index=0,o.type=i||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t})(oCe);function oP(e,t,r){r=r||{};var n=e.coordinateSystem,a=t.axis,i={},s=a.getAxesOnZeroOf()[0],o=a.position,l=s?"onZero":o,u=a.dim,f=n.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],p={left:0,right:1,top:0,bottom:1,onZero:2},v=t.get("offset")||0,y=u==="x"?[d[2]-v,d[3]+v]:[d[0]-v,d[1]+v];if(s){var x=s.toGlobalCoord(s.dataToCoord(0));y[p.onZero]=Math.max(Math.min(x,y[1]),y[0])}i.position=[u==="y"?y[p[l]]:d[0],u==="x"?y[p[l]]:d[3]],i.rotation=Math.PI/2*(u==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=b[o],i.labelOffset=s?y[p[o]]-y[p.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Gs(r.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var w=t.get(["axisLabel","rotate"]);return i.labelRotate=l==="top"?-w:w,i.z2=1,i}function N8(e){return e.get("coordinateSystem")==="cartesian2d"}function A8(e){var t={xAxisModel:null,yAxisModel:null};return re(t,function(r,n){var a=n.replace(/Model$/,""),i=e.getReferringComponents(a,Ha).models[0];t[n]=i}),t}var WA=Math.log;function iNe(e,t,r){var n=Dp.prototype,a=n.getTicks.call(r),i=n.getTicks.call(r,!0),s=a.length-1,o=n.getInterval.call(r),l=hte(e,t),u=l.extent,f=l.fixMin,d=l.fixMax;if(e.type==="log"){var p=WA(e.base);u=[WA(u[0])/p,WA(u[1])/p]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:s,fixMin:f,fixMax:d});var v=n.getExtent.call(e);f&&(u[0]=v[0]),d&&(u[1]=v[1]);var y=n.getInterval.call(e),x=u[0],b=u[1];if(f&&d)y=(b-x)/s;else if(f)for(b=u[0]+y*s;b<u[1]&&isFinite(b)&&isFinite(u[1]);)y=UA(y),b=u[0]+y*s;else if(d)for(x=u[1]-y*s;x>u[0]&&isFinite(x)&&isFinite(u[0]);)y=UA(y),x=u[1]-y*s;else{var w=e.getTicks().length-1;w>s&&(y=UA(y));var _=y*s;b=Math.ceil(u[1]/y)*y,x=An(b-_),x<0&&u[0]>=0?(x=0,b=An(_)):b>0&&u[1]<=0&&(b=0,x=-An(_))}var T=(a[0].value-i[0].value)/o,M=(a[s].value-i[s].value)/o;n.setExtent.call(e,x+y*T,b+y*M),n.setInterval.call(e,y),(T||M)&&n.setNiceExtent.call(e,x+y,b-y)}var sNe=(function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=sP,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function a(s){var o,l=ln(s),u=l.length;if(u){for(var f=[],d=u-1;d>=0;d--){var p=+l[d],v=s[p],y=v.model,x=v.scale;rP(x)&&y.get("alignTicks")&&y.get("interval")==null?f.push(v):(r8(x,y),rP(x)&&(o=v))}f.length&&(o||(o=f.pop(),r8(o.scale,o.model)),re(f,function(b){iNe(b.scale,b.model,o.scale)}))}}a(n.x),a(n.y);var i={};re(n.x,function(s){M8(n,"y",s,i)}),re(n.y,function(s){M8(n,"x",s,i)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var a=t.getBoxLayoutParams(),i=!n&&t.get("containLabel"),s=Dg(a,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var o=this._axesList;l(),i&&(re(o,function(u){if(!u.model.get(["axisLabel","inside"])){var f=KTe(u);if(f){var d=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);s[d]-=f[d]+p,u.position==="top"?s.y+=f.height+p:u.position==="left"&&(s.x+=f.width+p)}}}),l()),re(this._coordsList,function(u){u.calcAffineTransform()});function l(){re(o,function(u){var f=u.isHorizontal(),d=f?[0,s.width]:[0,s.height],p=u.inverse?1:0;u.setExtent(d[p],d[1-p]),oNe(u,f?s.x:s.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}Vt(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===r)return i[a]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var a=this._findConvertTarget(r);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",Ha).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",Ha).models[0],i=t.gridModel,s=this._coordsList,o,l;if(r)o=r.coordinateSystem,Cr(s,o)<0&&(o=null);else if(n&&a)o=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var u=i.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var a=this,i=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,re(o.x,function(f,d){re(o.y,function(p,v){var y="x"+d+"y"+v,x=new nNe(y);x.master=a,x.model=t,a._coordsMap[y]=x,a._coordsList.push(x),x.addAxis(f),x.addAxis(p)})});function u(f){return function(d,p){if(KA(d,t)){var v=d.get("position");f==="x"?v!=="top"&&v!=="bottom"&&(v=s.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=s.left?"right":"left"),s[v]=!0;var y=new aNe(f,GTe(d),[0,0],d.get("type"),v),x=y.type==="category";y.onBand=x&&d.get("boundaryGap"),y.inverse=d.get("inverse"),d.axis=y,y.model=d,y.grid=i,y.index=p,i._axesList.push(y),o[f][p]=y,l[f]++}}}},e.prototype._updateScale=function(t,r){re(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),t.eachSeries(function(a){if(N8(a)){var i=A8(a),s=i.xAxisModel,o=i.yAxisModel;if(!KA(s,r)||!KA(o,r))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=a.getData(),f=l.getAxis("x"),d=l.getAxis("y");n(u,f),n(u,d)}},this);function n(a,i){re(mte(a,i.dim),function(s){i.scale.unionExtentFromData(a,s)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return re(this.getCartesians(),function(a){var i=t!=null&&t!=="auto"?a.getAxis(t):a.getBaseAxis(),s=a.getOtherAxis(i);Cr(r,i)<0&&r.push(i),Cr(n,s)<0&&n.push(s)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(a,i){var s=new e(a,t,r);s.name="grid_"+i,s.resize(a,r,!0),a.coordinateSystem=s,n.push(s)}),t.eachSeries(function(a){if(N8(a)){var i=A8(a),s=i.xAxisModel,o=i.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),n},e.dimensions=sP,e})();function KA(e,t){return e.getCoordSysModel()===t}function M8(e,t,r,n){r.getAxesOnZeroOf=function(){return i?[i]:[]};var a=e[t],i,s=r.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)E8(a[l])&&(i=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&E8(a[u])&&!n[f(a[u])]){i=a[u];break}i&&(n[f(i)]=!0);function f(d){return d.dim+"_"+d.index}}function E8(e){return e&&e.type!=="category"&&e.type!=="time"&&WTe(e)}function oNe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(a){return a+t}:function(a){return n-a+t},e.toLocalCoord=e.dim==="x"?function(a){return a-t}:function(a){return n-a+t}}var bu=Math.PI,Ou=(function(){function e(t,r){this.group=new xn,this.opt=r,this.axisModel=t,Rr(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new xn({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!j8[t]},e.prototype.add=function(t){j8[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var a=qQ(r-t),i,s;return F1(a)?(s=n>0?"top":"bottom",i="center"):F1(a-bu)?(s=n>0?"bottom":"top",i="center"):(s="middle",a>0&&a<bu?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e})(),j8={axisLine:function(e,t,r,n){var a=t.get(["axisLine","show"]);if(a==="auto"&&e.handleAutoShown&&(a=e.handleAutoShown("axisLine")),!!a){var i=t.axis.getExtent(),s=n.transform,o=[i[0],0],l=[i[1],0],u=o[0]>l[0];s&&(Wi(o,o,s),Wi(l,l,s));var f=gt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new fl({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:f,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Mg(d.shape,d.style.lineWidth),d.anid="line",r.add(d);var p=t.get(["axisLine","symbol"]);if(p!=null){var v=t.get(["axisLine","symbolSize"]);Pt(p)&&(p=[p,p]),(Pt(v)||Jr(v))&&(v=[v,v]);var y=r_(t.get(["axisLine","symbolOffset"])||0,v),x=v[0],b=v[1];re([{rotate:e.rotation+Math.PI/2,offset:y[0],r:0},{rotate:e.rotation-Math.PI/2,offset:y[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(w,_){if(p[_]!=="none"&&p[_]!=null){var T=dl(p[_],-x/2,-b/2,x,b,f.stroke,!0),M=w.r+w.offset,N=u?l:o;T.attr({rotation:w.rotate,x:N[0]+M*Math.cos(e.rotation),y:N[1]-M*Math.sin(e.rotation),silent:!0,z2:11}),r.add(T)}})}}},axisTickLabel:function(e,t,r,n){var a=cNe(r,n,t,e),i=dNe(r,n,t,e);if(uNe(t,i,a),fNe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=uCe(Rt(i,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));cCe(s)}},axisName:function(e,t,r,n){var a=Gs(e.axisName,t.get("name"));if(a){var i=t.get("nameLocation"),s=e.nameDirection,o=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),f=u[0]>u[1]?-1:1,d=[i==="start"?u[0]-f*l:i==="end"?u[1]+f*l:(u[0]+u[1])/2,O8(i)?e.labelOffset+s*l:0],p,v=t.get("nameRotate");v!=null&&(v=v*bu/180);var y;O8(i)?p=Ou.innerTextLayout(e.rotation,v??e.rotation,s):(p=lNe(e.rotation,i,v||0,u),y=e.axisNameAvailableWidth,y!=null&&(y=Math.abs(y/Math.sin(p.rotation)),!isFinite(y)&&(y=null)));var x=o.getFont(),b=t.get("nameTruncate",!0)||{},w=b.ellipsis,_=Gs(e.nameTruncateMaxWidth,b.maxWidth,y),T=new Ca({x:d[0],y:d[1],rotation:p.rotation,silent:Ou.isLabelSilent(t),style:_f(o,{text:a,font:x,overflow:"truncate",width:_,ellipsis:w,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||p.textAlign,verticalAlign:o.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(US({el:T,componentModel:t,itemName:a}),T.__fullText=a,T.anid="name",t.get("triggerEvent")){var M=Ou.makeAxisEventDataBase(t);M.targetType="axisName",M.name=a,wr(T).eventData=M}n.add(T),T.updateTransform(),r.add(T),T.decomposeTransform()}}};function lNe(e,t,r,n){var a=qQ(r-e),i,s,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return F1(a-bu/2)?(s=l?"bottom":"top",i="center"):F1(a-bu*1.5)?(s=l?"top":"bottom",i="center"):(s="middle",a<bu*1.5&&a>bu/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:s}}function uNe(e,t,r){if(!pte(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),a=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var i=t[0],s=t[1],o=t[t.length-1],l=t[t.length-2],u=r[0],f=r[1],d=r[r.length-1],p=r[r.length-2];n===!1?(Mi(i),Mi(u)):D8(i,s)&&(n?(Mi(s),Mi(f)):(Mi(i),Mi(u))),a===!1?(Mi(o),Mi(d)):D8(l,o)&&(a?(Mi(l),Mi(p)):(Mi(o),Mi(d)))}}function Mi(e){e&&(e.ignore=!0)}function D8(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var a=aL([]);return iL(a,a,-e.rotation),r.applyTransform(Th([],a,e.getLocalTransform())),n.applyTransform(Th([],a,t.getLocalTransform())),r.intersect(n)}}function O8(e){return e==="middle"||e==="center"}function Rte(e,t,r,n,a){for(var i=[],s=[],o=[],l=0;l<e.length;l++){var u=e[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=r,t&&(Wi(s,s,t),Wi(o,o,t));var f=new fl({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Mg(f.shape,f.style.lineWidth),f.anid=a+"_"+e[l].tickValue,i.push(f)}return i}function cNe(e,t,r,n){var a=r.axis,i=r.getModel("axisTick"),s=i.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||a.scale.isBlank())){for(var o=i.getModel("lineStyle"),l=n.tickDirection*i.get("length"),u=a.getTicksCoords(),f=Rte(u,t.transform,l,Rr(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<f.length;d++)e.add(f[d]);return f}}function fNe(e,t,r,n){var a=r.axis,i=r.getModel("minorTick");if(!(!i.get("show")||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var o=i.getModel("lineStyle"),l=n*i.get("length"),u=Rr(o.getLineStyle(),Rr(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var d=Rte(s[f],t.transform,l,u,"minorticks_"+f),p=0;p<d.length;p++)e.add(d[p])}}function dNe(e,t,r,n){var a=r.axis,i=Gs(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!i||a.scale.isBlank())){var s=r.getModel("axisLabel"),o=s.get("margin"),l=a.getViewLabels(),u=(Gs(n.labelRotate,s.get("rotate"))||0)*bu/180,f=Ou.innerTextLayout(n.rotation,u,n.labelDirection),d=r.getCategories&&r.getCategories(!0),p=[],v=Ou.isLabelSilent(r),y=r.get("triggerEvent");return re(l,function(x,b){var w=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(x.tickValue):x.tickValue,_=x.formattedLabel,T=x.rawLabel,M=s;if(d&&d[w]){var N=d[w];Vt(N)&&N.textStyle&&(M=new yn(N.textStyle,s,r.ecModel))}var C=M.getTextColor()||r.get(["axisLine","lineStyle","color"]),j=a.dataToCoord(w),O=M.getShallow("align",!0)||f.textAlign,P=sr(M.getShallow("alignMinLabel",!0),O),R=sr(M.getShallow("alignMaxLabel",!0),O),k=M.getShallow("verticalAlign",!0)||M.getShallow("baseline",!0)||f.textVerticalAlign,L=sr(M.getShallow("verticalAlignMinLabel",!0),k),I=sr(M.getShallow("verticalAlignMaxLabel",!0),k),$=new Ca({x:j,y:n.labelOffset+n.labelDirection*o,rotation:f.rotation,silent:v,z2:10+(x.level||0),style:_f(M,{text:_,align:b===0?P:b===l.length-1?R:O,verticalAlign:b===0?L:b===l.length-1?I:k,fill:rr(C)?C(a.type==="category"?T:a.type==="value"?w+"":w,b):C})});if($.anid="label_"+w,US({el:$,componentModel:r,itemName:_,formatterParamsExtra:{isTruncated:function(){return $.isTruncated},value:T,tickIndex:b}}),y){var F=Ou.makeAxisEventDataBase(r);F.targetType="axisLabel",F.value=T,F.tickIndex=b,a.type==="category"&&(F.dataIndex=w),wr($).eventData=F}t.add($),$.updateTransform(),p.push($),e.add($),$.decomposeTransform()}),p}}function hNe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return pNe(r,e,t),r.seriesInvolved&&vNe(r,e),r}function pNe(e,t,r){var n=t.getComponent("tooltip"),a=t.getComponent("axisPointer"),i=a.get("link",!0)||[],s=[];re(r.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=Ig(o.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=o;var f=o.model,d=f.getModel("tooltip",n);if(re(o.getAxes(),zr(x,!1,null)),o.getTooltipAxes&&n&&d.get("show")){var p=d.get("trigger")==="axis",v=d.get(["axisPointer","type"])==="cross",y=o.getTooltipAxes(d.get(["axisPointer","axis"]));(p||v)&&re(y.baseAxes,zr(x,v?"cross":!0,p)),v&&re(y.otherAxes,zr(x,"cross",!1))}function x(b,w,_){var T=_.model.getModel("axisPointer",a),M=T.get("show");if(!(!M||M==="auto"&&!b&&!lP(T))){w==null&&(w=T.get("triggerTooltip")),T=b?mNe(_,d,a,t,b,w):T;var N=T.get("snap"),C=T.get("triggerEmphasis"),j=Ig(_.model),O=w||N||_.type==="category",P=e.axesInfo[j]={key:j,axis:_,coordSys:o,axisPointerModel:T,triggerTooltip:w,triggerEmphasis:C,involveSeries:O,snap:N,useHandle:lP(T),seriesModels:[],linkGroup:null};u[j]=P,e.seriesInvolved=e.seriesInvolved||O;var R=gNe(i,_);if(R!=null){var k=s[R]||(s[R]={axesInfo:{}});k.axesInfo[j]=P,k.mapper=i[R].mapper,P.linkGroup=k}}}})}function mNe(e,t,r,n,a,i){var s=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};re(o,function(p){l[p]=ur(s.get(p))}),l.snap=e.type!=="category"&&!!i,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),a==="cross"){var f=s.get(["label","show"]);if(u.show=f??!0,!i){var d=l.lineStyle=s.get("crossStyle");d&&Rr(u,d.textStyle)}}return e.model.getModel("axisPointer",new yn(l,r,n))}function vNe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,a=r.get(["tooltip","trigger"],!0),i=r.get(["tooltip","show"],!0);!n||a==="none"||a===!1||a==="item"||i===!1||r.get(["axisPointer","show"],!0)===!1||re(e.coordSysAxesInfo[Ig(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function gNe(e,t){for(var r=t.model,n=t.dim,a=0;a<e.length;a++){var i=e[a]||{};if(YA(i[n+"AxisId"],r.id)||YA(i[n+"AxisIndex"],r.componentIndex)||YA(i[n+"AxisName"],r.name))return a}}function YA(e,t){return e==="all"||wt(e)&&Cr(e,t)>=0||e===t}function yNe(e){var t=nI(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,a=r.option,i=r.get("status"),s=r.get("value");s!=null&&(s=n.parse(s));var o=lP(r);i==null&&(a.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),a.value=s,o&&(a.status=t.axis.scale.isBlank()?"hide":"show")}}function nI(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Ig(e)]}function xNe(e){var t=nI(e);return t&&t.axisPointerModel}function lP(e){return!!e.get(["handle","show"])}function Ig(e){return e.type+"||"+e.id}var P8={},Lte=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a,i){this.axisPointerClass&&yNe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,a,!0)},t.prototype.updateAxisPointer=function(r,n,a,i){this._doUpdateAxisPointerClass(r,a,!1)},t.prototype.remove=function(r,n){var a=this._axisPointer;a&&a.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,a){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var s=xNe(r);s?(this._axisPointer||(this._axisPointer=new i)).render(r,s,n,a):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){P8[r]=n},t.getAxisPointerClass=function(r){return r&&P8[r]},t.type="axis",t})(Qi),uP=un();function bNe(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitArea"),s=i.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:i,clamp:!0});if(u.length){var f=o.length,d=uP(e).splitAreaColors,p=Xt(),v=0;if(d)for(var y=0;y<u.length;y++){var x=d.get(u[y].tickValue);if(x!=null){v=(x+(f-1)*y)%f;break}}var b=a.toGlobalCoord(u[0].coord),w=s.getAreaStyle();o=wt(o)?o:[o];for(var y=1;y<u.length;y++){var _=a.toGlobalCoord(u[y].coord),T=void 0,M=void 0,N=void 0,C=void 0;a.isHorizontal()?(T=b,M=l.y,N=_-T,C=l.height,b=T+N):(T=l.x,M=b,N=l.width,C=_-M,b=M+C);var j=u[y-1].tickValue;j!=null&&p.set(j,v),t.add(new dn({anid:j!=null?"area_"+j:null,shape:{x:T,y:M,width:N,height:C},style:Rr({fill:o[v]},w),autoBatch:!0,silent:!0})),v=(v+1)%f}uP(e).splitAreaColors=p}}}function wNe(e){uP(e).splitAreaColors=null}var SNe=["axisLine","axisTickLabel","axisName"],_Ne=["splitArea","splitLine","minorSplitLine"],Ite=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,a,i){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new xn,this.group.add(this._axisGroup),!!r.get("show")){var o=r.getCoordSysModel(),l=oP(o,r),u=new Ou(r,gt({handleAutoShown:function(d){for(var p=o.coordinateSystem.getCartesians(),v=0;v<p.length;v++)if(rP(p[v].getOtherAxis(r.axis).scale))return!0;return!1}},l));re(SNe,u.add,u),this._axisGroup.add(u.getGroup()),re(_Ne,function(d){r.get([d,"show"])&&TNe[d](this,this._axisGroup,r,o)},this);var f=i&&i.type==="changeAxisOrder"&&i.isInitSort;f||DJ(s,this._axisGroup,r),e.prototype.render.call(this,r,n,a,i)}},t.prototype.remove=function(){wNe(this)},t.type="cartesianAxis",t})(Lte),TNe={splitLine:function(e,t,r,n){var a=r.axis;if(!a.scale.isBlank()){var i=r.getModel("splitLine"),s=i.getModel("lineStyle"),o=s.get("color"),l=i.get("showMinLine")!==!1,u=i.get("showMaxLine")!==!1;o=wt(o)?o:[o];for(var f=n.coordinateSystem.getRect(),d=a.isHorizontal(),p=0,v=a.getTicksCoords({tickModel:i}),y=[],x=[],b=s.getLineStyle(),w=0;w<v.length;w++){var _=a.toGlobalCoord(v[w].coord);if(!(w===0&&!l||w===v.length-1&&!u)){var T=v[w].tickValue;d?(y[0]=_,y[1]=f.y,x[0]=_,x[1]=f.y+f.height):(y[0]=f.x,y[1]=_,x[0]=f.x+f.width,x[1]=_);var M=p++%o.length,N=new fl({anid:T!=null?"line_"+T:null,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:Rr({stroke:o[M]},b),silent:!0});Mg(N.shape,b.lineWidth),t.add(N)}}}},minorSplitLine:function(e,t,r,n){var a=r.axis,i=r.getModel("minorSplitLine"),s=i.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var f=[],d=[],p=s.getLineStyle(),v=0;v<u.length;v++)for(var y=0;y<u[v].length;y++){var x=a.toGlobalCoord(u[v][y].coord);l?(f[0]=x,f[1]=o.y,d[0]=x,d[1]=o.y+o.height):(f[0]=o.x,f[1]=x,d[0]=o.x+o.width,d[1]=x);var b=new fl({anid:"minor_line_"+u[v][y].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:p,silent:!0});Mg(b.shape,p.lineWidth),t.add(b)}},splitArea:function(e,t,r,n){bNe(e,t,r,n)}},Bte=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t})(Ite),CNe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Bte.type,r}return t.type="yAxis",t})(Ite),NNe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new dn({shape:r.coordinateSystem.getRect(),style:Rr({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Qi),k8={offset:0};function ANe(e){e.registerComponentView(NNe),e.registerComponentModel(XCe),e.registerCoordinateSystem("cartesian2d",sNe),_8(e,"x",iP,k8),_8(e,"y",iP,k8),e.registerComponentView(Bte),e.registerComponentView(CNe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var R8="\0_ec_interaction_mutex";function L8(e,t){return!!MNe(e)[t]}function MNe(e){return e[R8]||(e[R8]={})}Lf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},_a);var ENe=(function(e){Bt(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var a=er(n._mousedownHandler,n),i=er(n._mousemoveHandler,n),s=er(n._mouseupHandler,n),o=er(n._mousewheelHandler,n),l=er(n._pinchHandler,n);return n.enable=function(u,f){this.disable(),this._opt=Rr(ur(f)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(r.on("mousedown",a),r.on("mousemove",i),r.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(r.on("mousewheel",o),r.on("pinch",l))},n.disable=function(){r.off("mousedown",a),r.off("mousemove",i),r.off("mouseup",s),r.off("mousewheel",o),r.off("pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!Nz(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var a=r.offsetX,i=r.offsetY;this.pointerChecker&&this.pointerChecker(r,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!c1("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||L8(this._zr,"globalPan"))){var n=r.offsetX,a=r.offsetY,i=this._x,s=this._y,o=n-i,l=a-s;this._x=n,this._y=a,this._opt.preventDefaultMouseMove&&Wh(r.event),$te(this,"pan","moveOnMouseMove",r,{dx:o,dy:l,oldX:i,oldY:s,newX:n,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){Nz(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=c1("zoomOnMouseWheel",r,this._opt),a=c1("moveOnMouseWheel",r,this._opt),i=r.wheelDelta,s=Math.abs(i),o=r.offsetX,l=r.offsetY;if(!(i===0||!n&&!a)){if(n){var u=s>3?1.4:s>1?1.2:1.1,f=i>0?u:1/u;XA(this,"zoom","zoomOnMouseWheel",r,{scale:f,originX:o,originY:l,isAvailableBehavior:null})}if(a){var d=Math.abs(i),p=(i>0?1:-1)*(d>3?.4:d>1?.15:.05);XA(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:p,originX:o,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!L8(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;XA(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t})(Es);function XA(e,t,r,n,a){e.pointerChecker&&e.pointerChecker(n,a.originX,a.originY)&&(Wh(n.event),$te(e,t,r,n,a))}function $te(e,t,r,n,a){a.isAvailableBehavior=er(c1,null,r,n),e.trigger(t,a)}function c1(e,t,r){var n=r[e];return!e||n&&(!Pt(n)||t.event[n+"Key"])}var I8=fl.prototype,ZA=zS.prototype,zte=(function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e})();(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(zte);function QA(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var jNe=(function(e){Bt(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new zte},t.prototype.buildPath=function(r,n){QA(n)?I8.buildPath.call(this,r,n):ZA.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return QA(this.shape)?I8.pointAt.call(this,r):ZA.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,a=QA(n)?[n.x2-n.x1,n.y2-n.y1]:ZA.tangentAt.call(this,r);return rL(a,a)},t})(Lr),JA=["fromSymbol","toSymbol"];function B8(e){return"_"+e+"Type"}function $8(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var a=t.getItemVisual(r,e+"Size"),i=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=FL(a),u=r_(s||0,l);return n+l+u+(i||"")+(o||"")}function z8(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var a=t.getItemVisual(r,e+"Size"),i=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=FL(a),u=r_(s||0,l),f=dl(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return f.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,f.name=e,f}}function DNe(e){var t=new jNe({name:"line",subPixelOptimize:!0});return cP(t.shape,e),t}function cP(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var ONe=(function(e){Bt(t,e);function t(r,n,a){var i=e.call(this)||this;return i._createLine(r,n,a),i}return t.prototype._createLine=function(r,n,a){var i=r.hostModel,s=r.getItemLayout(n),o=DNe(s);o.shape.percent=0,oo(o,{shape:{percent:1}},i,n),this.add(o),re(JA,function(l){var u=z8(l,r,n);this.add(u),this[B8(l)]=$8(l,r,n)},this),this._updateCommonStl(r,n,a)},t.prototype.updateData=function(r,n,a){var i=r.hostModel,s=this.childOfName("line"),o=r.getItemLayout(n),l={shape:{}};cP(l.shape,o),Na(s,l,i,n),re(JA,function(u){var f=$8(u,r,n),d=B8(u);if(this[d]!==f){this.remove(this.childOfName(u));var p=z8(u,r,n);this.add(p)}this[d]=f},this),this._updateCommonStl(r,n,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,a){var i=r.hostModel,s=this.childOfName("line"),o=a&&a.emphasisLineStyle,l=a&&a.blurLineStyle,u=a&&a.selectLineStyle,f=a&&a.labelStatesModels,d=a&&a.emphasisDisabled,p=a&&a.focus,v=a&&a.blurScope;if(!a||r.hasItemOption){var y=r.getItemModel(n),x=y.getModel("emphasis");o=x.getModel("lineStyle").getLineStyle(),l=y.getModel(["blur","lineStyle"]).getLineStyle(),u=y.getModel(["select","lineStyle"]).getLineStyle(),d=x.get("disabled"),p=x.get("focus"),v=x.get("blurScope"),f=Rf(y)}var b=r.getItemVisual(n,"style"),w=b.stroke;s.useStyle(b),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,re(JA,function(C){var j=this.childOfName(C);if(j){j.setColor(w),j.style.opacity=b.opacity;for(var O=0;O<Zi.length;O++){var P=Zi[O],R=s.getState(P);if(R){var k=R.style||{},L=j.ensureState(P),I=L.style||(L.style={});k.stroke!=null&&(I[j.__isEmptyBrush?"stroke":"fill"]=k.stroke),k.opacity!=null&&(I.opacity=k.opacity)}}j.markRedraw()}},this);var _=i.getRawValue(n);Ep(this,f,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(C,j){return i.getFormattedLabel(C,j,r.dataType)}},inheritColor:w||"#000",defaultOpacity:b.opacity,defaultText:(_==null?r.getName(n):isFinite(_)?An(_):_)+""});var T=this.getTextContent();if(T){var M=f.normal;T.__align=T.style.align,T.__verticalAlign=T.style.verticalAlign,T.__position=M.get("position")||"middle";var N=M.get("distance");wt(N)||(N=[N,N]),T.__labelDistance=N}this.setTextConfig({position:null,local:!0,inside:!1}),Kh(this,p,v,d)},t.prototype.highlight=function(){Ng(this)},t.prototype.downplay=function(){Ag(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");cP(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),a=r.childOfName("toSymbol"),i=r.getTextContent();if(!n&&!a&&(!i||i.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,f=l.pointAt(0),d=l.pointAt(u),p=CQ([],d,f);rL(p,p);function v(R,k){var L=R.__specifiedRotation;if(L==null){var I=l.tangentAt(k);R.attr("rotation",(k===1?-1:1)*Math.PI/2-Math.atan2(I[1],I[0]))}else R.attr("rotation",L)}if(n&&(n.setPosition(f),v(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),a&&(a.setPosition(d),v(a,1),a.scaleX=a.scaleY=s*u,a.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var y=void 0,x=void 0,b=i.__labelDistance,w=b[0]*s,_=b[1]*s,T=u/2,M=l.tangentAt(T),N=[M[1],-M[0]],C=l.pointAt(T);N[1]>0&&(N[0]=-N[0],N[1]=-N[1]);var j=M[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var O=-Math.atan2(M[1],M[0]);d[0]<f[0]&&(O=Math.PI+O),i.rotation=O}var P=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":P=-_,x="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":P=_,x="top";break;default:P=0,x="middle"}switch(i.__position){case"end":i.x=p[0]*w+d[0],i.y=p[1]*_+d[1],y=p[0]>.8?"left":p[0]<-.8?"right":"center",x=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":i.x=-p[0]*w+f[0],i.y=-p[1]*_+f[1],y=p[0]>.8?"right":p[0]<-.8?"left":"center",x=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=w*j+f[0],i.y=f[1]+P,y=M[0]<0?"right":"left",i.originX=-w*j,i.originY=-P;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=C[0],i.y=C[1]+P,y="center",i.originY=-P;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-w*j+d[0],i.y=d[1]+P,y=M[0]>=0?"right":"left",i.originX=w*j,i.originY=-P;break}i.scaleX=i.scaleY=s,i.setStyle({verticalAlign:i.__verticalAlign||x,align:i.__align||y})}},t})(xn),PNe=(function(){function e(t){this.group=new xn,this._LineCtor=t||ONe}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,a=n.group,i=n._lineData;n._lineData=t,i||a.removeAll();var s=F8(t);t.diff(i).add(function(o){r._doAdd(t,o,s)}).update(function(o,l){r._doUpdate(i,t,l,o,s)}).remove(function(o){a.remove(i.getItemGraphicEl(o))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=F8(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(o){!o.isGroup&&!kNe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var i=r.getItemLayout(a);if(e2(i)){var s=new this._LineCtor(r,a,this._seriesScope);s.traverse(n),this.group.add(s),r.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){z0(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var a=t.getItemLayout(r);if(e2(a)){var i=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,i),this.group.add(i)}},e.prototype._doUpdate=function(t,r,n,a,i){var s=t.getItemGraphicEl(n);if(!e2(r.getItemLayout(a))){this.group.remove(s);return}s?s.updateData(r,a,i):s=new this._LineCtor(r,a,i),r.setItemGraphicEl(a,s),this.group.add(s)},e})();function kNe(e){return e.animators&&e.animators.length>0}function F8(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Rf(t)}}function U8(e){return isNaN(e[0])||isNaN(e[1])}function e2(e){return e&&!U8(e[0])&&!U8(e[1])}function o_(e,t,r,n,a,i){e=e||0;var s=r[1]-r[0];if(a!=null&&(a=Bd(a,[0,s])),i!=null&&(i=Math.max(i,a??0)),n==="all"){var o=Math.abs(t[1]-t[0]);o=Bd(o,[0,s]),a=i=Bd(o,[a,i]),n=0}t[0]=Bd(t[0],r),t[1]=Bd(t[1],r);var l=t2(t,n);t[n]+=e;var u=a||0,f=r.slice();l.sign<0?f[0]+=u:f[1]-=u,t[n]=Bd(t[n],f);var d;return d=t2(t,n),a!=null&&(d.sign!==l.sign||d.span<a)&&(t[1-n]=t[n]+l.sign*a),d=t2(t,n),i!=null&&d.span>i&&(t[1-n]=t[n]+d.sign*i),t}function t2(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function Bd(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var qc=un(),H8=ur,r2=er,RNe=(function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,a){var i=r.get("value"),s=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===s)){this._lastValue=i,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,i,t,r,n);var f=u.graphicKey;f!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=f;var d=this._moveAnimation=this.determineAnimation(t,r);if(!o)o=this._group=new xn,this.createPointerEl(o,u,t,r),this.createLabelEl(o,u,t,r),n.getZr().add(o);else{var p=zr(V8,r,d);this.updatePointerEl(o,u,p),this.updateLabelEl(o,u,p,r)}G8(o,r,!0),this._renderHandle(i)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),a=t.axis,i=a.type==="category",s=r.get("snap");if(!s&&!i)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(i&&a.getBandWidth()>o)return!0;if(s){var l=nI(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,a,i){},e.prototype.createPointerEl=function(t,r,n,a){var i=r.pointer;if(i){var s=qc(t).pointerEl=new B1e[i.type](H8(r.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,r,n,a){if(r.label){var i=qc(t).labelEl=new Ca(H8(r.label));t.add(i),q8(i,a)}},e.prototype.updatePointerEl=function(t,r,n){var a=qc(t).pointerEl;a&&r.pointer&&(a.setStyle(r.pointer.style),n(a,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,a){var i=qc(t).labelEl;i&&(i.setStyle(r.label.style),n(i,{x:r.label.x,y:r.label.y}),q8(i,a))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=r.getModel("handle"),s=r.get("status");if(!i.get("show")||!s||s==="hide"){a&&n.remove(a),this._handle=null;return}var o;this._handle||(o=!0,a=this._handle=TL(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Wh(u.event)},onmousedown:r2(this._onHandleDragMove,this,0,0),drift:r2(this._onHandleDragMove,this),ondragend:r2(this._onHandleDragEnd,this)}),n.add(a)),G8(a,r,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");wt(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,t_(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},e.prototype._moveHandleToValue=function(t,r){V8(this._axisPointerModel,!r&&this._moveAnimation,this._handle,n2(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(n2(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(n2(a)),qc(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,a=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),a&&r.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),Q1(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e})();function V8(e,t,r,n){Fte(qc(r).lastProp,n)||(qc(r).lastProp=n,t?Na(r,n,e):(r.stopAnimation(),r.attr(n)))}function Fte(e,t){if(Vt(e)&&Vt(t)){var r=!0;return re(t,function(n,a){r=r&&Fte(e[a],n)}),!!r}else return e===t}function q8(e,t){e[t.get(["label","show"])?"show":"hide"]()}function n2(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function G8(e,t,r){var n=t.get("z"),a=t.get("zlevel");e&&e.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=r)})}function LNe(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function INe(e,t,r,n,a){var i=r.get("value"),s=Ute(i,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),o=r.getModel("label"),l=QS(o.get("padding")||0),u=o.getFont(),f=uL(s,u),d=a.position,p=f.width+l[1]+l[3],v=f.height+l[0]+l[2],y=a.align;y==="right"&&(d[0]-=p),y==="center"&&(d[0]-=p/2);var x=a.verticalAlign;x==="bottom"&&(d[1]-=v),x==="middle"&&(d[1]-=v/2),BNe(d,p,v,n);var b=o.get("backgroundColor");(!b||b==="auto")&&(b=t.get(["axisLine","lineStyle","color"])),e.label={x:d[0],y:d[1],style:_f(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:b}),z2:10}}function BNe(e,t,r,n){var a=n.getWidth(),i=n.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+r,i)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Ute(e,t,r,n,a){e=t.scale.parse(e);var i=t.scale.getLabel({value:e},{precision:a.precision}),s=a.formatter;if(s){var o={value:QL(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};re(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),f=l.dataIndexInside,d=u&&u.getDataParams(f);d&&o.seriesData.push(d)}),Pt(s)?i=s.replace("{value}",i):rr(s)&&(i=s(o))}return i}function Hte(e,t,r){var n=_h();return iL(n,n,r.rotation),wO(n,n,r.position),Eg([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function $Ne(e,t,r,n,a,i){var s=Ou.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get(["label","margin"]),INe(t,n,a,i,{position:Hte(n.axis,e,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function zNe(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function FNe(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}var UNe=(function(e){Bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,a,i,s){var o=a.axis,l=o.grid,u=i.get("type"),f=W8(l,o).getOtherAxis(o).getGlobalExtent(),d=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var p=LNe(i),v=HNe[u](o,d,f);v.style=p,r.graphicKey=v.type,r.pointer=v}var y=oP(l.model,a);$Ne(n,r,y,a,i,s)},t.prototype.getHandleTransform=function(r,n,a){var i=oP(n.axis.grid.model,n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var s=Hte(n.axis,r,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,a,i){var s=a.axis,o=s.grid,l=s.getGlobalExtent(!0),u=W8(o,s).getOtherAxis(s).getGlobalExtent(),f=s.dim==="x"?0:1,d=[r.x,r.y];d[f]+=n[f],d[f]=Math.min(l[1],d[f]),d[f]=Math.max(l[0],d[f]);var p=(u[1]+u[0])/2,v=[p,p];v[f]=d[f];var y=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:r.rotation,cursorPoint:v,tooltipOption:y[f]}},t})(RNe);function W8(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var HNe={line:function(e,t,r){var n=zNe([t,r[0]],[t,r[1]],K8(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),a=r[1]-r[0];return{type:"Rect",shape:FNe([t-n/2,r[0]],[n,a],K8(e))}}};function K8(e){return e.dim==="x"?0:1}var VNe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t})(Pr),Zo=un(),qNe=re;function Vte(e,t,r){if(!Yt.node){var n=t.getZr();Zo(n).records||(Zo(n).records={}),GNe(n,t);var a=Zo(n).records[e]||(Zo(n).records[e]={});a.handler=r}}function GNe(e,t){if(Zo(e).initialized)return;Zo(e).initialized=!0,r("click",zr(Y8,"click")),r("mousemove",zr(Y8,"mousemove")),r("globalout",KNe);function r(n,a){e.on(n,function(i){var s=YNe(t);qNe(Zo(e).records,function(o){o&&a(o,i,s.dispatchAction)}),WNe(s.pendings,t)})}}function WNe(e,t){var r=e.showTip.length,n=e.hideTip.length,a;r?a=e.showTip[r-1]:n&&(a=e.hideTip[n-1]),a&&(a.dispatchAction=null,t.dispatchAction(a))}function KNe(e,t,r){e.handler("leave",null,r)}function Y8(e,t,r,n){t.handler(e,r,n)}function YNe(e){var t={showTip:[],hideTip:[]},r=function(n){var a=t[n.type];a?a.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function fP(e,t){if(!Yt.node){var r=t.getZr(),n=(Zo(r).records||{})[e];n&&(Zo(r).records[e]=null)}}var XNe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a){var i=n.getComponent("tooltip"),s=r.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";Vte("axisPointer",a,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){fP("axisPointer",n)},t.prototype.dispose=function(r,n){fP("axisPointer",n)},t.type="axisPointer",t})(Qi);function qte(e,t){var r=[],n=e.seriesIndex,a;if(n==null||!(a=t.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),s=wf(i,e);if(s==null||s<0||wt(s))return{point:[]};var o=i.getItemGraphicEl(s),l=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),f=l.getOtherAxis(u),d=f.dim,p=u.dim,v=d==="x"||d==="radius"?1:0,y=i.mapDimension(p),x=[];x[v]=i.get(y,s),x[1-v]=i.get(i.getCalculationInfo("stackResultDimension"),s),r=l.dataToPoint(x)||[]}else r=l.dataToPoint(i.getValues(Rt(l.dimensions,function(w){return i.mapDimension(w)}),s))||[];else if(o){var b=o.getBoundingRect().clone();b.applyTransform(o.transform),r=[b.x+b.width/2,b.y+b.height/2]}return{point:r,el:o}}var X8=un();function ZNe(e,t,r){var n=e.currTrigger,a=[e.x,e.y],i=e,s=e.dispatchAction||er(r.dispatchAction,r),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){f1(a)&&(a=qte({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},t).point);var l=f1(a),u=i.axesInfo,f=o.axesInfo,d=n==="leave"||f1(a),p={},v={},y={list:[],map:{}},x={showPointer:zr(JNe,v),showTooltip:zr(eAe,y)};re(o.coordSysMap,function(w,_){var T=l||w.containPoint(a);re(o.coordSysAxesInfo[_],function(M,N){var C=M.axis,j=aAe(u,M);if(!d&&T&&(!u||j)){var O=j&&j.value;O==null&&!l&&(O=C.pointToData(a)),O!=null&&Z8(M,O,x,!1,p)}})});var b={};return re(f,function(w,_){var T=w.linkGroup;T&&!v[_]&&re(T.axesInfo,function(M,N){var C=v[N];if(M!==w&&C){var j=C.value;T.mapper&&(j=w.axis.scale.parse(T.mapper(j,Q8(M),Q8(w)))),b[w.key]=j}})}),re(b,function(w,_){Z8(f[_],w,x,!0,p)}),tAe(v,f,p),rAe(y,a,e,s),nAe(f,s,r),p}}function Z8(e,t,r,n,a){var i=e.axis;if(!(i.scale.isBlank()||!i.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var s=QNe(t,e),o=s.payloadBatch,l=s.snapToValue;o[0]&&a.seriesIndex==null&&gt(a,o[0]),!n&&e.snap&&i.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,o),r.showTooltip(e,s,l)}}function QNe(e,t){var r=t.axis,n=r.dim,a=e,i=[],s=Number.MAX_VALUE,o=-1;return re(t.seriesModels,function(l,u){var f=l.getData().mapDimensionsAll(n),d,p;if(l.getAxisTooltipData){var v=l.getAxisTooltipData(f,e,r);p=v.dataIndices,d=v.nestestValue}else{if(p=l.getData().indicesOfNearest(f[0],e,r.type==="category"?.5:null),!p.length)return;d=l.getData().get(f[0],p[0])}if(!(d==null||!isFinite(d))){var y=e-d,x=Math.abs(y);x<=s&&((x<s||y>=0&&o<0)&&(s=x,o=y,a=d,i.length=0),re(p,function(b){i.push({seriesIndex:l.seriesIndex,dataIndexInside:b,dataIndex:l.getData().getRawIndex(b)})}))}}),{payloadBatch:i,snapToValue:a}}function JNe(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function eAe(e,t,r,n){var a=r.payloadBatch,i=t.axis,s=i.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!a.length)){var l=t.coordSys.model,u=Ig(l),f=e.map[u];f||(f=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(f)),f.dataByAxis.push({axisDim:i.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function tAe(e,t,r){var n=r.axesInfo=[];re(t,function(a,i){var s=a.axisPointerModel.option,o=e[i];o?(!a.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!a.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:s.value})})}function rAe(e,t,r,n){if(f1(t)||!e.list.length){n({type:"hideTip"});return}var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}function nAe(e,t,r){var n=r.getZr(),a="axisPointerLastHighlights",i=X8(n)[a]||{},s=X8(n)[a]={};re(e,function(u,f){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&re(d.seriesDataIndices,function(p){var v=p.seriesIndex+" | "+p.dataIndex;s[v]=p})});var o=[],l=[];re(i,function(u,f){!s[f]&&l.push(u)}),re(s,function(u,f){!i[f]&&o.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function aAe(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function Q8(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function f1(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function l_(e){Lte.registerAxisPointerClass("CartesianAxisPointer",UNe),e.registerComponentModel(VNe),e.registerComponentView(XNe),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!wt(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=hNe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ZNe)}function Gte(e){Cs(ANe),Cs(l_)}var J8=["x","y","radius","angle","single"],iAe=["cartesian2d","polar","singleAxis"];function sAe(e){var t=e.get("coordinateSystem");return Cr(iAe,t)>=0}function wu(e){return e+"Axis"}function oAe(e,t){var r=Xt(),n=[],a=Xt();e.eachComponent({mainType:"dataZoom",query:t},function(f){a.get(f.uid)||o(f)});var i;do i=!1,e.eachComponent("dataZoom",s);while(i);function s(f){!a.get(f.uid)&&l(f)&&(o(f),i=!0)}function o(f){a.set(f.uid,!0),n.push(f),u(f)}function l(f){var d=!1;return f.eachTargetAxis(function(p,v){var y=r.get(p);y&&y[v]&&(d=!0)}),d}function u(f){f.eachTargetAxis(function(d,p){(r.get(d)||r.set(d,[]))[p]=!0})}return n}function Wte(e){var t=e.ecModel,r={infoList:[],infoMap:Xt()};return e.eachTargetAxis(function(n,a){var i=t.getComponent(wu(n),a);if(i){var s=i.getCoordSysModel();if(s){var o=s.uid,l=r.infoMap.get(o);l||(l={model:s,axisModels:[]},r.infoList.push(l),r.infoMap.set(o,l)),l.axisModels.push(i)}}}),r}var a2=(function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e})(),iw=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,a){var i=eH(r);this.settledOption=i,this.mergeDefaultAndTheme(r,a),this._doInit(i)},t.prototype.mergeOption=function(r){var n=eH(r);xr(this.option,r,!0),xr(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var a=this.settledOption;re([["start","startValue"],["end","endValue"]],function(i,s){this._rangePropMode[s]==="value"&&(n[i[0]]=a[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=Xt(),a=this._fillSpecifiedTargetAxis(n);a?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return re(J8,function(a){var i=this.getReferringComponents(wu(a),Mxe);if(i.specified){n=!0;var s=new a2;re(i.models,function(o){s.add(o.componentIndex)}),r.set(a,s)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var a=this.ecModel,i=!0;if(i){var s=n==="vertical"?"y":"x",o=a.findComponents({mainType:s+"Axis"});l(o,s)}if(i){var o=a.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===n}});l(o,"single")}function l(u,f){var d=u[0];if(d){var p=new a2;if(p.add(d.componentIndex),r.set(f,p),i=!1,f==="x"||f==="y"){var v=d.getReferringComponents("grid",Ha).models[0];v&&re(u,function(y){d.componentIndex!==y.componentIndex&&v===y.getReferringComponents("grid",Ha).models[0]&&p.add(y.componentIndex)})}}}i&&re(J8,function(u){if(i){var f=a.findComponents({mainType:wu(u),filter:function(p){return p.get("type",!0)==="category"}});if(f[0]){var d=new a2;d.add(f[0].componentIndex),r.set(u,d),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,a=this.get("rangeMode");re([["start","startValue"],["end","endValue"]],function(i,s){var o=r[i[0]]!=null,l=r[i[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":a?n[s]=a[s]:o&&(n[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,a){r==null&&(r=this.ecModel.getComponent(wu(n),a))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(a,i){re(a.indexList,function(s){r.call(n,i,s)})})},t.prototype.getAxisProxy=function(r,n){var a=this.getAxisModel(r,n);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var a=this._targetAxisInfoMap.get(r);if(a&&a.indexMap[n])return this.ecModel.getComponent(wu(r),n)},t.prototype.setRawRange=function(r){var n=this.option,a=this.settledOption;re([["start","startValue"],["end","endValue"]],function(i){(r[i[0]]!=null||r[i[1]]!=null)&&(n[i[0]]=a[i[0]]=r[i[0]],n[i[1]]=a[i[1]]=r[i[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;re(["start","startValue","end","endValue"],function(a){n[a]=r[a]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var s=a[i],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(Pr);function eH(e){var t={};return re(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var Kte=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,a,i){this.dataZoomModel=r,this.ecModel=n,this.api=a},t.type="dataZoom",t})(Qi),rh=re,tH=Yc,lAe=(function(){function e(t,r,n,a){this._dimName=t,this._axisIndex=r,this.ecModel=a,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(sAe(r)){var n=wu(this._dimName),a=r.getReferringComponents(n,Ha).models[0];a&&this._axisIndex===a.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return ur(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),a=n.axis.scale,i=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;rh(["start","end"],function(p,v){var y=t[p],x=t[p+"Value"];i[v]==="percent"?(y==null&&(y=s[v]),x=a.parse(fa(y,s,r))):(u=!0,x=x==null?r[v]:a.parse(x),y=fa(x,r,s)),l[v]=x==null||isNaN(x)?r[v]:x,o[v]=y==null||isNaN(y)?s[v]:y}),tH(l),tH(o);var f=this._minMaxSpan;u?d(l,o,r,s,!1):d(o,l,s,r,!0);function d(p,v,y,x,b){var w=b?"Span":"ValueSpan";o_(0,p,y,"all",f["min"+w],f["max"+w]);for(var _=0;_<2;_++)v[_]=fa(p[_],y,x,!0),b&&(v[_]=a.parse(v[_]))}return{valueWindow:l,percentWindow:o}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=uAe(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,a=this.getTargetSeriesModels(),i=t.get("filterMode"),s=this._valueWindow;if(i==="none")return;rh(a,function(l){var u=l.getData(),f=u.mapDimensionsAll(n);if(f.length){if(i==="weakFilter"){var d=u.getStore(),p=Rt(f,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var y,x,b,w=0;w<f.length;w++){var _=d.get(p[w],v),T=!isNaN(_),M=_<s[0],N=_>s[1];if(T&&!M&&!N)return!0;T&&(b=!0),M&&(y=!0),N&&(x=!0)}return b&&y&&x})}else rh(f,function(v){if(i==="empty")l.setData(u=u.map(v,function(x){return o(x)?x:NaN}));else{var y={};y[v]=s,u.selectRange(y)}});rh(f,function(v){u.setApproximateExtent(s,v)})}});function o(l){return l>=s[0]&&l<=s[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;rh(["min","max"],function(a){var i=r.get(a+"Span"),s=r.get(a+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?i=fa(n[0]+s,n,[0,100],!0):i!=null&&(s=fa(i,[0,100],n,!0)-n[0]),t[a+"Span"]=i,t[a+"ValueSpan"]=s},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var a=VQ(n,[0,500]);a=Math.min(a,20);var i=t.axis.scale.rawExtentInfo;r[0]!==0&&i.setDeterminedMinMax("min",+n[0].toFixed(a)),r[1]!==100&&i.setDeterminedMinMax("max",+n[1].toFixed(a)),i.freeze()}},e})();function uAe(e,t,r){var n=[1/0,-1/0];rh(r,function(s){XTe(n,s.getData(),t)});var a=e.getAxisModel(),i=dte(a.axis.scale,a,n).calculate();return[i.min,i.max]}var cAe={getTargetSeries:function(e){function t(a){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(s,o){var l=e.getComponent(wu(s),o);a(s,o,l,i)})})}t(function(a,i,s,o){s.__dzAxisProxy=null});var r=[];t(function(a,i,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new lAe(a,i,o,e),r.push(s.__dzAxisProxy))});var n=Xt();return re(r,function(a){re(a.getTargetSeriesModels(),function(i){n.set(i.uid,i)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).reset(r)}),r.eachTargetAxis(function(n,a){r.getAxisProxy(n,a).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var a=n.getDataPercentWindow(),i=n.getDataValueWindow();r.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function fAe(e){e.registerAction("dataZoom",function(t,r){var n=oAe(r,t);re(n,function(a){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var rH=!1;function Yte(e){rH||(rH=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,cAe),fAe(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function dAe(e,t){var r=QS(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new dn({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var hAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t})(Pr);function Xte(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function Zte(e){if(Yt.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var Qte=Zte(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),pAe=Zte(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Jte(e,t){if(!e)return t;t=GJ(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function mAe(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var vAe=Jte(pAe,"transition"),aI=Jte(Qte,"transform"),gAe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Yt.transform3dSupported?"will-change:transform;":"");function yAe(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function xAe(e,t,r){if(!Pt(r)||r==="inside")return"";var n=e.get("backgroundColor"),a=e.get("borderWidth");t=Tf(t);var i=yAe(r),s=Math.max(Math.round(a)*1.5,6),o="",l=aI+":",u;Cr(["left","right"],i)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=i==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=i==="top"?225:45)+"deg)");var f=u*Math.PI/180,d=s+a,p=d*Math.abs(Math.cos(f))+d*Math.abs(Math.sin(f)),v=Math.round(((p-Math.SQRT2*a)/2+Math.SQRT2*a-(p-d)/2)*100)/100;o+=";"+i+":-"+v+"px";var y=t+" solid "+a+"px;",x=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+y,"border-right:"+y,"background-color:"+n+";"];return'<div style="'+x.join("")+'"></div>'}function bAe(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,a="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,a+=Yt.transformSupported?","+aI+n:",left"+n+",top"+n),vAe+":"+a}function nH(e,t,r){var n=e.toFixed(0)+"px",a=t.toFixed(0)+"px";if(!Yt.transformSupported)return r?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=Yt.transform3dSupported,s="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return r?"top:0;left:0;"+aI+":"+s+";":[["top",0],["left",0],[Qte,s]]}function wAe(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var a=sr(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+a+"px");var i=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return i&&s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+i),re(["decoration","align"],function(u){var f=e.get(u);f&&t.push("text-"+u+":"+f)}),t.join(";")}function SAe(e,t,r){var n=[],a=e.get("transitionDuration"),i=e.get("backgroundColor"),s=e.get("shadowBlur"),o=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),f=e.getModel("textStyle"),d=yee(e,"html"),p=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+p),t&&a&&n.push(bAe(a,r)),i&&n.push("background-color:"+i),re(["width","color","radius"],function(v){var y="border-"+v,x=GJ(y),b=e.get(x);b!=null&&n.push(y+":"+b+(v==="color"?"":"px"))}),n.push(wAe(f)),d!=null&&n.push("padding:"+QS(d).join("px ")+"px"),n.join(";")+";"}function aH(e,t,r,n,a){var i=t&&t.painter;if(r){var s=i&&i.getViewportRoot();s&&iye(e,s,r,n,a)}else{e[0]=n,e[1]=a;var o=i&&i.getViewportRootOffset();o&&(e[0]+=o.offsetLeft,e[1]+=o.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var _Ae=(function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Yt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=t.getZr(),i=r.appendTo,s=i&&(Pt(i)?document.querySelector(i):Sg(i)?i:rr(i)&&i(t.getDom()));aH(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=a.handler,f=a.painter.getViewportRoot();ki(f,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=mAe(r,"position"),a=r.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative")}var i=t.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=gAe+SAe(t,!this._firstShow,this._longHide)+nH(i[0],i[1],!0)+("border-color:"+Tf(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,a,i){var s=this.el;if(t==null){s.innerHTML="";return}var o="";if(Pt(i)&&n.get("trigger")==="item"&&!Xte(n)&&(o=xAe(n,a,i)),Pt(t))s.innerHTML=t+o;else if(t){s.innerHTML="",wt(t)||(t=[t]);for(var l=0;l<t.length;l++)Sg(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(aH(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var a=this.el.style,i=nH(n[0],n[1]);re(i,function(s){a[s[0]]=s[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Yt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(er(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e})(),TAe=(function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),sH(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,a,i){var s=this;Vt(t)&&za(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Ca({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:yee(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),re(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),re(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=iH(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var a=this._styleCoord;sH(a,this._zr,t,r),t=a[0],r=a[1];var i=n.style,s=su(i.borderWidth||0),o=iH(i);n.x=t+s+o.left,n.y=r+s+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(er(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e})();function su(e){return Math.max(0,e)}function iH(e){var t=su(e.shadowBlur||0),r=su(e.shadowOffsetX||0),n=su(e.shadowOffsetY||0);return{left:su(t-r),right:su(t+r),top:su(t-n),bottom:su(t+n)}}function sH(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var CAe=new dn({shape:{x:-1,y:-1,width:2,height:2}}),NAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Yt.node||!n.getDom())){var a=r.getComponent("tooltip"),i=this._renderMode=jxe(a.get("renderMode"));this._tooltipContent=i==="richText"?new TAe(n):new _Ae(n,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},t.prototype.render=function(r,n,a){if(!(Yt.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(r),i.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?t_(this,"_updatePosition",50,"fixRate"):Q1(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");Vte("itemTooltip",this._api,er(function(a,i,s){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,s):a==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,a=this._api,i=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&s.manuallyShowTip(r,n,a,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,a,i){if(!(i.from===this.uid||Yt.node||!a.getDom())){var s=oH(i,a);this._ticket="";var o=i.dataByCoordSys,l=jAe(i,n,a);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:i.position,positionDefault:"bottom"},s)}else if(i.tooltip&&i.x!=null&&i.y!=null){var f=CAe;f.x=i.x,f.y=i.y,f.update(),wr(f).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:f},s)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},s);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,a,i))return;var d=qte(i,n),p=d.point[0],v=d.point[1];p!=null&&v!=null&&this._tryShow({offsetX:p,offsetY:v,target:d.el,position:i.position,positionDefault:"bottom"},s)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},s))}},t.prototype.manuallyHideTip=function(r,n,a,i){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(oH(i,a))},t.prototype._manuallyAxisShowTip=function(r,n,a,i){var s=i.seriesIndex,o=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var f=u.getData(),d=tv([f.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:i.position}),!0}}},t.prototype._tryShow=function(r,n){var a=r.target,i=this._tooltipModel;if(i){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(a){var o=wr(a);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Mv(a,function(f){if(wr(f).dataIndex!=null)return l=f,!0;if(wr(f).tooltipConfig!=null)return u=f,!0},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var a=r.get("showDelay");n=er(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},t.prototype._showAxisTooltip=function(r,n){var a=this._ecModel,i=this._tooltipModel,s=[n.offsetX,n.offsetY],o=tv([n.tooltipOption],i),l=this._renderMode,u=[],f=Cf("section",{blocks:[],noHeader:!0}),d=[],p=new jA;re(r,function(_){re(_.dataByAxis,function(T){var M=a.getComponent(T.axisDim+"Axis",T.axisIndex),N=T.value;if(!(!M||N==null)){var C=Ute(N,M.axis,a,T.seriesDataIndices,T.valueLabelOpt),j=Cf("section",{header:C,noHeader:!Ws(C),sortBlocks:!0,blocks:[]});f.blocks.push(j),re(T.seriesDataIndices,function(O){var P=a.getSeriesByIndex(O.seriesIndex),R=O.dataIndexInside,k=P.getDataParams(R);if(!(k.dataIndex<0)){k.axisDim=T.axisDim,k.axisIndex=T.axisIndex,k.axisType=T.axisType,k.axisId=T.axisId,k.axisValue=QL(M.axis,{value:N}),k.axisValueLabel=C,k.marker=p.makeTooltipMarker("item",Tf(k.color),l);var L=fU(P.formatTooltip(R,!0,null)),I=L.frag;if(I){var $=tv([P],i).get("valueFormatter");j.blocks.push($?gt({valueFormatter:$},I):I)}L.text&&d.push(L.text),u.push(k)}})}})}),f.blocks.reverse(),d.reverse();var v=n.position,y=o.get("order"),x=vU(f,p,l,y,a.get("useUTC"),o.get("textStyle"));x&&d.unshift(x);var b=l==="richText"?`

`:"<br/>",w=d.join(b);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(o,v,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,w,u,Math.random()+"",s[0],s[1],v,null,p)})},t.prototype._showSeriesItemTooltip=function(r,n,a){var i=this._ecModel,s=wr(n),o=s.seriesIndex,l=i.getSeriesByIndex(o),u=s.dataModel||l,f=s.dataIndex,d=s.dataType,p=u.getData(d),v=this._renderMode,y=r.positionDefault,x=tv([p.getItemModel(f),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,y?{position:y}:null),b=x.get("trigger");if(!(b!=null&&b!=="item")){var w=u.getDataParams(f,d),_=new jA;w.marker=_.makeTooltipMarker("item",Tf(w.color),v);var T=fU(u.formatTooltip(f,!1,d)),M=x.get("order"),N=x.get("valueFormatter"),C=T.frag,j=C?vU(N?gt({valueFormatter:N},C):C,_,v,M,i.get("useUTC"),x.get("textStyle")):T.text,O="item_"+u.name+"_"+f;this._showOrMove(x,function(){this._showTooltipContent(x,j,w,O,r.offsetX,r.offsetY,r.position,r.target,_)}),a({type:"showTip",dataIndexInside:f,dataIndex:p.getRawIndex(f),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,a){var i=this._renderMode==="html",s=wr(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(Pt(l)){var f=l;l={content:f,formatter:f},u=!0}u&&i&&l.content&&(l=ur(l),l.content=Ba(l.content));var d=[l],p=this._ecModel.getComponent(s.componentMainType,s.componentIndex);p&&d.push(p),d.push({formatter:l.content});var v=r.positionDefault,y=tv(d,this._tooltipModel,v?{position:v}:null),x=y.get("content"),b=Math.random()+"",w=new jA;this._showOrMove(y,function(){var _=ur(y.get("formatterParams")||{});this._showTooltipContent(y,x,_,b,r.offsetX,r.offsetY,r.position,n,w)}),a({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,a,i,s,o,l,u,f){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var d=this._tooltipContent;d.setEnterable(r.get("enterable"));var p=r.get("formatter");l=l||r.get("position");var v=n,y=this._getNearestPoint([s,o],a,r.get("trigger"),r.get("borderColor")),x=y.color;if(p)if(Pt(p)){var b=r.ecModel.get("useUTC"),w=wt(a)?a[0]:a,_=w&&w.axisType&&w.axisType.indexOf("time")>=0;v=p,_&&(v=WS(w.axisValue,v,b)),v=WJ(v,a,!0)}else if(rr(p)){var T=er(function(M,N){M===this._ticket&&(d.setContent(N,f,r,x,l),this._updatePosition(r,l,s,o,d,a,u))},this);this._ticket=i,v=p(a,i,T)}else v=p;d.setContent(v,f,r,x,l),d.show(r,x),this._updatePosition(r,l,s,o,d,a,u)}},t.prototype._getNearestPoint=function(r,n,a,i){if(a==="axis"||wt(n))return{color:i||(this._renderMode==="html"?"#fff":"none")};if(!wt(n))return{color:i||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,a,i,s,o,l){var u=this._api.getWidth(),f=this._api.getHeight();n=n||r.get("position");var d=s.getSize(),p=r.get("align"),v=r.get("verticalAlign"),y=l&&l.getBoundingRect().clone();if(l&&y.applyTransform(l.transform),rr(n)&&(n=n([a,i],o,s.el,y,{viewSize:[u,f],contentSize:d.slice()})),wt(n))a=Cn(n[0],u),i=Cn(n[1],f);else if(Vt(n)){var x=n;x.width=d[0],x.height=d[1];var b=Dg(x,{width:u,height:f});a=b.x,i=b.y,p=null,v=null}else if(Pt(n)&&l){var w=EAe(n,y,d,r.get("borderWidth"));a=w[0],i=w[1]}else{var w=AAe(a,i,s,u,f,p?null:20,v?null:20);a=w[0],i=w[1]}if(p&&(a-=lH(p)?d[0]/2:p==="right"?d[0]:0),v&&(i-=lH(v)?d[1]/2:v==="bottom"?d[1]:0),Xte(r)){var w=MAe(a,i,s,u,f);a=w[0],i=w[1]}s.moveTo(a,i)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,s=!!a&&a.length===r.length;return s&&re(a,function(o,l){var u=o.dataByAxis||[],f=r[l]||{},d=f.dataByAxis||[];s=s&&u.length===d.length,s&&re(u,function(p,v){var y=d[v]||{},x=p.seriesDataIndices||[],b=y.seriesDataIndices||[];s=s&&p.value===y.value&&p.axisType===y.axisType&&p.axisId===y.axisId&&x.length===b.length,s&&re(x,function(w,_){var T=b[_];s=s&&w.seriesIndex===T.seriesIndex&&w.dataIndex===T.dataIndex}),i&&re(p.seriesDataIndices,function(w){var _=w.seriesIndex,T=n[_],M=i[_];T&&M&&M.data!==T.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!s},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Yt.node||!n.getDom()||(Q1(this,"_updatePosition"),this._tooltipContent.dispose(),fP("itemTooltip",n))},t.type="tooltip",t})(Qi);function tv(e,t,r){var n=t.ecModel,a;r?(a=new yn(r,n,n),a=new yn(t.option,a,n)):a=t;for(var i=e.length-1;i>=0;i--){var s=e[i];s&&(s instanceof yn&&(s=s.get("tooltip",!0)),Pt(s)&&(s={formatter:s}),s&&(a=new yn(s,a,n)))}return a}function oH(e,t){return e.dispatchAction||er(t.dispatchAction,t)}function AAe(e,t,r,n,a,i,s){var o=r.getSize(),l=o[0],u=o[1];return i!=null&&(e+l+i+2>n?e-=l+i:e+=i),s!=null&&(t+u+s>a?t-=u+s:t+=s),[e,t]}function MAe(e,t,r,n,a){var i=r.getSize(),s=i[0],o=i[1];return e=Math.min(e+s,n)-s,t=Math.min(t+o,a)-o,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function EAe(e,t,r,n){var a=r[0],i=r[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=t.width,f=t.height;switch(e){case"inside":o=t.x+u/2-a/2,l=t.y+f/2-i/2;break;case"top":o=t.x+u/2-a/2,l=t.y-i-s;break;case"bottom":o=t.x+u/2-a/2,l=t.y+f+s;break;case"left":o=t.x-a-s,l=t.y+f/2-i/2;break;case"right":o=t.x+u+s,l=t.y+f/2-i/2}return[o,l]}function lH(e){return e==="center"||e==="middle"}function jAe(e,t,r){var n=hL(e).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=B0(t,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),s=i.models[0];if(s){var o=r.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var f=wr(u).tooltipConfig;if(f&&f.name===e.name)return l=u,!0}),l)return{componentMainType:a,componentIndex:s.componentIndex,el:l}}}}function ere(e){Cs(l_),e.registerComponentModel(hAe),e.registerComponentView(NAe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},_a),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},_a)}function tre(e,t){if(!e)return!1;for(var r=wt(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function ib(e){DO(e,"label",["show"])}var sb=un(),Af=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),this._mergeOption(r,a,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Yt.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,a,i){var s=this.mainType;a||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=sb(o)[s];if(!l||!l.data){sb(o)[s]=null;return}u?u._mergeOption(l,n,!0):(i&&ib(l),re(l.data,function(f){f instanceof Array?(ib(f[0]),ib(f[1])):ib(f)}),u=this.createMarkerModelFromSeries(l,this,n),gt(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),sb(o)[s]=u},this)},t.prototype.formatTooltip=function(r,n,a){var i=this.getData(),s=this.getRawValue(r),o=i.getName(r);return Cf("section",{header:this.name,blocks:[Cf("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var a=LL.prototype.getDataParams.call(this,r,n),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},t.getMarkerModelFromSeries=function(r,n){return sb(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(Pr);Ms(Af,LL.prototype);function dP(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function DAe(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function ob(e,t,r,n,a,i){var s=[],o=Nf(t,n),l=o?t.getCalculationInfo("stackResultDimension"):n,u=iI(t,l,e),f=t.indicesOfNearest(l,u)[0];s[a]=t.get(r,f),s[i]=t.get(l,f);var d=t.get(n,f),p=Ks(t.get(n,f));return p=Math.min(p,20),p>=0&&(s[i]=+s[i].toFixed(p)),[s,d]}var i2={min:zr(ob,"min"),max:zr(ob,"max"),average:zr(ob,"average"),median:zr(ob,"median")};function sw(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,a=n&&n.dimensions;if(!DAe(t)&&!wt(t.coord)&&wt(a)){var i=rre(t,r,n,e);if(t=ur(t),t.type&&i2[t.type]&&i.baseAxis&&i.valueAxis){var s=Cr(a,i.baseAxis.dim),o=Cr(a,i.valueAxis.dim),l=i2[t.type](r,i.baseDataDim,i.valueDataDim,s,o);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!wt(a))t.coord=[];else for(var u=t.coord,f=0;f<2;f++)i2[u[f]]&&(u[f]=iI(r,r.mapDimension(a[f]),u[f]));return t}}function rre(e,t,r,n){var a={};return e.valueIndex!=null||e.valueDim!=null?(a.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,a.valueAxis=r.getAxis(OAe(n,a.valueDataDim)),a.baseAxis=r.getOtherAxis(a.valueAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim)):(a.baseAxis=n.getBaseAxis(),a.valueAxis=r.getOtherAxis(a.baseAxis),a.baseDataDim=t.mapDimension(a.baseAxis.dim),a.valueDataDim=t.mapDimension(a.valueAxis.dim)),a}function OAe(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function ow(e,t){return e&&e.containData&&t.coord&&!dP(t)?e.containData(t.coord):!0}function PAe(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!dP(t)&&!dP(r)?e.containZone(t.coord,r.coord):!0}function kAe(e,t){return e?function(r,n,a,i){var s=i<2?r.coord&&r.coord[i]:r.value;return Du(s,t[i])}:function(r,n,a,i){return Du(r.value,t[i])}}function iI(e,t,r){if(r==="average"){var n=0,a=0;return e.each(t,function(i,s){isNaN(i)||(n+=i,a++)}),n/a}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var s2=un(),nre=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=Xt()},t.prototype.render=function(r,n,a){var i=this,s=this.markerGroupMap;s.each(function(o){s2(o).keep=!1}),n.eachSeries(function(o){var l=Af.getMarkerModelFromSeries(o,i.type);l&&i.renderSeries(o,l,n,a)}),s.each(function(o){!s2(o).keep&&i.group.remove(o.group)})},t.prototype.markKeep=function(r){s2(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var a=this;re(r,function(i){var s=Af.getMarkerModelFromSeries(i,a.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?dJ(l):yL(l))})}})},t.type="marker",t})(Qi),RAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,a){return new t(r,n,a)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})(Af),lb=un(),LAe=function(e,t,r,n){var a=e.getData(),i;if(wt(n))i=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=t.getAxis(n.yAxis!=null?"y":"x"),l=Gs(n.yAxis,n.xAxis);else{var u=rre(n,a,t,e);o=u.valueAxis;var f=rte(a,u.valueDataDim);l=iI(a,f,s)}var d=o.dim==="x"?0:1,p=1-d,v=ur(n),y={coord:[]};v.type=null,v.coord=[],v.coord[p]=-1/0,y.coord[p]=1/0;var x=r.get("precision");x>=0&&Jr(l)&&(l=+l.toFixed(Math.min(x,20))),v.coord[d]=y.coord[d]=l,i=[v,y,{type:s,valueIndex:n.valueIndex,value:l}]}else i=[]}var b=[sw(e,i[0]),sw(e,i[1]),gt({},i[2])];return b[2].type=b[2].type||null,xr(b[2],b[0]),xr(b[2],b[1]),b};function lw(e){return!isNaN(e)&&!isFinite(e)}function uH(e,t,r,n){var a=1-e,i=n.dimensions[e];return lw(t[a])&&lw(r[a])&&t[e]===r[e]&&n.getAxis(i).containData(t[e])}function IAe(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(uH(1,r,n,e)||uH(0,r,n,e)))return!0}return ow(e,t[0])&&ow(e,t[1])}function o2(e,t,r,n,a){var i=n.coordinateSystem,s=e.getItemModel(t),o,l=Cn(s.get("x"),a.getWidth()),u=Cn(s.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var f=i.dimensions,d=e.get(f[0],t),p=e.get(f[1],t);o=i.dataToPoint([d,p])}if(Pp(i,"cartesian2d")){var v=i.getAxis("x"),y=i.getAxis("y"),f=i.dimensions;lw(e.get(f[0],t))?o[0]=v.toGlobalCoord(v.getExtent()[r?0:1]):lw(e.get(f[1],t))&&(o[1]=y.toGlobalCoord(y.getExtent()[r?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}e.setItemLayout(t,o)}var BAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,a){n.eachSeries(function(i){var s=Af.getMarkerModelFromSeries(i,"markLine");if(s){var o=s.getData(),l=lb(s).from,u=lb(s).to;l.each(function(f){o2(l,f,!0,i,a),o2(u,f,!1,i,a)}),o.each(function(f){o.setItemLayout(f,[l.getItemLayout(f),u.getItemLayout(f)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,a,i){var s=r.coordinateSystem,o=r.id,l=r.getData(),u=this.markerGroupMap,f=u.get(o)||u.set(o,new PNe);this.group.add(f.group);var d=$Ae(s,r,n),p=d.from,v=d.to,y=d.line;lb(n).from=p,lb(n).to=v,n.setData(y);var x=n.get("symbol"),b=n.get("symbolSize"),w=n.get("symbolRotate"),_=n.get("symbolOffset");wt(x)||(x=[x,x]),wt(b)||(b=[b,b]),wt(w)||(w=[w,w]),wt(_)||(_=[_,_]),d.from.each(function(M){T(p,M,!0),T(v,M,!1)}),y.each(function(M){var N=y.getItemModel(M).getModel("lineStyle").getLineStyle();y.setItemLayout(M,[p.getItemLayout(M),v.getItemLayout(M)]),N.stroke==null&&(N.stroke=p.getItemVisual(M,"style").fill),y.setItemVisual(M,{fromSymbolKeepAspect:p.getItemVisual(M,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(M,"symbolOffset"),fromSymbolRotate:p.getItemVisual(M,"symbolRotate"),fromSymbolSize:p.getItemVisual(M,"symbolSize"),fromSymbol:p.getItemVisual(M,"symbol"),toSymbolKeepAspect:v.getItemVisual(M,"symbolKeepAspect"),toSymbolOffset:v.getItemVisual(M,"symbolOffset"),toSymbolRotate:v.getItemVisual(M,"symbolRotate"),toSymbolSize:v.getItemVisual(M,"symbolSize"),toSymbol:v.getItemVisual(M,"symbol"),style:N})}),f.updateData(y),d.line.eachItemGraphicEl(function(M){wr(M).dataModel=n,M.traverse(function(N){wr(N).dataModel=n})});function T(M,N,C){var j=M.getItemModel(N);o2(M,N,C,r,i);var O=j.getModel("itemStyle").getItemStyle();O.fill==null&&(O.fill=zL(l,"color")),M.setItemVisual(N,{symbolKeepAspect:j.get("symbolKeepAspect"),symbolOffset:sr(j.get("symbolOffset",!0),_[C?0:1]),symbolRotate:sr(j.get("symbolRotate",!0),w[C?0:1]),symbolSize:sr(j.get("symbolSize"),b[C?0:1]),symbol:sr(j.get("symbol",!0),x[C?0:1]),style:O})}this.markKeep(f),f.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t})(nre);function $Ae(e,t,r){var n;e?n=Rt(e&&e.dimensions,function(u){var f=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return gt(gt({},f),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var a=new Eh(n,r),i=new Eh(n,r),s=new Eh([],r),o=Rt(r.get("data"),zr(LAe,t,e,r));e&&(o=Fn(o,zr(IAe,e)));var l=kAe(!!e,n);return a.initData(Rt(o,function(u){return u[0]}),null,l),i.initData(Rt(o,function(u){return u[1]}),null,l),s.initData(Rt(o,function(u){return u[2]})),s.hasItemOption=!0,{from:a,to:i,line:s}}function zAe(e){e.registerComponentModel(RAe),e.registerComponentView(BAe),e.registerPreprocessor(function(t){tre(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var FAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,a){return new t(r,n,a)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})(Af),ub=un(),UAe=function(e,t,r,n){var a=n[0],i=n[1];if(!(!a||!i)){var s=sw(e,a),o=sw(e,i),l=s.coord,u=o.coord;l[0]=Gs(l[0],-1/0),l[1]=Gs(l[1],-1/0),u[0]=Gs(u[0],1/0),u[1]=Gs(u[1],1/0);var f=H0e([{},s,o]);return f.coord=[s.coord,o.coord],f.x0=s.x,f.y0=s.y,f.x1=o.x,f.y1=o.y,f}};function uw(e){return!isNaN(e)&&!isFinite(e)}function cH(e,t,r,n){var a=1-e;return uw(t[a])&&uw(r[a])}function HAe(e,t){var r=t.coord[0],n=t.coord[1],a={coord:r,x:t.x0,y:t.y0},i={coord:n,x:t.x1,y:t.y1};return Pp(e,"cartesian2d")?r&&n&&(cH(1,r,n)||cH(0,r,n))?!0:PAe(e,a,i):ow(e,a)||ow(e,i)}function fH(e,t,r,n,a){var i=n.coordinateSystem,s=e.getItemModel(t),o,l=Cn(s.get(r[0]),a.getWidth()),u=Cn(s.get(r[1]),a.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var f=e.getValues(["x0","y0"],t),d=e.getValues(["x1","y1"],t),p=i.clampData(f),v=i.clampData(d),y=[];r[0]==="x0"?y[0]=p[0]>v[0]?d[0]:f[0]:y[0]=p[0]>v[0]?f[0]:d[0],r[1]==="y0"?y[1]=p[1]>v[1]?d[1]:f[1]:y[1]=p[1]>v[1]?f[1]:d[1],o=n.getMarkerPosition(y,r,!0)}else{var x=e.get(r[0],t),b=e.get(r[1],t),w=[x,b];i.clampData&&i.clampData(w,w),o=i.dataToPoint(w,!0)}if(Pp(i,"cartesian2d")){var _=i.getAxis("x"),T=i.getAxis("y"),x=e.get(r[0],t),b=e.get(r[1],t);uw(x)?o[0]=_.toGlobalCoord(_.getExtent()[r[0]==="x0"?0:1]):uw(b)&&(o[1]=T.toGlobalCoord(T.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var dH=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],VAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,a){n.eachSeries(function(i){var s=Af.getMarkerModelFromSeries(i,"markArea");if(s){var o=s.getData();o.each(function(l){var u=Rt(dH,function(d){return fH(o,l,d,i,a)});o.setItemLayout(l,u);var f=o.getItemGraphicEl(l);f.setShape("points",u)})}},this)},t.prototype.renderSeries=function(r,n,a,i){var s=r.coordinateSystem,o=r.id,l=r.getData(),u=this.markerGroupMap,f=u.get(o)||u.set(o,{group:new xn});this.group.add(f.group),this.markKeep(f);var d=qAe(s,r,n);n.setData(d),d.each(function(p){var v=Rt(dH,function(O){return fH(d,p,O,r,i)}),y=s.getAxis("x").scale,x=s.getAxis("y").scale,b=y.getExtent(),w=x.getExtent(),_=[y.parse(d.get("x0",p)),y.parse(d.get("x1",p))],T=[x.parse(d.get("y0",p)),x.parse(d.get("y1",p))];Yc(_),Yc(T);var M=!(b[0]>_[1]||b[1]<_[0]||w[0]>T[1]||w[1]<T[0]),N=!M;d.setItemLayout(p,{points:v,allClipped:N});var C=d.getItemModel(p).getModel("itemStyle").getItemStyle(),j=zL(l,"color");C.fill||(C.fill=j,Pt(C.fill)&&(C.fill=$z(C.fill,.4))),C.stroke||(C.stroke=j),d.setItemVisual(p,"style",C)}),d.diff(ub(f).data).add(function(p){var v=d.getItemLayout(p);if(!v.allClipped){var y=new Yh({shape:{points:v.points}});d.setItemGraphicEl(p,y),f.group.add(y)}}).update(function(p,v){var y=ub(f).data.getItemGraphicEl(v),x=d.getItemLayout(p);x.allClipped?y&&f.group.remove(y):(y?Na(y,{shape:{points:x.points}},n,p):y=new Yh({shape:{points:x.points}}),d.setItemGraphicEl(p,y),f.group.add(y))}).remove(function(p){var v=ub(f).data.getItemGraphicEl(p);f.group.remove(v)}).execute(),d.eachItemGraphicEl(function(p,v){var y=d.getItemModel(v),x=d.getItemVisual(v,"style");p.useStyle(d.getItemVisual(v,"style")),Ep(p,Rf(y),{labelFetcher:n,labelDataIndex:v,defaultText:d.getName(v)||"",inheritColor:Pt(x.fill)?$z(x.fill,1):"#000"}),q1(p,y),Kh(p,null,null,y.get(["emphasis","disabled"])),wr(p).dataModel=n}),ub(f).data=d,f.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t})(nre);function qAe(e,t,r){var n,a,i=["x0","y0","x1","y1"];if(e){var s=Rt(e&&e.dimensions,function(u){var f=t.getData(),d=f.getDimensionInfo(f.mapDimension(u))||{};return gt(gt({},d),{name:u,ordinalMeta:null})});a=Rt(i,function(u,f){return{name:u,type:s[f%2].type}}),n=new Eh(a,r)}else a=[{name:"value",type:"float"}],n=new Eh(a,r);var o=Rt(r.get("data"),zr(UAe,t,e,r));e&&(o=Fn(o,zr(HAe,e)));var l=e?function(u,f,d,p){var v=u.coord[Math.floor(p/2)][p%2];return Du(v,a[p])}:function(u,f,d,p){return Du(u.value,a[p])};return n.initData(o,null,l),n.hasItemOption=!0,n}function GAe(e){e.registerComponentModel(FAe),e.registerComponentView(VAe),e.registerPreprocessor(function(t){tre(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var WAe=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},hP=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,a){this.mergeDefaultAndTheme(r,a),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,a=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),wt(n)&&re(n,function(i,s){Pt(i)&&(i={type:i}),n[s]=xr(i,WAe(a,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<r.length;a++){var i=r[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],a=[];r.eachRawSeries(function(l){var u=l.name;a.push(u);var f;if(l.legendVisualProvider){var d=l.legendVisualProvider,p=d.getAllNames();r.isSeriesFiltered(l)||(a=a.concat(p)),p.length?n=n.concat(p):f=!0}else f=!0;f&&dL(l)&&n.push(l.name)}),this._availableNames=a;var i=this.get("data")||n,s=Xt(),o=Rt(i,function(l){return(Pt(l)||Jr(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new yn(l,this,this.ecModel))},this);this._data=Fn(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;re(i,function(s){n[s.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;re(r,function(a){n[a.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;re(r,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Cr(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t})(Pr),$d=zr,pP=re,cb=xn,are=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new cb),this.group.add(this._selectorGroup=new cb),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var s=r.get("align"),o=r.get("orient");(!s||s==="auto")&&(s=r.get("left")==="right"&&o==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,r,n,a,l,o,u);var f=r.getBoxLayoutParams(),d={width:a.getWidth(),height:a.getHeight()},p=r.get("padding"),v=Dg(f,d,p),y=this.layoutInner(r,s,v,i,l,u),x=Dg(Rr({width:y.width,height:y.height},f),d,p);this.group.x=x.x-y.x,this.group.y=x.y-y.y,this.group.markRedraw(),this.group.add(this._backgroundEl=dAe(y,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,a,i,s,o,l){var u=this.getContentGroup(),f=Xt(),d=n.get("selectedMode"),p=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&p.push(v.id)}),pP(n.getData(),function(v,y){var x=v.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var b=new cb;b.newline=!0,u.add(b);return}var w=a.getSeriesByName(x)[0];if(!f.get(x))if(w){var _=w.getData(),T=_.getVisual("legendLineStyle")||{},M=_.getVisual("legendIcon"),N=_.getVisual("style"),C=this._createItem(w,x,y,v,n,r,T,N,M,d,i);C.on("click",$d(hH,x,null,i,p)).on("mouseover",$d(mP,w.name,null,i,p)).on("mouseout",$d(vP,w.name,null,i,p)),a.ssr&&C.eachChild(function(j){var O=wr(j);O.seriesIndex=w.seriesIndex,O.dataIndex=y,O.ssrType="legend"}),f.set(x,!0)}else a.eachRawSeries(function(j){if(!f.get(x)&&j.legendVisualProvider){var O=j.legendVisualProvider;if(!O.containName(x))return;var P=O.indexOfName(x),R=O.getItemVisual(P,"style"),k=O.getItemVisual(P,"legendIcon"),L=ro(R.fill);L&&L[3]===0&&(L[3]=.2,R=gt(gt({},R),{fill:L0(L,"rgba")}));var I=this._createItem(j,x,y,v,n,r,{},R,k,d,i);I.on("click",$d(hH,null,x,i,p)).on("mouseover",$d(mP,null,x,i,p)).on("mouseout",$d(vP,null,x,i,p)),a.ssr&&I.eachChild(function($){var F=wr($);F.seriesIndex=j.seriesIndex,F.dataIndex=y,F.ssrType="legend"}),f.set(x,!0)}},this)},this),s&&this._createSelector(s,n,i,o,l)},t.prototype._createSelector=function(r,n,a,i,s){var o=this.getSelectorGroup();pP(r,function(u){var f=u.type,d=new Ca({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:f==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(d);var p=n.getModel("selectorLabel"),v=n.getModel(["emphasis","selectorLabel"]);Ep(d,{normal:p,emphasis:v},{defaultText:u.title}),V1(d)})},t.prototype._createItem=function(r,n,a,i,s,o,l,u,f,d,p){var v=r.visualDrawType,y=s.get("itemWidth"),x=s.get("itemHeight"),b=s.isSelected(n),w=i.get("symbolRotate"),_=i.get("symbolKeepAspect"),T=i.get("icon");f=T||f||"roundRect";var M=KAe(f,i,l,u,v,b,p),N=new cb,C=i.getModel("textStyle");if(rr(r.getLegendIcon)&&(!T||T==="inherit"))N.add(r.getLegendIcon({itemWidth:y,itemHeight:x,icon:f,iconRotate:w,itemStyle:M.itemStyle,lineStyle:M.lineStyle,symbolKeepAspect:_}));else{var j=T==="inherit"&&r.getData().getVisual("symbol")?w==="inherit"?r.getData().getVisual("symbolRotate"):w:0;N.add(YAe({itemWidth:y,itemHeight:x,icon:f,iconRotate:j,itemStyle:M.itemStyle,symbolKeepAspect:_}))}var O=o==="left"?y+5:-5,P=o,R=s.get("formatter"),k=n;Pt(R)&&R?k=R.replace("{name}",n??""):rr(R)&&(k=R(n));var L=b?C.getTextColor():i.get("inactiveColor");N.add(new Ca({style:_f(C,{text:k,x:O,y:x/2,fill:L,align:P,verticalAlign:"middle"},{inheritColor:L})}));var I=new dn({shape:N.getBoundingRect(),style:{fill:"transparent"}}),$=i.getModel("tooltip");return $.get("show")&&US({el:I,componentModel:s,itemName:n,itemTooltipOption:$.option}),N.add(I),N.eachChild(function(F){F.silent=!0}),I.silent=!d,this.getContentGroup().add(N),V1(N),N.__legendDataIndex=a,N},t.prototype.layoutInner=function(r,n,a,i,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();Yv(r.get("orient"),l,r.get("itemGap"),a.width,a.height);var f=l.getBoundingRect(),d=[-f.x,-f.y];if(u.markRedraw(),l.markRedraw(),s){Yv("horizontal",u,r.get("selectorItemGap",!0));var p=u.getBoundingRect(),v=[-p.x,-p.y],y=r.get("selectorButtonGap",!0),x=r.getOrient().index,b=x===0?"width":"height",w=x===0?"height":"width",_=x===0?"y":"x";o==="end"?v[x]+=f[b]+y:d[x]+=p[b]+y,v[1-x]+=f[w]/2-p[w]/2,u.x=v[0],u.y=v[1],l.x=d[0],l.y=d[1];var T={x:0,y:0};return T[b]=f[b]+y+p[b],T[w]=Math.max(f[w],p[w]),T[_]=Math.min(0,p[_]+v[1-x]),T}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Qi);function KAe(e,t,r,n,a,i,s){function o(b,w){b.lineWidth==="auto"&&(b.lineWidth=w.lineWidth>0?2:0),pP(b,function(_,T){b[T]==="inherit"&&(b[T]=w[T])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),f=e.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");u.decal=!d||d==="inherit"?n.decal:ZO(d,s),u.fill==="inherit"&&(u.fill=n[a]),u.stroke==="inherit"&&(u.stroke=n[f]),u.opacity==="inherit"&&(u.opacity=(a==="fill"?n:r).opacity),o(u,n);var p=t.getModel("lineStyle"),v=p.getLineStyle();if(o(v,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),v.stroke==="auto"&&(v.stroke=n.fill),!i){var y=t.get("inactiveBorderWidth"),x=u[f];u.lineWidth=y==="auto"?n.lineWidth>0&&x?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),v.stroke=p.get("inactiveColor"),v.lineWidth=p.get("inactiveWidth")}return{itemStyle:u,lineStyle:v}}function YAe(e){var t=e.icon||"roundRect",r=dl(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function hH(e,t,r,n){vP(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),mP(e,t,r,n)}function ire(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,a=t.length;n<a&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function mP(e,t,r,n){ire(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function vP(e,t,r,n){ire(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function XAe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function rv(e,t,r){var n=e==="allSelect"||e==="inverseSelect",a={},i=[];r.eachComponent({mainType:"legend",query:t},function(o){n?o[e]():o[e](t.name),pH(o,a),i.push(o.componentIndex)});var s={};return r.eachComponent("legend",function(o){re(a,function(l,u){o[l?"select":"unSelect"](u)}),pH(o,s)}),n?{selected:s,legendIndex:i}:{name:t.name,selected:s}}function pH(e,t){var r=t||{};return re(e.getData(),function(n){var a=n.get("name");if(!(a===`
`||a==="")){var i=e.isSelected(a);bf(r,a)?r[a]=r[a]&&i:r[a]=i}}),r}function ZAe(e){e.registerAction("legendToggleSelect","legendselectchanged",zr(rv,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",zr(rv,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",zr(rv,"inverseSelect")),e.registerAction("legendSelect","legendselected",zr(rv,"select")),e.registerAction("legendUnSelect","legendunselected",zr(rv,"unSelect"))}function sre(e){e.registerComponentModel(hP),e.registerComponentView(are),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,XAe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),ZAe(e)}var QAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,a){var i=F0(r);e.prototype.init.call(this,r,n,a),mH(this,r,i)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),mH(this,this.option,r)},t.type="legend.scroll",t.defaultOption=GS(hP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t})(hP);function mH(e,t,r){var n=e.getOrient(),a=[1,1];a[n.index]=0,Xh(t,r,{type:"box",ignoreSize:!!a})}var vH=xn,l2=["width","height"],u2=["x","y"],JAe=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new vH),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new vH)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,a,i,s,o,l){var u=this;e.prototype.renderInner.call(this,r,n,a,i,s,o,l);var f=this._controllerGroup,d=n.get("pageIconSize",!0),p=wt(d)?d:[d,d];y("pagePrev",0);var v=n.getModel("pageTextStyle");f.add(new Ca({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),y("pageNext",1);function y(x,b){var w=x+"DataIndex",_=TL(n.get("pageIcons",!0)[n.getOrient().name][b],{onclick:er(u._pageGo,u,w,n,i)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});_.name=x,f.add(_)}},t.prototype.layoutInner=function(r,n,a,i,s,o){var l=this.getSelectorGroup(),u=r.getOrient().index,f=l2[u],d=u2[u],p=l2[1-u],v=u2[1-u];s&&Yv("horizontal",l,r.get("selectorItemGap",!0));var y=r.get("selectorButtonGap",!0),x=l.getBoundingRect(),b=[-x.x,-x.y],w=ur(a);s&&(w[f]=a[f]-x[f]-y);var _=this._layoutContentAndController(r,i,w,u,f,p,v,d);if(s){if(o==="end")b[u]+=_[f]+y;else{var T=x[f]+y;b[u]-=T,_[d]-=T}_[f]+=x[f]+y,b[1-u]+=_[v]+_[p]/2-x[p]/2,_[p]=Math.max(_[p],x[p]),_[v]=Math.min(_[v],x[v]+b[1-u]),l.x=b[0],l.y=b[1],l.markRedraw()}return _},t.prototype._layoutContentAndController=function(r,n,a,i,s,o,l,u){var f=this.getContentGroup(),d=this._containerGroup,p=this._controllerGroup;Yv(r.get("orient"),f,r.get("itemGap"),i?a.width:null,i?null:a.height),Yv("horizontal",p,r.get("pageButtonItemGap",!0));var v=f.getBoundingRect(),y=p.getBoundingRect(),x=this._showController=v[s]>a[s],b=[-v.x,-v.y];n||(b[i]=f[u]);var w=[0,0],_=[-y.x,-y.y],T=sr(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(x){var M=r.get("pageButtonPosition",!0);M==="end"?_[i]+=a[s]-y[s]:w[i]+=y[s]+T}_[1-i]+=v[o]/2-y[o]/2,f.setPosition(b),d.setPosition(w),p.setPosition(_);var N={x:0,y:0};if(N[s]=x?a[s]:v[s],N[o]=Math.max(v[o],y[o]),N[l]=Math.min(0,y[l]+_[1-i]),d.__rectSize=a[s],x){var C={x:0,y:0};C[s]=Math.max(a[s]-y[s]-T,0),C[o]=N[o],d.setClipPath(new dn({shape:C})),d.__rectSize=C[s]}else p.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var j=this._getPageInfo(r);return j.pageIndex!=null&&Na(f,{x:j.contentPosition[0],y:j.contentPosition[1]},x?r:null),this._updatePageInfoView(r,j),N},t.prototype._pageGo=function(r,n,a){var i=this._getPageInfo(n)[r];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var a=this._controllerGroup;re(["pagePrev","pageNext"],function(f){var d=f+"DataIndex",p=n[d]!=null,v=a.childOfName(f);v&&(v.setStyle("fill",p?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),v.cursor=p?"pointer":"default")});var i=a.childOfName("pageText"),s=r.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;i&&s&&i.setStyle("text",Pt(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,s=r.getOrient().index,o=l2[s],l=u2[s],u=this._findTargetItemIndex(n),f=a.children(),d=f[u],p=f.length,v=p?1:0,y={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return y;var x=M(d);y.contentPosition[s]=-x.s;for(var b=u+1,w=x,_=x,T=null;b<=p;++b)T=M(f[b]),(!T&&_.e>w.s+i||T&&!N(T,w.s))&&(_.i>w.i?w=_:w=T,w&&(y.pageNextDataIndex==null&&(y.pageNextDataIndex=w.i),++y.pageCount)),_=T;for(var b=u-1,w=x,_=x,T=null;b>=-1;--b)T=M(f[b]),(!T||!N(_,T.s))&&w.i<_.i&&(_=w,y.pagePrevDataIndex==null&&(y.pagePrevDataIndex=w.i),++y.pageCount,++y.pageIndex),w=T;return y;function M(C){if(C){var j=C.getBoundingRect(),O=j[l]+C[l];return{s:O,e:O+j[o],i:C.__legendDataIndex}}}function N(C,j){return C.e>=j&&C.s<=j+i}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(s,o){var l=s.__legendDataIndex;i==null&&l!=null&&(i=o),l===r&&(n=o)}),n??i},t.type="legend.scroll",t})(are);function e2e(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(n)})})}function t2e(e){Cs(sre),e.registerComponentModel(QAe),e.registerComponentView(JAe),e2e(e)}function ore(e){Cs(sre),Cs(t2e)}var r2e=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=GS(iw.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(iw),sI=un();function n2e(e,t,r){sI(e).coordSysRecordMap.each(function(n){var a=n.dataZoomInfoMap.get(t.uid);a&&(a.getRange=r)})}function a2e(e,t){for(var r=sI(e).coordSysRecordMap,n=r.keys(),a=0;a<n.length;a++){var i=n[a],s=r.get(i),o=s.dataZoomInfoMap;if(o){var l=t.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||lre(r,s))}}}function lre(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function i2e(e,t){var r={model:t,containsPoint:zr(o2e,t),dispatchAction:zr(s2e,e),dataZoomInfoMap:null,controller:null},n=r.controller=new ENe(e.getZr());return re(["pan","zoom","scrollMove"],function(a){n.on(a,function(i){var s=[];r.dataZoomInfoMap.each(function(o){if(i.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[a],u=l&&l(o.dzReferCoordSysInfo,r.model.mainType,r.controller,i);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&r.dispatchAction(s)})}),r}function s2e(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function o2e(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function l2e(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return e.each(function(i){var s=i.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[r+o]>n[r+t]&&(t=o),a=a&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function u2e(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=sI(r),a=n.coordSysRecordMap||(n.coordSysRecordMap=Xt());a.each(function(i){i.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var s=Wte(i);re(s.infoList,function(o){var l=o.model.uid,u=a.get(l)||a.set(l,i2e(r,o.model)),f=u.dataZoomInfoMap||(u.dataZoomInfoMap=Xt());f.set(i.uid,{dzReferCoordSysInfo:o,model:i,getRange:null})})}),a.each(function(i){var s=i.controller,o,l=i.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){lre(a,i);return}var f=l2e(l);s.enable(f.controlType,f.opt),s.setPointerChecker(i.containsPoint),t_(i,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var c2e=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,a){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),n2e(a,r,{pan:er(c2.pan,this),zoom:er(c2.zoom,this),scrollMove:er(c2.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){a2e(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(Kte),c2={zoom:function(e,t,r,n){var a=this.range,i=a.slice(),s=e.axisModels[0];if(s){var o=f2[t](null,[n.originX,n.originY],s,r,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(i[1]-i[0])+i[0],u=Math.max(1/n.scale,0);i[0]=(i[0]-l)*u+l,i[1]=(i[1]-l)*u+l;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(o_(0,i,[0,100],0,f.minSpan,f.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:gH(function(e,t,r,n,a,i){var s=f2[n]([i.oldX,i.oldY],[i.newX,i.newY],t,a,r);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:gH(function(e,t,r,n,a,i){var s=f2[n]([0,0],[i.scrollDelta,i.scrollDelta],t,a,r);return s.signal*(e[1]-e[0])*i.scrollDelta})};function gH(e){return function(t,r,n,a){var i=this.range,s=i.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,r,n,a);if(o_(l,s,[0,100],"all"),this.range=s,i[0]!==s[0]||i[1]!==s[1])return s}}}var f2={grid:function(e,t,r,n,a){var i=r.axis,s={},o=a.model.coordinateSystem.getRect();return e=e||[0,0],i.dim==="x"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s},polar:function(e,t,r,n,a){var i=r.axis,s={},o=a.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),r.mainType==="radiusAxis"?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=i.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=i.inverse?-1:1),s},singleAxis:function(e,t,r,n,a){var i=r.axis,s=a.model.coordinateSystem.getRect(),o={};return e=e||[0,0],i.orient==="horizontal"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o}};function f2e(e){Yte(e),e.registerComponentModel(r2e),e.registerComponentView(c2e),u2e(e)}var d2e=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=GS(iw.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t})(iw),nv=dn,yH=7,h2e=1,d2=30,p2e=7,av="horizontal",xH="vertical",m2e=5,v2e=["line","bar","candlestick","scatter"],g2e={easing:"cubicOut",duration:100,delay:0},y2e=(function(e){Bt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=er(this._onBrush,this),this._onBrushEnd=er(this._onBrushEnd,this)},t.prototype.render=function(r,n,a,i){if(e.prototype.render.apply(this,arguments),t_(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Q1(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new xn;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,a=r.get("brushSelect"),i=a?p2e:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===av?{right:o.width-s.x-s.width,top:o.height-d2-yH-i,width:s.width,height:d2}:{right:yH,top:s.y,width:d2,height:s.height},u=F0(r.option);re(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=l[d])});var f=Dg(u,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===xH&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),s=i&&i.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(a===av&&!s?{scaleY:l?1:-1,scaleX:1}:a===av&&s?{scaleY:l?1:-1,scaleX:-1}:a===xH&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=r.getBoundingRect([o]);r.x=n.x-u.x,r.y=n.y-u.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,a=this._displayables.sliderGroup,i=r.get("brushSelect");a.add(new nv({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var s=new nv({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:er(this._onClickPanel,this)}),o=this.api.getZr();i?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),a.add(s)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,a=this._shadowSize||[],i=r.series,s=i.getRawData(),o=i.getShadowDim&&i.getShadowDim(),l=o&&s.getDimensionInfo(o)?i.getShadowDim():r.otherDim;if(l==null)return;var u=this._shadowPolygonPts,f=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==a[0]||n[1]!==a[1]){var d=s.getDataExtent(l),p=(d[1]-d[0])*.3;d=[d[0]-p,d[1]+p];var v=[0,n[1]],y=[0,n[0]],x=[[n[0],0],[0,0]],b=[],w=y[1]/(s.count()-1),_=0,T=Math.round(s.count()/n[0]),M;s.each([l],function(P,R){if(T>0&&R%T){_+=w;return}var k=P==null||isNaN(P)||P==="",L=k?0:fa(P,d,v,!0);k&&!M&&R?(x.push([x[x.length-1][0],0]),b.push([b[b.length-1][0],0])):!k&&M&&(x.push([_,0]),b.push([_,0])),x.push([_,L]),b.push([_,L]),_+=w,M=k}),u=this._shadowPolygonPts=x,f=this._shadowPolylinePts=b}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var N=this.dataZoomModel;function C(P){var R=N.getModel(P?"selectedDataBackground":"dataBackground"),k=new xn,L=new Yh({shape:{points:u},segmentIgnoreThreshold:1,style:R.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),I=new $S({shape:{points:f},segmentIgnoreThreshold:1,style:R.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(L),k.add(I),k}for(var j=0;j<3;j++){var O=C(j===1);this._displayables.sliderGroup.add(O),this._displayables.dataShadowSegs.push(O)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var a,i=this.ecModel;return r.eachTargetAxis(function(s,o){var l=r.getAxisProxy(s,o).getTargetSeriesModels();re(l,function(u){if(!a&&!(n!==!0&&Cr(v2e,u.get("type"))<0)){var f=i.getComponent(wu(s),o).axis,d=x2e(s),p,v=u.coordinateSystem;d!=null&&v.getOtherAxis&&(p=v.getOtherAxis(f).inverse),d=u.getData().mapDimension(d),a={thisAxis:f,series:u,thisDim:s,otherDim:d,otherAxisInverse:p}}},this)},this),a}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,a=n.handles=[null,null],i=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,f=l.get("borderRadius")||0,d=l.get("brushSelect"),p=n.filler=new nv({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(p),s.add(new nv({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:f},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:h2e,fill:"rgba(0,0,0,0)"}})),re([0,1],function(T){var M=l.get("handleIcon");!ew[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var N=dl(M,-1,0,2,2,null,!0);N.attr({cursor:bH(this._orient),draggable:!0,drift:er(this._onDragMove,this,T),ondragend:er(this._onDragEnd,this),onmouseover:er(this._showDataInfo,this,!0),onmouseout:er(this._showDataInfo,this,!1),z2:5});var C=N.getBoundingRect(),j=l.get("handleSize");this._handleHeight=Cn(j,this._size[1]),this._handleWidth=C.width/C.height*this._handleHeight,N.setStyle(l.getModel("handleStyle").getItemStyle()),N.style.strokeNoScale=!0,N.rectHover=!0,N.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),V1(N);var O=l.get("handleColor");O!=null&&(N.style.fill=O),s.add(a[T]=N);var P=l.getModel("textStyle"),R=l.get("handleLabel")||{},k=R.show||!1;r.add(i[T]=new Ca({silent:!0,invisible:!k,style:_f(P,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:P.getTextColor(),font:P.getFont()}),z2:10}))},this);var v=p;if(d){var y=Cn(l.get("moveHandleSize"),o[1]),x=n.moveHandle=new dn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:y}}),b=y*.8,w=n.moveHandleIcon=dl(l.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);w.silent=!0,w.y=o[1]+y/2-.5,x.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(o[1]/2,Math.max(y,10));v=n.moveZone=new dn({invisible:!0,shape:{y:o[1]-_,height:y+_}}),v.on("mouseover",function(){u.enterEmphasis(x)}).on("mouseout",function(){u.leaveEmphasis(x)}),s.add(x),s.add(w),s.add(v)}v.attr({draggable:!0,cursor:bH(this._orient),drift:er(this._onDragMove,this,"all"),ondragstart:er(this._showDataInfo,this,!0),ondragend:er(this._onDragEnd,this),onmouseover:er(this._showDataInfo,this,!0),onmouseout:er(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[fa(r[0],[0,100],n,!0),fa(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var a=this.dataZoomModel,i=this._handleEnds,s=this._getViewExtent(),o=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];o_(n,i,s,a.get("zoomLock")?"all":r,o.minSpan!=null?fa(o.minSpan,l,s,!0):null,o.maxSpan!=null?fa(o.maxSpan,l,s,!0):null);var u=this._range,f=this._range=Yc([fa(i[0],s,l,!0),fa(i[1],s,l,!0)]);return!u||u[0]!==f[0]||u[1]!==f[1]},t.prototype._updateView=function(r){var n=this._displayables,a=this._handleEnds,i=Yc(a.slice()),s=this._size;re([0,1],function(v){var y=n.handles[v],x=this._handleHeight;y.attr({scaleX:x/2,scaleY:x/2,x:a[v]+(v?-1:1),y:s[1]/2-x/2})},this),n.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:s[1]});var o={x:i[0],width:i[1]-i[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,i[0],i[1],s[0]],f=0;f<l.length;f++){var d=l[f],p=d.getClipPath();p||(p=new dn,d.setClipPath(p)),p.setShape({x:u[f],y:0,width:u[f+1]-u[f],height:s[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,a=this._displayables,i=a.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,f=this._range,d=r?l.calculateDataWindow({start:f[0],end:f[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var p=Yc(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(y){var x=EJ(a.handles[y].parent,this.group),b=jJ(y===0?"right":"left",x),w=this._handleWidth/2+m2e,_=Eg([p[y]+(y===0?-w:w),this._size[1]/2],x);i[y].setStyle({x:_[0],y:_[1],verticalAlign:s===av?"middle":b,align:s===av?b:"center",text:o[y]})}},t.prototype._formatLabel=function(r,n){var a=this.dataZoomModel,i=a.get("labelFormatter"),s=a.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(s,20));return rr(i)?i(r,o):Pt(i)?i.replace("{value}",o):o},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},a=n.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=i.get("show")||!1,o=r||this._dragging?s:a,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,a,i){this._dragging=!0,Wh(i.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Eg([n,a],s,!0),l=this._updateInterval(r,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(a[0]<0||a[0]>n[0]||a[1]<0||a[1]>n[1])){var i=this._handleEnds,s=(i[0]+i[1])/2,o=this._updateInterval("all",a[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,a=r.offsetY;this._brushStart=new Gr(n,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var a=n.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=Yc([fa(a.x,s,o,!0),fa(a.x+a.width,s,o,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(Wh(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var a=this._displayables,i=this.dataZoomModel,s=a.brushRect;s||(s=a.brushRect=new nv({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(r,n),f=l.transformCoordToLocal(o.x,o.y),d=this._size;u[0]=Math.max(Math.min(d[0],u[0]),0),s.setShape({x:f[0],y:0,width:u[0]-f[0],height:d[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?g2e:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=Wte(this.dataZoomModel).infoList;if(!r&&n.length){var a=n[0].model.coordinateSystem;r=a.getRect&&a.getRect()}if(!r){var i=this.api.getWidth(),s=this.api.getHeight();r={x:i*.2,y:s*.2,width:i*.6,height:s*.6}}return r},t.type="dataZoom.slider",t})(Kte);function x2e(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function bH(e){return e==="vertical"?"ns-resize":"ew-resize"}function b2e(e){e.registerComponentModel(d2e),e.registerComponentView(y2e),Yte(e)}function w2e(e){Cs(f2e),Cs(b2e)}function wH(e,t,r){var n=Cp.createCanvas(),a=t.getWidth(),i=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=i+"px",n.setAttribute("data-zr-dom-id",e)),n.width=a*r,n.height=i*r,n}var h2=(function(e){Wr(t,e);function t(r,n,a){var i=e.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var s;a=a||$1,typeof r=="string"?s=wH(r,n,a):Vt(r)&&(s=r,r=s.id),i.id=r,i.dom=s;var o=s.style;return o&&(TQ(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),i.painter=n,i.dpr=a,i}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=wH("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new kr(0,0,0,0);function f(_){if(!(!_.isFinite()||_.isZero()))if(s.length===0){var T=new kr(0,0,0,0);T.copy(_),s.push(T)}else{for(var M=!1,N=1/0,C=0,j=0;j<s.length;++j){var O=s[j];if(O.intersect(_)){var P=new kr(0,0,0,0);P.copy(O),P.union(_),s[j]=P,M=!0;break}else if(l){u.copy(_),u.union(O);var R=_.width*_.height,k=O.width*O.height,L=u.width*u.height,I=L-R-k;I<N&&(N=I,C=j)}}if(l&&(s[C].union(_),M=!0),!M){var T=new kr(0,0,0,0);T.copy(_),s.push(T)}l||(l=s.length>=o)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var p=r[d];if(p){var v=p.shouldBePainted(a,i,!0,!0),y=p.__isRendered&&(p.__dirty&ci||!v)?p.getPrevPaintRect():null;y&&f(y);var x=v&&(p.__dirty&ci||!p.__isRendered)?p.getPaintRect():null;x&&f(x)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var p=n[d],v=p&&p.shouldBePainted(a,i,!0,!0);if(p&&(!v||!p.__zr)&&p.__isRendered){var y=p.getPrevPaintRect();y&&f(y)}}var b;do{b=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var w=d+1;w<s.length;)s[d].intersect(s[w])?(b=!0,s[d].union(s[w]),s.splice(w,1)):w++;d++}}while(b);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var a=this.dpr,i=this.dom,s=i.style,o=this.domBack;s&&(s.width=r+"px",s.height=n+"px"),i.width=r*a,i.height=n*a,o&&(o.width=r*a,o.height=n*a,a!==1&&this.ctxBack.scale(a,a))},t.prototype.clear=function(r,n,a){var i=this.dom,s=this.ctx,o=i.width,l=i.height;n=n||this.clearColor;var u=this.motionBlur&&!r,f=this.lastFrameAlpha,d=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/d,l/d));var v=this.domBack;function y(x,b,w,_){if(s.clearRect(x,b,w,_),n&&n!=="transparent"){var T=void 0;if(ES(n)){var M=n.global||n.__width===w&&n.__height===_;T=M&&n.__canvasGradient||YO(s,n,{x:0,y:0,width:w,height:_}),n.__canvasGradient=T,n.__width=w,n.__height=_}else G0e(n)&&(n.scaleX=n.scaleX||d,n.scaleY=n.scaleY||d,T=XO(s,n,{dirty:function(){p.setUnpainted(),p.painter.refresh()}}));s.save(),s.fillStyle=T||n,s.fillRect(x,b,w,_),s.restore()}u&&(s.save(),s.globalAlpha=f,s.drawImage(v,x,b,w,_),s.restore())}!a||u?y(0,0,o,l):a.length&&re(a,function(x){y(x.x*d,x.y*d,x.width*d,x.height*d)})},t})(Es),SH=1e5,$c=314159,fb=.01,S2e=.001;function _2e(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function T2e(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var C2e=(function(){function e(t,r,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=gt({},n||{}),this.dpr=n.devicePixelRatio||$1,this._singleCanvas=i,this.root=t;var s=t.style;s&&(TQ(t),t.innerHTML=""),this.storage=r;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var f=t,d=f.width,p=f.height;n.width!=null&&(d=n.width),n.height!=null&&(p=n.height),this.dpr=n.devicePixelRatio||1,f.width=d*this.dpr,f.height=p*this.dpr,this._width=d,this._height=p;var v=new h2(f,this,this.dpr);v.__builtin__=!0,v.initContext(),l[$c]=v,v.zlevel=$c,o.push($c),this._domRoot=t}else{this._width=Kx(t,0,n),this._height=Kx(t,1,n);var u=this._domRoot=T2e(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var i=0;i<a.length;i++){var s=a[i],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=i===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,s=0;s<r;s++){var o=t[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(SH)),i||(i=n.ctx,i.save()),Qc(i,o,a,s===r-1))}i&&i.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(SH)},e.prototype.paintOne=function(t,r){jee(t,r)},e.prototype._paintList=function(t,r,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,r,n),s=i.finished,o=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;O1(function(){l._paintList(t,r,n,a)})}}},e.prototype._compositeManually=function(){var t=this.getLayer($c).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var a=this,i=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&i.push(u)}for(var f=!0,d=!1,p=function(x){var b=i[x],w=b.ctx,_=s&&b.createRepaintRects(t,r,v._width,v._height),T=n?b.__startIndex:b.__drawIndex,M=!n&&b.incremental&&Date.now,N=M&&Date.now(),C=b.zlevel===v._zlevelList[0]?v._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,C,_);else if(T===b.__startIndex){var j=t[T];(!j.incremental||!j.notClear||n)&&b.clear(!1,C,_)}T===-1&&(console.error("For some unknown reason. drawIndex is -1"),T=b.__startIndex);var O,P=function(I){var $={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(O=T;O<b.__endIndex;O++){var F=t[O];if(F.__inHover&&(d=!0),a._doPaintEl(F,b,s,I,$,O===b.__endIndex-1),M){var z=Date.now()-N;if(z>15)break}}$.prevElClipPaths&&w.restore()};if(_)if(_.length===0)O=b.__endIndex;else for(var R=v.dpr,k=0;k<_.length;++k){var L=_[k];w.save(),w.beginPath(),w.rect(L.x*R,L.y*R,L.width*R,L.height*R),w.clip(),P(L),w.restore()}else w.save(),P(),w.restore();b.__drawIndex=O,b.__drawIndex<b.__endIndex&&(f=!1)},v=this,y=0;y<i.length;y++)p(y);return Yt.wxa&&re(this._layers,function(x){x&&x.ctx&&x.ctx.draw&&x.ctx.draw()}),{finished:f,needsRefreshHover:d}},e.prototype._doPaintEl=function(t,r,n,a,i,s){var o=r.ctx;if(n){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(Qc(o,t,i,s),t.setPrevPaintRect(l))}else Qc(o,t,i,s)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=$c);var n=this._layers[t];return n||(n=new h2("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?xr(n,this._layerConfig[t],!0):this._layerConfig[t-fb]&&xr(n,this._layerConfig[t-fb],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,a=this._zlevelList,i=a.length,s=this._domRoot,o=null,l=-1;if(!n[t]&&_2e(r)){if(i>0&&t>a[0]){for(l=0;l<i-1&&!(a[l]<t&&a[l+1]>t);l++);o=n[a[l]]}if(a.splice(l+1,0,t),n[t]=r,!r.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(r.dom,u.nextSibling):s.appendChild(r.dom)}else s.firstChild?s.insertBefore(r.dom,s.firstChild):s.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];t.call(r,this._layers[i],i)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__&&t.call(r,s,i)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__||t.call(r,s,i)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(d,p){d.__dirty=d.__used=!1});function r(d){i&&(i.__endIndex!==d&&(i.__dirty=!0),i.__endIndex=d)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var a=t[n];if(a.zlevel!==t[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,s=0,o,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,f=void 0;o!==u&&(o=u,s=0),a.incremental?(f=this.getLayer(u+S2e,this._needsManuallyCompositing),f.incremental=!0,s=1):f=this.getLayer(u+(s>0?fb:0),this._needsManuallyCompositing),f.__builtin__||eL("ZLevel "+u+" has been used by unkown layer "+f.id),f!==i&&(f.__used=!0,f.__startIndex!==l&&(f.__dirty=!0),f.__startIndex=l,f.incremental?f.__drawIndex=-1:f.__drawIndex=l,r(l),i=f),a.__dirty&ci&&!a.__inHover&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(d,p){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,re(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?xr(n[t],r,!0):n[t]=r;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===t||i===t+fb){var s=this._layers[i];xr(s,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,a=r[t];a&&(a.dom.parentNode.removeChild(a.dom),delete r[t],n.splice(Cr(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(t!=null&&(a.width=t),r!=null&&(a.height=r),t=Kx(i,0,a),r=Kx(i,1,a),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer($c).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[$c].dom;var r=new h2("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=r.dom.width,i=r.dom.height;this.eachLayer(function(d){d.__builtin__?n.drawImage(d.dom,0,0,a,i):d.renderToCanvas&&(n.save(),d.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var f=o[l];Qc(n,f,s,l===u-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e})();function ure(e){e.registerPainter("canvas",C2e)}Cs([YCe,Dte,Gte,ore,ere,l_,ure]);const Pn={background:"transparent",gridLine:"#E2E8F0",axisText:"#475569",legendText:"#0F172A",tooltipBackground:"#0f172a",tooltipText:"#F8FAFC",tooltipBorder:"#1F2937",tooltipHint:"rgba(248,250,252,0.8)",momLine:"#f97316",yoyLine:"#22c55e"},N2e={dashedLine:"path://M0,6 L10,6 M14,6 L24,6 M28,6 L38,6"},_H=e=>e.toLocaleString("ko-KR"),TH=e=>e==null||!Number.isFinite(e)?"":`${e.toFixed(1)}%`,A2e=280,M2e=({data:e,categories:t,palette:r,momAvailable:n,yoyAvailable:a,unitLabel:i})=>{const s=A.useRef(null),o=A.useRef(null),l=A.useMemo(()=>{const u=t.map((p,v)=>({name:p,type:"bar",stack:"shipments",emphasis:{focus:"series"},itemStyle:{color:r[v%r.length]},data:e.map(y=>typeof y[p]=="number"?y[p]:0),barMaxWidth:36,showBackground:!1})),f=[];n&&f.push({name:"MoM",type:"line",data:e.map(p=>typeof p.mom=="number"?p.mom:null),yAxisIndex:1,smooth:!0,showSymbol:!1,color:Pn.momLine,legendIcon:"line",lineStyle:{color:Pn.momLine,width:2.5,type:"solid"},emphasis:{focus:"series"}}),a&&f.push({name:"YoY",type:"line",data:e.map(p=>typeof p.yoy=="number"?p.yoy:null),yAxisIndex:1,smooth:!0,showSymbol:!1,color:Pn.yoyLine,legendIcon:N2e.dashedLine,lineStyle:{color:Pn.yoyLine,width:2.5,type:"dashed"},emphasis:{focus:"series"}});const d=p=>{var M,N;if(!Array.isArray(p)||p.length===0)return"";const v=((M=p[0])==null?void 0:M.axisValueLabel)??((N=p[0])==null?void 0:N.axisValue)??"",x=[...p.filter(C=>C.seriesType==="bar")].sort((C,j)=>Number(j.value??0)-Number(C.value??0)),b=p.find(C=>C.seriesName==="MoM"),w=p.find(C=>C.seriesName==="YoY"),_=i?` ${i}`:"";let T='<div style="display:flex;flex-direction:column;gap:8px;min-width:220px;">';return T+=`<div style="font-weight:600;color:${Pn.tooltipText};font-size:14px;">${v}</div>`,T+=`<div style="display:flex;gap:12px;font-size:12px;color:${Pn.tooltipHint};">`,n&&(T+=`<span style="color:${Pn.tooltipText};font-weight:600;">MoM ${TH((b==null?void 0:b.value)??null)}</span>`),a&&(T+=`<span style="color:${Pn.tooltipText};font-weight:600;">YoY ${TH((w==null?void 0:w.value)??null)}</span>`),T+="</div>",x.forEach(C=>{const j=Number(C.value??0);T+=`<div style="display:flex;justify-content:space-between;gap:12px;font-size:12px;color:${Pn.tooltipText};">`,T+='<span style="display:flex;align-items:center;gap:6px;">';const O=C.color??C.borderColor??"#cbd5f5";T+=`<span style="width:8px;height:8px;border-radius:999px;background:${O};display:inline-block;"></span>`,T+=`<span>${C.seriesName}</span>`,T+="</span>",T+=`<span style="font-weight:600;">${_H(j)}${_}</span>`,T+="</div>"}),T+="</div>",T};return{backgroundColor:Pn.background,grid:{top:48,right:140,left:42,bottom:42},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},confine:!0,appendToBody:!0,extraCssText:`max-height:${A2e}px;overflow:auto;padding-right:8px;border-radius:8px;`,backgroundColor:Pn.tooltipBackground,borderColor:Pn.tooltipBorder,borderWidth:1,textStyle:{color:Pn.tooltipText,fontSize:12},formatter:d},legend:{orient:"vertical",right:8,top:16,bottom:16,align:"left",itemGap:8,textStyle:{color:Pn.legendText,fontSize:12,fontWeight:500},icon:"rect"},xAxis:{type:"category",data:e.map(p=>p.monthLabel),axisLine:{lineStyle:{color:Pn.gridLine,width:1}},axisTick:{show:!1},axisLabel:{color:Pn.axisText,fontSize:11,margin:10}},yAxis:[{type:"value",name:"",position:"left",axisLine:{show:!1},axisTick:{show:!1},nameTextStyle:{color:Pn.axisText},axisLabel:{color:Pn.axisText,fontSize:11,formatter:p=>{const v=typeof p=="number"?p:Number(p);return Number.isFinite(v)?_H(v):""}},splitLine:{show:!0,lineStyle:{color:Pn.gridLine,type:"dashed",width:1}}},{type:"value",name:"(%)",position:"right",min:-200,max:400,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{formatter:"{value}%",color:Pn.axisText,fontSize:11},splitLine:{show:!1}}],series:[...u,...f]}},[t,e,n,r,i,a]);return A.useEffect(()=>{const u=s.current;if(!u)return;let f=qL(u);f||(f=Gee(u,void 0,{renderer:"canvas"})),o.current=f;let d;if(typeof ResizeObserver<"u")d=new ResizeObserver(()=>{f==null||f.resize()}),d.observe(u);else{const p=()=>{f==null||f.resize()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),d&&d.disconnect(),o.current&&(o.current.dispose(),o.current=null)}}return()=>{d&&d.disconnect(),o.current&&(o.current.dispose(),o.current=null)}},[]),A.useEffect(()=>{if(!o.current)return;const u={notMerge:!0,lazyUpdate:!1};o.current.setOption(l,u)},[l]),m.jsx("div",{className:"h-full w-full",children:m.jsx("div",{ref:s,className:"h-full w-full"})})},E2e=({className:e="h-6 w-6"})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),j2e='a[href], area[href], input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [contenteditable="true"], [tabindex]:not([tabindex="-1"])',CH=e=>Array.from(e.querySelectorAll(j2e)).filter(t=>!t.hasAttribute("aria-hidden")),pi=({isOpen:e,onClose:t,title:r,children:n,widthClassName:a="max-w-lg"})=>{const i=A.useRef(null),s=A.useRef(null),o=A.useId();if(A.useEffect(()=>{if(!e)return;s.current=document.activeElement;const u=i.current;if(!u)return;const f=CH(u);f.length>0?f[0].focus():u.focus();const d=p=>{if(p.key==="Escape"){p.preventDefault(),t();return}if(p.key==="Tab"){const v=CH(u);if(!v.length){p.preventDefault(),u.focus();return}const y=v[0],x=v[v.length-1],b=document.activeElement;p.shiftKey?(b===y||!u.contains(b))&&(p.preventDefault(),x.focus()):b===x&&(p.preventDefault(),y.focus())}};return u.addEventListener("keydown",d),()=>{var p;u.removeEventListener("keydown",d),(p=s.current)==null||p.focus()}},[e,t]),!e)return null;const l=u=>{u.target===u.currentTarget&&t()};return m.jsx("div",{className:"fixed inset-0 z-50 flex h-full w-full items-center justify-center overflow-y-auto bg-gray-600 bg-opacity-50",onClick:l,role:"presentation",children:m.jsxs("div",{ref:i,role:"dialog","aria-modal":"true","aria-labelledby":o,tabIndex:-1,className:`relative mx-auto w-full ${a} rounded-md border bg-white p-5 shadow-lg`,children:[m.jsxs("div",{className:"flex items-center justify-between border-b pb-3",children:[m.jsx("h3",{id:o,className:"text-2xl font-bold text-gray-900",children:r}),m.jsx("button",{type:"button",onClick:t,className:"text-gray-400 transition hover:text-gray-600","aria-label":"",children:m.jsx(E2e,{className:"h-6 w-6"})})]}),m.jsx("div",{className:"mt-5",children:n})]})})},cre="/templates/shipments_template.csv",NH=5,D2e=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(String(n.result??"")),n.onerror=()=>r(n.error??new Error("CSV     .")),n.readAsText(e,"utf-8")}),O2e=({isOpen:e,onClose:t,onImported:r})=>{const n=A.useRef(null),[a,i]=A.useState(""),[s,o]=A.useState(null),[l,u]=A.useState(!1),[f,d]=A.useState(null),[p,v]=A.useState(null),[y,x]=A.useState(!1),b=As(),w=()=>{i(""),o(null),u(!1),d(null),v(null),n.current&&(n.current.value="")},_=()=>{w(),t()},T=A.useCallback(async()=>{if(typeof window>"u"||typeof document>"u"){b("   .",{tone:"error",duration:0});return}x(!0);try{await cX(cre,"shipments_template.csv"),b("CSV  .",{tone:"success"})}catch(R){const k=R instanceof Error&&R.message?R.message:"CSV   .";b(k,{tone:"error",duration:0})}finally{x(!1)}},[b]),M=async R=>{if(v(null),!R){d(null),i("");return}try{const k=await D2e(R);d(R),i(k),o(null)}catch(k){console.error(k),d(null),i(""),v(k instanceof Error?k.message:"CSV   .")}},N=R=>{i(R.target.value),o(null),f&&d(null)},C=()=>{var R;(R=n.current)==null||R.click()},j=async R=>{if(R.preventDefault(),v(null),!l){if(!a.trim()){v("CSV     .");return}u(!0);try{const k=await Hge(a);o(k),i(""),r==null||r(k)}catch(k){console.error(k),o({addedOrders:0,addedLines:0,errors:["CSV    ."]})}finally{u(!1)}}},O=s?s.errors.slice(0,NH):[],P=s?Math.max(0,s.errors.length-NH):0;return m.jsx(pi,{isOpen:e,onClose:_,title:" CSV ",widthClassName:"max-w-3xl",children:m.jsxs("form",{onSubmit:j,className:"space-y-6",children:[m.jsxs("section",{className:"space-y-3 text-sm text-slate-600",children:[m.jsx("p",{className:"text-slate-500",children:"    SKU()   ,   ID   .    Top/Worst SKU   .  KST  ."}),m.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-xs text-slate-500",children:[m.jsx("li",{children:"       MoM/YoY  ."}),m.jsx("li",{children:"category   Top5  Worst5  ."}),m.jsx("li",{children:"   Top5/Worst5 SKU   ."}),m.jsx("li",{children:"partnerId  partnerName   ."}),m.jsx("li",{children:"CSV       ."})]}),m.jsxs("div",{className:"text-xs text-slate-500",children:[":"," ",m.jsx("button",{type:"button",onClick:T,disabled:y,className:"font-semibold text-primary-600 hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed disabled:opacity-60",children:y?" ...":"shipments_template.csv"})]})]}),m.jsxs("section",{className:"space-y-3",children:[m.jsxs("div",{className:"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-4",children:[m.jsx("input",{ref:n,type:"file",accept:".csv,text/csv",className:"hidden",onChange:R=>{var L;const k=((L=R.target.files)==null?void 0:L[0])??null;M(k),R.target.value=""}}),m.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-slate-700",children:f?f.name:"  ."}),m.jsx("p",{className:"text-xs text-slate-500",children:"CSV , UTF-8 .    ."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:C,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary-300 hover:text-primary-600",children:" "}),f&&m.jsx("button",{type:"button",onClick:()=>void M(f),className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-medium text-slate-600 hover:border-primary-300 hover:text-primary-600",children:" "})]})]})]}),m.jsx("p",{className:"text-xs text-slate-500",children:"   CSV   ."}),m.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["CSV ",m.jsx("textarea",{value:a,onChange:N,rows:10,placeholder:",,SKU(),,,",className:"mt-1 block w-full rounded-md border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),p&&m.jsx("p",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:p})]}),s&&m.jsxs("div",{className:"space-y-2 rounded-md border border-slate-200 bg-slate-50 p-3 text-sm text-slate-700",children:[m.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[m.jsx("span",{className:"font-semibold text-slate-900",children:" "}),m.jsxs("span",{className:"text-xs text-slate-500",children:[" ",s.addedOrders,"   ",s.addedLines,""]})]}),s.errors.length===0?m.jsx("p",{className:"text-emerald-600",children:"  ."}):m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-rose-600",children:"  ."}),m.jsxs("ul",{className:"list-disc space-y-1 pl-4 text-xs text-rose-600",children:[O.map(R=>m.jsx("li",{children:R},R)),P>0&&m.jsxs("li",{children:[" ",P,""]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx("button",{type:"button",onClick:T,disabled:y,className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:y?" ...":" "}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{type:"button",onClick:_,className:"rounded-md border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:""}),m.jsx("button",{type:"submit",disabled:l||!a.trim(),className:`rounded-md px-4 py-2 text-sm font-semibold text-white ${l||!a.trim()?"bg-primary-300":"bg-primary-600 hover:bg-primary-700"}`,children:l?" ...":"CSV "})]})]})]})})},nh=Array.from({length:12},(e,t)=>t+1),P2e=nh.map(e=>({value:e.toString(),label:`${e}`})),k2e=[{label:" ( )",value:"ALL"},{label:"  Top5 + ",value:"MONTH_TOP5"}],R2e=["#60a5fa","#34d399","#fbbf24","#f472b6","#c084fc","#94a3b8"],L2e=30,I2e=.1,p2=5,B2e=540*60*1e3,$2e=e=>{const t=new Date(e);return Number.isNaN(t.getTime())?null:new Date(t.getTime()+B2e)},d1=e=>{const t=$2e(e);return t?{year:t.getUTCFullYear(),month:t.getUTCMonth()+1}:null},z2e=()=>{const e=d1(Date.now());if(e)return e;const t=new Date;return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1}},Ra=(e,t)=>`${e}-${String(t).padStart(2,"0")}`,m2=e=>Math.round(e*10)/10,F2e=(e,t)=>e*12+t-1,U2e=e=>({year:Math.floor(e/12),month:e%12+1}),db=(e,t)=>!(e<=0||e<L2e||t>0&&e<t*I2e),hb=e=>e.toLocaleString("ko-KR"),H2e=({products:e})=>{const t=As(),[r,n]=A.useState([]),[a,i]=A.useState(!1),[s,o]=A.useState([]),[l,u]=A.useState(!1),[f,d]=A.useState(0),[p,v]=A.useState(!1),[y,x]=A.useState(!1),b=A.useMemo(()=>z2e(),[]),[w,_]=A.useState(b.year),[T,M]=A.useState(b.month),[N,C]=A.useState("all"),[j,O]=A.useState([]),[P,R]=A.useState("ALL");A.useEffect(()=>{let Q=!1;return cO().then(we=>{Q||O(we)}).catch(()=>{Q||O([])}),()=>{Q=!0}},[]),A.useEffect(()=>{const Q=c0e(()=>{cO().then(we=>O(we)).catch(()=>O([]))});return()=>{Q==null||Q()}},[]),A.useEffect(()=>{let Q=!1;return i(!0),so({type:"CUSTOMER",includeSample:!0}).then(we=>{Q||n(we)}).catch(()=>{Q||n([])}).finally(()=>{Q||i(!1)}),()=>{Q=!0}},[]),A.useEffect(()=>{let Q=!1;return u(!0),(async()=>{try{const we=await $ge(),st=await Promise.all(we.map(async ce=>{try{return await iQ(ce.id)}catch{return}}));if(Q)return;const me=[];st.forEach(ce=>{ce!=null&&ce.events&&ce.events.forEach(he=>{if(he.kind!=="SHIP")return;const ze=he;ze.lines.forEach(Ge=>{var ge;if(!Ge||!Ge.sku)return;const at=Ge.sku.trim().toUpperCase(),lt=(ge=ce.items)==null?void 0:ge.find(Ee=>Ee.sku.trim().toUpperCase()===at);me.push({sku:Ge.sku,quantity:Math.max(0,Ge.quantity),occurredAt:ze.occurredAt,partnerId:ce.partnerId,warehouseCode:Ge.warehouseCode??ce.warehouseCode??void 0,category:Ge.category,productName:Ge.productName??(lt==null?void 0:lt.productName)})})})}),Q||o(me)}catch{Q||o([])}finally{Q||u(!1)}})(),()=>{Q=!0}},[f]);const k=A.useCallback(Q=>{d(st=>st+1);const we=[` ${Q.addedOrders}`,` ${Q.addedLines}`];Q.errors.length>0&&we.push(` ${Q.errors.length}`),t("CSV  .",{tone:Q.errors.length>0?"info":"success",description:we.join("  ")})},[t]),L=A.useCallback(async()=>{if(typeof window>"u"||typeof document>"u"){t("   .",{tone:"error",duration:0});return}x(!0);try{await cX(cre,"shipments_template.csv"),t("CSV  .",{tone:"success"})}catch(Q){const we=Q instanceof Error&&Q.message?Q.message:"CSV   .";t(we,{tone:"error",duration:0})}finally{x(!1)}},[t]),I=A.useMemo(()=>{const Q=new Map;return e.forEach(we=>{Q.set(we.sku.trim().toUpperCase(),we)}),Q},[e]),$=A.useMemo(()=>{const Q=new Map;return r.forEach(we=>{Q.set(we.id,we)}),Q},[r]),F=A.useMemo(()=>E0e(j),[j]),z=A.useMemo(()=>{const Q=new Set;return s.forEach(we=>{const st=d1(we.occurredAt);st&&Q.add(st.year)}),Q.size===0&&Q.add(b.year),Array.from(Q).sort((we,st)=>st-we)},[s,b.year]),V=A.useMemo(()=>z.map(Q=>({value:Q.toString(),label:`${Q}`})),[z]);A.useEffect(()=>{z.length!==0&&(z.includes(w)||_(z[0]))},[z,w]);const q=A.useMemo(()=>{const Q=new Set,we=st=>{const me=LN(st,F,{strict:!0});return me?(Q.add(me),me):null};return j.forEach(st=>{we(st.name)}),e.forEach(st=>{we(st.category)}),s.forEach(st=>{if(st.category&&we(st.category))return;const me=st.sku.trim().toUpperCase(),ce=I.get(me);ce!=null&&ce.category&&we(ce.category)}),Array.from(Q).sort()},[j,e,s,I,F]),W=A.useMemo(()=>{const Q=q.map(we=>({label:we,value:we}));return[{label:" ",value:"all"},...Q]},[q]),Y=A.useMemo(()=>s.filter(Q=>{const we=d1(Q.occurredAt);return we?we.year===w||we.year===w-1:!1}),[w,s]),H=A.useMemo(()=>{const Q=new Map;return Y.forEach(we=>{var ge;const st=d1(we.occurredAt);if(!st)return;const me=Ra(st.year,st.month);Q.has(me)||Q.set(me,{total:0,categoryTotals:new Map,partnerTotals:new Map,skuTotals:new Map,events:[]});const ce=Q.get(me),he=we.sku.trim().toUpperCase(),ze=I.get(he),Ge=LN(we.category,F,{strict:!0})??LN(ze==null?void 0:ze.category,F,{strict:!0})??"";ce.total+=we.quantity,ce.events.push(we),ce.categoryTotals.set(Ge,(ce.categoryTotals.get(Ge)??0)+we.quantity),ce.partnerTotals.set(we.partnerId,(ce.partnerTotals.get(we.partnerId)??0)+we.quantity);const at=ce.skuTotals.get(he)??{quantity:0,category:Ge,names:new Map};at.quantity+=we.quantity,!at.category&&Ge&&(at.category=Ge);const lt=(ge=we.productName??(ze==null?void 0:ze.name))==null?void 0:ge.trim();if(lt){const Ee=lt;at.names.set(Ee,(at.names.get(Ee)??0)+we.quantity)}ce.skuTotals.set(he,at)}),Q},[Y,I,F]),U=Ra(w,T),K=H.get(U),ee=(K==null?void 0:K.categoryTotals)??new Map,ae=A.useMemo(()=>{const Q=new Map;return nh.forEach(we=>{const st=H.get(Ra(w,we));st&&st.categoryTotals.forEach((me,ce)=>{Q.set(ce,(Q.get(ce)??0)+me)})}),Q},[H,w]),xe=A.useCallback(Q=>{const we=H.get(Q);return we?N==="all"?we.total:we.categoryTotals.get(N)??0:0},[H,N]),ke=A.useCallback((Q,we,st=3)=>{const me=[],ce=F2e(Q,we);for(let he=1;he<=st;he+=1){const{year:ze,month:Ge}=U2e(ce-he),at=Ra(ze,Ge),lt=xe(at);lt>0&&me.push(lt)}return me.length===0?0:me.reduce((he,ze)=>he+ze,0)/me.length},[xe]),Je=A.useMemo(()=>nh.filter(Q=>{const we=Ra(w,Q);return xe(we)>0}),[xe,w]);A.useEffect(()=>{Je.length!==0&&(Je.includes(T)||M(Je[Je.length-1]))},[Je,T]);const be=A.useMemo(()=>N!=="all"?[N]:P==="MONTH_TOP5"?Array.from(ee.entries()).sort((Q,we)=>we[1]-Q[1]).slice(0,p2).map(([Q])=>Q):P==="YEAR_TOP5"?Array.from(ae.entries()).sort((Q,we)=>we[1]-Q[1]).slice(0,p2).map(([Q])=>Q):[...q].sort((Q,we)=>(ae.get(we)??0)-(ae.get(Q)??0)||Q.localeCompare(we)),[q,ee,N,P,ae]),Te=A.useMemo(()=>{if(N!=="all")return[N];if(P==="ALL")return[...be];const Q=[...be],we=P==="MONTH_TOP5"?ee:ae;return Array.from(we.entries()).some(([me,ce])=>ce>0&&!be.includes(me))&&Q.push(""),Q},[be,ee,N,P,ae]),De=A.useMemo(()=>nh.map(Q=>{const we=Ra(w,Q),st=H.get(we),me={monthLabel:`${Q}`};let ce=xe(we);Te.forEach(Oe=>{if(Oe===""){if(N!=="all"||!st){me[Oe]=0;return}let mt=0;st.categoryTotals.forEach((Tt,Ce)=>{be.includes(Ce)||(mt+=Tt)}),me[Oe]=mt}else{const mt=(st==null?void 0:st.categoryTotals.get(Oe))??0;me[Oe]=mt,N!=="all"&&(ce=mt)}}),me.total=ce;const he=Q===1?Ra(w-1,12):Ra(w,Q-1),ze=xe(he),Ge=ke(w,Q),at=db(ze,Ge);me.mom=at?m2((ce-ze)/ze*100):null;const lt=Ra(w-1,Q),ge=xe(lt),Ee=ke(w-1,Q),$e=db(ge,Ee);return me.yoy=$e?m2((ce-ge)/ge*100):null,me}),[be,xe,ke,H,N,w,Te]),J=A.useMemo(()=>nh.some(Q=>{const we=Ra(w,Q);if(xe(we)<=0)return!1;const st=Q===1?Ra(w-1,12):Ra(w,Q-1),me=xe(st),ce=ke(w,Q);return db(me,ce)}),[xe,ke,w]),it=A.useMemo(()=>nh.some(Q=>{const we=Ra(w,Q);if(xe(we)<=0)return!1;const st=Ra(w-1,Q),me=xe(st),ce=ke(w-1,Q);return db(me,ce)}),[xe,ke,w]),Ue=(K==null?void 0:K.partnerTotals)??new Map,ft=(K==null?void 0:K.skuTotals)??new Map,le=Array.from(ft.values()).reduce((Q,we)=>Q+we.quantity,0),te=le===0,Ne=A.useMemo(()=>Array.from(ee.entries()).sort((Q,we)=>we[1]-Q[1]).slice(0,p2).map(([Q,we])=>({category:Q,value:we})),[ee]),Le=A.useMemo(()=>Array.from(Ue.entries()).map(([Q,we])=>{var st;return{partnerId:Q,name:((st=$.get(Q))==null?void 0:st.name)??"",quantity:we}}).sort((Q,we)=>we.quantity-Q.quantity||Q.name.localeCompare(we.name)).slice(0,5),[Ue,$]),Pe=(Q,we)=>{const st=I.get(Q);if(st!=null&&st.name&&st.name.trim())return st.name;let me,ce=-1;return we.names.forEach((he,ze)=>{he>ce&&(ce=he,me=ze)}),me},He=A.useMemo(()=>Array.from(ft.entries()).map(([Q,we])=>{var st;return{sku:Q,product:I.get(Q),productName:Pe(Q,we)??((st=I.get(Q))==null?void 0:st.name),quantity:we.quantity}}).sort((Q,we)=>{var st,me;return we.quantity-Q.quantity||(Q.productName??((st=Q.product)==null?void 0:st.name)??Q.sku).localeCompare(we.productName??((me=we.product)==null?void 0:me.name)??we.sku)}).slice(0,5),[ft,I]),pe=A.useMemo(()=>new Set(He.map(Q=>Q.sku)),[He]),Fe=A.useMemo(()=>{if(te)return[];const Q=Array.from(ft.entries()).map(([we,st])=>{var me,ce;return{sku:we,product:I.get(we),productName:Pe(we,st)??((me=I.get(we))==null?void 0:me.name),quantity:st.quantity,category:st.category??((ce=I.get(we))==null?void 0:ce.category)}}).filter(we=>we.quantity>0&&!pe.has(we.sku)&&(N==="all"||we.category===N)).sort((we,st)=>{var me,ce;return we.quantity-st.quantity||(we.productName??((me=we.product)==null?void 0:me.name)??we.sku).localeCompare(st.productName??((ce=st.product)==null?void 0:ce.name)??st.sku)});return Q.length===0?[]:Q.slice(0,5)},[te,ft,I,N,pe]),ue=`${w} ${T}`,nt=l||a,tt=te?"  ":" ";return m.jsxs(m.Fragment,{children:[m.jsxs("section",{className:"space-y-6",children:[m.jsxs(Jd,{className:"space-y-4",children:[m.jsxs("header",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[m.jsx("div",{children:m.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"  &  "})}),m.jsxs("div",{className:"flex flex-col items-start gap-2 text-xs text-slate-500 md:items-end",children:[nt&&m.jsx("span",{children:"  ..."}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsx("button",{type:"button",onClick:L,disabled:y,className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60",children:y?" ...":"CSV "}),m.jsx("button",{type:"button",onClick:()=>v(!0),className:"rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-700",children:"CSV "})]})]})]}),m.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[m.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[m.jsx("span",{className:"mb-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:""}),m.jsx(Mr,{value:w.toString(),onChange:Q=>_(Number(Q)),options:V,placeholder:" ",inputClassName:"rounded-xl border border-slate-200 px-3 py-2"})]}),m.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[m.jsx("span",{className:"mb-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:""}),m.jsx(Mr,{value:N,onChange:Q=>C(Q),options:W,placeholder:" ",inputClassName:"rounded-xl border border-slate-200 px-3 py-2"})]}),m.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[m.jsx("span",{className:"mb-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:""}),m.jsx(Mr,{value:T.toString(),onChange:Q=>M(Number(Q)),options:P2e,placeholder:" ",inputClassName:"rounded-xl border border-slate-200 px-3 py-2"})]}),m.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[m.jsx("span",{className:"mb-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:" "}),m.jsx(Mr,{value:P,onChange:Q=>R(Q),options:k2e,placeholder:" ",inputClassName:"rounded-xl border border-slate-200 px-3 py-2"})]})]}),m.jsx("div",{className:"h-72 w-full",children:Te.length===0?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-400",children:"   ."}):m.jsx(M2e,{data:De,categories:Te,palette:R2e,momAvailable:J,yoyAvailable:it})})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[m.jsxs(Jd,{className:"space-y-4",children:[m.jsx("header",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:ue}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Top5"})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-xs uppercase text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:Le.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-slate-400",children:" "})}):Le.map(Q=>m.jsxs("tr",{className:"border-t border-slate-100",children:[m.jsx("td",{className:"px-3 py-2 text-slate-800",children:Q.name}),m.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-900",children:hb(Q.quantity)})]},Q.partnerId))})]})})]}),m.jsxs(Jd,{className:"space-y-4",children:[m.jsx("header",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:ue}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Top5"})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-xs uppercase text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:Ne.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-slate-400",children:" "})}):Ne.map(Q=>m.jsxs("tr",{className:"border-t border-slate-100",children:[m.jsx("td",{className:"px-3 py-2",children:Q.category}),m.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-900",children:hb(Q.value)}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:le>0?`${m2(Q.value/le*100)}%`:""})]},Q.category))})]})})]}),m.jsxs(Jd,{className:"space-y-4",children:[m.jsx("header",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:ue}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Top5 SKU"})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-xs uppercase text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"SKU"}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:He.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-slate-400",children:" "})}):He.map(Q=>{var we;return m.jsxs("tr",{className:"border-t border-slate-100",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-500",children:Q.sku}),m.jsx("td",{className:"px-3 py-2 text-slate-800",children:Q.productName??((we=Q.product)==null?void 0:we.name)??Q.sku}),m.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-900",children:hb(Q.quantity)})]},Q.sku)})})]})})]}),m.jsxs(Jd,{className:"space-y-4 md:col-span-2 xl:col-span-1",children:[m.jsx("header",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:ue}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" Worst5 SKU"})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-xs uppercase text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"SKU"}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:Fe.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-slate-400",children:tt})}):Fe.map(Q=>{var we;return m.jsxs("tr",{className:"border-t border-slate-100",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-500",children:Q.sku}),m.jsx("td",{className:"px-3 py-2 text-slate-800",children:Q.productName??((we=Q.product)==null?void 0:we.name)??Q.sku}),m.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-900",children:hb(Q.quantity)})]},Q.sku)})})]})})]})]})]}),m.jsx(O2e,{isOpen:p,onClose:()=>v(!1),onImported:k})]})};Cs([Dte,Gte,ore,ere,GAe,zAe,w2e,l_,ure]);const jh=540*60*1e3,vf=1440*60*1e3,V2e=["","","","","","",""],jr={actualLine:"#0F172A",actualShadow:"rgba(15,23,42,0.25)",forecastLine:"#3B82F6",forecastFill:"rgba(59,130,246,0.15)",todayLine:"#94A3B8",axisText:"#475569",gridLine:"#E2E8F0",legendText:"#334155",tooltipBackground:"rgba(15,23,42,0.92)",tooltipBorder:"#1f2937",tooltipText:"#F8FAFC"},mh=e=>e<10?`0${e}`:String(e),gP=e=>Math.floor((e+jh)/vf)*vf-jh,fre=e=>{const t=e+jh,r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),weekday:r.getUTCDay()}},zd=e=>typeof e=="number"&&Number.isFinite(e),h1=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();if(!t)return null;if(/^\d+$/.test(t)){const n=Number(t);return Number.isFinite(n)?n:null}if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[n,a,i]=t.split("-").map(s=>Number.parseInt(s,10));if([n,a,i].every(s=>Number.isFinite(s)))return Date.UTC(n,(a??1)-1,i??1)-jh}if(/^\d{4}-\d{2}$/.test(t)){const[n,a]=t.split("-").map(i=>Number.parseInt(i,10));if([n,a].every(i=>Number.isFinite(i)))return Date.UTC(n,(a??1)-1,1)-jh}if(/^\d{2}-\d{2}$/.test(t)){const[n,a]=t.split("-").map(i=>Number.parseInt(i,10));if([n,a].every(i=>Number.isFinite(i))){const i=n>=70?1900+n:2e3+n;return Date.UTC(i,(a??1)-1,1)-jh}}const r=Date.parse(t);return Number.isNaN(r)?null:r}return null},AH=e=>{if(!e)return null;const t=h1(e);return t===null?null:gP(t)},q2e=(e,t,r)=>{const n=new Map;e.forEach($=>{const F=h1($.ts)??h1($.isoDate)??h1($.date);if(F===null||Number.isNaN(F))return;const z=gP(F),V=n.get(z),q=[$.actual,$.value,(V==null?void 0:V.actual)??null],W=[$.fc,$.forecast,$.value,(V==null?void 0:V.forecast)??null],Y=q.find(zd)??(V==null?void 0:V.actual)??null,H=W.find(zd)??(V==null?void 0:V.forecast)??null;n.set(z,{actual:zd(Y)?Y:null,forecast:zd(H)?H:null,phase:$.phase??(V==null?void 0:V.phase),isFinal:typeof $.isFinal=="boolean"?$.isFinal:V==null?void 0:V.isFinal})});const a=Array.from(n.entries()).map(([$,F])=>({ts:$,...F})).sort(($,F)=>$.ts-F.ts),i=Date.now(),s=gP(i),o=s+1080*60*1e3,l=a.find($=>$.ts===s);let u=r;u===void 0&&l&&(l.phase==="forecast"?u=!0:l.phase==="history"?u=!1:typeof l.isFinal=="boolean"&&(u=!l.isFinal)),u===void 0&&(u=i<o);const f=AH(t==null?void 0:t.start),d=AH(t==null?void 0:t.end),p=[],v=new Map;let y=null,x=null,b=null;a.forEach($=>{const{ts:F,actual:z,forecast:V,phase:q,isFinal:W}=$;let Y;q==="forecast"?Y=!0:q==="history"?Y=!1:typeof W=="boolean"?Y=!W:F<s?Y=!1:F>s?Y=!0:Y=u??!0,Y&&y===null&&(y=F),Y&&(x=F);const H=zd(z)?z:null,U=zd(V)?V:null,K=Y?U??H:H,ee=fre(F),ae=`${mh(ee.month)}/${mh(ee.day)}`,xe=`${ee.year}-${mh(ee.month)}-${mh(ee.day)}`,ke=V2e[ee.weekday]??"",Je={ts:F,actualValue:H,forecastValue:U,isForecast:Y,axisLabel:ae,tooltipDate:xe,weekdayLabel:ke,displayValue:K};p.push(Je),v.set(String(F),Je),b=F});let w=s,_=s;if(p.length>0){const $=p[0].ts;w=Math.min($,s),_=Math.max(p[p.length-1].ts,s)}const T=$=>$<w?w:$>_?_:$;let M=null,N=null;const C=u?s:s+vf,j=x??b??(u?s:s+vf);let O=f!==null?f:y??C,P=d!==null?d:j;O=T(O),P=T(P),P>O?(M=O,N=P):(M=null,N=null);const R=89*vf,k=b??s;let L=s,I=Math.max(w,L-R);return k>L&&(L=k,I=Math.max(w,L-R)),k<I&&(L=k,I=Math.max(w,L-R)),L<w&&(L=w),I>L&&(I=w),p.length===0||b===null?{points:[],metaByKey:v,todayStart:s,markAreaStart:M,markAreaEnd:N,zoomStart:I,zoomEnd:L,lastTs:null,domainMin:w,domainMax:_,sampling:!1}:{points:p,metaByKey:v,todayStart:s,markAreaStart:M,markAreaEnd:N,zoomStart:I,zoomEnd:L,lastTs:b,domainMin:w,domainMax:_,sampling:p.length>5e3}},G2e=e=>{const t=typeof e=="number"?e:Number(e);if(!Number.isFinite(t))return"";const r=fre(t);return`${mh(r.month)}/${mh(r.day)}`},W2e=({data:e,forecastRange:t=null,loading:r=!1,error:n=null,unitLabel:a="EA",includeTodayAsForecast:i,className:s,style:o})=>{const l=A.useRef(null),u=A.useRef(null),f=A.useMemo(()=>new Intl.NumberFormat("ko-KR",{maximumFractionDigits:0}),[]),d=A.useMemo(()=>q2e(e,t,i),[e,t,i]),p=d.points.some(y=>y.actualValue!==null||y.forecastValue!==null),v=A.useMemo(()=>{if(!p||d.points.length===0||d.lastTs===null)return null;const y=d.points.map(N=>({value:[N.ts,N.isForecast?null:N.actualValue],meta:N})),x=d.points.map(N=>({value:[N.ts,N.isForecast?N.forecastValue??N.actualValue??null:null],meta:N})),w=d.zoomStart!==null&&d.zoomEnd!==null&&d.zoomEnd>d.zoomStart?[{type:"inside",startValue:d.zoomStart,endValue:d.zoomEnd,filterMode:"filter",minValueSpan:vf},{type:"slider",startValue:d.zoomStart,endValue:d.zoomEnd,filterMode:"filter",height:26,bottom:18,borderColor:"rgba(30,41,59,0.8)",backgroundColor:"rgba(15,23,42,0.45)",dataBackground:{lineStyle:{color:jr.forecastLine,width:1},areaStyle:{color:"rgba(168,199,255,0.14)"}},fillerColor:"rgba(168,199,255,0.2)",handleStyle:{color:jr.forecastLine,borderColor:"#D9E4FF"},textStyle:{color:jr.axisText}}]:void 0,_=d.markAreaStart!==null&&d.markAreaEnd!==null?[[{xAxis:d.markAreaStart},{xAxis:d.markAreaEnd===d.markAreaStart?d.markAreaEnd+vf:d.markAreaEnd}]]:void 0,T=d.todayStart!==null?[{xAxis:d.todayStart}]:void 0,M=N=>{var V,q;if(!Array.isArray(N)||N.length===0)return"";const C=N.find(W=>W&&W.data&&typeof W.data=="object"&&"meta"in W.data),j=(V=N[0])==null?void 0:V.axisValue,O=typeof j=="number"?j:typeof j=="string"?Number(j):Number.NaN,P=((q=C==null?void 0:C.data)==null?void 0:q.meta)??(Number.isFinite(O)?d.metaByKey.get(String(O)):void 0);if(!P)return"";const R=P.isForecast?" ":" ",k=P.isForecast?"rgba(168,199,255,0.18)":"rgba(255,255,255,0.16)",L=P.isForecast?"rgba(168,199,255,0.35)":"rgba(255,255,255,0.25)",I=P.isForecast?jr.forecastLine:jr.actualLine,$=P.actualValue===null?"":`${f.format(P.actualValue)}${a?` ${a}`:""}`,F=P.forecastValue===null?"":`${f.format(P.forecastValue)}${a?` ${a}`:""}`,z=[`<div style="display:flex;justify-content:space-between;align-items:center;gap:12px;"><span style="display:flex;align-items:center;gap:6px;color:${jr.tooltipText};"><span style="display:inline-block;width:8px;height:8px;border-radius:9999px;background:${jr.actualLine};box-shadow:0 0 4px rgba(255,255,255,0.65);"></span> </span><span style="font-weight:600;color:${jr.tooltipText};">${$}</span></div>`,`<div style="display:flex;justify-content:space-between;align-items:center;gap:12px;"><span style="display:flex;align-items:center;gap:6px;color:${jr.tooltipText};"><span style="display:inline-block;width:8px;height:8px;border-radius:9999px;background:${jr.forecastLine};"></span> </span><span style="font-weight:600;color:${jr.tooltipText};">${F}</span></div>`];return['<div style="display:flex;flex-direction:column;gap:8px;min-width:220px;">',`<div style="font-weight:600;color:${jr.tooltipText};font-size:13px;">${P.tooltipDate} (${P.weekdayLabel})</div>`,`<div style="display:inline-flex;align-items:center;padding:2px 8px;font-size:10px;border-radius:9999px;border:1px solid ${L};color:${I};background:${k};font-weight:600;width:flex-start;">${R}</div>`,`<div style="display:flex;flex-direction:column;gap:6px;font-size:12px;color:${jr.tooltipText};">`,z.join(""),"</div>","</div>"].join("")};return{backgroundColor:"transparent",grid:{top:38,left:58,right:26,bottom:w?86:46},legend:{data:[" ()"," ( )"],top:2,left:4,itemWidth:14,itemHeight:4,textStyle:{color:jr.legendText,fontWeight:500,fontSize:12}},tooltip:{trigger:"axis",backgroundColor:jr.tooltipBackground,borderColor:jr.tooltipBorder,borderWidth:1,textStyle:{color:jr.tooltipText,fontSize:12},axisPointer:{type:"line",lineStyle:{color:jr.forecastLine,type:"dashed",width:1}},appendToBody:!0,formatter:M},xAxis:{type:"time",min:d.domainMin,max:d.domainMax,axisLine:{lineStyle:{color:jr.gridLine,width:1}},splitLine:{show:!0,lineStyle:{color:jr.gridLine,width:1,type:"dashed"}},axisLabel:{color:jr.axisText,fontSize:11,margin:14,formatter:N=>{const C=d.metaByKey.get(String(N));return(C==null?void 0:C.axisLabel)??G2e(N)}}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:jr.gridLine,width:1,type:"dashed"}},axisLabel:{color:jr.axisText,fontSize:11,formatter:N=>{const C=typeof N=="number"?N:Number(N);return Number.isFinite(C)?f.format(C):""}}},dataZoom:w,series:[{name:" ()",type:"line",showSymbol:!1,connectNulls:!1,smooth:!1,symbolSize:6,lineStyle:{color:jr.actualLine,width:2.5,shadowBlur:8,shadowColor:jr.actualShadow},itemStyle:{color:jr.actualLine},emphasis:{focus:"series"},sampling:d.sampling?"lttb":void 0,data:y,zlevel:3,z:4},{name:" ( )",type:"line",showSymbol:!1,connectNulls:!1,smooth:!1,symbolSize:6,lineStyle:{color:jr.forecastLine,width:2.5,type:"dashed"},itemStyle:{color:jr.forecastLine},emphasis:{focus:"series"},sampling:d.sampling?"lttb":void 0,data:x,markArea:_?{silent:!0,itemStyle:{color:jr.forecastFill},data:_,emphasis:{disabled:!0},z:1}:void 0,markLine:T?{symbol:"none",silent:!0,lineStyle:{color:jr.todayLine,type:"dashed",width:1.5},label:{show:!1},data:T,emphasis:{disabled:!0},z:5}:void 0,zlevel:2,z:3}]}},[p,d,f,a]);return A.useEffect(()=>{const y=l.current;if(!y)return;let x=qL(y);x||(x=Gee(y,void 0,{renderer:"canvas"})),u.current=x;let b;if(typeof ResizeObserver<"u")b=new ResizeObserver(()=>{x==null||x.resize()}),b.observe(y);else{const w=()=>{x==null||x.resize()};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w),b&&b.disconnect(),u.current&&(u.current.dispose(),u.current=null)}}return()=>{b&&b.disconnect(),u.current&&(u.current.dispose(),u.current=null)}},[]),A.useEffect(()=>{if(!u.current||!v)return;const y={notMerge:!0,lazyUpdate:!1};u.current.setOption(v,y)},[v]),A.useEffect(()=>{!p&&u.current&&(u.current.dispose(),u.current=null)},[p]),r?m.jsx("div",{className:"flex h-80 items-center justify-center text-sm text-slate-400",children:"     ..."}):n?m.jsx("div",{className:"flex h-80 items-center justify-center px-6 text-center text-sm text-rose-400",children:n}):p?m.jsx("div",{className:`h-80 ${s??""}`,style:o,children:m.jsx("div",{ref:l,className:"h-full w-full"})}):m.jsx("div",{className:"flex h-80 items-center justify-center text-sm text-slate-400",children:"     ."})},K2e=({sku:e,chartData:t,forecastRange:r,loading:n=!1,error:a=null,toolbar:i,children:s,unit:o,includeTodayAsForecast:l,accuracy:u})=>{const f=d=>typeof d!="number"||Number.isNaN(d)?"N/A":`${d.toFixed(1)}%`;return m.jsxs(HZ.section,{className:"col-span-12 rounded-3xl border border-white/70 bg-white/60 p-5 shadow-lg backdrop-blur-sm",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.25},children:[m.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"   "}),m.jsx("p",{className:"mt-1 text-sm text-slate-500",children:e?` ${e}`:"SKU    ."})]}),m.jsxs("div",{className:"flex flex-col items-end gap-2 sm:flex-row sm:items-center",children:[u&&m.jsxs("div",{className:"flex flex-wrap items-center gap-1 text-[11px] font-semibold text-slate-600",children:[m.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:["WAPE ",f(u.wape)]}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:["Bias ",f(u.bias)]}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-1",children:["P90  ",f(u.coverage)]})]}),i&&m.jsx("div",{className:"flex items-center gap-2",children:i})]})]}),m.jsx(W2e,{data:t,forecastRange:r??void 0,loading:n,error:a,unitLabel:o??"EA",includeTodayAsForecast:l}),s]})},pb=e=>e.toLocaleString(),Y2e=({sku:e,productName:t,metrics:r,loading:n=!1})=>{if(n)return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"   ..."})]});if(!r)return m.jsx("section",{className:"rounded-2xl border border-dashed border-slate-200 bg-white/70 p-4 text-xs text-slate-500",children:"   ."});const a=Object.entries(r.outboundReasons??{}).filter(([,s])=>Number.isFinite(s)).sort((s,o)=>o[1]-s[1]),i=t&&e?`${t} (${e})`:e??t??" ";return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsxs("header",{children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:i})]}),m.jsxs("dl",{className:"mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[m.jsxs("div",{children:[m.jsx("dt",{className:"font-semibold text-slate-700",children:" "}),m.jsxs("dd",{className:"mt-1 text-slate-500",children:[r.windowStart||"N/A"," ~ ",r.windowEnd||"N/A"]})]}),m.jsxs("div",{children:[m.jsx("dt",{className:"font-semibold text-slate-700",children:" "}),m.jsxs("dd",{className:"mt-1 text-slate-500",children:[pb(r.outboundTotal)," "]})]}),m.jsxs("div",{children:[m.jsx("dt",{className:"font-semibold text-slate-700",children:"  "}),m.jsxs("dd",{className:"mt-1 text-slate-500",children:[pb(r.avgDailyDemand)," "]})]}),m.jsxs("div",{children:[m.jsx("dt",{className:"font-semibold text-slate-700",children:" "}),m.jsxs("dd",{className:"mt-1 text-slate-500",children:[pb(r.currentTotalStock)," "]})]})]}),a.length>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h5",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"  "}),m.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-600",children:a.map(([s,o])=>m.jsxs("li",{className:"flex items-center justify-between rounded-lg bg-slate-50 px-3 py-2",children:[m.jsx("span",{children:s}),m.jsxs("span",{className:"font-mono text-slate-500",children:[pb(Math.round(o))," "]})]},s))})]})]})},X2e=({insight:e,fallback:t,loading:r=!1,error:n=null,notice:a=null})=>{var i;if(r)return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"    ..."})]});if(n)return m.jsx("section",{className:"rounded-2xl border border-rose-200 bg-rose-50/80 p-4 text-xs text-rose-600 shadow-sm",children:n});if(e){const s=e.source==="llm"?"LLM  ":" ";return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsxs("header",{children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:s})]}),m.jsx("p",{className:"mt-3 text-xs leading-5 text-slate-600",children:e.summary}),(i=e.risks)!=null&&i.length?m.jsxs("div",{className:"mt-4",children:[m.jsx("h5",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:"Upside / Downside Risk"}),m.jsx("ul",{className:"mt-2 space-y-2 text-xs",children:e.risks.map(o=>m.jsxs("li",{className:`rounded-2xl border px-3 py-2 ${o.side==="downside"?"border-rose-200 bg-rose-50/80 text-rose-700":"border-emerald-200 bg-emerald-50/80 text-emerald-700"}`,children:[m.jsxs("div",{className:"flex items-center justify-between gap-2 text-[11px] font-semibold",children:[m.jsxs("span",{children:[o.side==="downside"?"Downside":"Upside","  ",o.driver]}),m.jsxs("span",{className:"text-slate-500",children:[" ",o.impact.toUpperCase(),"   ",Math.round(o.confidence*100),"%"]})]}),m.jsx("p",{className:"mt-1 text-[11px] text-slate-600",children:o.evidence})]},o.id))})]}):null,e.drivers.length>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h5",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-xs text-slate-600",children:e.drivers.map((o,l)=>m.jsx("li",{children:o},`driver-${l}`))})]}),e.watchouts.length>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("h5",{className:"text-[11px] font-semibold uppercase tracking-wide text-amber-600",children:" "}),m.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-xs text-amber-600",children:e.watchouts.map((o,l)=>m.jsx("li",{children:o},`watchout-${l}`))})]}),a&&m.jsx("p",{className:"mt-3 rounded-lg bg-amber-50 px-3 py-2 text-[11px] text-amber-600",children:a}),e.rawText&&m.jsx("p",{className:"mt-3 rounded-lg bg-slate-50 px-3 py-2 text-[11px] text-slate-500",children:e.rawText}),m.jsxs("footer",{className:"mt-4 border-t border-slate-100 pt-3 text-[11px] text-slate-400",children:[" : ",new Date(e.generatedAt).toLocaleString("ko-KR",{hour12:!1})]})]})}return t?m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsxs("header",{children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:t.model.name})]}),m.jsx("p",{className:"mt-3 text-xs leading-5 text-slate-600",children:t.summary}),t.drivers.length>0&&m.jsx("ul",{className:"mt-4 list-disc list-inside space-y-1 text-xs text-slate-600",children:t.drivers.map((s,o)=>m.jsx("li",{children:s},o))}),m.jsxs("footer",{className:"mt-4 border-t border-slate-100 pt-3 text-[11px] text-slate-400",children:[m.jsxs("div",{children:[" : ",t.model.trainingWindow,t.model.seasonalPeriod?`   ${t.model.seasonalPeriod}`:""]}),m.jsxs("div",{children:[" : ",new Date(t.model.generatedAt).toLocaleString("ko-KR",{hour12:!1}),typeof t.model.mape=="number"?`  MAPE ${t.model.mape.toFixed(1)}%`:""]})]})]}):m.jsx("section",{className:"rounded-2xl border border-dashed border-slate-200 bg-white/70 p-4 text-xs text-slate-500",children:"    ."})},Z2e={draft:{label:"",tone:"bg-slate-100 text-slate-700 border-slate-200",description:"LLM    .",nextLabel:" "},reviewed:{label:" ",tone:"bg-amber-50 text-amber-700 border-amber-200",description:"    .",nextLabel:""},approved:{label:"",tone:"bg-emerald-50 text-emerald-700 border-emerald-200",description:"  ."}},Q2e=e=>`${Math.round(e*100)}%`,J2e=({plan:e,fallbackItems:t,loading:r=!1,submitting:n=!1,approving:a=!1,onSubmit:i,onApprove:s})=>{var u;if(r)return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),m.jsx("p",{className:"mt-3 text-xs text-slate-500",children:"    ..."})]});const o=(u=e==null?void 0:e.items)!=null&&u.length?e.items:t;if(!o.length)return m.jsx("section",{className:"rounded-2xl border border-dashed border-slate-200 bg-white/70 p-4 text-xs text-slate-500",children:"    ."});const l=e?Z2e[e.status]:null;return m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm",children:[m.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:" "}),l?m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:l.description}):null]}),l&&m.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[11px] font-semibold ${l.tone}`,children:[l.label,(e==null?void 0:e.updatedAt)&&m.jsxs("span",{className:"font-normal text-slate-500",children:[" ",new Date(e.updatedAt).toLocaleDateString("ko-KR")]})]})]}),m.jsx("ul",{className:"mt-3 space-y-3 text-xs text-slate-600",children:o.map(f=>m.jsxs("li",{className:"rounded-2xl border border-slate-100 bg-white p-3 shadow-inner",children:[m.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] font-semibold text-indigo-600",children:[m.jsx("span",{className:"rounded-full bg-indigo-50 px-2 py-1",children:f.who}),m.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-1 text-slate-600",children:f.when}),m.jsxs("span",{className:"rounded-full bg-emerald-50 px-2 py-1 text-emerald-700",children:["KPI: ",f.kpi.name,"  ",f.kpi.target," (",f.kpi.window,")"]}),m.jsxs("span",{className:"rounded-full bg-slate-50 px-2 py-1 text-slate-500",children:[" ",Q2e(f.confidence??.5)]})]}),m.jsx("p",{className:"mt-2 text-[13px] font-semibold text-slate-900",children:f.what}),f.rationale&&m.jsx("p",{className:"mt-1 leading-5 text-slate-600",children:f.rationale})]},f.id))}),e&&m.jsxs("footer",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:[e.status==="draft"&&i&&m.jsx("button",{type:"button",onClick:()=>i(e.id),className:"rounded-xl border border-indigo-200 px-3 py-1.5 font-semibold text-indigo-600 transition hover:bg-indigo-50 disabled:opacity-60",disabled:n||a,children:n?" ...":" "}),e.status==="reviewed"&&s&&m.jsx("button",{type:"button",onClick:()=>s(e.id),className:"rounded-xl border border-emerald-200 px-3 py-1.5 font-semibold text-emerald-600 transition hover:bg-emerald-50 disabled:opacity-60",disabled:a,children:a?" ...":""}),!e&&m.jsx("p",{className:"text-slate-500",children:"AI     ."})]})]})},eMe=({sku:e,productName:t,metrics:r,insight:n,fallbackExplanation:a,actionPlan:i,fallbackActionItems:s,loading:o=!1,insightLoading:l=!1,insightError:u=null,insightNotice:f=null,actionPlanLoading:d=!1,actionPlanSubmitting:p=!1,actionPlanApproving:v=!1,onSubmitActionPlan:y,onApproveActionPlan:x})=>{const b=o||l;return m.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 xl:grid-cols-3",children:[m.jsx(Y2e,{sku:e,productName:t,metrics:r,loading:o}),m.jsx(X2e,{insight:n,fallback:a,loading:b,error:u,notice:f}),m.jsx(J2e,{plan:i,fallbackItems:s,loading:b||d,submitting:p,approving:v,onSubmit:y,onApprove:x})]})},tMe=async(e={})=>{const t=new URLSearchParams;e.sku&&t.set("sku",e.sku),Number.isFinite(e.productId)&&t.set("productId",String(e.productId)),e.status&&t.set("status",e.status),Number.isFinite(e.limit)&&t.set("limit",String(e.limit));const r=t.toString(),n=r?`/api/action-plans?${r}`:"/api/action-plans";return(await aa(n)).items??[]},rMe=async e=>(await tMe({...e,limit:1}))[0]??null,nMe=async e=>(await Hn(`/api/action-plans/${e}/submit`)).plan,aMe=async e=>(await Hn(`/api/action-plans/${e}/approve`)).plan,MH=e=>{if(typeof e!="string")return null;const t=e.trim();return t||null};function dre(e){if(!e.category.trim())return"  .";const r=e.unit.trim().toUpperCase();return!r||!wS.includes(r)?"   .":null}const iMe=e=>{if(!e||typeof e!="object")return null;const t=e,r=MH(t.details);if(r)return r;if(Array.isArray(t.details))for(const n of t.details){const a=MH(n);if(a)return a}return null},sMe=({row:e,onChange:t,existingSkus:r})=>{const{items:n,loading:a,error:i,load:s}=AS();A.useEffect(()=>{!a&&n.length===0&&s().catch(()=>{})},[a,n.length,s]);const{categoryOptions:o,selectedSubCategoryOptions:l}=A.useMemo(()=>{const C=new Set,j=e.category.trim().toLowerCase();let O=null;const P=(k,L)=>{k.forEach(I=>{const $=I.name.trim();$&&(L===0&&C.add($),!O&&$.toLowerCase()===j&&(O=I),I.children.length>0&&P(I.children,L+1))})};P(n,0);const R=O?O.children.map(k=>k.name.trim()).filter(k=>k.length>0):[];return{categoryOptions:Array.from(C).sort((k,L)=>k.localeCompare(L)),selectedSubCategoryOptions:Array.from(new Set(R)).sort((k,L)=>k.localeCompare(L))}},[n,e.category]),u=A.useMemo(()=>{const C=e.sku.trim().toUpperCase();return C?r.some(j=>j.trim().toUpperCase()===C):!1},[r,e.sku]),f=A.useCallback(C=>{t({...e,...C})},[t,e]),d=A.useRef(e.category);A.useEffect(()=>{const C=d.current.trim().toLowerCase(),j=e.category.trim().toLowerCase();if(C===j||(d.current=e.category,!e.subCategory.trim()))return;new Set(l.map(P=>P.toLowerCase())).has(e.subCategory.trim().toLowerCase())||f({subCategory:""})},[e.category,e.subCategory,l,f]);const p=A.useId(),v=A.useId(),y=A.useId(),x=A.useId(),b="w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",w=A.useCallback(()=>{const C=wde(r);f({sku:C})},[r,f]),_=A.useCallback(C=>j=>{const O=j.target.value.trim();if(!O){f({[C]:null});return}const P=Number.parseFloat(O);Number.isFinite(P)&&f({[C]:Math.max(0,Math.round(P*100)/100)})},[f]),T=e.category.trim().length>0,M=A.useMemo(()=>dre(e),[e]),N=A.useMemo(()=>M?e.sku.trim().length>0||e.name.trim().length>0||e.category.trim().length>0||e.subCategory.trim().length>0:!1,[e.category,e.name,e.sku,e.subCategory,M]);return m.jsxs("form",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:p,className:"text-xs font-semibold text-slate-600",children:"SKU"}),m.jsxs("div",{className:"mt-1 flex gap-2",children:[m.jsx("input",{id:p,className:b,value:e.sku,onChange:C=>f({sku:C.target.value}),placeholder:"SKU "}),m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-100",onClick:w,children:""})]}),u&&m.jsx("p",{className:"mt-1 text-xs text-rose-500",children:"   SKU."})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:v,className:"text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{id:v,className:b,value:e.name,onChange:C=>f({name:C.target.value}),placeholder:" "})]})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:y,className:"text-xs font-semibold text-slate-600",children:""}),m.jsx(lO,{id:y,value:e.category,onChange:C=>f({category:C}),onSelect:C=>f({category:C}),options:o,placeholder:"   ",helperText:"       .",toggleAriaLabel:"  ",inputClassName:b})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:x,className:"text-xs font-semibold text-slate-600",children:" "}),m.jsx(lO,{id:x,value:e.subCategory,onChange:C=>f({subCategory:C}),onSelect:C=>f({subCategory:C}),options:l,disabled:!T,placeholder:T?"    ":"  ",helperText:"       .",disabledHelperText:"     .",allowManualInput:T,emptyMessage:"   .     .",noMatchMessage:"   .",toggleAriaLabel:"   "})]})]}),i&&m.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-700",children:i}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-slate-600",children:""}),m.jsx(Mr,{value:e.unit,onChange:C=>f({unit:C}),options:wS.map(C=>({label:C,value:C})),inputClassName:b})]}),m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{type:"number",min:0,step:"0.01",className:b,value:e.supplyPrice??"",onChange:_("supplyPrice")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{type:"number",min:0,step:"0.01",className:b,value:e.salePrice??"",onChange:_("salePrice")})]})]}),(u||N)&&m.jsx("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-600",children:u?"   SKU.    .":M})]})},hre=["RECEIPT","ISSUE","ADJUST","TRANSFER","RETURN"],oMe=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d{3})?(?:Z|[+-]\d{2}:\d{2})$/,EH=64,eu=128,lMe=500,uMe=e=>hre.includes(e),u_=e=>{if(typeof e!="string")return;const t=e.trim();return t.length>0?t:void 0},Bo=(e,t)=>{const r=u_(e);if(r)return r.length<=t?r:r.slice(0,t)},cMe=e=>{const t=u_(e);if(t)return t.length>EH?t.slice(0,EH):t.toUpperCase()},fMe=e=>{if(typeof e!="string")return;const t=e.trim();if(!oMe.test(t))return;const r=new Date(t);if(!Number.isNaN(r.getTime()))return t},dMe=e=>{if(typeof e!="number"||!Number.isFinite(e))return;const t=Math.round(e);if(!(t<=0))return t},jH=e=>{const t=u_(e);return t?t.toUpperCase():void 0},hMe=(e,t={})=>{const r=[],n=typeof e.type=="string"?e.type.trim().toUpperCase():"";uMe(n)||r.push("type must be one of RECEIPT, ISSUE, ADJUST, TRANSFER, RETURN.");const a=cMe(e.sku);a||r.push("sku is required.");const i=dMe(e.qty);i===void 0&&r.push("qty must be a positive integer.");const s=u_(e.userId);s||r.push("userId is required.");let o=fMe(e.occurredAt);o||(t.requireOccurredAt??!1?r.push("occurredAt must be a valid ISO 8601 string."):o=new Date().toISOString());const l=jH(e.fromWarehouse),u=jH(e.toWarehouse),f=Bo(e.fromLocation,eu),d=Bo(e.toLocation,eu),p=Bo(e.poId,eu),v=Bo(e.poLineId,eu),y=Bo(e.soId,eu),x=Bo(e.soLineId,eu),b=Bo(e.partnerId,eu),w=Bo(e.refNo,eu),_=Bo(e.memo,lMe);return r.length>0?{success:!1,errors:r}:{success:!0,data:{type:n,sku:a,qty:i,userId:s,occurredAt:o,fromWarehouse:l,fromLocation:f,toWarehouse:u,toLocation:d,poId:p,poLineId:v,soId:y,soLineId:x,partnerId:b,refNo:w,memo:_}}},pMe=e=>e&&hre.includes(e)?e:"ADJUST",DH=e=>{const t=typeof e=="string"&&e.trim()?e.trim():void 0;return t?{warehouseCode:t}:null},mMe=(e,t)=>typeof e=="string"&&e.trim()?e.trim():typeof e=="number"?String(e):t,vMe=e=>{if(typeof e!="string")return;const t=e.trim();return t||void 0},gMe=e=>typeof e=="string"&&e.trim()?e:new Date(0).toISOString(),yMe=e=>typeof e=="number"&&Number.isFinite(e)?e:0,xMe=(e=[])=>e.map((t,r)=>{const n=gMe(t.occurredAt??t.createdAt);return{id:mMe(t.id,`movement-${r}-${n}`),sku:t.sku??"",occurredAt:n,type:pMe(t.type),qty:yMe(t.qty),partnerId:vMe(t.partnerId),from:DH(t.fromWarehouse),to:DH(t.toWarehouse)}});async function oI(e){const{sku:t,refNo:r,partnerId:n,warehouse:a,type:i,limit:s,offset:o,from:l,to:u,signal:f}=e,d=typeof t=="string"?t.trim():void 0,p=typeof r=="string"?r.trim():void 0,v=typeof n=="string"?n.trim():void 0,y=typeof a=="string"?a.trim():void 0,x=typeof l=="string"?l.trim():void 0,b=typeof u=="string"?u.trim():void 0;if(!d&&!p&&!v&&!y&&!i)throw new Error("  (sku, refNo, partnerId, warehouse, type) .");const _=`/api/movements${tde({sku:d,refNo:p,partnerId:v,warehouse:y,type:i,limit:s,offset:o,from:x,to:b})}`,T=await aa(_,{signal:f}),M=xMe(T.items);return{total:typeof T.total=="number"?T.total:M.length,count:typeof T.count=="number"?T.count:M.length,offset:typeof T.offset=="number"?T.offset:o??0,limit:typeof T.limit=="number"?T.limit:s??M.length,items:M}}async function Mf(e){const t=hMe(e,{requireOccurredAt:!0});if(!t.success)throw new Error(t.errors.join(" "));return Hn("/api/movements",t.data)}async function eg(e,t){const r=new URLSearchParams;r.set("from",e.from),r.set("to",e.to),e.warehouseCode&&r.set("warehouseCode",e.warehouseCode),e.sku&&r.set("sku",e.sku),e.groupBy&&r.set("groupBy",e.groupBy);const n=r.toString(),a=n?`/inventory/analysis?${n}`:"/inventory/analysis";return ts(a,{method:"GET",...t})}async function bMe(e){const t=new URLSearchParams;t.set("from",e.from),t.set("to",e.to),e.warehouseCode&&t.set("warehouseCode",e.warehouseCode);const n=`/inventory/warehouse-items?${t.toString()}`;return ts(n,{method:"GET"})}const OH=(e,t)=>{if(!Number.isFinite(e??NaN))return" ";const r=Number(e);return new Intl.NumberFormat("ko-KR",{style:"currency",currency:(t==null?void 0:t.trim())||"KRW",currencyDisplay:"symbol",maximumFractionDigits:0}).format(r)},wMe=e=>e.trim().toUpperCase(),SMe={"WH-AUTO":""},_Me=[{label:" 7",days:7},{label:" 30",days:30},{label:" 90",days:90},{label:" 1",days:365}],TMe=[{mode:"raw",label:""},{mode:"day",label:""},{mode:"week",label:""},{mode:"month",label:""}],CMe={up:{text:"text-emerald-700",bg:"bg-emerald-50"},down:{text:"text-rose-700",bg:"bg-rose-50"},flat:{text:"text-slate-600",bg:"bg-slate-100"}},NMe=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),PH=e=>e.toISOString().slice(0,10),yP=(e,t)=>{const r=NMe(e),n=new Date(r.getTime());return n.setUTCDate(n.getUTCDate()-Math.max(0,t-1)),{from:PH(n),to:PH(r)}},AMe=(e,t)=>{const r=new Date(`${e.from}T00:00:00.000Z`);return r.setUTCDate(r.getUTCDate()-1),yP(r,t)},MMe=({product:e,warehouseRefreshToken:t})=>{const[r,n]=A.useState("overview"),[a,i]=A.useState({status:"idle",items:[]}),[s,o]=A.useState(0),l=A.useRef(),[u,f]=A.useState({}),d=A.useRef(!1),p=A.useRef(0),[v,y]=A.useState({}),x=A.useRef(!1),[b,w]=A.useState(null),_=A.useRef(0),[T,M]=A.useState(30),[N,C]=A.useState("raw"),[j,O]=A.useState({status:"idle"}),[P,R]=A.useState(null),[k,L]=A.useState("idle"),I=A.useRef(0),$=A.useMemo(()=>yP(new Date,T),[T]),F=T>30;A.useEffect(()=>{!F&&N!=="raw"&&C("raw")},[F,N]),A.useEffect(()=>{var He;const te=(He=e==null?void 0:e.sku)==null?void 0:He.trim();if(!te){l.current=void 0,i({status:"idle",items:[]});return}const Ne=new AbortController,Le=l.current===te;let Pe=!1;return i(pe=>({status:"loading",items:Le?pe.items:[],error:void 0})),oI({sku:te,limit:50,signal:Ne.signal,from:$.from,to:$.to}).then(pe=>{Pe||(l.current=te,i({status:"success",items:pe.items}))}).catch(pe=>{if(Pe||Ne.signal.aborted)return;l.current=te;const Fe=pe instanceof Error&&pe.message.trim()?pe.message:"   .";i(ue=>({status:"error",items:Le?ue.items:[],error:Fe}))}),()=>{Pe=!0,Ne.abort()}},[e==null?void 0:e.sku,s,$.from,$.to]),A.useEffect(()=>{if(!(e!=null&&e.sku)||N==="raw"){O({status:"idle",mode:void 0,data:void 0,error:void 0});return}const te=new AbortController;let Ne=!1;const Le=N==="week"?"week":N==="month"?"month":void 0;return O({status:"loading",mode:N,data:void 0,error:void 0}),eg({from:$.from,to:$.to,sku:e.sku,groupBy:Le},{signal:te.signal}).then(Pe=>{Ne||O({status:"success",mode:N,data:Pe,error:void 0})}).catch(Pe=>{if(Ne)return;const He=Pe instanceof Error&&Pe.message.trim()?Pe.message:"   .";O({status:"error",mode:N,error:He,data:void 0})}),()=>{Ne=!0,te.abort()}},[N,e==null?void 0:e.sku,$.from,$.to]),A.useEffect(()=>{if(!(e!=null&&e.sku)){R(null),L("idle");return}const te=yP(new Date,30),Ne=AMe(te,30),Le=++I.current;L("loading");const Pe=new AbortController,He=Pe.signal,pe=Fe=>Fe.inbound-Fe.outbound+Fe.adjustments;return Promise.all([eg({from:te.from,to:te.to,sku:e.sku},{signal:He}),eg({from:Ne.from,to:Ne.to,sku:e.sku},{signal:He})]).then(([Fe,ue])=>{if(I.current!==Le)return;const nt=pe(Fe.totals),tt=pe(ue.totals),Q=nt-tt,we=tt===0?null:Q/Math.abs(tt)*100,st=Q>0?"up":Q<0?"down":"flat";R({deltaNet:Q,deltaPct:we,trend:st}),L("success")}).catch(Fe=>{I.current===Le&&(Fe instanceof Error&&Fe.name==="AbortError"||(console.error("[deepflow] Failed to resolve overview delta",Fe),R(null),L("error")))}),()=>{Pe.abort()}},[e==null?void 0:e.sku]),A.useEffect(()=>{if(d.current)return;d.current=!0;let te=!1;return so({includeSample:!0}).then(Ne=>{te||!Array.isArray(Ne)||y(Le=>{const Pe={...Le};return Ne.forEach(He=>{var pe;He!=null&&He.id&&(Pe[He.id]=((pe=He.name)==null?void 0:pe.trim())||He.id)}),Pe})}).catch(Ne=>{console.error("[deepflow] Failed to load partner names",Ne)}),()=>{te=!0}},[]),A.useEffect(()=>{x.current||a.items.reduce((Ne,Le)=>{var He;const Pe=(He=Le.partnerId)==null?void 0:He.trim();return Pe&&!v[Pe]&&Ne.add(Pe),Ne},new Set).size===0||(x.current=!0,so({includeSample:!0}).then(Ne=>{y(Le=>{const Pe={...Le};return Ne.forEach(He=>{var pe;He!=null&&He.id&&(Pe[He.id]=((pe=He.name)==null?void 0:pe.trim())||He.id)}),Pe})}).catch(Ne=>{console.error("[deepflow] Failed to refresh partner names",Ne)}).finally(()=>{x.current=!1}))},[a.items,v]),A.useEffect(()=>{const te=++p.current;let Ne=!1;return Hu().then(Le=>{Ne||p.current!==te||!(Le!=null&&Le.items)||f(()=>{const Pe={};return Le.items.forEach(He=>{He!=null&&He.code&&(Pe[He.code]=He)}),Pe})}).catch(Le=>{Ne||console.error("[deepflow] Failed to load warehouse catalog",Le)}),()=>{Ne=!0}},[t]),A.useEffect(()=>{const te=Number.isFinite(e==null?void 0:e.legacyProductId)?Number(e==null?void 0:e.legacyProductId):null;if(!te){w(null);return}const Ne=++_.current;let Le=!1;return cde({productId:te}).then(Pe=>{if(Le||_.current!==Ne)return;const He=Array.isArray(Pe==null?void 0:Pe.items)?Pe.items:[];w(He),He.length>0&&f(pe=>{const Fe={...pe};return He.forEach(ue=>{var tt;const nt=(tt=ue.location)==null?void 0:tt.warehouse;nt!=null&&nt.code&&(Fe[nt.code]=nt)}),Fe})}).catch(Pe=>{console.error("[deepflow] Failed to load stock levels",Pe),Le||w(null)}),()=>{Le=!0}},[e==null?void 0:e.legacyProductId]);const z=A.useCallback(te=>{var pe;const Ne=te==null?void 0:te.trim();if(!Ne)return;const Le=wMe(Ne),Pe=SMe[Le];if(Pe)return Pe;const He=u[Ne]??u[Le];return((pe=He==null?void 0:He.name)==null?void 0:pe.trim())||Ne},[u]),V=A.useCallback(te=>{if(te!=null&&te.warehouseCode)return z(te.warehouseCode)},[z]),q=A.useCallback(te=>{if(!te)return"  ";const Ne=v[te];return Ne||" "},[v]),W=A.useMemo(()=>{const te=new Map,Ne=(Le,Pe,He)=>{if(!Le)return;const pe=te.get(Le);pe?(pe.onHand+=Pe,pe.reserved+=He):te.set(Le,{warehouseCode:Le,onHand:Pe,reserved:He})};return b&&b.length>0?b.forEach(Le=>{var He,pe,Fe;const Pe=((He=Le.location)==null?void 0:He.warehouseCode)??((Fe=(pe=Le.location)==null?void 0:pe.warehouse)==null?void 0:Fe.code)??"";Ne(Pe,Le.quantity??0,0)}):e!=null&&e.inventory&&e.inventory.length>0&&e.inventory.forEach(Le=>{var He;const Pe=((He=Le.warehouseCode)==null?void 0:He.trim())??"";Ne(Pe,Le.onHand??0,Le.reserved??0)}),Array.from(te.values()).map(Le=>({key:Le.warehouseCode,label:z(Le.warehouseCode),onHand:Le.onHand,reserved:Le.reserved}))},[e==null?void 0:e.inventory,z,b]),Y=A.useMemo(()=>{const te=Number.isFinite((e==null?void 0:e.onHand)??NaN)?Number(e==null?void 0:e.onHand):0,Ne=Number.isFinite((e==null?void 0:e.reserved)??NaN)?Number(e==null?void 0:e.reserved):0,Le=Math.max(0,te-Ne);return{onHand:te,reserved:Ne,available:Le}},[e==null?void 0:e.onHand,e==null?void 0:e.reserved]),H=A.useMemo(()=>{var Ne;const te=(Ne=e==null?void 0:e.unit)==null?void 0:Ne.trim();return(te?te.toUpperCase():Lu).replace(/\s+/g," ")},[e==null?void 0:e.unit]),U=A.useMemo(()=>a.items.length===0?[]:[...a.items].sort((te,Ne)=>{const Le=Date.parse(te.occurredAt),Pe=Date.parse(Ne.occurredAt);return Number.isFinite(Le)&&Number.isFinite(Pe)&&Le!==Pe?Pe-Le:0}),[a.items]),K=A.useMemo(()=>N==="raw"||j.status!=="success"||j.mode!==N||!j.data?[]:N==="day"?j.data.movementSeries.map(Le=>{const Pe=Le.inbound-Le.outbound+Le.adjustments;return{key:`day-${Le.date}`,label:Le.date,inbound:Le.inbound,outbound:Le.outbound,adjustments:Le.adjustments,transfers:Le.transfers,net:Pe}}).slice().reverse():(j.data.periodSeries??[]).map(Ne=>({key:`${N}-${Ne.periodStart}`,label:Ne.label,inbound:Ne.inbound,outbound:Ne.outbound,adjustments:Ne.adjustments,transfers:Ne.transfers,net:Ne.net})).slice().reverse(),[N,j]),ee=A.useMemo(()=>{if(k==="loading")return{text:" ...",classes:"text-slate-500 bg-slate-50 border border-slate-200"};if(k==="error"||!P)return{text:" 30   ",classes:"text-slate-500 bg-slate-50 border border-slate-200"};const te=P.trend==="up"?"":P.trend==="down"?"":"",Ne=P.deltaPct===null?P.deltaNet===0?"0%":"":`${Math.abs(P.deltaPct).toFixed(1)}%`,Le=`${P.deltaNet>=0?"+":""}${P.deltaNet.toLocaleString()} ${H}`,{text:Pe,bg:He}=CMe[P.trend];return{text:`${te} ${Ne}`,hint:Le,classes:`${Pe} ${He} border border-slate-200`}},[P,k,H]),ae=A.useMemo(()=>U.find(te=>te.type==="RECEIPT"),[U]),xe=A.useMemo(()=>U.find(te=>te.type==="ISSUE"),[U]),ke=A.useMemo(()=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),[]),Je=A.useMemo(()=>({RECEIPT:"",ISSUE:"",ADJUST:"",TRANSFER:"",RETURN:""}),[]),be=A.useMemo(()=>({RECEIPT:"text-emerald-600",ISSUE:"text-rose-600",ADJUST:"text-slate-600",TRANSFER:"text-indigo-600",RETURN:"text-emerald-600"}),[]),Te=te=>{const Ne=q(te.partnerId),Le=V(te.from),Pe=V(te.to),He=te.type==="ISSUE"?"  ":"  ";return te.type==="TRANSFER"?{partnerLabel:Ne,locationLabel:`${Le??" "}  ${Pe??" "}`}:te.type==="ISSUE"?{partnerLabel:Ne,locationLabel:Le??He}:{partnerLabel:Ne,locationLabel:Pe??He}},De=()=>{e!=null&&e.sku&&o(te=>te+1)},J=a.status,it=J==="loading",Ue=U.length>0,ft=!!(ae||xe);if(!e)return m.jsx("div",{className:"flex h-full items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-sm text-slate-500",children:"   ."});const le=e.currency??void 0;return m.jsxs("div",{className:"flex h-full flex-col rounded-2xl border border-slate-200",children:[m.jsxs("div",{className:"border-b border-slate-200 p-4",children:[m.jsxs("div",{className:"text-xs font-semibold text-indigo-600",children:["SKU ",e.sku]}),m.jsx("h4",{className:"mt-1 text-lg font-semibold text-slate-900",children:e.name}),e.brand&&m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:e.brand})]}),m.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-200 px-4 pt-3",children:[m.jsx("button",{type:"button",className:`rounded-t-lg px-3 py-2 text-sm font-medium ${r==="overview"?"border-b-2 border-indigo-500 text-indigo-600":"text-slate-500"}`,onClick:()=>n("overview"),children:"Overview"}),m.jsx("button",{type:"button",className:`rounded-t-lg px-3 py-2 text-sm font-medium ${r==="transactions"?"border-b-2 border-indigo-500 text-indigo-600":"text-slate-500"}`,onClick:()=>n("transactions"),children:"Transactions"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r==="overview"?m.jsxs("div",{className:"space-y-4 text-sm text-slate-600",children:[m.jsxs("section",{children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsxs("div",{className:"mt-1 grid gap-2 rounded-xl border border-slate-200 bg-white px-3 py-3 sm:grid-cols-3",children:[m.jsxs("div",{className:"rounded-lg bg-slate-50 px-3 py-2",children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsxs("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:[Y.available.toLocaleString()," ",H]}),m.jsx("div",{className:"text-[11px] text-slate-400",children:"     "})]}),m.jsxs("div",{className:"rounded-lg bg-slate-50 px-3 py-2",children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsxs("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:[Y.onHand.toLocaleString()," ",H]}),m.jsx("div",{className:"text-[11px] text-slate-400",children:"   "})]}),m.jsxs("div",{className:"rounded-lg bg-slate-50 px-3 py-2",children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsxs("div",{className:"mt-1 text-lg font-semibold text-slate-900",children:[Y.reserved.toLocaleString()," ",H]}),m.jsx("div",{className:"text-[11px] text-slate-400",children:"    "})]})]})]}),m.jsxs("section",{children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:""}),m.jsxs("div",{className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2",children:[m.jsx("div",{className:"font-medium text-slate-900",children:e.category||""}),m.jsx("div",{className:"text-xs text-slate-500",children:e.subCategory||"  "})]})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"  "}),m.jsxs("div",{className:`flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-semibold ${ee.classes}`,children:[m.jsx("span",{children:ee.text}),ee.hint&&m.jsx("span",{className:"text-[10px] font-normal text-slate-500",children:ee.hint})]})]}),m.jsx("div",{className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-3",children:ft?m.jsxs("div",{className:"grid gap-3",children:[ae&&m.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-lg border border-slate-100 bg-slate-50/80 px-3 py-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-600",children:" "}),m.jsx("div",{className:"mt-1 text-sm font-medium text-slate-900",children:ke.format(new Date(ae.occurredAt))}),m.jsx("div",{className:"text-xs text-slate-500",children:q(ae.partnerId)})]}),m.jsxs("div",{className:"text-right text-sm font-semibold text-emerald-600",children:["+",ae.qty.toLocaleString()," ",H]})]}),xe&&m.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-lg border border-slate-100 bg-slate-50/80 px-3 py-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-rose-600",children:" "}),m.jsx("div",{className:"mt-1 text-sm font-medium text-slate-900",children:ke.format(new Date(xe.occurredAt))}),m.jsx("div",{className:"text-xs text-slate-500",children:q(xe.partnerId)})]}),m.jsxs("div",{className:"text-right text-sm font-semibold text-rose-600",children:["-",xe.qty.toLocaleString()," ",H]})]})]}):m.jsx("div",{className:"py-6 text-center text-xs text-slate-400",children:"   ."})})]}),m.jsxs("section",{children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:" / "}),m.jsxs("div",{className:"mt-1 grid gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs text-slate-500",children:""}),m.jsx("span",{className:"font-medium text-slate-900",children:OH(e.supplyPrice,le)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-xs text-slate-500",children:""}),m.jsx("span",{className:"font-medium text-slate-900",children:OH(e.salePrice,le)})]})]})]}),m.jsxs("section",{children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsx("div",{className:"mt-1 space-y-2",children:W.length===0?m.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-white px-3 py-4 text-center text-xs text-slate-400",children:"    ."}):W.map(te=>m.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2",children:[m.jsx("div",{className:"text-xs font-semibold text-slate-500",children:te.label}),m.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-600",children:" "}),m.jsx("span",{className:"font-semibold text-slate-900",children:(te.onHand-te.reserved).toLocaleString()})]}),m.jsxs("div",{className:"mt-0.5 grid grid-cols-2 gap-1 text-[11px] text-slate-500",children:[m.jsxs("span",{children:[" ",te.onHand.toLocaleString()]}),m.jsxs("span",{className:"text-right",children:[" ",te.reserved.toLocaleString()]})]})]},te.key))})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsx("h5",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"  "}),m.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[m.jsx("div",{className:"border-b border-slate-200 px-4 py-3 text-xs text-slate-500",children:m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[m.jsx("div",{className:"flex flex-wrap gap-2",children:_Me.map(te=>m.jsx("button",{type:"button",onClick:()=>te.days!==T&&M(te.days),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${T===te.days?"border border-indigo-300 bg-indigo-50 text-indigo-600":"border border-slate-200 bg-white text-slate-500"}`,children:te.label},te.days))}),F&&m.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold text-slate-500",children:[m.jsx("span",{children:" "}),m.jsx("div",{className:"flex gap-1",children:TMe.map(te=>m.jsx("button",{type:"button","aria-pressed":N===te.mode,onClick:()=>C(te.mode),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${N===te.mode?"border border-indigo-200 bg-indigo-50 text-indigo-600":"border border-slate-200 bg-white text-slate-500"}`,children:te.label},te.mode))})]})]})}),m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3 text-xs text-slate-500",children:[m.jsx("span",{children:it?"   ...":Ue?` ${U.length.toLocaleString()}`:" ."}),J==="error"&&m.jsx("button",{type:"button",onClick:De,className:"rounded-md border border-slate-300 px-2 py-1 text-xs font-medium text-slate-600 transition hover:border-slate-400 hover:text-slate-800",children:" "})]}),N==="raw"?m.jsxs(m.Fragment,{children:[J==="error"&&!Ue?m.jsx("div",{className:"px-4 py-10 text-center text-sm text-rose-600",children:a.error??"     ."}):Ue?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"  "})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-600",children:U.map(te=>{const{partnerLabel:Ne,locationLabel:Le}=Te(te);return m.jsxs("tr",{className:"align-top",children:[m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-xs text-slate-500",children:ke.format(new Date(te.occurredAt))}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-xs font-semibold text-slate-700",children:Je[te.type]}),m.jsxs("td",{className:`whitespace-nowrap px-4 py-3 text-right text-sm font-semibold ${be[te.type]}`,children:[te.type==="ISSUE"?"-":te.type==="RECEIPT"?"+":"",te.qty.toLocaleString()," ",H]}),m.jsxs("td",{className:"px-4 py-3",children:[m.jsx("div",{className:"text-sm font-medium text-slate-700",children:Ne}),m.jsx("div",{className:"text-xs text-slate-500",children:Le})]})]},te.id)})})]})}):m.jsx("div",{className:"px-4 py-10 text-center text-sm text-slate-400",children:"   ."}),it&&Ue&&m.jsx("div",{className:"border-t border-slate-200 px-4 py-3 text-center text-xs text-slate-500",children:"   ..."})]}):m.jsx("div",{className:"px-4 py-4",children:j.status==="error"?m.jsx("p",{className:"text-xs text-rose-600",children:j.error??"     ."}):j.status==="loading"||j.status==="idle"?m.jsx("p",{className:"text-xs text-slate-500",children:"   ..."}):K.length===0?m.jsx("p",{className:"text-xs text-slate-400",children:"    ."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-600",children:K.map(te=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3 font-medium text-slate-700",children:te.label}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold text-emerald-600",children:te.inbound.toLocaleString()}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold text-rose-600",children:te.outbound.toLocaleString()}),m.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-slate-600",children:te.transfers.toLocaleString()}),m.jsxs("td",{className:"whitespace-nowrap px-4 py-3 text-right font-semibold text-indigo-600",children:[te.net>=0?"+":"",te.net.toLocaleString()," ",H]})]},te.key))})]})})})]})]})})]})};function pre(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=pre(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Sr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=pre(e))&&(n&&(n+=" "),n+=t);return n}var v2,kH;function Ya(){if(kH)return v2;kH=1;var e=Array.isArray;return v2=e,v2}var g2,RH;function mre(){if(RH)return g2;RH=1;var e=typeof ux=="object"&&ux&&ux.Object===Object&&ux;return g2=e,g2}var y2,LH;function go(){if(LH)return y2;LH=1;var e=mre(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return y2=r,y2}var x2,IH;function U0(){if(IH)return x2;IH=1;var e=go(),t=e.Symbol;return x2=t,x2}var b2,BH;function EMe(){if(BH)return b2;BH=1;var e=U0(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var o=r.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(o?s[a]=l:delete s[a]),f}return b2=i,b2}var w2,$H;function jMe(){if($H)return w2;$H=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return w2=r,w2}var S2,zH;function xl(){if(zH)return S2;zH=1;var e=U0(),t=EMe(),r=jMe(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?t(o):r(o)}return S2=s,S2}var _2,FH;function bl(){if(FH)return _2;FH=1;function e(t){return t!=null&&typeof t=="object"}return _2=e,_2}var T2,UH;function kp(){if(UH)return T2;UH=1;var e=xl(),t=bl(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return T2=n,T2}var C2,HH;function lI(){if(HH)return C2;HH=1;var e=Ya(),t=kp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return C2=a,C2}var N2,VH;function Wu(){if(VH)return N2;VH=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return N2=e,N2}var A2,qH;function uI(){if(qH)return A2;qH=1;var e=xl(),t=Wu(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==n||l==a||l==r||l==i}return A2=s,A2}var M2,GH;function DMe(){if(GH)return M2;GH=1;var e=go(),t=e["__core-js_shared__"];return M2=t,M2}var E2,WH;function OMe(){if(WH)return E2;WH=1;var e=DMe(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return E2=r,E2}var j2,KH;function vre(){if(KH)return j2;KH=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return j2=r,j2}var D2,YH;function PMe(){if(YH)return D2;YH=1;var e=uI(),t=OMe(),r=Wu(),n=vre(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,f=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!r(p)||t(p))return!1;var v=e(p)?f:i;return v.test(n(p))}return D2=d,D2}var O2,XH;function kMe(){if(XH)return O2;XH=1;function e(t,r){return t==null?void 0:t[r]}return O2=e,O2}var P2,ZH;function Bf(){if(ZH)return P2;ZH=1;var e=PMe(),t=kMe();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return P2=r,P2}var k2,QH;function c_(){if(QH)return k2;QH=1;var e=Bf(),t=e(Object,"create");return k2=t,k2}var R2,JH;function RMe(){if(JH)return R2;JH=1;var e=c_();function t(){this.__data__=e?e(null):{},this.size=0}return R2=t,R2}var L2,e9;function LMe(){if(e9)return L2;e9=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return L2=e,L2}var I2,t9;function IMe(){if(t9)return I2;t9=1;var e=c_(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var o=s[i];return o===t?void 0:o}return n.call(s,i)?s[i]:void 0}return I2=a,I2}var B2,r9;function BMe(){if(r9)return B2;r9=1;var e=c_(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return B2=n,B2}var $2,n9;function $Me(){if(n9)return $2;n9=1;var e=c_(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return $2=r,$2}var z2,a9;function zMe(){if(a9)return z2;a9=1;var e=RMe(),t=LMe(),r=IMe(),n=BMe(),a=$Me();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,z2=i,z2}var F2,i9;function FMe(){if(i9)return F2;i9=1;function e(){this.__data__=[],this.size=0}return F2=e,F2}var U2,s9;function cI(){if(s9)return U2;s9=1;function e(t,r){return t===r||t!==t&&r!==r}return U2=e,U2}var H2,o9;function f_(){if(o9)return H2;o9=1;var e=cI();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return H2=t,H2}var V2,l9;function UMe(){if(l9)return V2;l9=1;var e=f_(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return V2=n,V2}var q2,u9;function HMe(){if(u9)return q2;u9=1;var e=f_();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return q2=t,q2}var G2,c9;function VMe(){if(c9)return G2;c9=1;var e=f_();function t(r){return e(this.__data__,r)>-1}return G2=t,G2}var W2,f9;function qMe(){if(f9)return W2;f9=1;var e=f_();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return W2=t,W2}var K2,d9;function d_(){if(d9)return K2;d9=1;var e=FMe(),t=UMe(),r=HMe(),n=VMe(),a=qMe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,K2=i,K2}var Y2,h9;function fI(){if(h9)return Y2;h9=1;var e=Bf(),t=go(),r=e(t,"Map");return Y2=r,Y2}var X2,p9;function GMe(){if(p9)return X2;p9=1;var e=zMe(),t=d_(),r=fI();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return X2=n,X2}var Z2,m9;function WMe(){if(m9)return Z2;m9=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Z2=e,Z2}var Q2,v9;function h_(){if(v9)return Q2;v9=1;var e=WMe();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Q2=t,Q2}var J2,g9;function KMe(){if(g9)return J2;g9=1;var e=h_();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return J2=t,J2}var eM,y9;function YMe(){if(y9)return eM;y9=1;var e=h_();function t(r){return e(this,r).get(r)}return eM=t,eM}var tM,x9;function XMe(){if(x9)return tM;x9=1;var e=h_();function t(r){return e(this,r).has(r)}return tM=t,tM}var rM,b9;function ZMe(){if(b9)return rM;b9=1;var e=h_();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return rM=t,rM}var nM,w9;function dI(){if(w9)return nM;w9=1;var e=GMe(),t=KMe(),r=YMe(),n=XMe(),a=ZMe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,nM=i,nM}var aM,S9;function gre(){if(S9)return aM;S9=1;var e=dI(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,aM=r,aM}var iM,_9;function QMe(){if(_9)return iM;_9=1;var e=gre(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return iM=r,iM}var sM,T9;function JMe(){if(T9)return sM;T9=1;var e=QMe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,o,l,u){i.push(l?u.replace(r,"$1"):o||s)}),i});return sM=n,sM}var oM,C9;function hI(){if(C9)return oM;C9=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return oM=e,oM}var lM,N9;function eEe(){if(N9)return lM;N9=1;var e=U0(),t=hI(),r=Ya(),n=kp(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return lM=s,lM}var uM,A9;function yre(){if(A9)return uM;A9=1;var e=eEe();function t(r){return r==null?"":e(r)}return uM=t,uM}var cM,M9;function xre(){if(M9)return cM;M9=1;var e=Ya(),t=lI(),r=JMe(),n=yre();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return cM=a,cM}var fM,E9;function p_(){if(E9)return fM;E9=1;var e=kp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return fM=t,fM}var dM,j9;function pI(){if(j9)return dM;j9=1;var e=xre(),t=p_();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return dM=r,dM}var hM,D9;function bre(){if(D9)return hM;D9=1;var e=pI();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return hM=t,hM}var tEe=bre();const Ki=Kr(tEe);var pM,O9;function rEe(){if(O9)return pM;O9=1;function e(t){return t==null}return pM=e,pM}var nEe=rEe();const hr=Kr(nEe);var mM,P9;function aEe(){if(P9)return mM;P9=1;var e=xl(),t=Ya(),r=bl(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return mM=a,mM}var iEe=aEe();const Ef=Kr(iEe);var sEe=uI();const or=Kr(sEe);var oEe=Wu();const Rp=Kr(oEe);var vM={exports:{}},Dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9;function lEe(){if(k9)return Dr;k9=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case e:switch(b=b.type,b){case r:case a:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case o:case s:case l:case p:case d:case i:return b;default:return w}}case t:return w}}}return Dr.ContextConsumer=s,Dr.ContextProvider=i,Dr.Element=e,Dr.ForwardRef=l,Dr.Fragment=r,Dr.Lazy=p,Dr.Memo=d,Dr.Portal=t,Dr.Profiler=a,Dr.StrictMode=n,Dr.Suspense=u,Dr.SuspenseList=f,Dr.isAsyncMode=function(){return!1},Dr.isConcurrentMode=function(){return!1},Dr.isContextConsumer=function(b){return x(b)===s},Dr.isContextProvider=function(b){return x(b)===i},Dr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Dr.isForwardRef=function(b){return x(b)===l},Dr.isFragment=function(b){return x(b)===r},Dr.isLazy=function(b){return x(b)===p},Dr.isMemo=function(b){return x(b)===d},Dr.isPortal=function(b){return x(b)===t},Dr.isProfiler=function(b){return x(b)===a},Dr.isStrictMode=function(b){return x(b)===n},Dr.isSuspense=function(b){return x(b)===u},Dr.isSuspenseList=function(b){return x(b)===f},Dr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===u||b===f||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===d||b.$$typeof===i||b.$$typeof===s||b.$$typeof===l||b.$$typeof===y||b.getModuleId!==void 0)},Dr.typeOf=x,Dr}var R9;function uEe(){return R9||(R9=1,vM.exports=lEe()),vM.exports}var cEe=uEe(),gM,L9;function wre(){if(L9)return gM;L9=1;var e=xl(),t=bl(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return gM=n,gM}var yM,I9;function fEe(){if(I9)return yM;I9=1;var e=wre();function t(r){return e(r)&&r!=+r}return yM=t,yM}var dEe=fEe();const H0=Kr(dEe);var hEe=wre();const pEe=Kr(hEe);var ws=function(t){return t===0?0:t>0?1:-1},Jc=function(t){return Ef(t)&&t.indexOf("%")===t.length-1},yt=function(t){return pEe(t)&&!H0(t)},mEe=function(t){return hr(t)},Un=function(t){return yt(t)||Ef(t)},vEe=0,V0=function(t){var r=++vEe;return"".concat(t||"").concat(r)},jf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!Ef(t))return n;var i;if(Jc(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return H0(i)&&(i=n),a&&i>r&&(i=r),i},du=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},gEe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xs=function(t,r){return yt(t)&&yt(r)?function(n){return t+n*(r-t)}:function(){return r}};function cw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ki(n,t))===r})}var yEe=function(t,r){return yt(t)&&yt(r)?t-r:Ef(t)&&Ef(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Dh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function xP(e){"@babel/helpers - typeof";return xP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xP(e)}var xEe=["viewBox","children"],bEe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],B9=["points","pathLength"],xM={svg:xEe,polygon:B9,polyline:B9},mI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),!Rp(n))return null;var a={};return Object.keys(n).forEach(function(i){mI.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},wEe=function(t,r,n){return function(a){return t(r,n,a),null}},dw=function(t,r,n){if(!Rp(t)||xP(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];mI.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=wEe(s,r,n))}),a},SEe=["children"],_Ee=["children"];function $9(e,t){if(e==null)return{};var r=TEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bP(e){"@babel/helpers - typeof";return bP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bP(e)}var z9={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},F9=null,bM=null,vI=function e(t){if(t===F9&&Array.isArray(bM))return bM;var r=[];return A.Children.forEach(t,function(n){hr(n)||(cEe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),bM=r,F9=t,r};function Yi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return nl(a)}):n=[nl(t)],vI(e).forEach(function(a){var i=Ki(a,"type.displayName")||Ki(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function oi(e,t){var r=Yi(e,t);return r&&r[0]}var U9=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!yt(n)||n<=0||!yt(a)||a<=0)},CEe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NEe=function(t){return t&&t.type&&Ef(t.type)&&CEe.indexOf(t.type)>=0},AEe=function(t){return t&&bP(t)==="object"&&"clipDot"in t},MEe=function(t,r,n,a){var i,s=(i=xM==null?void 0:xM[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!or(t)&&(a&&s.includes(r)||bEe.includes(r))||n&&mI.includes(r)},yr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(A.isValidElement(t)&&(a=t.props),!Rp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;MEe((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},wP=function e(t,r){if(t===r)return!0;var n=A.Children.count(t);if(n!==A.Children.count(r))return!1;if(n===0)return!0;if(n===1)return H9(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!H9(i,s))return!1}return!0},H9=function(t,r){if(hr(t)&&hr(r))return!0;if(!hr(t)&&!hr(r)){var n=t.props||{},a=n.children,i=$9(n,SEe),s=r.props||{},o=s.children,l=$9(s,_Ee);return a&&o?Dh(i,l)&&wP(a,o):!a&&!o?Dh(i,l):!1}return!1},V9=function(t,r){var n=[],a={};return vI(t).forEach(function(i,s){if(NEe(i))n.push(i);else if(i){var o=nl(i.type),l=r[o]||{},u=l.handler,f=l.once;if(u&&(!f||!a[o])){var d=u(i,o,s);n.push(d),a[o]=!0}}}),n},EEe=function(t){var r=t&&t.type;return r&&z9[r]?z9[r]:null},jEe=function(t,r){return vI(r).indexOf(t)},DEe=["children","width","height","viewBox","className","style","title","desc"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function OEe(e,t){if(e==null)return{};var r=PEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _P(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,u=OEe(e,DEe),f=a||{width:r,height:n,x:0,y:0},d=Sr("recharts-surface",i);return ve.createElement("svg",SP({},yr(u,!0,"svg"),{className:d,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ve.createElement("title",null,o),ve.createElement("desc",null,l),t)}var kEe=["children","className"];function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TP.apply(this,arguments)}function REe(e,t){if(e==null)return{};var r=LEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Nn=ve.forwardRef(function(e,t){var r=e.children,n=e.className,a=REe(e,kEe),i=Sr("recharts-layer",n);return ve.createElement("g",TP({className:i},yr(a,!0),{ref:t}),r)}),al=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},wM,q9;function IEe(){if(q9)return wM;q9=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return wM=e,wM}var SM,G9;function BEe(){if(G9)return SM;G9=1;var e=IEe();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return SM=t,SM}var _M,W9;function Sre(){if(W9)return _M;W9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+e+a+i+"]");function l(u){return o.test(u)}return _M=l,_M}var TM,K9;function $Ee(){if(K9)return TM;K9=1;function e(t){return t.split("")}return TM=e,TM}var CM,Y9;function zEe(){if(Y9)return CM;Y9=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",o="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",f="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=u+"?",x="["+i+"]?",b="(?:"+v+"(?:"+[f,d,p].join("|")+")"+x+y+")*",w=x+y+b,_="(?:"+[f+o+"?",o,d,p,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+_+w,"g");function M(N){return N.match(T)||[]}return CM=M,CM}var NM,X9;function FEe(){if(X9)return NM;X9=1;var e=$Ee(),t=Sre(),r=zEe();function n(a){return t(a)?r(a):e(a)}return NM=n,NM}var AM,Z9;function UEe(){if(Z9)return AM;Z9=1;var e=BEe(),t=Sre(),r=FEe(),n=yre();function a(i){return function(s){s=n(s);var o=t(s)?r(s):void 0,l=o?o[0]:s.charAt(0),u=o?e(o,1).join(""):s.slice(1);return l[i]()+u}}return AM=a,AM}var MM,Q9;function HEe(){if(Q9)return MM;Q9=1;var e=UEe(),t=e("toUpperCase");return MM=t,MM}var VEe=HEe();const m_=Kr(VEe);function Qr(e){return function(){return e}}const _re=Math.cos,hw=Math.sin,Ds=Math.sqrt,pw=Math.PI,v_=2*pw,CP=Math.PI,NP=2*CP,Hc=1e-6,qEe=NP-Hc;function Tre(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GEe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Tre;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class WEe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Tre:GEe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,u=a-r,f=s-t,d=o-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Hc)if(!(Math.abs(d*l-u*f)>Hc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-s,y=a-o,x=l*l+u*u,b=v*v+y*y,w=Math.sqrt(x),_=Math.sqrt(p),T=i*Math.tan((CP-Math.acos((x+p-b)/(2*w*_)))/2),M=T/_,N=T/w;Math.abs(M-1)>Hc&&this._append`L${t+M*f},${r+M*d}`,this._append`A${i},${i},0,0,${+(d*v>f*y)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,f=r+l,d=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Hc||Math.abs(this._y1-f)>Hc)&&this._append`L${u},${f}`,n&&(p<0&&(p=p%NP+NP),p>qEe?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:p>Hc&&this._append`A${n},${n},0,${+(p>=CP)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WEe(t)}function yI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cre(e){this._context=e}Cre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function g_(e){return new Cre(e)}function Nre(e){return e[0]}function Are(e){return e[1]}function Mre(e,t){var r=Qr(!0),n=null,a=g_,i=null,s=gI(o);e=typeof e=="function"?e:e===void 0?Nre:Qr(e),t=typeof t=="function"?t:t===void 0?Are:Qr(t);function o(l){var u,f=(l=yI(l)).length,d,p=!1,v;for(n==null&&(i=a(v=s())),u=0;u<=f;++u)!(u<f&&r(d=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(d,u,l),+t(d,u,l));if(v)return i=null,v+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qr(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Qr(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function mb(e,t,r){var n=null,a=Qr(!0),i=null,s=g_,o=null,l=gI(u);e=typeof e=="function"?e:e===void 0?Nre:Qr(+e),t=typeof t=="function"?t:Qr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Are:Qr(+r);function u(d){var p,v,y,x=(d=yI(d)).length,b,w=!1,_,T=new Array(x),M=new Array(x);for(i==null&&(o=s(_=l())),p=0;p<=x;++p){if(!(p<x&&a(b=d[p],p,d))===w)if(w=!w)v=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=v;--y)o.point(T[y],M[y]);o.lineEnd(),o.areaEnd()}w&&(T[p]=+e(b,p,d),M[p]=+t(b,p,d),o.point(n?+n(b,p,d):T[p],r?+r(b,p,d):M[p]))}if(_)return o=null,_+""||null}function f(){return Mre().defined(a).curve(s).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Qr(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Qr(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Qr(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Qr(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Qr(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Qr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Qr(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),u):s},u.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),u):i},u}class Ere{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KEe(e){return new Ere(e,!0)}function YEe(e){return new Ere(e,!1)}const xI={draw(e,t){const r=Ds(t/pw);e.moveTo(r,0),e.arc(0,0,r,0,v_)}},XEe={draw(e,t){const r=Ds(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jre=Ds(1/3),ZEe=jre*2,QEe={draw(e,t){const r=Ds(t/ZEe),n=r*jre;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},JEe={draw(e,t){const r=Ds(t),n=-r/2;e.rect(n,n,r,r)}},eje=.8908130915292852,Dre=hw(pw/10)/hw(7*pw/10),tje=hw(v_/10)*Dre,rje=-_re(v_/10)*Dre,nje={draw(e,t){const r=Ds(t*eje),n=tje*r,a=rje*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=v_*i/5,o=_re(s),l=hw(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},EM=Ds(3),aje={draw(e,t){const r=-Ds(t/(EM*3));e.moveTo(0,r*2),e.lineTo(-EM*r,-r),e.lineTo(EM*r,-r),e.closePath()}},Ei=-.5,ji=Ds(3)/2,AP=1/Ds(12),ije=(AP/2+1)*3,sje={draw(e,t){const r=Ds(t/ije),n=r/2,a=r*AP,i=n,s=r*AP+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Ei*n-ji*a,ji*n+Ei*a),e.lineTo(Ei*i-ji*s,ji*i+Ei*s),e.lineTo(Ei*o-ji*l,ji*o+Ei*l),e.lineTo(Ei*n+ji*a,Ei*a-ji*n),e.lineTo(Ei*i+ji*s,Ei*s-ji*i),e.lineTo(Ei*o+ji*l,Ei*l-ji*o),e.closePath()}};function oje(e,t){let r=null,n=gI(a);e=typeof e=="function"?e:Qr(e||xI),t=typeof t=="function"?t:Qr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function mw(){}function vw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ore(e){this._context=e}Ore.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lje(e){return new Ore(e)}function Pre(e){this._context=e}Pre.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uje(e){return new Pre(e)}function kre(e){this._context=e}kre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cje(e){return new kre(e)}function Rre(e){this._context=e}Rre.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fje(e){return new Rre(e)}function J9(e){return e<0?-1:1}function eV(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(J9(i)+J9(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function tV(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function jM(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function gw(e){this._context=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jM(this,this._t0,tV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jM(this,tV(this,r=eV(this,e,t)),r);break;default:jM(this,this._t0,r=eV(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Lre(e){this._context=new Ire(e)}(Lre.prototype=Object.create(gw.prototype)).point=function(e,t){gw.prototype.point.call(this,t,e)};function Ire(e){this._context=e}Ire.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function dje(e){return new gw(e)}function hje(e){return new Lre(e)}function Bre(e){this._context=e}Bre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=rV(e),a=rV(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rV(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function pje(e){return new Bre(e)}function y_(e,t){this._context=e,this._t=t}y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mje(e){return new y_(e,.5)}function vje(e){return new y_(e,0)}function gje(e){return new y_(e,1)}function Qh(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function MP(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yje(e,t){return e[t]}function xje(e){const t=[];return t.key=e,t}function bje(){var e=Qr([]),t=MP,r=Qh,n=yje;function a(i){var s=Array.from(e.apply(this,arguments),xje),o,l=s.length,u=-1,f;for(const d of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,i)]).data=d;for(o=0,f=yI(t(s));o<l;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Qr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?MP:typeof i=="function"?i:Qr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Qh,a):r},a}function wje(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Qh(e,t)}}function Sje(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Qh(e,t)}}function _je(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,p=f[n-1][1]||0,v=(d-p)/2,y=0;y<o;++y){var x=e[t[y]],b=x[n][1]||0,w=x[n-1][1]||0;v+=b-w}l+=d,u+=v*d}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Qh(e,t)}}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var Tje=["type","size","sizeType"];function EP(){return EP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EP.apply(this,arguments)}function nV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nV(Object(r),!0).forEach(function(n){Cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cje(e,t,r){return t=Nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nje(e){var t=Aje(e,"string");return Bg(t)=="symbol"?t:t+""}function Aje(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mje(e,t){if(e==null)return{};var r=Eje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $re={symbolCircle:xI,symbolCross:XEe,symbolDiamond:QEe,symbolSquare:JEe,symbolStar:nje,symbolTriangle:aje,symbolWye:sje},jje=Math.PI/180,Dje=function(t){var r="symbol".concat(m_(t));return $re[r]||xI},Oje=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*jje;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Pje=function(t,r){$re["symbol".concat(m_(t))]=r},bI=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=Mje(t,Tje),u=aV(aV({},l),{},{type:n,size:i,sizeType:o}),f=function(){var b=Dje(n),w=oje().type(b).size(Oje(i,o,n));return w()},d=u.className,p=u.cx,v=u.cy,y=yr(u,!0);return p===+p&&v===+v&&i===+i?ve.createElement("path",EP({},y,{className:Sr("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};bI.registerSymbol=Pje;function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function jP(){return jP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}function iV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iV(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fre(n.key),n)}}function Ije(e,t,r){return t&&Lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bje(e,t,r){return t=yw(t),$je(e,zre()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function $je(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zje(e)}function zje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zre=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function Fje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DP(e,t)}function DP(e,t){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DP(e,t)}function $g(e,t,r){return t=Fre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fre(e){var t=Uje(e,"string");return Jh(t)=="symbol"?t:t+""}function Uje(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Di=32,wI=(function(e){function t(){return Rje(this,t),Bje(this,t,arguments)}return Fje(t,e),Ije(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Di/2,s=Di/6,o=Di/3,l=n.inactive?a:n.color;if(n.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Di,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Di,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ve.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Di/8,"h").concat(Di,"v").concat(Di*3/4,"h").concat(-Di,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(n.legendIcon)){var u=kje({},n);return delete u.legendIcon,ve.cloneElement(n.legendIcon,u)}return ve.createElement(bI,{fill:l,cx:i,cy:i,size:Di,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:Di,height:Di},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,y){var x=v.formatter||l,b=Sr($g($g({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var w=or(v.value)?null:v.value;al(!or(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=v.inactive?u:v.color;return ve.createElement("li",jP({className:b,style:d,key:"legend-item-".concat(y)},dw(n.props,v,y)),ve.createElement(_P,{width:s,height:s,viewBox:f,style:p},n.renderIcon(v)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(w,v,y):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(A.PureComponent);$g(wI,"displayName","Legend");$g(wI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DM,sV;function Hje(){if(sV)return DM;sV=1;var e=d_();function t(){this.__data__=new e,this.size=0}return DM=t,DM}var OM,oV;function Vje(){if(oV)return OM;oV=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return OM=e,OM}var PM,lV;function qje(){if(lV)return PM;lV=1;function e(t){return this.__data__.get(t)}return PM=e,PM}var kM,uV;function Gje(){if(uV)return kM;uV=1;function e(t){return this.__data__.has(t)}return kM=e,kM}var RM,cV;function Wje(){if(cV)return RM;cV=1;var e=d_(),t=fI(),r=dI(),n=200;function a(i,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<n-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(i,s),this.size=o.size,this}return RM=a,RM}var LM,fV;function Ure(){if(fV)return LM;fV=1;var e=d_(),t=Hje(),r=Vje(),n=qje(),a=Gje(),i=Wje();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,LM=s,LM}var IM,dV;function Kje(){if(dV)return IM;dV=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return IM=t,IM}var BM,hV;function Yje(){if(hV)return BM;hV=1;function e(t){return this.__data__.has(t)}return BM=e,BM}var $M,pV;function Hre(){if(pV)return $M;pV=1;var e=dI(),t=Kje(),r=Yje();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,$M=n,$M}var zM,mV;function Vre(){if(mV)return zM;mV=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return zM=e,zM}var FM,vV;function qre(){if(vV)return FM;vV=1;function e(t,r){return t.has(r)}return FM=e,FM}var UM,gV;function Gre(){if(gV)return UM;gV=1;var e=Hre(),t=Vre(),r=qre(),n=1,a=2;function i(s,o,l,u,f,d){var p=l&n,v=s.length,y=o.length;if(v!=y&&!(p&&y>v))return!1;var x=d.get(s),b=d.get(o);if(x&&b)return x==o&&b==s;var w=-1,_=!0,T=l&a?new e:void 0;for(d.set(s,o),d.set(o,s);++w<v;){var M=s[w],N=o[w];if(u)var C=p?u(N,M,w,o,s,d):u(M,N,w,s,o,d);if(C!==void 0){if(C)continue;_=!1;break}if(T){if(!t(o,function(j,O){if(!r(T,O)&&(M===j||f(M,j,l,u,d)))return T.push(O)})){_=!1;break}}else if(!(M===N||f(M,N,l,u,d))){_=!1;break}}return d.delete(s),d.delete(o),_}return UM=i,UM}var HM,yV;function Xje(){if(yV)return HM;yV=1;var e=go(),t=e.Uint8Array;return HM=t,HM}var VM,xV;function Zje(){if(xV)return VM;xV=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return VM=e,VM}var qM,bV;function SI(){if(bV)return qM;bV=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return qM=e,qM}var GM,wV;function Qje(){if(wV)return GM;wV=1;var e=U0(),t=Xje(),r=cI(),n=Gre(),a=Zje(),i=SI(),s=1,o=2,l="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Map]",p="[object Number]",v="[object RegExp]",y="[object Set]",x="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",T=e?e.prototype:void 0,M=T?T.valueOf:void 0;function N(C,j,O,P,R,k,L){switch(O){case _:if(C.byteLength!=j.byteLength||C.byteOffset!=j.byteOffset)return!1;C=C.buffer,j=j.buffer;case w:return!(C.byteLength!=j.byteLength||!k(new t(C),new t(j)));case l:case u:case p:return r(+C,+j);case f:return C.name==j.name&&C.message==j.message;case v:case x:return C==j+"";case d:var I=a;case y:var $=P&s;if(I||(I=i),C.size!=j.size&&!$)return!1;var F=L.get(C);if(F)return F==j;P|=o,L.set(C,j);var z=n(I(C),I(j),P,R,k,L);return L.delete(C),z;case b:if(M)return M.call(C)==M.call(j)}return!1}return GM=N,GM}var WM,SV;function Wre(){if(SV)return WM;SV=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return WM=e,WM}var KM,_V;function Jje(){if(_V)return KM;_V=1;var e=Wre(),t=Ya();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return KM=r,KM}var YM,TV;function eDe(){if(TV)return YM;TV=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var o=t[n];r(o,n,t)&&(s[i++]=o)}return s}return YM=e,YM}var XM,CV;function tDe(){if(CV)return XM;CV=1;function e(){return[]}return XM=e,XM}var ZM,NV;function rDe(){if(NV)return ZM;NV=1;var e=eDe(),t=tDe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(o){return n.call(s,o)}))}:t;return ZM=i,ZM}var QM,AV;function nDe(){if(AV)return QM;AV=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return QM=e,QM}var JM,MV;function aDe(){if(MV)return JM;MV=1;var e=xl(),t=bl(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return JM=n,JM}var eE,EV;function _I(){if(EV)return eE;EV=1;var e=aDe(),t=bl(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return eE=i,eE}var Ev={exports:{}},tE,jV;function iDe(){if(jV)return tE;jV=1;function e(){return!1}return tE=e,tE}Ev.exports;var DV;function Kre(){return DV||(DV=1,(function(e,t){var r=go(),n=iDe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(Ev,Ev.exports)),Ev.exports}var rE,OV;function TI(){if(OV)return rE;OV=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return rE=r,rE}var nE,PV;function CI(){if(PV)return nE;PV=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return nE=t,nE}var aE,kV;function sDe(){if(kV)return aE;kV=1;var e=xl(),t=CI(),r=bl(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",p="[object RegExp]",v="[object Set]",y="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",T="[object Float64Array]",M="[object Int8Array]",N="[object Int16Array]",C="[object Int32Array]",j="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",R="[object Uint32Array]",k={};k[_]=k[T]=k[M]=k[N]=k[C]=k[j]=k[O]=k[P]=k[R]=!0,k[n]=k[a]=k[b]=k[i]=k[w]=k[s]=k[o]=k[l]=k[u]=k[f]=k[d]=k[p]=k[v]=k[y]=k[x]=!1;function L(I){return r(I)&&t(I.length)&&!!k[e(I)]}return aE=L,aE}var iE,RV;function Yre(){if(RV)return iE;RV=1;function e(t){return function(r){return t(r)}}return iE=e,iE}var jv={exports:{}};jv.exports;var LV;function oDe(){return LV||(LV=1,(function(e,t){var r=mre(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();e.exports=o})(jv,jv.exports)),jv.exports}var sE,IV;function Xre(){if(IV)return sE;IV=1;var e=sDe(),t=Yre(),r=oDe(),n=r&&r.isTypedArray,a=n?t(n):e;return sE=a,sE}var oE,BV;function lDe(){if(BV)return oE;BV=1;var e=nDe(),t=_I(),r=Ya(),n=Kre(),a=TI(),i=Xre(),s=Object.prototype,o=s.hasOwnProperty;function l(u,f){var d=r(u),p=!d&&t(u),v=!d&&!p&&n(u),y=!d&&!p&&!v&&i(u),x=d||p||v||y,b=x?e(u.length,String):[],w=b.length;for(var _ in u)(f||o.call(u,_))&&!(x&&(_=="length"||v&&(_=="offset"||_=="parent")||y&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||a(_,w)))&&b.push(_);return b}return oE=l,oE}var lE,$V;function uDe(){if($V)return lE;$V=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return lE=t,lE}var uE,zV;function Zre(){if(zV)return uE;zV=1;function e(t,r){return function(n){return t(r(n))}}return uE=e,uE}var cE,FV;function cDe(){if(FV)return cE;FV=1;var e=Zre(),t=e(Object.keys,Object);return cE=t,cE}var fE,UV;function fDe(){if(UV)return fE;UV=1;var e=uDe(),t=cDe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return fE=a,fE}var dE,HV;function q0(){if(HV)return dE;HV=1;var e=uI(),t=CI();function r(n){return n!=null&&t(n.length)&&!e(n)}return dE=r,dE}var hE,VV;function x_(){if(VV)return hE;VV=1;var e=lDe(),t=fDe(),r=q0();function n(a){return r(a)?e(a):t(a)}return hE=n,hE}var pE,qV;function dDe(){if(qV)return pE;qV=1;var e=Jje(),t=rDe(),r=x_();function n(a){return e(a,r,t)}return pE=n,pE}var mE,GV;function hDe(){if(GV)return mE;GV=1;var e=dDe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,l,u,f){var d=o&t,p=e(i),v=p.length,y=e(s),x=y.length;if(v!=x&&!d)return!1;for(var b=v;b--;){var w=p[b];if(!(d?w in s:n.call(s,w)))return!1}var _=f.get(i),T=f.get(s);if(_&&T)return _==s&&T==i;var M=!0;f.set(i,s),f.set(s,i);for(var N=d;++b<v;){w=p[b];var C=i[w],j=s[w];if(l)var O=d?l(j,C,w,s,i,f):l(C,j,w,i,s,f);if(!(O===void 0?C===j||u(C,j,o,l,f):O)){M=!1;break}N||(N=w=="constructor")}if(M&&!N){var P=i.constructor,R=s.constructor;P!=R&&"constructor"in i&&"constructor"in s&&!(typeof P=="function"&&P instanceof P&&typeof R=="function"&&R instanceof R)&&(M=!1)}return f.delete(i),f.delete(s),M}return mE=a,mE}var vE,WV;function pDe(){if(WV)return vE;WV=1;var e=Bf(),t=go(),r=e(t,"DataView");return vE=r,vE}var gE,KV;function mDe(){if(KV)return gE;KV=1;var e=Bf(),t=go(),r=e(t,"Promise");return gE=r,gE}var yE,YV;function Qre(){if(YV)return yE;YV=1;var e=Bf(),t=go(),r=e(t,"Set");return yE=r,yE}var xE,XV;function vDe(){if(XV)return xE;XV=1;var e=Bf(),t=go(),r=e(t,"WeakMap");return xE=r,xE}var bE,ZV;function gDe(){if(ZV)return bE;ZV=1;var e=pDe(),t=fI(),r=mDe(),n=Qre(),a=vDe(),i=xl(),s=vre(),o="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",v=s(e),y=s(t),x=s(r),b=s(n),w=s(a),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=p||t&&_(new t)!=o||r&&_(r.resolve())!=u||n&&_(new n)!=f||a&&_(new a)!=d)&&(_=function(T){var M=i(T),N=M==l?T.constructor:void 0,C=N?s(N):"";if(C)switch(C){case v:return p;case y:return o;case x:return u;case b:return f;case w:return d}return M}),bE=_,bE}var wE,QV;function yDe(){if(QV)return wE;QV=1;var e=Ure(),t=Gre(),r=Qje(),n=hDe(),a=gDe(),i=Ya(),s=Kre(),o=Xre(),l=1,u="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function y(x,b,w,_,T,M){var N=i(x),C=i(b),j=N?f:a(x),O=C?f:a(b);j=j==u?d:j,O=O==u?d:O;var P=j==d,R=O==d,k=j==O;if(k&&s(x)){if(!s(b))return!1;N=!0,P=!1}if(k&&!P)return M||(M=new e),N||o(x)?t(x,b,w,_,T,M):r(x,b,j,w,_,T,M);if(!(w&l)){var L=P&&v.call(x,"__wrapped__"),I=R&&v.call(b,"__wrapped__");if(L||I){var $=L?x.value():x,F=I?b.value():b;return M||(M=new e),T($,F,w,_,M)}}return k?(M||(M=new e),n(x,b,w,_,T,M)):!1}return wE=y,wE}var SE,JV;function NI(){if(JV)return SE;JV=1;var e=yDe(),t=bl();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,o)}return SE=r,SE}var _E,eq;function xDe(){if(eq)return _E;eq=1;var e=Ure(),t=NI(),r=1,n=2;function a(i,s,o,l){var u=o.length,f=u,d=!l;if(i==null)return!f;for(i=Object(i);u--;){var p=o[u];if(d&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<f;){p=o[u];var v=p[0],y=i[v],x=p[1];if(d&&p[2]){if(y===void 0&&!(v in i))return!1}else{var b=new e;if(l)var w=l(y,x,v,i,s,b);if(!(w===void 0?t(x,y,r|n,l,b):w))return!1}}return!0}return _E=a,_E}var TE,tq;function Jre(){if(tq)return TE;tq=1;var e=Wu();function t(r){return r===r&&!e(r)}return TE=t,TE}var CE,rq;function bDe(){if(rq)return CE;rq=1;var e=Jre(),t=x_();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,e(o)]}return a}return CE=r,CE}var NE,nq;function ene(){if(nq)return NE;nq=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return NE=e,NE}var AE,aq;function wDe(){if(aq)return AE;aq=1;var e=xDe(),t=bDe(),r=ene();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return AE=n,AE}var ME,iq;function SDe(){if(iq)return ME;iq=1;function e(t,r){return t!=null&&r in Object(t)}return ME=e,ME}var EE,sq;function _De(){if(sq)return EE;sq=1;var e=xre(),t=_I(),r=Ya(),n=TI(),a=CI(),i=p_();function s(o,l,u){l=e(l,o);for(var f=-1,d=l.length,p=!1;++f<d;){var v=i(l[f]);if(!(p=o!=null&&u(o,v)))break;o=o[v]}return p||++f!=d?p:(d=o==null?0:o.length,!!d&&a(d)&&n(v,d)&&(r(o)||t(o)))}return EE=s,EE}var jE,oq;function TDe(){if(oq)return jE;oq=1;var e=SDe(),t=_De();function r(n,a){return n!=null&&t(n,a,e)}return jE=r,jE}var DE,lq;function CDe(){if(lq)return DE;lq=1;var e=NI(),t=bre(),r=TDe(),n=lI(),a=Jre(),i=ene(),s=p_(),o=1,l=2;function u(f,d){return n(f)&&a(d)?i(s(f),d):function(p){var v=t(p,f);return v===void 0&&v===d?r(p,f):e(d,v,o|l)}}return DE=u,DE}var OE,uq;function Lp(){if(uq)return OE;uq=1;function e(t){return t}return OE=e,OE}var PE,cq;function NDe(){if(cq)return PE;cq=1;function e(t){return function(r){return r==null?void 0:r[t]}}return PE=e,PE}var kE,fq;function ADe(){if(fq)return kE;fq=1;var e=pI();function t(r){return function(n){return e(n,r)}}return kE=t,kE}var RE,dq;function MDe(){if(dq)return RE;dq=1;var e=NDe(),t=ADe(),r=lI(),n=p_();function a(i){return r(i)?e(n(i)):t(i)}return RE=a,RE}var LE,hq;function Ku(){if(hq)return LE;hq=1;var e=wDe(),t=CDe(),r=Lp(),n=Ya(),a=MDe();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return LE=i,LE}var IE,pq;function tne(){if(pq)return IE;pq=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return IE=e,IE}var BE,mq;function EDe(){if(mq)return BE;mq=1;function e(t){return t!==t}return BE=e,BE}var $E,vq;function jDe(){if(vq)return $E;vq=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return $E=e,$E}var zE,gq;function DDe(){if(gq)return zE;gq=1;var e=tne(),t=EDe(),r=jDe();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return zE=n,zE}var FE,yq;function ODe(){if(yq)return FE;yq=1;var e=DDe();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return FE=t,FE}var UE,xq;function PDe(){if(xq)return UE;xq=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return UE=e,UE}var HE,bq;function kDe(){if(bq)return HE;bq=1;function e(){}return HE=e,HE}var VE,wq;function RDe(){if(wq)return VE;wq=1;var e=Qre(),t=kDe(),r=SI(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return VE=a,VE}var qE,Sq;function LDe(){if(Sq)return qE;Sq=1;var e=Hre(),t=ODe(),r=PDe(),n=qre(),a=RDe(),i=SI(),s=200;function o(l,u,f){var d=-1,p=t,v=l.length,y=!0,x=[],b=x;if(f)y=!1,p=r;else if(v>=s){var w=u?null:a(l);if(w)return i(w);y=!1,p=n,b=new e}else b=u?[]:x;e:for(;++d<v;){var _=l[d],T=u?u(_):_;if(_=f||_!==0?_:0,y&&T===T){for(var M=b.length;M--;)if(b[M]===T)continue e;u&&b.push(T),x.push(_)}else p(b,T,f)||(b!==x&&b.push(T),x.push(_))}return x}return qE=o,qE}var GE,_q;function IDe(){if(_q)return GE;_q=1;var e=Ku(),t=LDe();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return GE=r,GE}var BDe=IDe();const Tq=Kr(BDe);function rne(e,t,r){return t===!0?Tq(e,r):or(t)?Tq(e,t):e}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}var $De=["ref"];function Cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cq(Object(r),!0).forEach(function(n){b_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ane(n.key),n)}}function FDe(e,t,r){return t&&Nq(e.prototype,t),r&&Nq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UDe(e,t,r){return t=xw(t),HDe(e,nne()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function HDe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(e)}function VDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nne=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function qDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OP(e,t)}function OP(e,t){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OP(e,t)}function b_(e,t,r){return t=ane(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=GDe(e,"string");return ep(t)=="symbol"?t:t+""}function GDe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WDe(e,t){if(e==null)return{};var r=KDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YDe(e){return e.value}function XDe(e,t){if(ve.isValidElement(e))return ve.cloneElement(e,t);if(typeof e=="function")return ve.createElement(e,t);t.ref;var r=WDe(t,$De);return ve.createElement(wI,r)}var Aq=1,Xs=(function(e){function t(){var r;zDe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=UDe(this,t,[].concat(a)),b_(r,"lastBoundingBox",{width:-1,height:-1}),r}return qDe(t,e),FDe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Aq||Math.abs(a.height-this.lastBoundingBox.height)>Aq)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$o({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,u=a.chartWidth,f=a.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();d={left:((u||0)-v.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $o($o({},d),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,d=$o($o({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ve.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(v){n.wrapperNode=v}},XDe(i,$o($o({},this.props),{},{payload:rne(f,u,YDe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=$o($o({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&yt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(A.PureComponent);b_(Xs,"displayName","Legend");b_(Xs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var WE,Mq;function ZDe(){if(Mq)return WE;Mq=1;var e=U0(),t=_I(),r=Ya(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return WE=a,WE}var KE,Eq;function ine(){if(Eq)return KE;Eq=1;var e=Wre(),t=ZDe();function r(n,a,i,s,o){var l=-1,u=n.length;for(i||(i=t),o||(o=[]);++l<u;){var f=n[l];a>0&&i(f)?a>1?r(f,a-1,i,s,o):e(o,f):s||(o[o.length]=f)}return o}return KE=r,KE}var YE,jq;function QDe(){if(jq)return YE;jq=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),l=o.length;l--;){var u=o[t?l:++i];if(n(s[u],u,s)===!1)break}return r}}return YE=e,YE}var XE,Dq;function JDe(){if(Dq)return XE;Dq=1;var e=QDe(),t=e();return XE=t,XE}var ZE,Oq;function sne(){if(Oq)return ZE;Oq=1;var e=JDe(),t=x_();function r(n,a){return n&&e(n,a,t)}return ZE=r,ZE}var QE,Pq;function eOe(){if(Pq)return QE;Pq=1;var e=q0();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,o=n?s:-1,l=Object(a);(n?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return QE=t,QE}var JE,kq;function AI(){if(kq)return JE;kq=1;var e=sne(),t=eOe(),r=t(e);return JE=r,JE}var ej,Rq;function one(){if(Rq)return ej;Rq=1;var e=AI(),t=q0();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(o,l,u){s[++i]=a(o,l,u)}),s}return ej=r,ej}var tj,Lq;function tOe(){if(Lq)return tj;Lq=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return tj=e,tj}var rj,Iq;function rOe(){if(Iq)return rj;Iq=1;var e=kp();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=e(r),l=n!==void 0,u=n===null,f=n===n,d=e(n);if(!u&&!d&&!o&&r>n||o&&l&&f&&!u&&!d||i&&l&&f||!a&&f||!s)return 1;if(!i&&!o&&!d&&r<n||d&&a&&s&&!i&&!o||u&&a&&s||!l&&s||!f)return-1}return 0}return rj=t,rj}var nj,Bq;function nOe(){if(Bq)return nj;Bq=1;var e=rOe();function t(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,l=s.length,u=a.length;++i<l;){var f=e(s[i],o[i]);if(f){if(i>=u)return f;var d=a[i];return f*(d=="desc"?-1:1)}}return r.index-n.index}return nj=t,nj}var aj,$q;function aOe(){if($q)return aj;$q=1;var e=hI(),t=pI(),r=Ku(),n=one(),a=tOe(),i=Yre(),s=nOe(),o=Lp(),l=Ya();function u(f,d,p){d.length?d=e(d,function(x){return l(x)?function(b){return t(b,x.length===1?x[0]:x)}:x}):d=[o];var v=-1;d=e(d,i(r));var y=n(f,function(x,b,w){var _=e(d,function(T){return T(x)});return{criteria:_,index:++v,value:x}});return a(y,function(x,b){return s(x,b,p)})}return aj=u,aj}var ij,zq;function iOe(){if(zq)return ij;zq=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return ij=e,ij}var sj,Fq;function sOe(){if(Fq)return sj;Fq=1;var e=iOe(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,l=t(s.length-a,0),u=Array(l);++o<l;)u[o]=s[a+o];o=-1;for(var f=Array(a+1);++o<a;)f[o]=s[o];return f[a]=i(u),e(n,this,f)}}return sj=r,sj}var oj,Uq;function oOe(){if(Uq)return oj;Uq=1;function e(t){return function(){return t}}return oj=e,oj}var lj,Hq;function lne(){if(Hq)return lj;Hq=1;var e=Bf(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return lj=t,lj}var uj,Vq;function lOe(){if(Vq)return uj;Vq=1;var e=oOe(),t=lne(),r=Lp(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return uj=n,uj}var cj,qq;function uOe(){if(qq)return cj;qq=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),l=t-(o-s);if(s=o,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return cj=n,cj}var fj,Gq;function cOe(){if(Gq)return fj;Gq=1;var e=lOe(),t=uOe(),r=t(e);return fj=r,fj}var dj,Wq;function fOe(){if(Wq)return dj;Wq=1;var e=Lp(),t=sOe(),r=cOe();function n(a,i){return r(t(a,i,e),a+"")}return dj=n,dj}var hj,Kq;function w_(){if(Kq)return hj;Kq=1;var e=cI(),t=q0(),r=TI(),n=Wu();function a(i,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?t(o)&&r(s,o.length):l=="string"&&s in o)?e(o[s],i):!1}return hj=a,hj}var pj,Yq;function dOe(){if(Yq)return pj;Yq=1;var e=ine(),t=aOe(),r=fOe(),n=w_(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return pj=a,pj}var hOe=dOe();const MI=Kr(hOe);function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function PP(){return PP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PP.apply(this,arguments)}function pOe(e,t){return yOe(e)||gOe(e,t)||vOe(e,t)||mOe()}function mOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vOe(e,t){if(e){if(typeof e=="string")return Xq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xq(e,t)}}function Xq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function yOe(e){if(Array.isArray(e))return e}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){xOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xOe(e,t,r){return t=bOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bOe(e){var t=wOe(e,"string");return zg(t)=="symbol"?t:t+""}function wOe(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SOe(e){return Array.isArray(e)&&Un(e[0])&&Un(e[1])?e.join(" ~ "):e}var _Oe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,u=l===void 0?{}:l,f=t.payload,d=t.formatter,p=t.itemSorter,v=t.wrapperClassName,y=t.labelClassName,x=t.label,b=t.labelFormatter,w=t.accessibilityLayer,_=w===void 0?!1:w,T=function(){if(f&&f.length){var L={padding:0,margin:0},I=(p?MI(f,p):f).map(function($,F){if($.type==="none")return null;var z=mj({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},o),V=$.formatter||d||SOe,q=$.value,W=$.name,Y=q,H=W;if(V&&Y!=null&&H!=null){var U=V(q,W,$,F,f);if(Array.isArray(U)){var K=pOe(U,2);Y=K[0],H=K[1]}else Y=U}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:z},Un(H)?ve.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Un(H)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},Y),ve.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:L},I)}return null},M=mj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=mj({margin:0},u),C=!hr(x),j=C?x:"",O=Sr("recharts-default-tooltip",v),P=Sr("recharts-tooltip-label",y);C&&b&&f!==void 0&&f!==null&&(j=b(x,f));var R=_?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",PP({className:O,style:M},R),ve.createElement("p",{className:P,style:N},ve.isValidElement(j)?j:"".concat(j)),T())};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function vb(e,t,r){return t=TOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TOe(e){var t=COe(e,"string");return Fg(t)=="symbol"?t:t+""}function COe(e,t){if(Fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv="recharts-tooltip-wrapper",NOe={visibility:"hidden"};function AOe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Sr(iv,vb(vb(vb(vb({},"".concat(iv,"-right"),yt(r)&&t&&yt(t.x)&&r>=t.x),"".concat(iv,"-left"),yt(r)&&t&&yt(t.x)&&r<t.x),"".concat(iv,"-bottom"),yt(n)&&t&&yt(t.y)&&n>=t.y),"".concat(iv,"-top"),yt(n)&&t&&yt(t.y)&&n<t.y))}function Qq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&yt(i[n]))return i[n];var f=r[n]-o-a,d=r[n]+a;if(t[n])return s[n]?f:d;if(s[n]){var p=f,v=l[n];return p<v?Math.max(d,l[n]):Math.max(f,l[n])}var y=d+o,x=l[n]+u;return y>x?Math.max(f,l[n]):Math.max(d,l[n])}function MOe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EOe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,u,f,d;return s.height>0&&s.width>0&&r?(f=Qq({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=Qq({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=MOe({translateX:f,translateY:d,useTranslate3d:o})):u=NOe,{cssProperties:u,cssClasses:AOe({translateX:f,translateY:d,coordinate:r})}}function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function Jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(r),!0).forEach(function(n){RP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cne(n.key),n)}}function OOe(e,t,r){return t&&DOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function POe(e,t,r){return t=bw(t),kOe(e,une()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function kOe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ROe(e)}function ROe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function une(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(une=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function LOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kP(e,t)}function kP(e,t){return kP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kP(e,t)}function RP(e,t,r){return t=cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=IOe(e,"string");return tp(t)=="symbol"?t:t+""}function IOe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t7=1,BOe=(function(e){function t(){var r;jOe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=POe(this,t,[].concat(a)),RP(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),RP(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return LOe(t,e),OOe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>t7||Math.abs(n.height-this.state.lastBoundingBox.height)>t7)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.children,f=a.coordinate,d=a.hasPayload,p=a.isAnimationActive,v=a.offset,y=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,T=EOe({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:v,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),M=T.cssClasses,N=T.cssProperties,C=e7(e7({transition:p&&i?"transform ".concat(o,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return ve.createElement("div",{tabIndex:-1,className:M,style:C,ref:function(O){n.wrapperNode=O}},u)}}])})(A.PureComponent),$Oe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ip={isSsr:$Oe()};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function r7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r7(Object(r),!0).forEach(function(n){EI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dne(n.key),n)}}function UOe(e,t,r){return t&&FOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HOe(e,t,r){return t=ww(t),VOe(e,fne()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function VOe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qOe(e)}function qOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fne=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LP(e,t)}function EI(e,t,r){return t=dne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dne(e){var t=WOe(e,"string");return rp(t)=="symbol"?t:t+""}function WOe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KOe(e){return e.dataKey}function YOe(e,t){return ve.isValidElement(e)?ve.cloneElement(e,t):typeof e=="function"?ve.createElement(e,t):ve.createElement(_Oe,t)}var ui=(function(e){function t(){return zOe(this,t),HOe(this,t,arguments)}return GOe(t,e),UOe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,u=a.content,f=a.coordinate,d=a.filterNull,p=a.isAnimationActive,v=a.offset,y=a.payload,x=a.payloadUniqBy,b=a.position,w=a.reverseDirection,_=a.useTranslate3d,T=a.viewBox,M=a.wrapperStyle,N=y??[];d&&N.length&&(N=rne(y.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),x,KOe));var C=N.length>0;return ve.createElement(BOe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:p,active:i,coordinate:f,hasPayload:C,offset:v,position:b,reverseDirection:w,useTranslate3d:_,viewBox:T,wrapperStyle:M},YOe(u,n7(n7({},this.props),{},{payload:N})))}}])})(A.PureComponent);EI(ui,"displayName","Tooltip");EI(ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ip.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vj,a7;function XOe(){if(a7)return vj;a7=1;var e=go(),t=function(){return e.Date.now()};return vj=t,vj}var gj,i7;function ZOe(){if(i7)return gj;i7=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return gj=t,gj}var yj,s7;function QOe(){if(s7)return yj;s7=1;var e=ZOe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return yj=r,yj}var xj,o7;function hne(){if(o7)return xj;o7=1;var e=QOe(),t=Wu(),r=kp(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var d=i.test(u);return d||s.test(u)?o(u.slice(2),d?2:8):a.test(u)?n:+u}return xj=l,xj}var bj,l7;function JOe(){if(l7)return bj;l7=1;var e=Wu(),t=XOe(),r=hne(),n="Expected a function",a=Math.max,i=Math.min;function s(o,l,u){var f,d,p,v,y,x,b=0,w=!1,_=!1,T=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,e(u)&&(w=!!u.leading,_="maxWait"in u,p=_?a(r(u.maxWait)||0,l):p,T="trailing"in u?!!u.trailing:T);function M(I){var $=f,F=d;return f=d=void 0,b=I,v=o.apply(F,$),v}function N(I){return b=I,y=setTimeout(O,l),w?M(I):v}function C(I){var $=I-x,F=I-b,z=l-$;return _?i(z,p-F):z}function j(I){var $=I-x,F=I-b;return x===void 0||$>=l||$<0||_&&F>=p}function O(){var I=t();if(j(I))return P(I);y=setTimeout(O,C(I))}function P(I){return y=void 0,T&&f?M(I):(f=d=void 0,v)}function R(){y!==void 0&&clearTimeout(y),b=0,f=x=d=y=void 0}function k(){return y===void 0?v:P(t())}function L(){var I=t(),$=j(I);if(f=arguments,d=this,x=I,$){if(y===void 0)return N(x);if(_)return clearTimeout(y),y=setTimeout(O,l),M(x)}return y===void 0&&(y=setTimeout(O,l)),v}return L.cancel=R,L.flush=k,L}return bj=s,bj}var wj,u7;function ePe(){if(u7)return wj;u7=1;var e=JOe(),t=Wu(),r="Expected a function";function n(a,i,s){var o=!0,l=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(o="leading"in s?!!s.leading:o,l="trailing"in s?!!s.trailing:l),e(a,i,{leading:o,maxWait:i,trailing:l})}return wj=n,wj}var tPe=ePe();const pne=Kr(tPe);function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function c7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c7(Object(r),!0).forEach(function(n){rPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rPe(e,t,r){return t=nPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nPe(e){var t=aPe(e,"string");return Ug(t)=="symbol"?t:t+""}function aPe(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iPe(e,t){return uPe(e)||lPe(e,t)||oPe(e,t)||sPe()}function sPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(e,t){if(e){if(typeof e=="string")return f7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f7(e,t)}}function f7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function uPe(e){if(Array.isArray(e))return e}var yb=A.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,p=e.maxHeight,v=e.children,y=e.debounce,x=y===void 0?0:y,b=e.id,w=e.className,_=e.onResize,T=e.style,M=T===void 0?{}:T,N=A.useRef(null),C=A.useRef();C.current=_,A.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var j=A.useState({containerWidth:a.width,containerHeight:a.height}),O=iPe(j,2),P=O[0],R=O[1],k=A.useCallback(function(I,$){R(function(F){var z=Math.round(I),V=Math.round($);return F.containerWidth===z&&F.containerHeight===V?F:{containerWidth:z,containerHeight:V}})},[]);A.useEffect(function(){var I=function(W){var Y,H=W[0].contentRect,U=H.width,K=H.height;k(U,K),(Y=C.current)===null||Y===void 0||Y.call(C,U,K)};x>0&&(I=pne(I,x,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),F=N.current.getBoundingClientRect(),z=F.width,V=F.height;return k(z,V),$.observe(N.current),function(){$.disconnect()}},[k,x]);var L=A.useMemo(function(){var I=P.containerWidth,$=P.containerHeight;if(I<0||$<0)return null;al(Jc(s)||Jc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Jc(s)?I:s,z=Jc(l)?$:l;r&&r>0&&(F?z=F/r:z&&(F=z*r),p&&z>p&&(z=p)),al(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,s,l,f,d,r);var V=!Array.isArray(v)&&nl(v.type).endsWith("Chart");return ve.Children.map(v,function(q){return ve.isValidElement(q)?A.cloneElement(q,gb({width:F,height:z},V?{style:gb({height:"100%",width:"100%",maxHeight:z,maxWidth:F},q.props.style)}:{})):q})},[r,v,l,p,d,f,P,s]);return ve.createElement("div",{id:b?"".concat(b):void 0,className:Sr("recharts-responsive-container",w),style:gb(gb({},M),{},{width:s,height:l,minWidth:f,minHeight:d,maxHeight:p}),ref:N},L)}),mne=function(t){return null};mne.displayName="Cell";function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){cPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cPe(e,t,r){return t=fPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fPe(e){var t=dPe(e,"string");return Hg(t)=="symbol"?t:t+""}function dPe(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd={widthCache:{},cacheCount:0},hPe=2e3,pPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h7="recharts_measurement_span";function mPe(e){var t=IP({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var tg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ip.isSsr)return{width:0,height:0};var n=mPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Fd.widthCache[a])return Fd.widthCache[a];try{var i=document.getElementById(h7);i||(i=document.createElement("span"),i.setAttribute("id",h7),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=IP(IP({},pPe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Fd.widthCache[a]=l,++Fd.cacheCount>hPe&&(Fd.cacheCount=0,Fd.widthCache={}),l}catch{return{width:0,height:0}}},vPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function Sw(e,t){return bPe(e)||xPe(e,t)||yPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(e,t){if(e){if(typeof e=="string")return p7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(e,t)}}function p7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function bPe(e){if(Array.isArray(e))return e}function wPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_Pe(n.key),n)}}function SPe(e,t,r){return t&&m7(e.prototype,t),r&&m7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Pe(e){var t=TPe(e,"string");return Vg(t)=="symbol"?t:t+""}function TPe(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},APe=Object.keys(vne),vh="NaN";function MPe(e,t){return e*vne[t]}var xb=(function(){function e(t,r){wPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!CPe.test(r)&&(this.num=NaN,this.unit=""),APe.includes(r)&&(this.num=MPe(t,r),this.unit="px")}return SPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=NPe.exec(r))!==null&&n!==void 0?n:[],i=Sw(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])})();function gne(e){if(e.includes(vh))return vh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=v7.exec(t))!==null&&r!==void 0?r:[],a=Sw(n,4),i=a[1],s=a[2],o=a[3],l=xb.parse(i??""),u=xb.parse(o??""),f=s==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return vh;t=t.replace(v7,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=g7.exec(t))!==null&&d!==void 0?d:[],v=Sw(p,4),y=v[1],x=v[2],b=v[3],w=xb.parse(y??""),_=xb.parse(b??""),T=x==="+"?w.add(_):w.subtract(_);if(T.isNaN())return vh;t=t.replace(g7,T.toString())}return t}var y7=/\(([^()]*)\)/;function EPe(e){for(var t=e;t.includes("(");){var r=y7.exec(t),n=Sw(r,2),a=n[1];t=t.replace(y7,gne(a))}return t}function jPe(e){var t=e.replace(/\s+/g,"");return t=EPe(t),t=gne(t),t}function DPe(e){try{return jPe(e)}catch{return vh}}function Sj(e){var t=DPe(e.slice(5,-1));return t===vh?"":t}var OPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PPe=["dx","dy","angle","className","breakAll"];function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BP.apply(this,arguments)}function x7(e,t){if(e==null)return{};var r=kPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function b7(e,t){return BPe(e)||IPe(e,t)||LPe(e,t)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(e,t){if(e){if(typeof e=="string")return w7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w7(e,t)}}function w7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function BPe(e){if(Array.isArray(e))return e}var yne=/[ \f\n\r\t\v\u2028\u2029]+/,xne=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];hr(r)||(n?i=r.toString().split(""):i=r.toString().split(yne));var s=i.map(function(l){return{word:l,width:tg(l,a).width}}),o=n?0:tg("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},$Pe=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,u=t.breakAll,f=yt(s),d=o,p=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(z,V){var q=V.word,W=V.width,Y=z[z.length-1];if(Y&&(a==null||i||Y.width+W+n<Number(a)))Y.words.push(q),Y.width+=W+n;else{var H={words:[q],width:W};z.push(H)}return z},[])},v=p(r),y=function(F){return F.reduce(function(z,V){return z.width>V.width?z:V})};if(!f)return v;for(var x="",b=function(F){var z=d.slice(0,F),V=xne({breakAll:u,style:l,children:z+x}).wordsWithComputedWidth,q=p(V),W=q.length>s||y(q).width>Number(a);return[W,q]},w=0,_=d.length-1,T=0,M;w<=_&&T<=d.length-1;){var N=Math.floor((w+_)/2),C=N-1,j=b(C),O=b7(j,2),P=O[0],R=O[1],k=b(N),L=b7(k,1),I=L[0];if(!P&&!I&&(w=N+1),P&&I&&(_=N-1),!P&&I){M=R;break}T++}return M||v},S7=function(t){var r=hr(t)?[]:t.toString().split(yne);return[{words:r}]},zPe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Ip.isSsr){var l,u,f=xne({breakAll:s,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,p=f.spaceWidth;l=d,u=p}else return S7(a);return $Pe({breakAll:s,children:a,maxLines:o,style:i},l,u,r,n)}return S7(a)},_7="#808080",_w=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,u=l===void 0?"0.71em":l,f=t.scaleToFit,d=f===void 0?!1:f,p=t.textAnchor,v=p===void 0?"start":p,y=t.verticalAnchor,x=y===void 0?"end":y,b=t.fill,w=b===void 0?_7:b,_=x7(t,OPe),T=A.useMemo(function(){return zPe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),M=_.dx,N=_.dy,C=_.angle,j=_.className,O=_.breakAll,P=x7(_,PPe);if(!Un(n)||!Un(i))return null;var R=n+(yt(M)?M:0),k=i+(yt(N)?N:0),L;switch(x){case"start":L=Sj("calc(".concat(u,")"));break;case"middle":L=Sj("calc(".concat((T.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:L=Sj("calc(".concat(T.length-1," * -").concat(o,")"));break}var I=[];if(d){var $=T[0].width,F=_.width;I.push("scale(".concat((yt(F)?F/$:1)/$,")"))}return C&&I.push("rotate(".concat(C,", ").concat(R,", ").concat(k,")")),I.length&&(P.transform=I.join(" ")),ve.createElement("text",BP({},yr(P,!0),{x:R,y:k,className:Sr("recharts-text",j),textAnchor:v,fill:w.includes("url")?_7:w}),T.map(function(z,V){var q=z.words.join(O?"":" ");return ve.createElement("tspan",{x:R,dy:V===0?L:o,key:"".concat(q,"-").concat(V)},q)}))};function Pu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jI(e){let t,r,n;e.length!==2?(t=Pu,r=(o,l)=>Pu(e(o),l),n=(o,l)=>e(o)-l):(t=e===Pu||e===FPe?e:UPe,r=e,n=e);function a(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(o[d],l)<0?u=d+1:f=d}while(u<f)}return u}function i(o,l,u=0,f=o.length){if(u<f){if(t(l,l)!==0)return f;do{const d=u+f>>>1;r(o[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function s(o,l,u=0,f=o.length){const d=a(o,l,u,f-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:a,center:s,right:i}}function UPe(){return 0}function bne(e){return e===null?NaN:+e}function*HPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VPe=jI(Pu),G0=VPe.right;jI(bne).center;class T7 extends Map{constructor(t,r=WPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(C7(this,t))}has(t){return super.has(C7(this,t))}set(t,r){return super.set(qPe(this,t),r)}delete(t){return super.delete(GPe(this,t))}}function C7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function WPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function KPe(e=Pu){if(e===Pu)return wne;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wne(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YPe=Math.sqrt(50),XPe=Math.sqrt(10),ZPe=Math.sqrt(2);function Tw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=YPe?10:i>=XPe?5:i>=ZPe?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Tw(e,t,r*2):[o,l,u]}function $P(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Tw(t,e,r):Tw(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function zP(e,t,r){return t=+t,e=+e,r=+r,Tw(e,t,r)[2]}function FP(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?zP(t,e,r):zP(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function N7(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A7(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Sne(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?wne:KPe(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),v=Math.max(r,Math.floor(t-u*d/l+p)),y=Math.min(n,Math.floor(t+(l-u)*d/l+p));Sne(e,t,v,y,a)}const i=e[t];let s=r,o=n;for(sv(e,r,t),a(e[n],i)>0&&sv(e,r,n);s<o;){for(sv(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?sv(e,r,o):(++o,sv(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function sv(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function QPe(e,t,r){if(e=Float64Array.from(HPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A7(e);if(t>=1)return N7(e);var n,a=(n-1)*t,i=Math.floor(a),s=N7(Sne(e,i).subarray(0,i+1)),o=A7(e.subarray(i+1));return s+(o-s)*(a-i)}}function JPe(e,t,r=bne){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function eke(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ns(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const UP=Symbol("implicit");function DI(){var e=new T7,t=[],r=[],n=UP;function a(i){let s=e.get(i);if(s===void 0){if(n!==UP)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new T7;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return DI(t,r).unknown(n)},ns.apply(a,arguments),a}function qg(){var e=DI().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,u=0,f=.5;delete e.unknown;function d(){var p=t().length,v=a<n,y=v?a:n,x=v?n:a;i=(x-y)/Math.max(1,p-l+u*2),o&&(i=Math.floor(i)),y+=(x-y-i*(p-l))*f,s=i*(1-l),o&&(y=Math.round(y),s=Math.round(s));var b=eke(p).map(function(w){return y+i*w});return r(v?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,d()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},e.copy=function(){return qg(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(f)},ns.apply(d(),arguments)}function _ne(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _ne(t())},e}function rg(){return _ne(qg.apply(null,arguments).paddingInner(1))}function OI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Tne(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function W0(){}var Gg=.7,Cw=1/Gg,Oh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ao="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tke=/^#([0-9a-f]{3,8})$/,rke=new RegExp(`^rgb\\(${Oh},${Oh},${Oh}\\)$`),nke=new RegExp(`^rgb\\(${ao},${ao},${ao}\\)$`),ake=new RegExp(`^rgba\\(${Oh},${Oh},${Oh},${Wg}\\)$`),ike=new RegExp(`^rgba\\(${ao},${ao},${ao},${Wg}\\)$`),ske=new RegExp(`^hsl\\(${Wg},${ao},${ao}\\)$`),oke=new RegExp(`^hsla\\(${Wg},${ao},${ao},${Wg}\\)$`),M7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OI(W0,Kg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:E7,formatHex:E7,formatHex8:lke,formatHsl:uke,formatRgb:j7,toString:j7});function E7(){return this.rgb().formatHex()}function lke(){return this.rgb().formatHex8()}function uke(){return Cne(this).formatHsl()}function j7(){return this.rgb().formatRgb()}function Kg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?D7(t):r===3?new Va(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rke.exec(e))?new Va(t[1],t[2],t[3],1):(t=nke.exec(e))?new Va(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ake.exec(e))?bb(t[1],t[2],t[3],t[4]):(t=ike.exec(e))?bb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ske.exec(e))?k7(t[1],t[2]/100,t[3]/100,1):(t=oke.exec(e))?k7(t[1],t[2]/100,t[3]/100,t[4]):M7.hasOwnProperty(e)?D7(M7[e]):e==="transparent"?new Va(NaN,NaN,NaN,0):null}function D7(e){return new Va(e>>16&255,e>>8&255,e&255,1)}function bb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Va(e,t,r,n)}function cke(e){return e instanceof W0||(e=Kg(e)),e?(e=e.rgb(),new Va(e.r,e.g,e.b,e.opacity)):new Va}function HP(e,t,r,n){return arguments.length===1?cke(e):new Va(e,t,r,n??1)}function Va(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}OI(Va,HP,Tne(W0,{brighter(e){return e=e==null?Cw:Math.pow(Cw,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gg:Math.pow(Gg,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Va(gf(this.r),gf(this.g),gf(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O7,formatHex:O7,formatHex8:fke,formatRgb:P7,toString:P7}));function O7(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}`}function fke(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}${ef((isNaN(this.opacity)?1:this.opacity)*255)}`}function P7(){const e=Nw(this.opacity);return`${e===1?"rgb(":"rgba("}${gf(this.r)}, ${gf(this.g)}, ${gf(this.b)}${e===1?")":`, ${e})`}`}function Nw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ef(e){return e=gf(e),(e<16?"0":"")+e.toString(16)}function k7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bs(e,t,r,n)}function Cne(e){if(e instanceof bs)return new bs(e.h,e.s,e.l,e.opacity);if(e instanceof W0||(e=Kg(e)),!e)return new bs;if(e instanceof bs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new bs(s,o,l,e.opacity)}function dke(e,t,r,n){return arguments.length===1?Cne(e):new bs(e,t,r,n??1)}function bs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}OI(bs,dke,Tne(W0,{brighter(e){return e=e==null?Cw:Math.pow(Cw,e),new bs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gg:Math.pow(Gg,e),new bs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Va(_j(e>=240?e-240:e+120,a,n),_j(e,a,n),_j(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new bs(R7(this.h),wb(this.s),wb(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nw(this.opacity);return`${e===1?"hsl(":"hsla("}${R7(this.h)}, ${wb(this.s)*100}%, ${wb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R7(e){return e=(e||0)%360,e<0?e+360:e}function wb(e){return Math.max(0,Math.min(1,e||0))}function _j(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const PI=e=>()=>e;function hke(e,t){return function(r){return e+r*t}}function pke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mke(e){return(e=+e)==1?Nne:function(t,r){return r-t?pke(t,r,e):PI(isNaN(t)?r:t)}}function Nne(e,t){var r=t-e;return r?hke(e,r):PI(isNaN(e)?t:e)}const L7=(function e(t){var r=mke(t);function n(a,i){var s=r((a=HP(a)).r,(i=HP(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=Nne(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=l(f),a.opacity=u(f),a+""}}return n.gamma=e,n})(1);function vke(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function gke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yke(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Bp(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function xke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Aw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bke(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Bp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var VP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tj=new RegExp(VP.source,"g");function wke(e){return function(){return e}}function Ske(e){return function(t){return e(t)+""}}function _ke(e,t){var r=VP.lastIndex=Tj.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=VP.exec(e))&&(a=Tj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Aw(n,a)})),r=Tj.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Ske(l[0].x):wke(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)o[(d=l[f]).i]=d.x(u);return o.join("")})}function Bp(e,t){var r=typeof t,n;return t==null||r==="boolean"?PI(t):(r==="number"?Aw:r==="string"?(n=Kg(t))?(t=n,L7):_ke:t instanceof Kg?L7:t instanceof Date?xke:gke(t)?vke:Array.isArray(t)?yke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bke:Aw)(e,t)}function kI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Tke(e,t){t===void 0&&(t=e,e=Bp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Cke(e){return function(){return e}}function Mw(e){return+e}var I7=[0,1];function Sa(e){return e}function qP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Cke(isNaN(t)?NaN:.5)}function Nke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Ake(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=qP(a,n),i=r(s,i)):(n=qP(n,a),i=r(i,s)),function(o){return i(n(o))}}function Mke(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=qP(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=G0(e,o,1,n)-1;return i[l](a[l](o))}}function K0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function S_(){var e=I7,t=I7,r=Bp,n,a,i,s=Sa,o,l,u;function f(){var p=Math.min(e.length,t.length);return s!==Sa&&(s=Nke(e[0],e[p-1])),o=p>2?Mke:Ake,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?i:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return d.invert=function(p){return s(a((u||(u=o(t,e.map(n),Aw)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Mw),f()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=kI,f()},d.clamp=function(p){return arguments.length?(s=p?!0:Sa,f()):s!==Sa},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(i=p,d):i},function(p,v){return n=p,a=v,f()}}function RI(){return S_()(Sa,Sa)}function Eke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ew(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function np(e){return e=Ew(Math.abs(e)),e?e[1]:NaN}function jke(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Dke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Oke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yg(e){if(!(t=Oke.exec(e)))throw new Error("invalid format: "+e);var t;return new LI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yg.prototype=LI.prototype;function LI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}LI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pke(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Ane;function kke(e,t){var r=Ew(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Ane=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ew(e,Math.max(0,t+i-1))[0]}function B7(e,t){var r=Ew(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const $7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Eke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>B7(e*100,t),r:B7,s:kke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function z7(e){return e}var F7=Array.prototype.map,U7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rke(e){var t=e.grouping===void 0||e.thousands===void 0?z7:jke(F7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?z7:Dke(F7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Yg(d);var p=d.fill,v=d.align,y=d.sign,x=d.symbol,b=d.zero,w=d.width,_=d.comma,T=d.precision,M=d.trim,N=d.type;N==="n"?(_=!0,N="g"):$7[N]||(T===void 0&&(T=12),M=!0,N="g"),(b||p==="0"&&v==="=")&&(b=!0,p="0",v="=");var C=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=x==="$"?n:/[%p]/.test(N)?s:"",O=$7[N],P=/[defgprs%]/.test(N);T=T===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function R(k){var L=C,I=j,$,F,z;if(N==="c")I=O(k)+I,k="";else{k=+k;var V=k<0||1/k<0;if(k=isNaN(k)?l:O(Math.abs(k),T),M&&(k=Pke(k)),V&&+k==0&&y!=="+"&&(V=!1),L=(V?y==="("?y:o:y==="-"||y==="("?"":y)+L,I=(N==="s"?U7[8+Ane/3]:"")+I+(V&&y==="("?")":""),P){for($=-1,F=k.length;++$<F;)if(z=k.charCodeAt($),48>z||z>57){I=(z===46?a+k.slice($+1):k.slice($))+I,k=k.slice(0,$);break}}}_&&!b&&(k=t(k,1/0));var q=L.length+k.length+I.length,W=q<w?new Array(w-q+1).join(p):"";switch(_&&b&&(k=t(W+k,W.length?w-I.length:1/0),W=""),v){case"<":k=L+k+I+W;break;case"=":k=L+W+k+I;break;case"^":k=W.slice(0,q=W.length>>1)+L+k+I+W.slice(q);break;default:k=W+L+k+I;break}return i(k)}return R.toString=function(){return d+""},R}function f(d,p){var v=u((d=Yg(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(np(p)/3)))*3,x=Math.pow(10,-y),b=U7[8+y/3];return function(w){return v(x*w)+b}}return{format:u,formatPrefix:f}}var Sb,II,Mne;Lke({thousands:",",grouping:[3],currency:["$",""]});function Lke(e){return Sb=Rke(e),II=Sb.format,Mne=Sb.formatPrefix,Sb}function Ike(e){return Math.max(0,-np(Math.abs(e)))}function Bke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(np(t)/3)))*3-np(Math.abs(e)))}function $ke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,np(t)-np(e))+1}function Ene(e,t,r,n){var a=FP(e,t,r),i;switch(n=Yg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Bke(a,s))&&(n.precision=i),Mne(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=$ke(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ike(a))&&(n.precision=i-(n.type==="%")*2);break}}return II(n)}function Yu(e){var t=e.domain;return e.ticks=function(r){var n=t();return $P(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ene(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,f=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);f-- >0;){if(u=zP(s,o,r),u===l)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function jw(){var e=RI();return e.copy=function(){return K0(e,jw())},ns.apply(e,arguments),Yu(e)}function jne(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Mw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return jne(e).unknown(t)},e=arguments.length?Array.from(e,Mw):[0,1],Yu(r)}function Dne(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function H7(e){return Math.log(e)}function V7(e){return Math.exp(e)}function zke(e){return-Math.log(-e)}function Fke(e){return-Math.exp(-e)}function Uke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Hke(e){return e===10?Uke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q7(e){return(t,r)=>-e(-t,r)}function BI(e){const t=e(H7,V7),r=t.domain;let n=10,a,i;function s(){return a=Vke(n),i=Hke(n),r()[0]<0?(a=q7(a),i=q7(i),e(zke,Fke)):e(H7,V7),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let p=a(u),v=a(f),y,x;const b=o==null?10:+o;let w=[];if(!(n%1)&&v-p<b){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(y=1;y<n;++y)if(x=p<0?y/i(-p):y*i(p),!(x<u)){if(x>f)break;w.push(x)}}else for(;p<=v;++p)for(y=n-1;y>=1;--y)if(x=p>0?y/i(-p):y*i(p),!(x<u)){if(x>f)break;w.push(x)}w.length*2<b&&(w=$P(u,f,b))}else w=$P(p,v,Math.min(v-p,b)).map(i);return d?w.reverse():w},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yg(l)).precision==null&&(l.trim=!0),l=II(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?l(f):""}},t.nice=()=>r(Dne(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function One(){const e=BI(S_()).domain([1,10]);return e.copy=()=>K0(e,One()).base(e.base()),ns.apply(e,arguments),e}function G7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $I(e){var t=1,r=e(G7(t),W7(t));return r.constant=function(n){return arguments.length?e(G7(t=+n),W7(t)):t},Yu(r)}function Pne(){var e=$I(S_());return e.copy=function(){return K0(e,Pne()).constant(e.constant())},ns.apply(e,arguments)}function K7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gke(e){return e<0?-e*e:e*e}function zI(e){var t=e(Sa,Sa),r=1;function n(){return r===1?e(Sa,Sa):r===.5?e(qke,Gke):e(K7(r),K7(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yu(t)}function FI(){var e=zI(S_());return e.copy=function(){return K0(e,FI()).exponent(e.exponent())},ns.apply(e,arguments),e}function Wke(){return FI.apply(null,arguments).exponent(.5)}function Y7(e){return Math.sign(e)*e*e}function Kke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kne(){var e=RI(),t=[0,1],r=!1,n;function a(i){var s=Kke(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(Y7(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Mw)).map(Y7)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return kne(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ns.apply(a,arguments),Yu(a)}function Rne(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=JPe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[G0(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Pu),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Rne().domain(e).range(t).unknown(n)},ns.apply(i,arguments)}function Lne(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[G0(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Lne().domain([e,t]).range(a).unknown(i)},ns.apply(Yu(s),arguments)}function Ine(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[G0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Ine().domain(e).range(t).unknown(r)},ns.apply(a,arguments)}const Cj=new Date,Nj=new Date;function Vn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=i=>Vn(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Cj.setTime(+i),Nj.setTime(+s),e(Cj),e(Nj),Math.floor(r(Cj,Nj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Dw=Vn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Dw);Dw.range;const Qo=1e3,qi=Qo*60,Jo=qi*60,hl=Jo*24,UI=hl*7,X7=hl*30,Aj=hl*365,tf=Vn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qo)},(e,t)=>(t-e)/Qo,e=>e.getUTCSeconds());tf.range;const HI=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qo)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getMinutes());HI.range;const VI=Vn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qi)},(e,t)=>(t-e)/qi,e=>e.getUTCMinutes());VI.range;const qI=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qo-e.getMinutes()*qi)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getHours());qI.range;const GI=Vn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCHours());GI.range;const Y0=Vn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qi)/hl,e=>e.getDate()-1);Y0.range;const __=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hl,e=>e.getUTCDate()-1);__.range;const Bne=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/hl,e=>Math.floor(e/hl));Bne.range;function $f(e){return Vn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qi)/UI)}const T_=$f(0),Ow=$f(1),Yke=$f(2),Xke=$f(3),ap=$f(4),Zke=$f(5),Qke=$f(6);T_.range;Ow.range;Yke.range;Xke.range;ap.range;Zke.range;Qke.range;function zf(e){return Vn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UI)}const C_=zf(0),Pw=zf(1),Jke=zf(2),eRe=zf(3),ip=zf(4),tRe=zf(5),rRe=zf(6);C_.range;Pw.range;Jke.range;eRe.range;ip.range;tRe.range;rRe.range;const WI=Vn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());WI.range;const KI=Vn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());KI.range;const pl=Vn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pl.range;const ml=Vn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ml.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ml.range;function $ne(e,t,r,n,a,i){const s=[[tf,1,Qo],[tf,5,5*Qo],[tf,15,15*Qo],[tf,30,30*Qo],[i,1,qi],[i,5,5*qi],[i,15,15*qi],[i,30,30*qi],[a,1,Jo],[a,3,3*Jo],[a,6,6*Jo],[a,12,12*Jo],[n,1,hl],[n,2,2*hl],[r,1,UI],[t,1,X7],[t,3,3*X7],[e,1,Aj]];function o(u,f,d){const p=f<u;p&&([u,f]=[f,u]);const v=d&&typeof d.range=="function"?d:l(u,f,d),y=v?v.range(u,+f+1):[];return p?y.reverse():y}function l(u,f,d){const p=Math.abs(f-u)/d,v=jI(([,,b])=>b).right(s,p);if(v===s.length)return e.every(FP(u/Aj,f/Aj,d));if(v===0)return Dw.every(Math.max(FP(u,f,d),1));const[y,x]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return y.every(x)}return[o,l]}const[nRe,aRe]=$ne(ml,KI,C_,Bne,GI,VI),[iRe,sRe]=$ne(pl,WI,T_,Y0,qI,HI);function Mj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ej(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ov(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function oRe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=lv(a),f=uv(a),d=lv(i),p=uv(i),v=lv(s),y=uv(s),x=lv(o),b=uv(o),w=lv(l),_=uv(l),T={a:V,A:q,b:W,B:Y,c:null,d:rG,e:rG,f:jRe,g:zRe,G:URe,H:ARe,I:MRe,j:ERe,L:zne,m:DRe,M:ORe,p:H,q:U,Q:iG,s:sG,S:PRe,u:kRe,U:RRe,V:LRe,w:IRe,W:BRe,x:null,X:null,y:$Re,Y:FRe,Z:HRe,"%":aG},M={a:K,A:ee,b:ae,B:xe,c:null,d:nG,e:nG,f:WRe,g:nLe,G:iLe,H:VRe,I:qRe,j:GRe,L:Une,m:KRe,M:YRe,p:ke,q:Je,Q:iG,s:sG,S:XRe,u:ZRe,U:QRe,V:JRe,w:eLe,W:tLe,x:null,X:null,y:rLe,Y:aLe,Z:sLe,"%":aG},N={a:R,A:k,b:L,B:I,c:$,d:eG,e:eG,f:_Re,g:J7,G:Q7,H:tG,I:tG,j:xRe,L:SRe,m:yRe,M:bRe,p:P,q:gRe,Q:CRe,s:NRe,S:wRe,u:dRe,U:hRe,V:pRe,w:fRe,W:mRe,x:F,X:z,y:J7,Y:Q7,Z:vRe,"%":TRe};T.x=C(r,T),T.X=C(n,T),T.c=C(t,T),M.x=C(r,M),M.X=C(n,M),M.c=C(t,M);function C(be,Te){return function(De){var J=[],it=-1,Ue=0,ft=be.length,le,te,Ne;for(De instanceof Date||(De=new Date(+De));++it<ft;)be.charCodeAt(it)===37&&(J.push(be.slice(Ue,it)),(te=Z7[le=be.charAt(++it)])!=null?le=be.charAt(++it):te=le==="e"?" ":"0",(Ne=Te[le])&&(le=Ne(De,te)),J.push(le),Ue=it+1);return J.push(be.slice(Ue,it)),J.join("")}}function j(be,Te){return function(De){var J=ov(1900,void 0,1),it=O(J,be,De+="",0),Ue,ft;if(it!=De.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Te&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Ue=Ej(ov(J.y,0,1)),ft=Ue.getUTCDay(),Ue=ft>4||ft===0?Pw.ceil(Ue):Pw(Ue),Ue=__.offset(Ue,(J.V-1)*7),J.y=Ue.getUTCFullYear(),J.m=Ue.getUTCMonth(),J.d=Ue.getUTCDate()+(J.w+6)%7):(Ue=Mj(ov(J.y,0,1)),ft=Ue.getDay(),Ue=ft>4||ft===0?Ow.ceil(Ue):Ow(Ue),Ue=Y0.offset(Ue,(J.V-1)*7),J.y=Ue.getFullYear(),J.m=Ue.getMonth(),J.d=Ue.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),ft="Z"in J?Ej(ov(J.y,0,1)).getUTCDay():Mj(ov(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(ft+5)%7:J.w+J.U*7-(ft+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,Ej(J)):Mj(J)}}function O(be,Te,De,J){for(var it=0,Ue=Te.length,ft=De.length,le,te;it<Ue;){if(J>=ft)return-1;if(le=Te.charCodeAt(it++),le===37){if(le=Te.charAt(it++),te=N[le in Z7?Te.charAt(it++):le],!te||(J=te(be,De,J))<0)return-1}else if(le!=De.charCodeAt(J++))return-1}return J}function P(be,Te,De){var J=u.exec(Te.slice(De));return J?(be.p=f.get(J[0].toLowerCase()),De+J[0].length):-1}function R(be,Te,De){var J=v.exec(Te.slice(De));return J?(be.w=y.get(J[0].toLowerCase()),De+J[0].length):-1}function k(be,Te,De){var J=d.exec(Te.slice(De));return J?(be.w=p.get(J[0].toLowerCase()),De+J[0].length):-1}function L(be,Te,De){var J=w.exec(Te.slice(De));return J?(be.m=_.get(J[0].toLowerCase()),De+J[0].length):-1}function I(be,Te,De){var J=x.exec(Te.slice(De));return J?(be.m=b.get(J[0].toLowerCase()),De+J[0].length):-1}function $(be,Te,De){return O(be,t,Te,De)}function F(be,Te,De){return O(be,r,Te,De)}function z(be,Te,De){return O(be,n,Te,De)}function V(be){return s[be.getDay()]}function q(be){return i[be.getDay()]}function W(be){return l[be.getMonth()]}function Y(be){return o[be.getMonth()]}function H(be){return a[+(be.getHours()>=12)]}function U(be){return 1+~~(be.getMonth()/3)}function K(be){return s[be.getUTCDay()]}function ee(be){return i[be.getUTCDay()]}function ae(be){return l[be.getUTCMonth()]}function xe(be){return o[be.getUTCMonth()]}function ke(be){return a[+(be.getUTCHours()>=12)]}function Je(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Te=C(be+="",T);return Te.toString=function(){return be},Te},parse:function(be){var Te=j(be+="",!1);return Te.toString=function(){return be},Te},utcFormat:function(be){var Te=C(be+="",M);return Te.toString=function(){return be},Te},utcParse:function(be){var Te=j(be+="",!0);return Te.toString=function(){return be},Te}}}var Z7={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,lRe=/^%/,uRe=/[\\^$*+?|[\]().{}]/g;function Nr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function cRe(e){return e.replace(uRe,"\\$&")}function lv(e){return new RegExp("^(?:"+e.map(cRe).join("|")+")","i")}function uv(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function fRe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dRe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function pRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Q7(e,t,r){var n=Kn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J7(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vRe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gRe(e,t,r){var n=Kn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function yRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eG(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xRe(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tG(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function bRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wRe(e,t,r){var n=Kn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function SRe(e,t,r){var n=Kn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _Re(e,t,r){var n=Kn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TRe(e,t,r){var n=lRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function CRe(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function NRe(e,t,r){var n=Kn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rG(e,t){return Nr(e.getDate(),t,2)}function ARe(e,t){return Nr(e.getHours(),t,2)}function MRe(e,t){return Nr(e.getHours()%12||12,t,2)}function ERe(e,t){return Nr(1+Y0.count(pl(e),e),t,3)}function zne(e,t){return Nr(e.getMilliseconds(),t,3)}function jRe(e,t){return zne(e,t)+"000"}function DRe(e,t){return Nr(e.getMonth()+1,t,2)}function ORe(e,t){return Nr(e.getMinutes(),t,2)}function PRe(e,t){return Nr(e.getSeconds(),t,2)}function kRe(e){var t=e.getDay();return t===0?7:t}function RRe(e,t){return Nr(T_.count(pl(e)-1,e),t,2)}function Fne(e){var t=e.getDay();return t>=4||t===0?ap(e):ap.ceil(e)}function LRe(e,t){return e=Fne(e),Nr(ap.count(pl(e),e)+(pl(e).getDay()===4),t,2)}function IRe(e){return e.getDay()}function BRe(e,t){return Nr(Ow.count(pl(e)-1,e),t,2)}function $Re(e,t){return Nr(e.getFullYear()%100,t,2)}function zRe(e,t){return e=Fne(e),Nr(e.getFullYear()%100,t,2)}function FRe(e,t){return Nr(e.getFullYear()%1e4,t,4)}function URe(e,t){var r=e.getDay();return e=r>=4||r===0?ap(e):ap.ceil(e),Nr(e.getFullYear()%1e4,t,4)}function HRe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nr(t/60|0,"0",2)+Nr(t%60,"0",2)}function nG(e,t){return Nr(e.getUTCDate(),t,2)}function VRe(e,t){return Nr(e.getUTCHours(),t,2)}function qRe(e,t){return Nr(e.getUTCHours()%12||12,t,2)}function GRe(e,t){return Nr(1+__.count(ml(e),e),t,3)}function Une(e,t){return Nr(e.getUTCMilliseconds(),t,3)}function WRe(e,t){return Une(e,t)+"000"}function KRe(e,t){return Nr(e.getUTCMonth()+1,t,2)}function YRe(e,t){return Nr(e.getUTCMinutes(),t,2)}function XRe(e,t){return Nr(e.getUTCSeconds(),t,2)}function ZRe(e){var t=e.getUTCDay();return t===0?7:t}function QRe(e,t){return Nr(C_.count(ml(e)-1,e),t,2)}function Hne(e){var t=e.getUTCDay();return t>=4||t===0?ip(e):ip.ceil(e)}function JRe(e,t){return e=Hne(e),Nr(ip.count(ml(e),e)+(ml(e).getUTCDay()===4),t,2)}function eLe(e){return e.getUTCDay()}function tLe(e,t){return Nr(Pw.count(ml(e)-1,e),t,2)}function rLe(e,t){return Nr(e.getUTCFullYear()%100,t,2)}function nLe(e,t){return e=Hne(e),Nr(e.getUTCFullYear()%100,t,2)}function aLe(e,t){return Nr(e.getUTCFullYear()%1e4,t,4)}function iLe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ip(e):ip.ceil(e),Nr(e.getUTCFullYear()%1e4,t,4)}function sLe(){return"+0000"}function aG(){return"%"}function iG(e){return+e}function sG(e){return Math.floor(+e/1e3)}var Ud,Vne,qne;oLe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oLe(e){return Ud=oRe(e),Vne=Ud.format,Ud.parse,qne=Ud.utcFormat,Ud.utcParse,Ud}function lLe(e){return new Date(e)}function uLe(e){return e instanceof Date?+e:+new Date(+e)}function YI(e,t,r,n,a,i,s,o,l,u){var f=RI(),d=f.invert,p=f.domain,v=u(".%L"),y=u(":%S"),x=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),_=u("%b %d"),T=u("%B"),M=u("%Y");function N(C){return(l(C)<C?v:o(C)<C?y:s(C)<C?x:i(C)<C?b:n(C)<C?a(C)<C?w:_:r(C)<C?T:M)(C)}return f.invert=function(C){return new Date(d(C))},f.domain=function(C){return arguments.length?p(Array.from(C,uLe)):p().map(lLe)},f.ticks=function(C){var j=p();return e(j[0],j[j.length-1],C??10)},f.tickFormat=function(C,j){return j==null?N:u(j)},f.nice=function(C){var j=p();return(!C||typeof C.range!="function")&&(C=t(j[0],j[j.length-1],C??10)),C?p(Dne(j,C)):f},f.copy=function(){return K0(f,YI(e,t,r,n,a,i,s,o,l,u))},f}function cLe(){return ns.apply(YI(iRe,sRe,pl,WI,T_,Y0,qI,HI,tf,Vne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fLe(){return ns.apply(YI(nRe,aRe,ml,KI,C_,__,GI,VI,tf,qne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N_(){var e=0,t=1,r,n,a,i,s=Sa,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function f(d){return function(p){var v,y;return arguments.length?([v,y]=p,s=d(v,y),u):[s(0),s(1)]}}return u.range=f(Bp),u.rangeRound=f(kI),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function Xu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gne(){var e=Yu(N_()(Sa));return e.copy=function(){return Xu(e,Gne())},wl.apply(e,arguments)}function Wne(){var e=BI(N_()).domain([1,10]);return e.copy=function(){return Xu(e,Wne()).base(e.base())},wl.apply(e,arguments)}function Kne(){var e=$I(N_());return e.copy=function(){return Xu(e,Kne()).constant(e.constant())},wl.apply(e,arguments)}function XI(){var e=zI(N_());return e.copy=function(){return Xu(e,XI()).exponent(e.exponent())},wl.apply(e,arguments)}function dLe(){return XI.apply(null,arguments).exponent(.5)}function Yne(){var e=[],t=Sa;function r(n){if(n!=null&&!isNaN(n=+n))return t((G0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>QPe(e,i/n))},r.copy=function(){return Yne(t).domain(e)},wl.apply(r,arguments)}function A_(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,u=Sa,f,d=!1,p;function v(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-i)*(n*x<n*i?o:l),u(d?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([e,t,r]=x,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(x){return arguments.length?(d=!!x,v):d},v.interpolator=function(x){return arguments.length?(u=x,v):u};function y(x){return function(b){var w,_,T;return arguments.length?([w,_,T]=b,u=Tke(x,[w,_,T]),v):[u(0),u(.5),u(1)]}}return v.range=y(Bp),v.rangeRound=y(kI),v.unknown=function(x){return arguments.length?(p=x,v):p},function(x){return f=x,a=x(e),i=x(t),s=x(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,v}}function Xne(){var e=Yu(A_()(Sa));return e.copy=function(){return Xu(e,Xne())},wl.apply(e,arguments)}function Zne(){var e=BI(A_()).domain([.1,1,10]);return e.copy=function(){return Xu(e,Zne()).base(e.base())},wl.apply(e,arguments)}function Qne(){var e=$I(A_());return e.copy=function(){return Xu(e,Qne()).constant(e.constant())},wl.apply(e,arguments)}function ZI(){var e=zI(A_());return e.copy=function(){return Xu(e,ZI()).exponent(e.exponent())},wl.apply(e,arguments)}function hLe(){return ZI.apply(null,arguments).exponent(.5)}const oG=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qg,scaleDiverging:Xne,scaleDivergingLog:Zne,scaleDivergingPow:ZI,scaleDivergingSqrt:hLe,scaleDivergingSymlog:Qne,scaleIdentity:jne,scaleImplicit:UP,scaleLinear:jw,scaleLog:One,scaleOrdinal:DI,scalePoint:rg,scalePow:FI,scaleQuantile:Rne,scaleQuantize:Lne,scaleRadial:kne,scaleSequential:Gne,scaleSequentialLog:Wne,scaleSequentialPow:XI,scaleSequentialQuantile:Yne,scaleSequentialSqrt:dLe,scaleSequentialSymlog:Kne,scaleSqrt:Wke,scaleSymlog:Pne,scaleThreshold:Ine,scaleTime:cLe,scaleUtc:fLe,tickFormat:Ene},Symbol.toStringTag,{value:"Module"}));var jj,lG;function Jne(){if(lG)return jj;lG=1;var e=kp();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var o=r[i],l=n(o);if(l!=null&&(u===void 0?l===l&&!e(l):a(l,u)))var u=l,f=o}return f}return jj=t,jj}var Dj,uG;function pLe(){if(uG)return Dj;uG=1;function e(t,r){return t>r}return Dj=e,Dj}var Oj,cG;function mLe(){if(cG)return Oj;cG=1;var e=Jne(),t=pLe(),r=Lp();function n(a){return a&&a.length?e(a,r,t):void 0}return Oj=n,Oj}var vLe=mLe();const M_=Kr(vLe);var Pj,fG;function gLe(){if(fG)return Pj;fG=1;function e(t,r){return t<r}return Pj=e,Pj}var kj,dG;function yLe(){if(dG)return kj;dG=1;var e=Jne(),t=gLe(),r=Lp();function n(a){return a&&a.length?e(a,r,t):void 0}return kj=n,kj}var xLe=yLe();const E_=Kr(xLe);var Rj,hG;function bLe(){if(hG)return Rj;hG=1;var e=hI(),t=Ku(),r=one(),n=Ya();function a(i,s){var o=n(i)?e:r;return o(i,t(s,3))}return Rj=a,Rj}var Lj,pG;function wLe(){if(pG)return Lj;pG=1;var e=ine(),t=bLe();function r(n,a){return e(t(n,a),1)}return Lj=r,Lj}var SLe=wLe();const _Le=Kr(SLe);var Ij,mG;function TLe(){if(mG)return Ij;mG=1;var e=NI();function t(r,n){return e(r,n)}return Ij=t,Ij}var CLe=TLe();const j_=Kr(CLe);var $p=1e9,NLe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},JI,on=!0,Ji="[DecimalError] ",yf=Ji+"Invalid argument: ",QI=Ji+"Exponent out of range: ",zp=Math.floor,Vc=Math.pow,ALe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,Wn=1e7,rn=7,eae=9007199254740991,kw=zp(eae/rn),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(e){return il(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,r=t.constructor;return Xr(il(t,new r(e),0,1),r.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return Ln(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(fi))throw Error(Ji+"NaN");if(r.s<1)throw Error(Ji+(r.s?"NaN":"-Infinity"));return r.eq(fi)?new n(0):(on=!1,t=il(Xg(r,i),Xg(e,i),i),on=!0,Xr(t,a))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nae(t,e):tae(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ji+"NaN");return r.s?(on=!1,t=il(r,e,0,1).times(e),on=!0,r.minus(t)):Xr(new n(r),a)};Et.naturalExponential=Et.exp=function(){return rae(this)};Et.naturalLogarithm=Et.ln=function(){return Xg(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tae(t,e):nae(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(yf+e);if(t=Ln(a)+1,n=a.d.length-1,r=n*rn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Et.squareRoot=Et.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ji+"NaN")}for(e=Ln(o),on=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Zs(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=zp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(il(o,i,s+2)).times(.5),Zs(i.d).slice(0,s)===(t=Zs(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Xr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return on=!0,Xr(n,r)};Et.times=Et.mul=function(e){var t,r,n,a,i,s,o,l,u,f=this,d=f.constructor,p=f.d,v=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,l=p.length,u=v.length,l<u&&(i=p,p=v,v=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+v[n]*p[a-n-1]+t,i[a--]=o%Wn|0,t=o/Wn|0;i[a]=(i[a]+t)%Wn|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,on?Xr(e,d.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(uo(e,0,$p),t===void 0?t=n.rounding:uo(t,0,8),Xr(r,e+Ln(r)+1,t))};Et.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Df(n,!0):(uo(e,0,$p),t===void 0?t=a.rounding:uo(t,0,8),n=Xr(new a(n),e+1,t),r=Df(n,!0,e+1)),r};Et.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Df(a):(uo(e,0,$p),t===void 0?t=i.rounding:uo(t,0,8),n=Xr(new i(a),e+Ln(a)+1,t),r=Df(n.abs(),!1,e+Ln(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return Xr(new t(e),Ln(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,u=12,f=+(e=new l(e));if(!e.s)return new l(fi);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ji+"Infinity");return o}if(o.eq(fi))return o;if(n=l.precision,e.eq(fi))return Xr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=eae){for(a=new l(fi),t=Math.ceil(n/rn+4),on=!1;r%2&&(a=a.times(o),gG(a.d,t)),r=zp(r/2),r!==0;)o=o.times(o),gG(o.d,t);return on=!0,e.s<0?new l(fi).div(a):Xr(a,n)}}else if(i<0)throw Error(Ji+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,on=!1,a=e.times(Xg(o,n+u)),on=!0,a=rae(a),a.s=i,a};Et.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ln(a),n=Df(a,r<=i.toExpNeg||r>=i.toExpPos)):(uo(e,1,$p),t===void 0?t=i.rounding:uo(t,0,8),a=Xr(new i(a),e,t),r=Ln(a),n=Df(a,e<=r||r<=i.toExpNeg,e)),n};Et.toSignificantDigits=Et.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(uo(e,1,$p),t===void 0?t=n.rounding:uo(t,0,8)),Xr(new n(r),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ln(e),r=e.constructor;return Df(e,t<=r.toExpNeg||t>=r.toExpPos)};function tae(e,t){var r,n,a,i,s,o,l,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),on?Xr(t,d):t;if(l=e.d,u=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(d/rn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Wn|0,l[i]%=Wn;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,on?Xr(t,d):t}function uo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(yf+e)}function Zs(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=rn-n.length,r&&(i+=lu(r)),i+=n;s=e[t],n=s+"",r=rn-n.length,r&&(i+=lu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var il=(function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Wn|0,s=i/Wn|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Wn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,f,d,p,v,y,x,b,w,_,T,M,N,C,j,O,P=n.constructor,R=n.s==a.s?1:-1,k=n.d,L=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ji+"Division by zero");for(l=n.e-a.e,j=L.length,N=k.length,v=new P(R),y=v.d=[],u=0;L[u]==(k[u]||0);)++u;if(L[u]>(k[u]||0)&&--l,i==null?_=i=P.precision:s?_=i+(Ln(n)-Ln(a))+1:_=i,_<0)return new P(0);if(_=_/rn+2|0,u=0,j==1)for(f=0,L=L[0],_++;(u<N||f)&&_--;u++)T=f*Wn+(k[u]||0),y[u]=T/L|0,f=T%L|0;else{for(f=Wn/(L[0]+1)|0,f>1&&(L=e(L,f),k=e(k,f),j=L.length,N=k.length),M=j,x=k.slice(0,j),b=x.length;b<j;)x[b++]=0;O=L.slice(),O.unshift(0),C=L[0],L[1]>=Wn/2&&++C;do f=0,o=t(L,x,j,b),o<0?(w=x[0],j!=b&&(w=w*Wn+(x[1]||0)),f=w/C|0,f>1?(f>=Wn&&(f=Wn-1),d=e(L,f),p=d.length,b=x.length,o=t(d,x,p,b),o==1&&(f--,r(d,j<p?O:L,p))):(f==0&&(o=f=1),d=L.slice()),p=d.length,p<b&&d.unshift(0),r(x,d,b),o==-1&&(b=x.length,o=t(L,x,j,b),o<1&&(f++,r(x,j<b?O:L,b))),b=x.length):o===0&&(f++,x=[0]),y[u++]=f,o&&x[0]?x[b++]=k[M]||0:(x=[k[M]],b=1);while((M++<N||x[0]!==void 0)&&_--)}return y[0]||y.shift(),v.e=l,Xr(v,s?i+Ln(v)+1:i)}})();function rae(e,t){var r,n,a,i,s,o,l=0,u=0,f=e.constructor,d=f.precision;if(Ln(e)>16)throw Error(QI+Ln(e));if(!e.s)return new f(fi);for(on=!1,o=d,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Vc(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new f(fi),f.precision=o;;){if(a=Xr(a.times(e),o),r=r.times(++l),s=i.plus(il(a,r,o)),Zs(s.d).slice(0,o)===Zs(i.d).slice(0,o)){for(;u--;)i=Xr(i.times(i),o);return f.precision=d,t==null?(on=!0,Xr(i,d)):i}i=s}}function Ln(e){for(var t=e.e*rn,r=e.d[0];r>=10;r/=10)t++;return t}function Bj(e,t,r){if(t>e.LN10.sd())throw on=!0,r&&(e.precision=r),Error(Ji+"LN10 precision limit exceeded");return Xr(new e(e.LN10),t)}function lu(e){for(var t="";e--;)t+="0";return t}function Xg(e,t){var r,n,a,i,s,o,l,u,f,d=1,p=10,v=e,y=v.d,x=v.constructor,b=x.precision;if(v.s<1)throw Error(Ji+(v.s?"NaN":"-Infinity"));if(v.eq(fi))return new x(0);if(t==null?(on=!1,u=b):u=t,v.eq(10))return t==null&&(on=!0),Bj(x,u);if(u+=p,x.precision=u,r=Zs(y),n=r.charAt(0),i=Ln(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=Zs(v.d),n=r.charAt(0),d++;i=Ln(v),n>1?(v=new x("0."+r),i++):v=new x(n+"."+r.slice(1))}else return l=Bj(x,u+2,b).times(i+""),v=Xg(new x(n+"."+r.slice(1)),u-p).plus(l),x.precision=b,t==null?(on=!0,Xr(v,b)):v;for(o=s=v=il(v.minus(fi),v.plus(fi),u),f=Xr(v.times(v),u),a=3;;){if(s=Xr(s.times(f),u),l=o.plus(il(s,new x(a),u)),Zs(l.d).slice(0,u)===Zs(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Bj(x,u+2,b).times(i+""))),o=il(o,new x(d),u),x.precision=b,t==null?(on=!0,Xr(o,b)):o;o=l,a+=2}}function vG(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=zp(r/rn),e.d=[],n=(r+1)%rn,r<0&&(n+=rn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=rn;n<a;)e.d.push(+t.slice(n,n+=rn));t=t.slice(n),n=rn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),on&&(e.e>kw||e.e<-kw))throw Error(QI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xr(e,t,r){var n,a,i,s,o,l,u,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=rn,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/rn),i=d.length,f>=i)return e;for(u=i=d[f],s=1;i>=10;i/=10)s++;n%=rn,a=n-rn+s}if(r!==void 0&&(i=Vc(10,s-a-1),o=u/i%10|0,l=t<0||d[f+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Vc(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Ln(e),d.length=1,t=t-i-1,d[0]=Vc(10,(rn-t%rn)%rn),e.e=zp(-t/rn)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Vc(10,rn-n),d[f]=a>0?(u/Vc(10,s-a)%Vc(10,a)|0)*i:0),l)for(;;)if(f==0){(d[0]+=i)==Wn&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=Wn)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(on&&(e.e>kw||e.e<-kw))throw Error(QI+Ln(e));return e}function nae(e,t){var r,n,a,i,s,o,l,u,f,d,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),on?Xr(t,v):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(f=s<0,f?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),a=Math.max(Math.ceil(v/rn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(l[a]!=d[a]){f=l[a]<d[a];break}s=0}for(f&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,a=d.length-o;a>0;--a)l[o++]=0;for(a=d.length;a>s;){if(l[--a]<d[a]){for(i=a;i&&l[--i]===0;)l[i]=Wn-1;--l[i],l[a]+=Wn}l[a]-=d[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,on?Xr(t,v):t):new p(0)}function Df(e,t,r){var n,a=Ln(e),i=Zs(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+lu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+lu(-a-1)+i,r&&(n=r-s)>0&&(i+=lu(n))):a>=s?(i+=lu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+lu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=lu(n))),e.s<0?"-"+i:i}function gG(e,t){if(e.length>t)return e.length=t,!0}function aae(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(yf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return vG(s,i.toString())}else if(typeof i!="string")throw Error(yf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,ALe.test(i))vG(s,i);else throw Error(yf+i)}if(a.prototype=Et,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=aae,a.config=a.set=MLe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function MLe(e){if(!e||typeof e!="object")throw Error(Ji+"Object expected");var t,r,n,a=["precision",1,$p,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(zp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(yf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(yf+r+": "+n);return this}var JI=aae(NLe);fi=new JI(1);const qr=JI;function ELe(e){return PLe(e)||OLe(e)||DLe(e)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DLe(e,t){if(e){if(typeof e=="string")return GP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(e,t)}}function OLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PLe(e){if(Array.isArray(e))return GP(e)}function GP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kLe=function(t){return t},iae={},sae=function(t){return t===iae},yG=function(t){return function r(){return arguments.length===0||arguments.length===1&&sae(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},RLe=function e(t,r){return t===1?r:yG(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==iae}).length;return s>=t?r.apply(void 0,a):e(t-s,yG(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=a.map(function(d){return sae(d)?l.shift():d});return r.apply(void 0,ELe(f).concat(l))}))})},D_=function(t){return RLe(t.length,t)},WP=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},LLe=D_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ILe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return kLe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},KP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oae=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function BLe(e){var t;return e===0?t=1:t=Math.floor(new qr(e).abs().log(10).toNumber())+1,t}function $Le(e,t,r){for(var n=new qr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var zLe=D_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),FLe=D_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ULe=D_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const O_={rangeStep:$Le,getDigitCount:BLe,interpolateNumber:zLe,uninterpolateNumber:FLe,uninterpolateTruncation:ULe};function YP(e){return qLe(e)||VLe(e)||lae(e)||HLe()}function HLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qLe(e){if(Array.isArray(e))return XP(e)}function Zg(e,t){return KLe(e)||WLe(e,t)||lae(e,t)||GLe()}function GLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(e,t){if(e){if(typeof e=="string")return XP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(e,t)}}function XP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WLe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function KLe(e){if(Array.isArray(e))return e}function uae(e){var t=Zg(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function cae(e,t,r){if(e.lte(0))return new qr(0);var n=O_.getDigitCount(e.toNumber()),a=new qr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new qr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new qr(Math.ceil(l))}function YLe(e,t,r){var n=1,a=new qr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new qr(10).pow(O_.getDigitCount(e)-1),a=new qr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new qr(Math.floor(e)))}else e===0?a=new qr(Math.floor((t-1)/2)):r||(a=new qr(Math.floor(e)));var s=Math.floor((t-1)/2),o=ILe(LLe(function(l){return a.add(new qr(l-s).mul(n)).toNumber()}),WP);return o(0,t)}function fae(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qr(0),tickMin:new qr(0),tickMax:new qr(0)};var i=cae(new qr(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new qr(0):(s=new qr(e).add(t).div(2),s=s.sub(new qr(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new qr(t).sub(s).div(i).toNumber()),u=o+l+1;return u>r?fae(e,t,r,n,a+1):(u<r&&(l=t>0?l+(r-u):l,o=t>0?o:o+(r-u)),{step:i,tickMin:s.sub(new qr(o).mul(i)),tickMax:s.add(new qr(l).mul(i))})}function XLe(e){var t=Zg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=uae([r,n]),l=Zg(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(YP(WP(0,a-1).map(function(){return 1/0}))):[].concat(YP(WP(0,a-1).map(function(){return-1/0})),[f]);return r>n?KP(d):d}if(u===f)return YLe(u,a,i);var p=fae(u,f,s,i),v=p.step,y=p.tickMin,x=p.tickMax,b=O_.rangeStep(y,x.add(new qr(.1).mul(v)),v);return r>n?KP(b):b}function ZLe(e,t){var r=Zg(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=uae([n,a]),o=Zg(s,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var f=Math.max(t,2),d=cae(new qr(u).sub(l).div(f-1),i,0),p=[].concat(YP(O_.rangeStep(new qr(l),new qr(u).sub(new qr(.99).mul(d)),d)),[u]);return n>a?KP(p):p}var QLe=oae(XLe),JLe=oae(ZLe),eIe="Invariant failed";function Of(e,t){throw new Error(eIe)}var tIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function rIe(e,t){return sIe(e)||iIe(e,t)||aIe(e,t)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aIe(e,t){if(e){if(typeof e=="string")return xG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xG(e,t)}}function xG(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function sIe(e){if(Array.isArray(e))return e}function oIe(e,t){if(e==null)return{};var r=lIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pae(n.key),n)}}function fIe(e,t,r){return t&&cIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dIe(e,t,r){return t=Lw(t),hIe(e,dae()?Reflect.construct(t,r||[],Lw(e).constructor):t.apply(e,r))}function hIe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pIe(e)}function pIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dae=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(e)}function mIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZP(e,t)}function ZP(e,t){return ZP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZP(e,t)}function hae(e,t,r){return t=pae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pae(e){var t=vIe(e,"string");return sp(t)=="symbol"?t:t+""}function vIe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var X0=(function(e){function t(){return uIe(this,t),dIe(this,t,arguments)}return mIe(t,e),fIe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,p=oIe(n,tIe),v=yr(p,!1);this.props.direction==="x"&&f.type!=="number"&&Of();var y=l.map(function(x){var b=u(x,o),w=b.x,_=b.y,T=b.value,M=b.errorVal;if(!M)return null;var N=[],C,j;if(Array.isArray(M)){var O=rIe(M,2);C=O[0],j=O[1]}else C=j=M;if(i==="vertical"){var P=f.scale,R=_+a,k=R+s,L=R-s,I=P(T-C),$=P(T+j);N.push({x1:$,y1:k,x2:$,y2:L}),N.push({x1:I,y1:R,x2:$,y2:R}),N.push({x1:I,y1:k,x2:I,y2:L})}else if(i==="horizontal"){var F=d.scale,z=w+a,V=z-s,q=z+s,W=F(T-C),Y=F(T+j);N.push({x1:V,y1:Y,x2:q,y2:Y}),N.push({x1:z,y1:W,x2:z,y2:Y}),N.push({x1:V,y1:W,x2:q,y2:W})}return ve.createElement(Nn,Rw({className:"recharts-errorBar",key:"bar-".concat(N.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},v),N.map(function(H){return ve.createElement("line",Rw({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return ve.createElement(Nn,{className:"recharts-errorBars"},y)}}])})(ve.Component);hae(X0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hae(X0,"displayName","ErrorBar");function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function bG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bG(Object(r),!0).forEach(function(n){gIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gIe(e,t,r){return t=yIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yIe(e){var t=xIe(e,"string");return Qg(t)=="symbol"?t:t+""}function xIe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mae=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=oi(r,Xs);if(!s)return null;var o=Xs.defaultProps,l=o!==void 0?zc(zc({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var p=d.item,v=d.props,y=v.sectors||v.data||[];return f.concat(y.map(function(x){return{type:s.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(f){var d=f.item,p=d.type.defaultProps,v=p!==void 0?zc(zc({},p),d.props):{},y=v.dataKey,x=v.name,b=v.legendType,w=v.hide;return{inactive:w,dataKey:y,type:l.iconType||b||"square",color:e3(d),value:x||y,payload:v}}),zc(zc(zc({},l),Xs.getWithHeight(s,a)),{},{payload:u,item:s})};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function wG(e){return _Ie(e)||SIe(e)||wIe(e)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wIe(e,t){if(e){if(typeof e=="string")return QP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(e,t)}}function SIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ie(e){if(Array.isArray(e))return QP(e)}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SG(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ph(e,t,r){return t=TIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TIe(e){var t=CIe(e,"string");return Jg(t)=="symbol"?t:t+""}function CIe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mi(e,t,r){return hr(e)||hr(t)?r:Un(t)?Ki(e,t,r):or(t)?t(e):r}function ng(e,t,r,n){var a=_Le(e,function(o){return mi(o,t)});if(r==="number"){var i=a.filter(function(o){return yt(o)||parseFloat(o)});return i.length?[E_(i),M_(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!hr(o)}):a;return s.map(function(o){return Un(o)||o instanceof Date?o:""})}var NIe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,u=0;u<o;u++){var f=u>0?a[u-1].coordinate:a[o-1].coordinate,d=a[u].coordinate,p=u>=o-1?a[0].coordinate:a[u+1].coordinate,v=void 0;if(ws(d-f)!==ws(p-d)){var y=[];if(ws(p-d)===ws(l[1]-l[0])){v=p;var x=d+l[1]-l[0];y[0]=Math.min(x,(x+f)/2),y[1]=Math.max(x,(x+f)/2)}else{v=f;var b=p+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(v+d)/2),Math.max(d,(v+d)/2)];if(t>w[0]&&t<=w[1]||t>=y[0]&&t<=y[1]){s=a[u].index;break}}else{var _=Math.min(f,p),T=Math.max(f,p);if(t>(_+d)/2&&t<=(T+d)/2){s=a[u].index;break}}}else for(var M=0;M<o;M++)if(M===0&&t<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<o-1&&t>(n[M].coordinate+n[M-1].coordinate)/2&&t<=(n[M].coordinate+n[M+1].coordinate)/2||M===o-1&&t>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},e3=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gn(gn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},AIe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,u=o.length;l<u;l++)for(var f=i[o[l]].stackGroups,d=Object.keys(f),p=0,v=d.length;p<v;p++){var y=f[d[p]],x=y.items,b=y.cateAxisId,w=x.filter(function(j){return nl(j.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,T=_!==void 0?gn(gn({},_),w[0].props):w[0].props,M=T.barSize,N=T[b];s[N]||(s[N]=[]);var C=hr(M)?r:M;s[N].push({item:w[0],stackList:w.slice(1),barSize:hr(C)?void 0:jf(C,n,0)})}}return s},MIe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var u=jf(r,a,0,!0),f,d=[];if(s[0].barSize===+s[0].barSize){var p=!1,v=a/l,y=s.reduce(function(M,N){return M+N.barSize||0},0);y+=(l-1)*u,y>=a&&(y-=(l-1)*u,u=0),y>=a&&v>0&&(p=!0,v*=.9,y=l*v);var x=(a-y)/2>>0,b={offset:x-u,size:0};f=s.reduce(function(M,N){var C={item:N.item,position:{offset:b.offset+b.size+u,size:p?v:N.barSize}},j=[].concat(wG(M),[C]);return b=j[j.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){j.push({item:O,position:b})}),j},d)}else{var w=jf(n,a,0,!0);a-2*w-(l-1)*u<=0&&(u=0);var _=(a-2*w-(l-1)*u)/l;_>1&&(_>>=0);var T=o===+o?Math.min(_,o):_;f=s.reduce(function(M,N,C){var j=[].concat(wG(M),[{item:N.item,position:{offset:w+(_+u)*C+(_-T)/2,size:T}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){j.push({item:O,position:j[j.length-1].position})}),j},d)}return f},EIe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),u=mae({children:i,legendWidth:l});if(u){var f=a||{},d=f.width,p=f.height,v=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&v!=="center"&&yt(t[v]))return gn(gn({},t),{},Ph({},v,t[v]+(d||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&y!=="middle"&&yt(t[y]))return gn(gn({},t),{},Ph({},y,t[y]+(p||0)))}return t},jIe=function(t,r,n){return hr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vae=function(t,r,n,a,i){var s=r.props.children,o=Yi(s,X0).filter(function(u){return jIe(a,i,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=mi(f,n);if(hr(d))return u;var p=Array.isArray(d)?[E_(d),M_(d)]:[d,d],v=l.reduce(function(y,x){var b=mi(f,x,0),w=p[0]-Math.abs(Array.isArray(b)?b[0]:b),_=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},DIe=function(t,r,n,a,i){var s=r.map(function(o){return vae(t,o,n,i,a)}).filter(function(o){return!hr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},gae=function(t,r,n,a,i){var s=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&vae(t,l,u,a)||ng(t,u,n,i)});if(n==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)o[u[f]]||(o[u[f]]=!0,l.push(u[f]));return l},[])},yae=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xae=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},el=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ws(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var p=i?i.indexOf(d):d;return{coordinate:a(p)+u,value:d,offset:u}});return f.filter(function(d){return!H0(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:a(d)+u,value:d,index:p,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,p){return{coordinate:a(d)+u,value:i?i[d]:d,index:p,offset:u}})},$j=new WeakMap,_b=function(t,r){if(typeof r!="function")return t;$j.has(t)||$j.set(t,new WeakMap);var n=$j.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},OIe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:qg(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:jw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rg(),realScaleType:"point"}:i==="category"?{scale:qg(),realScaleType:"band"}:{scale:jw(),realScaleType:"linear"};if(Ef(a)){var l="scale".concat(m_(a));return{scale:(oG[l]||rg)(),realScaleType:oG[l]?l:"point"}}return or(a)?{scale:a}:{scale:rg(),realScaleType:"point"}},_G=1e-4,PIe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-_G,s=Math.max(a[0],a[1])+_G,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},kIe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},RIe=function(t,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!yt(t[0])||t[0]<n)&&(i[0]=n),(!yt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},LIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=H0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},IIe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=H0(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},BIe={sign:LIe,expand:wje,none:Qh,silhouette:Sje,wiggle:_je,positive:IIe},$Ie=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=BIe[n],s=bje().keys(a).value(function(o,l){return+mi(o,l,0)}).order(MP).offset(i);return s(t)},zIe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},u=o.reduce(function(d,p){var v,y=(v=p.type)!==null&&v!==void 0&&v.defaultProps?gn(gn({},p.type.defaultProps),p.props):p.props,x=y.stackId,b=y.hide;if(b)return d;var w=y[n],_=d[w]||{hasStack:!1,stackGroups:{}};if(Un(x)){var T=_.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};T.items.push(p),_.hasStack=!0,_.stackGroups[x]=T}else _.stackGroups[V0("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return gn(gn({},d),{},Ph({},w,_))},l),f={};return Object.keys(u).reduce(function(d,p){var v=u[p];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,b){var w=v.stackGroups[b];return gn(gn({},x),{},Ph({},b,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:$Ie(t,w.items,i)}))},y)}return gn(gn({},d),{},Ph({},p,v))},f)},FIe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=QLe(u,i,o);return t.domain([E_(f),M_(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),p=JLe(d,i,o);return{niceTicks:p}}return null};function TG(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!hr(a[t.dataKey])){var o=cw(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=mi(a,hr(s)?t.dataKey:s);return hr(l)?null:t.scale(l)}var CG=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=mi(s,r.dataKey,r.domain[o]);return hr(l)?null:r.scale(l)-i/2+a},UIe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},HIe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gn(gn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Un(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},VIe=function(t){return t.reduce(function(r,n){return[E_(n.concat([r[0]]).filter(yt)),M_(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},bae=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(u,f){var d=VIe(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},NG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JP=function(t,r,n){if(or(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(yt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(NG.test(t[0])){var i=+NG.exec(t[0])[1];a[0]=r[0]-i}else or(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(yt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(AG.test(t[1])){var s=+AG.exec(t[1])[1];a[1]=r[1]+s}else or(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Iw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=MI(r,function(d){return d.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},MG=function(t,r,n){return!t||!t.length||j_(t,Ki(n,"type.defaultProps.domain"))?r:t},wae=function(t,r){var n=t.type.defaultProps?gn(gn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return gn(gn({},yr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:e3(t),value:mi(r,a),type:l,payload:r,chartType:u,hide:f})};function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function EG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EG(Object(r),!0).forEach(function(n){qIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qIe(e,t,r){return t=GIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GIe(e){var t=WIe(e,"string");return e0(t)=="symbol"?t:t+""}function WIe(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(e0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bw=Math.PI/180,KIe=function(t){return t*180/Math.PI},ra=function(t,r,n,a){return{x:t+Math.cos(-Bw*a)*n,y:r+Math.sin(-Bw*a)*n}},YIe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},XIe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=YIe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,u=Math.acos(l);return a>s&&(u=2*Math.PI-u),{radius:o,angle:KIe(u),angleInRadian:u}},ZIe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},QIe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},DG=function(t,r){var n=t.x,a=t.y,i=XIe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,u=r.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var f=ZIe(r),d=f.startAngle,p=f.endAngle,v=o,y;if(d<=p){for(;v>p;)v-=360;for(;v<d;)v+=360;y=v>=d&&v<=p}else{for(;v>d;)v-=360;for(;v<p;)v+=360;y=v>=p&&v<=d}return y?jG(jG({},r),{},{radius:s,angle:QIe(v,r)}):null};function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}var JIe=["offset"];function e3e(e){return a3e(e)||n3e(e)||r3e(e)||t3e()}function t3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3e(e,t){if(e){if(typeof e=="string")return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}function n3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a3e(e){if(Array.isArray(e))return ek(e)}function ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i3e(e,t){if(e==null)return{};var r=s3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OG(Object(r),!0).forEach(function(n){o3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3e(e,t,r){return t=l3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l3e(e){var t=u3e(e,"string");return t0(t)=="symbol"?t:t+""}function u3e(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(this,arguments)}var c3e=function(t){var r=t.value,n=t.formatter,a=hr(t.children)?r:t.children;return or(n)?n(a):a},f3e=function(t,r){var n=ws(r-t),a=Math.min(Math.abs(r-t),360);return n*a},d3e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,u=l.cx,f=l.cy,d=l.innerRadius,p=l.outerRadius,v=l.startAngle,y=l.endAngle,x=l.clockWise,b=(d+p)/2,w=f3e(v,y),_=w>=0?1:-1,T,M;a==="insideStart"?(T=v+_*s,M=x):a==="insideEnd"?(T=y-_*s,M=!x):a==="end"&&(T=y+_*s,M=x),M=w<=0?M:!M;var N=ra(u,f,b,T),C=ra(u,f,b,T+(M?1:-1)*359),j="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(M?0:1,`,
    `).concat(C.x,",").concat(C.y),O=hr(t.id)?V0("recharts-radial-line-"):t.id;return ve.createElement("text",r0({},n,{dominantBaseline:"central",className:Sr("recharts-radial-bar-label",o)}),ve.createElement("defs",null,ve.createElement("path",{id:O,d:j})),ve.createElement("textPath",{xlinkHref:"#".concat(O)},r))},h3e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,p=(f+d)/2;if(a==="outside"){var v=ra(s,o,u+n,p),y=v.x,x=v.y;return{x:y,y:x,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,w=ra(s,o,b,p),_=w.x,T=w.y;return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},p3e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,u=s.width,f=s.height,d=f>=0?1:-1,p=d*a,v=d>0?"end":"start",y=d>0?"start":"end",x=u>=0?1:-1,b=x*a,w=x>0?"end":"start",_=x>0?"start":"end";if(i==="top"){var T={x:o+u/2,y:l-d*a,textAnchor:"middle",verticalAnchor:v};return $n($n({},T),n?{height:Math.max(l-n.y,0),width:u}:{})}if(i==="bottom"){var M={x:o+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:y};return $n($n({},M),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(i==="left"){var N={x:o-b,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return $n($n({},N),n?{width:Math.max(N.x-n.x,0),height:f}:{})}if(i==="right"){var C={x:o+u+b,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return $n($n({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:f}:{})}var j=n?{width:u,height:f}:{};return i==="insideLeft"?$n({x:o+b,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},j):i==="insideRight"?$n({x:o+u-b,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},j):i==="insideTop"?$n({x:o+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},j):i==="insideBottom"?$n({x:o+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:v},j):i==="insideTopLeft"?$n({x:o+b,y:l+p,textAnchor:_,verticalAnchor:y},j):i==="insideTopRight"?$n({x:o+u-b,y:l+p,textAnchor:w,verticalAnchor:y},j):i==="insideBottomLeft"?$n({x:o+b,y:l+f-p,textAnchor:_,verticalAnchor:v},j):i==="insideBottomRight"?$n({x:o+u-b,y:l+f-p,textAnchor:w,verticalAnchor:v},j):Rp(i)&&(yt(i.x)||Jc(i.x))&&(yt(i.y)||Jc(i.y))?$n({x:o+jf(i.x,u),y:l+jf(i.y,f),textAnchor:"end",verticalAnchor:"end"},j):$n({x:o+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},m3e=function(t){return"cx"in t&&yt(t.cx)};function ha(e){var t=e.offset,r=t===void 0?5:t,n=i3e(e,JIe),a=$n({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,u=a.content,f=a.className,d=f===void 0?"":f,p=a.textBreakAll;if(!i||hr(o)&&hr(l)&&!A.isValidElement(u)&&!or(u))return null;if(A.isValidElement(u))return A.cloneElement(u,a);var v;if(or(u)){if(v=A.createElement(u,a),A.isValidElement(v))return v}else v=c3e(a);var y=m3e(i),x=yr(a,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return d3e(a,v,x);var b=y?h3e(a):p3e(a);return ve.createElement(_w,r0({className:Sr("recharts-label",d)},x,b,{breakAll:p}),v)}ha.displayName="Label";var Sae=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,p=t.y,v=t.top,y=t.left,x=t.width,b=t.height,w=t.clockWise,_=t.labelViewBox;if(_)return _;if(yt(x)&&yt(b)){if(yt(d)&&yt(p))return{x:d,y:p,width:x,height:b};if(yt(v)&&yt(y))return{x:v,y,width:x,height:b}}return yt(d)&&yt(p)?{x:d,y:p,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||l||o||0,clockWise:w}:t.viewBox?t.viewBox:{}},v3e=function(t,r){return t?t===!0?ve.createElement(ha,{key:"label-implicit",viewBox:r}):Un(t)?ve.createElement(ha,{key:"label-implicit",viewBox:r,value:t}):A.isValidElement(t)?t.type===ha?A.cloneElement(t,{key:"label-implicit",viewBox:r}):ve.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):or(t)?ve.createElement(ha,{key:"label-implicit",content:t,viewBox:r}):Rp(t)?ve.createElement(ha,r0({viewBox:r},t,{key:"label-implicit"})):null:null},g3e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Sae(t),s=Yi(a,ha).map(function(l,u){return A.cloneElement(l,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var o=v3e(t.label,r||i);return[o].concat(e3e(s))};ha.parseViewBox=Sae;ha.renderCallByParent=g3e;var zj,PG;function y3e(){if(PG)return zj;PG=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return zj=e,zj}var x3e=y3e();const b3e=Kr(x3e);function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}var w3e=["valueAccessor"],S3e=["data","dataKey","clockWise","id","textBreakAll"];function _3e(e){return A3e(e)||N3e(e)||C3e(e)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C3e(e,t){if(e){if(typeof e=="string")return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}function N3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A3e(e){if(Array.isArray(e))return tk(e)}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function kG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kG(Object(r),!0).forEach(function(n){M3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3e(e,t,r){return t=E3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3e(e){var t=j3e(e,"string");return n0(t)=="symbol"?t:t+""}function j3e(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e,t){if(e==null)return{};var r=D3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var O3e=function(t){return Array.isArray(t.value)?b3e(t.value):t.value};function sl(e){var t=e.valueAccessor,r=t===void 0?O3e:t,n=LG(e,w3e),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,u=LG(n,S3e);return!a||!a.length?null:ve.createElement(Nn,{className:"recharts-label-list"},a.map(function(f,d){var p=hr(i)?r(f,d):mi(f&&f.payload,i),v=hr(o)?{}:{id:"".concat(o,"-").concat(d)};return ve.createElement(ha,$w({},yr(f,!0),u,v,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:ha.parseViewBox(hr(s)?f:RG(RG({},f),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}sl.displayName="LabelList";function P3e(e,t){return e?e===!0?ve.createElement(sl,{key:"labelList-implicit",data:t}):ve.isValidElement(e)||or(e)?ve.createElement(sl,{key:"labelList-implicit",data:t,content:e}):Rp(e)?ve.createElement(sl,$w({data:t},e,{key:"labelList-implicit"})):null:null}function k3e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Yi(n,sl).map(function(s,o){return A.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=P3e(e.label,t);return[i].concat(_3e(a))}sl.renderCallByParent=k3e;function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rk.apply(this,arguments)}function IG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IG(Object(r),!0).forEach(function(n){R3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3e(e,t,r){return t=L3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3e(e){var t=I3e(e,"string");return a0(t)=="symbol"?t:t+""}function I3e(e,t){if(a0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(a0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B3e=function(t,r){var n=ws(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Tb=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,f=l*(o?1:-1)+a,d=Math.asin(l/f)/Bw,p=u?i:i+s*d,v=ra(r,n,f,p),y=ra(r,n,a,p),x=u?i-s*d:i,b=ra(r,n,f*Math.cos(d*Bw),x);return{center:v,circleTangency:y,lineTangency:b,theta:d}},_ae=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=B3e(s,o),u=s+l,f=ra(r,n,i,s),d=ra(r,n,i,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var v=ra(r,n,a,s),y=ra(r,n,a,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},$3e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=ws(f-u),p=Tb({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),v=p.circleTangency,y=p.lineTangency,x=p.theta,b=Tb({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:s,cornerIsExternal:l}),w=b.circleTangency,_=b.lineTangency,T=b.theta,M=l?Math.abs(u-f):Math.abs(u-f)-x-T;if(M<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_ae({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var C=Tb({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=C.circleTangency,O=C.lineTangency,P=C.theta,R=Tb({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=R.circleTangency,L=R.lineTangency,I=R.theta,$=l?Math.abs(u-f):Math.abs(u-f)-P-I;if($<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},z3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Tae=function(t){var r=BG(BG({},z3e),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,p=r.className;if(s<i||f===d)return null;var v=Sr("recharts-sector",p),y=s-i,x=jf(o,y,0,!0),b;return x>0&&Math.abs(f-d)<360?b=$3e({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):b=_ae({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:d}),ve.createElement("path",rk({},yr(r,!0),{className:v,d:b,role:"img"}))};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}function $G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$G(Object(r),!0).forEach(function(n){F3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$G(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F3e(e,t,r){return t=U3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3e(e){var t=H3e(e,"string");return i0(t)=="symbol"?t:t+""}function H3e(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FG={curveBasisClosed:uje,curveBasisOpen:cje,curveBasis:lje,curveBumpX:KEe,curveBumpY:YEe,curveLinearClosed:fje,curveLinear:g_,curveMonotoneX:dje,curveMonotoneY:hje,curveNatural:pje,curveStep:mje,curveStepAfter:gje,curveStepBefore:vje},Cb=function(t){return t.x===+t.x&&t.y===+t.y},cv=function(t){return t.x},fv=function(t){return t.y},V3e=function(t,r){if(or(t))return t;var n="curve".concat(m_(t));return(n==="curveMonotone"||n==="curveBump")&&r?FG["".concat(n).concat(r==="vertical"?"Y":"X")]:FG[n]||g_},q3e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,u=l===void 0?!1:l,f=V3e(n,o),d=u?i.filter(function(x){return Cb(x)}):i,p;if(Array.isArray(s)){var v=u?s.filter(function(x){return Cb(x)}):s,y=d.map(function(x,b){return zG(zG({},x),{},{base:v[b]})});return o==="vertical"?p=mb().y(fv).x1(cv).x0(function(x){return x.base.x}):p=mb().x(cv).y1(fv).y0(function(x){return x.base.y}),p.defined(Cb).curve(f),p(y)}return o==="vertical"&&yt(s)?p=mb().y(fv).x1(cv).x0(s):yt(s)?p=mb().x(cv).y1(fv).y0(s):p=Mre().x(cv).y(fv),p.defined(Cb).curve(f),p(d)},ak=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?q3e(t):a;return A.createElement("path",nk({},yr(t,!1),fw(t),{className:Sr("recharts-curve",r),d:s,ref:i}))},Fj={exports:{}},Uj,UG;function G3e(){if(UG)return Uj;UG=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uj=e,Uj}var Hj,HG;function W3e(){if(HG)return Hj;HG=1;var e=G3e();function t(){}function r(){}return r.resetWarningCache=t,Hj=function(){function n(s,o,l,u,f,d){if(d!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Hj}var VG;function K3e(){return VG||(VG=1,Fj.exports=W3e()()),Fj.exports}var Y3e=K3e();const Or=Kr(Y3e);var X3e=Object.getOwnPropertyNames,Z3e=Object.getOwnPropertySymbols,Q3e=Object.prototype.hasOwnProperty;function qG(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Nb(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function J3e(e){return e!=null?e[Symbol.toStringTag]:void 0}function GG(e){return X3e(e).concat(Z3e(e))}var e5e=Object.hasOwn||(function(e,t){return Q3e.call(e,t)});function Ff(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var t5e="__v",r5e="__o",n5e="_owner",WG=Object.getOwnPropertyDescriptor,KG=Object.keys;function a5e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function i5e(e,t){return Ff(e.getTime(),t.getTime())}function s5e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function o5e(e,t){return e===t}function YG(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var u=t.entries(),f=!1,d=0;(o=u.next())&&!o.done;){if(a[d]){d++;continue}var p=s.value,v=o.value;if(r.equals(p[0],v[0],l,d,e,t,r)&&r.equals(p[1],v[1],p[0],v[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;l++}return!0}var l5e=Ff;function u5e(e,t,r){var n=KG(e),a=n.length;if(KG(t).length!==a)return!1;for(;a-- >0;)if(!Cae(e,t,r,n[a]))return!1;return!0}function dv(e,t,r){var n=GG(e),a=n.length;if(GG(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!Cae(e,t,r,i)||(s=WG(e,i),o=WG(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function c5e(e,t){return Ff(e.valueOf(),t.valueOf())}function f5e(e,t){return e.source===t.source&&e.flags===t.flags}function XG(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),u=!1,f=0;(o=l.next())&&!o.done;){if(!a[f]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function d5e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function h5e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Cae(e,t,r,n){return(n===n5e||n===r5e||n===t5e)&&(e.$$typeof||t.$$typeof)?!0:e5e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var p5e="[object Arguments]",m5e="[object Boolean]",v5e="[object Date]",g5e="[object Error]",y5e="[object Map]",x5e="[object Number]",b5e="[object Object]",w5e="[object RegExp]",S5e="[object Set]",_5e="[object String]",T5e="[object URL]",C5e=Array.isArray,ZG=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QG=Object.assign,N5e=Object.prototype.toString.call.bind(Object.prototype.toString);function A5e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual,v=e.unknownTagComparators;return function(x,b,w){if(x===b)return!0;if(x==null||b==null)return!1;var _=typeof x;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?s(x,b,w):_==="function"?a(x,b,w):!1;var T=x.constructor;if(T!==b.constructor)return!1;if(T===Object)return o(x,b,w);if(C5e(x))return t(x,b,w);if(ZG!=null&&ZG(x))return d(x,b,w);if(T===Date)return r(x,b,w);if(T===RegExp)return u(x,b,w);if(T===Map)return i(x,b,w);if(T===Set)return f(x,b,w);var M=N5e(x);if(M===v5e)return r(x,b,w);if(M===w5e)return u(x,b,w);if(M===y5e)return i(x,b,w);if(M===S5e)return f(x,b,w);if(M===b5e)return typeof x.then!="function"&&typeof b.then!="function"&&o(x,b,w);if(M===T5e)return p(x,b,w);if(M===g5e)return n(x,b,w);if(M===p5e)return o(x,b,w);if(M===m5e||M===x5e||M===_5e)return l(x,b,w);if(v){var N=v[M];if(!N){var C=J3e(x);C&&(N=v[C])}if(N)return N(x,b,w)}return!1}}function M5e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?dv:a5e,areDatesEqual:i5e,areErrorsEqual:s5e,areFunctionsEqual:o5e,areMapsEqual:n?qG(YG,dv):YG,areNumbersEqual:l5e,areObjectsEqual:n?dv:u5e,arePrimitiveWrappersEqual:c5e,areRegExpsEqual:f5e,areSetsEqual:n?qG(XG,dv):XG,areTypedArraysEqual:n?dv:d5e,areUrlsEqual:h5e,unknownTagComparators:void 0};if(r&&(a=QG({},a,r(a))),t){var i=Nb(a.areArraysEqual),s=Nb(a.areMapsEqual),o=Nb(a.areObjectsEqual),l=Nb(a.areSetsEqual);a=QG({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function E5e(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function j5e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,u){var f=n(),d=f.cache,p=d===void 0?t?new WeakMap:void 0:d,v=f.meta;return r(l,u,{cache:p,equals:a,meta:v,strict:i})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,u){return r(l,u,s)}}var D5e=Zu();Zu({strict:!0});Zu({circular:!0});Zu({circular:!0,strict:!0});Zu({createInternalComparator:function(){return Ff}});Zu({strict:!0,createInternalComparator:function(){return Ff}});Zu({circular:!0,createInternalComparator:function(){return Ff}});Zu({circular:!0,createInternalComparator:function(){return Ff},strict:!0});function Zu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=M5e(e),l=A5e(o),u=n?n(l):E5e(l);return j5e({circular:r,comparator:l,createState:a,equals:u,strict:s})}function O5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function JG(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):O5e(a)};requestAnimationFrame(n)}function ik(e){"@babel/helpers - typeof";return ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ik(e)}function P5e(e){return I5e(e)||L5e(e)||R5e(e)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(e,t){if(e){if(typeof e=="string")return eW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eW(e,t)}}function eW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I5e(e){if(Array.isArray(e))return e}function B5e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=P5e(s),l=o[0],u=o.slice(1);if(typeof l=="number"){JG(a.bind(null,u),l);return}a(l),JG(a.bind(null,u));return}ik(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function tW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tW(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return t=$5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5e(e){var t=z5e(e,"string");return s0(t)==="symbol"?t:String(t)}function z5e(e,t){if(s0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},U5e=function(t){return t},H5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ag=function(t,r){return Object.keys(r).reduce(function(n,a){return rW(rW({},n),{},Nae({},a,t(a,r[a])))},{})},nW=function(t,r,n){return t.map(function(a){return"".concat(H5e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function V5e(e,t){return W5e(e)||G5e(e,t)||Aae(e,t)||q5e()}function q5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function W5e(e){if(Array.isArray(e))return e}function K5e(e){return Z5e(e)||X5e(e)||Aae(e)||Y5e()}function Y5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(e,t){if(e){if(typeof e=="string")return sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(e,t)}}function X5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z5e(e){if(Array.isArray(e))return sk(e)}function sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zw=1e-4,Mae=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Eae=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},aW=function(t,r){return function(n){var a=Mae(t,r);return Eae(a,n)}},Q5e=function(t,r){return function(n){var a=Mae(t,r),i=[].concat(K5e(a.map(function(s,o){return s*o}).slice(1)),[0]);return Eae(i,n)}},iW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=V5e(u,4);a=f[0],i=f[1],s=f[2],o=f[3]}}}var d=aW(a,s),p=aW(i,o),v=Q5e(a,s),y=function(w){return w>1?1:w<0?0:w},x=function(w){for(var _=w>1?1:w,T=_,M=0;M<8;++M){var N=d(T)-_,C=v(T);if(Math.abs(N-_)<zw||C<zw)return p(T);T=y(T-N/C)}return p(T)};return x.isStepper=!1,x},J5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(f,d,p){var v=-(f-d)*n,y=p*i,x=p+(v-y)*o/1e3,b=p*o/1e3+f;return Math.abs(b-d)<zw&&Math.abs(x)<zw?[d,0]:[b,x]};return l.isStepper=!0,l.dt=o,l},e4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iW(a);case"spring":return J5e();default:if(a.split("(")[0]==="cubic-bezier")return iW(a)}return typeof a=="function"?a:null};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function sW(e){return n4e(e)||r4e(e)||jae(e)||t4e()}function t4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n4e(e){if(Array.isArray(e))return lk(e)}function oW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oW(Object(r),!0).forEach(function(n){ok(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ok(e,t,r){return t=a4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4e(e){var t=i4e(e,"string");return o0(t)==="symbol"?t:String(t)}function i4e(e,t){if(o0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s4e(e,t){return u4e(e)||l4e(e,t)||jae(e,t)||o4e()}function o4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function u4e(e){if(Array.isArray(e))return e}var Fw=function(t,r,n){return t+(r-t)*n},uk=function(t){var r=t.from,n=t.to;return r!==n},c4e=function e(t,r,n){var a=ag(function(i,s){if(uk(s)){var o=t(s.from,s.to,s.velocity),l=s4e(o,2),u=l[0],f=l[1];return Jn(Jn({},s),{},{from:u,velocity:f})}return s},r);return n<1?ag(function(i,s){return uk(s)?Jn(Jn({},s),{},{velocity:Fw(s.velocity,a[i].velocity,n),from:Fw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const f4e=(function(e,t,r,n,a){var i=F5e(e,t),s=i.reduce(function(b,w){return Jn(Jn({},b),{},ok({},w,[e[w],t[w]]))},{}),o=i.reduce(function(b,w){return Jn(Jn({},b),{},ok({},w,{from:e[w],velocity:0,to:t[w]}))},{}),l=-1,u,f,d=function(){return null},p=function(){return ag(function(w,_){return _.from},o)},v=function(){return!Object.values(o).filter(uk).length},y=function(w){u||(u=w);var _=w-u,T=_/r.dt;o=c4e(r,o,T),a(Jn(Jn(Jn({},e),t),p())),u=w,v()||(l=requestAnimationFrame(d))},x=function(w){f||(f=w);var _=(w-f)/n,T=ag(function(N,C){return Fw.apply(void 0,sW(C).concat([r(_)]))},s);if(a(Jn(Jn(Jn({},e),t),T)),_<1)l=requestAnimationFrame(d);else{var M=ag(function(N,C){return Fw.apply(void 0,sW(C).concat([r(1)]))},s);a(Jn(Jn(Jn({},e),t),M))}};return d=r.isStepper?y:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var d4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function h4e(e,t){if(e==null)return{};var r=p4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p4e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Vj(e){return y4e(e)||g4e(e)||v4e(e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(e,t){if(e){if(typeof e=="string")return ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ck(e,t)}}function g4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y4e(e){if(Array.isArray(e))return ck(e)}function ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lW(Object(r),!0).forEach(function(n){Dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dv(e,t,r){return t=Dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dae(n.key),n)}}function w4e(e,t,r){return t&&b4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e){var t=S4e(e,"string");return op(t)==="symbol"?t:String(t)}function S4e(e,t){if(op(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(e,t)}function T4e(e){var t=C4e();return function(){var n=Uw(e),a;if(t){var i=Uw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return dk(this,a)}}function dk(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hk(e)}function hk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(e)}var vl=(function(e){_4e(r,e);var t=T4e(r);function r(n,a){var i;x4e(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,u=s.from,f=s.to,d=s.steps,p=s.children,v=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(hk(i)),i.changeStyle=i.changeStyle.bind(hk(i)),!o||v<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),dk(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof p=="function")return i.state={style:u},dk(i);i.state={style:l?Dv({},l,u):u}}else i.state={style:{}};return i}return w4e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,p=this.state.style;if(o){if(!s){var v={style:l?Dv({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(v);return}if(!(D5e(a.to,f)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?d:a.to;if(this.state&&p){var b={style:l?Dv({},l,x):x};(l&&p[l]!==x||!l&&p!==x)&&this.setState(b)}this.runAnimation(us(us({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,u=a.easing,f=a.begin,d=a.onAnimationEnd,p=a.onAnimationStart,v=f4e(s,o,e4e(u),l,this.changeStyle),y=function(){i.stopJSAnimation=v()};this.manager.start([p,f,y,l,d])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,u=s[0],f=u.style,d=u.duration,p=d===void 0?0:d,v=function(x,b,w){if(w===0)return x;var _=b.duration,T=b.easing,M=T===void 0?"ease":T,N=b.style,C=b.properties,j=b.onAnimationEnd,O=w>0?s[w-1]:b,P=C||Object.keys(N);if(typeof M=="function"||M==="spring")return[].concat(Vj(x),[i.runJSAnimation.bind(i,{from:O.style,to:N,duration:_,easing:M}),_]);var R=nW(P,_,M),k=us(us(us({},O.style),N),{},{transition:R});return[].concat(Vj(x),[k,_,j]).filter(U5e)};return this.manager.start([l].concat(Vj(s.reduce(v,[f,Math.max(p,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=B5e());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,u=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,p=a.steps,v=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var x=o?Dv({},o,l):l,b=nW(Object.keys(x),s,u);y.start([f,i,us(us({},x),{},{transition:b}),s,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=h4e(a,d4e),u=A.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!o||u===0||s<=0)return i;var d=function(v){var y=v.props,x=y.style,b=x===void 0?{}:x,w=y.className,_=A.cloneElement(v,us(us({},l),{},{style:us(us({},b),f),className:w}));return _};return u===1?d(A.Children.only(i)):ve.createElement("div",null,A.Children.map(i,function(p){return d(p)}))}}]),r})(A.PureComponent);vl.displayName="Animate";vl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vl.propTypes={from:Or.oneOfType([Or.object,Or.string]),to:Or.oneOfType([Or.object,Or.string]),attributeName:Or.string,duration:Or.number,begin:Or.number,easing:Or.oneOfType([Or.string,Or.func]),steps:Or.arrayOf(Or.shape({duration:Or.number.isRequired,style:Or.object.isRequired,easing:Or.oneOfType([Or.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Or.func]),properties:Or.arrayOf("string"),onAnimationEnd:Or.func})),children:Or.oneOfType([Or.node,Or.func]),isActive:Or.bool,canBegin:Or.bool,onAnimationEnd:Or.func,shouldReAnimate:Or.bool,onAnimationStart:Or.func,onAnimationReStart:Or.func};function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function N4e(e,t){return j4e(e)||E4e(e,t)||M4e(e,t)||A4e()}function A4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4e(e,t){if(e){if(typeof e=="string")return uW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uW(e,t)}}function uW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function j4e(e){if(Array.isArray(e))return e}function cW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cW(Object(r),!0).forEach(function(n){D4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D4e(e,t,r){return t=O4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4e(e){var t=P4e(e,"string");return l0(t)=="symbol"?t:t+""}function P4e(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dW=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,v=4;p<v;p++)d[p]=i[p]>s?s:i[p];f="M".concat(t,",").concat(r+o*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+l*d[0],",").concat(r)),f+="L ".concat(t+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*d[1])),f+="L ".concat(t+n,",").concat(r+a-o*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-l*d[2],",").concat(r+a)),f+="L ".concat(t+l*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-o*d[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);f="M ".concat(t,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+l*y,",").concat(r,`
            L `).concat(t+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*y,`
            L `).concat(t+n,",").concat(r+a-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-l*y,",").concat(r+a,`
            L `).concat(t+l*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+a-o*y," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},k4e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(i,i+o),f=Math.max(i,i+o),d=Math.min(s,s+l),p=Math.max(s,s+l);return n>=u&&n<=f&&a>=d&&a<=p}return!1},R4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t3=function(t){var r=fW(fW({},R4e),t),n=A.useRef(),a=A.useState(-1),i=N4e(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&o(M)}catch{}},[]);var l=r.x,u=r.y,f=r.width,d=r.height,p=r.radius,v=r.className,y=r.animationEasing,x=r.animationDuration,b=r.animationBegin,w=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var T=Sr("recharts-rectangle",v);return _?ve.createElement(vl,{canBegin:s>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:x,animationEasing:y,isActive:_},function(M){var N=M.width,C=M.height,j=M.x,O=M.y;return ve.createElement(vl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:w,easing:y},ve.createElement("path",Hw({},yr(r,!0),{className:T,d:dW(j,O,N,C,p),ref:n})))}):ve.createElement("path",Hw({},yr(r,!0),{className:T,d:dW(l,u,f,d,p)}))};function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}var r3=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Sr("recharts-dot",i);return r===+r&&n===+n&&a===+a?A.createElement("circle",pk({},yr(t,!1),fw(t),{className:s,cx:r,cy:n,r:a})):null};function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}var L4e=["x","y","top","left","width","height","className"];function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mk.apply(this,arguments)}function hW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hW(Object(r),!0).forEach(function(n){B4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B4e(e,t,r){return t=$4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $4e(e){var t=z4e(e,"string");return u0(t)=="symbol"?t:t+""}function z4e(e,t){if(u0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(u0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4e(e,t){if(e==null)return{};var r=U4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H4e=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},V4e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,u=l===void 0?0:l,f=t.width,d=f===void 0?0:f,p=t.height,v=p===void 0?0:p,y=t.className,x=F4e(t,L4e),b=I4e({x:n,y:i,top:o,left:u,width:d,height:v},x);return!yt(n)||!yt(i)||!yt(d)||!yt(v)||!yt(o)||!yt(u)?null:ve.createElement("path",mk({},yr(b,!0),{className:Sr("recharts-cross",y),d:H4e(n,i,d,v,o,u)}))},qj,pW;function q4e(){if(pW)return qj;pW=1;var e=Zre(),t=e(Object.getPrototypeOf,Object);return qj=t,qj}var Gj,mW;function G4e(){if(mW)return Gj;mW=1;var e=xl(),t=q4e(),r=bl(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var d=t(f);if(d===null)return!0;var p=o.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return Gj=u,Gj}var W4e=G4e();const K4e=Kr(W4e);var Wj,vW;function Y4e(){if(vW)return Wj;vW=1;var e=xl(),t=bl(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Wj=n,Wj}var X4e=Y4e();const Z4e=Kr(X4e);function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}function Q4e(e,t){return rBe(e)||tBe(e,t)||eBe(e,t)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(e,t){if(e){if(typeof e=="string")return gW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gW(e,t)}}function gW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function rBe(e){if(Array.isArray(e))return e}function yW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yW(Object(r),!0).forEach(function(n){nBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t,r){return t=aBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aBe(e){var t=iBe(e,"string");return c0(t)=="symbol"?t:t+""}function iBe(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(c0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},sBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oBe=function(t){var r=xW(xW({},sBe),t),n=A.useRef(),a=A.useState(-1),i=Q4e(a,2),s=i[0],o=i[1];A.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&o(T)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,p=r.height,v=r.className,y=r.animationEasing,x=r.animationDuration,b=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||p!==+p||f===0&&d===0||p===0)return null;var _=Sr("recharts-trapezoid",v);return w?ve.createElement(vl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:p,x:l,y:u},duration:x,animationEasing:y,isActive:w},function(T){var M=T.upperWidth,N=T.lowerWidth,C=T.height,j=T.x,O=T.y;return ve.createElement(vl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:y},ve.createElement("path",Vw({},yr(r,!0),{className:_,d:bW(j,O,M,N,C),ref:n})))}):ve.createElement("g",null,ve.createElement("path",Vw({},yr(r,!0),{className:_,d:bW(l,u,f,d,p)})))},lBe=["option","shapeType","propTransformer","activeClassName","isActive"];function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function uBe(e,t){if(e==null)return{};var r=cBe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wW(Object(r),!0).forEach(function(n){fBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fBe(e,t,r){return t=dBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dBe(e){var t=hBe(e,"string");return f0(t)=="symbol"?t:t+""}function hBe(e,t){if(f0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pBe(e,t){return qw(qw({},t),e)}function mBe(e,t){return e==="symbols"}function SW(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ve.createElement(t3,r);case"trapezoid":return ve.createElement(oBe,r);case"sector":return ve.createElement(Tae,r);case"symbols":if(mBe(t))return ve.createElement(bI,r);break;default:return null}}function vBe(e){return A.isValidElement(e)?e.props:e}function gBe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?pBe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=uBe(e,lBe),u;if(A.isValidElement(t))u=A.cloneElement(t,qw(qw({},l),vBe(t)));else if(or(t))u=t(l);else if(K4e(t)&&!Z4e(t)){var f=a(t,l);u=ve.createElement(SW,{shapeType:r,elementProps:f})}else{var d=l;u=ve.createElement(SW,{shapeType:r,elementProps:d})}return o?ve.createElement(Nn,{className:s},u):u}function P_(e,t){return t!=null&&"trapezoids"in e.props}function k_(e,t){return t!=null&&"sectors"in e.props}function d0(e,t){return t!=null&&"points"in e.props}function yBe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function xBe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function bBe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function wBe(e,t){var r;return P_(e,t)?r=yBe:k_(e,t)?r=xBe:d0(e,t)&&(r=bBe),r}function SBe(e,t){var r;return P_(e,t)?r="trapezoids":k_(e,t)?r="sectors":d0(e,t)&&(r="points"),r}function _Be(e,t){if(P_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(k_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return d0(e,t)?t.payload:{}}function TBe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=SBe(r,t),i=_Be(r,t),s=n.filter(function(l,u){var f=j_(i,l),d=r.props[a].filter(function(y){var x=wBe(r,t);return x(y,t)}),p=r.props[a].indexOf(d[d.length-1]),v=u===p;return f&&v}),o=n.indexOf(s[s.length-1]);return o}var Kj,_W;function CBe(){if(_W)return Kj;_W=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var o=-1,l=t(e((a-n)/(i||1)),0),u=Array(l);l--;)u[s?l:++o]=n,n+=i;return u}return Kj=r,Kj}var Yj,TW;function Oae(){if(TW)return Yj;TW=1;var e=hne(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return Yj=n,Yj}var Xj,CW;function NBe(){if(CW)return Xj;CW=1;var e=CBe(),t=w_(),r=Oae();function n(a){return function(i,s,o){return o&&typeof o!="number"&&t(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),e(i,s,o,a)}}return Xj=n,Xj}var Zj,NW;function ABe(){if(NW)return Zj;NW=1;var e=NBe(),t=e();return Zj=t,Zj}var MBe=ABe();const Gw=Kr(MBe);function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function AW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AW(Object(r),!0).forEach(function(n){Pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pae(e,t,r){return t=EBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EBe(e){var t=jBe(e,"string");return h0(t)=="symbol"?t:t+""}function jBe(e,t){if(h0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DBe=["Webkit","Moz","O","ms"],OBe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=DBe.reduce(function(i,s){return MW(MW({},i),{},Pae({},s+n,r))},{});return a[t]=r,a};function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function EW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EW(Object(r),!0).forEach(function(n){si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rae(n.key),n)}}function kBe(e,t,r){return t&&jW(e.prototype,t),r&&jW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RBe(e,t,r){return t=Kw(t),LBe(e,kae()?Reflect.construct(t,r||[],Kw(e).constructor):t.apply(e,r))}function LBe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IBe(e)}function IBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kae=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(e)}function BBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vk(e,t)}function vk(e,t){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(e,t)}function si(e,t,r){return t=Rae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=$Be(e,"string");return lp(t)=="symbol"?t:t+""}function $Be(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zBe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=rg().domain(Gw(0,l)).range([i,i+s-o]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},DW=function(t){return t.changedTouches&&!!t.changedTouches.length},up=(function(e){function t(r){var n;return PBe(this,t),n=RBe(this,t,[r]),si(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),si(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),si(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),si(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),si(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),si(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),si(n,"handleSlideDragStart",function(a){var i=DW(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BBe(t,e),kBe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,f=u.length-1,d=Math.min(a,i),p=Math.max(a,i),v=t.getIndexInRange(s,d),y=t.getIndexInRange(s,p);return{startIndex:v-v%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=mi(i[n],o,n);return or(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,p=l.startIndex,v=l.endIndex,y=l.onChange,x=n.pageX-i;x>0?x=Math.min(x,u+f-d-o,u+f-d-s):x<0&&(x=Math.max(x,u-s,u-o));var b=this.getIndex({startX:s+x,endX:o+x});(b.startIndex!==p||b.endIndex!==v)&&y&&y(b),this.setState({startX:s+x,endX:o+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=DW(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,u=this.state[s],f=this.props,d=f.x,p=f.width,v=f.travellerWidth,y=f.onChange,x=f.gap,b=f.data,w={startX:this.state.startX,endX:this.state.endX},_=n.pageX-i;_>0?_=Math.min(_,d+p-v-u):_<0&&(_=Math.max(_,d-u)),w[s]=u+_;var T=this.getIndex(w),M=T.startIndex,N=T.endIndex,C=function(){var O=b.length-1;return s==="startX"&&(o>l?M%x===0:N%x===0)||o<l&&N===O||s==="endX"&&(o>l?N%x===0:M%x===0)||o>l&&N===O};this.setState(si(si({},s,u+_),"brushMoveStartX",n.pageX),function(){y&&C()&&y(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,u=s.endX,f=this.state[a],d=o.indexOf(f);if(d!==-1){var p=d+n;if(!(p===-1||p>=o.length)){var v=o[p];a==="startX"&&v>=u||a==="endX"&&v<=l||this.setState(si({},a,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,u=n.stroke;return ve.createElement("rect",{stroke:u,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,u=n.children,f=n.padding,d=A.Children.only(u);return d?ve.cloneElement(d,{x:a,y:i,width:s,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,p=l.traveller,v=l.ariaLabel,y=l.data,x=l.startIndex,b=l.endIndex,w=Math.max(n,this.props.x),_=Qj(Qj({},yr(this.props,!1)),{},{x:w,y:u,width:f,height:d}),T=v||"Min value: ".concat((i=y[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=y[b])===null||s===void 0?void 0:s.name);return ve.createElement(Nn,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),o.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,_))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:d,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,p=f.endX,v=5,y={pointerEvents:"none",fill:u};return ve.createElement(Nn,{className:"recharts-brush-texts"},ve.createElement(_w,Ww({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-v,y:s+o/2},y),this.getTextOfTick(a)),ve.createElement(_w,Ww({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+v,y:s+o/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,u=n.width,f=n.height,d=n.alwaysShowText,p=this.state,v=p.startX,y=p.endX,x=p.isTextActive,b=p.isSlideMoving,w=p.isTravellerMoving,_=p.isTravellerFocused;if(!a||!a.length||!yt(o)||!yt(l)||!yt(u)||!yt(f)||u<=0||f<=0)return null;var T=Sr("recharts-brush",i),M=ve.Children.count(s)===1,N=OBe("userSelect","none");return ve.createElement(Nn,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(x||b||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,u=Math.floor(i+o/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),ve.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ve.isValidElement(n)?i=ve.cloneElement(n,a):or(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Qj({prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s},i&&i.length?zBe({data:i,width:s,x:o,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var p=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])})(A.PureComponent);si(up,"displayName","Brush");si(up,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jj,OW;function FBe(){if(OW)return Jj;OW=1;var e=AI();function t(r,n){var a;return e(r,function(i,s,o){return a=n(i,s,o),!a}),!!a}return Jj=t,Jj}var eD,PW;function UBe(){if(PW)return eD;PW=1;var e=Vre(),t=Ku(),r=FBe(),n=Ya(),a=w_();function i(s,o,l){var u=n(s)?e:r;return l&&a(s,o,l)&&(o=void 0),u(s,t(o,3))}return eD=i,eD}var HBe=UBe();const VBe=Kr(HBe);var io=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},tD,kW;function qBe(){if(kW)return tD;kW=1;var e=lne();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return tD=t,tD}var rD,RW;function GBe(){if(RW)return rD;RW=1;var e=qBe(),t=sne(),r=Ku();function n(a,i){var s={};return i=r(i,3),t(a,function(o,l,u){e(s,l,i(o,l,u))}),s}return rD=n,rD}var WBe=GBe();const KBe=Kr(WBe);var nD,LW;function YBe(){if(LW)return nD;LW=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return nD=e,nD}var aD,IW;function XBe(){if(IW)return aD;IW=1;var e=AI();function t(r,n){var a=!0;return e(r,function(i,s,o){return a=!!n(i,s,o),a}),a}return aD=t,aD}var iD,BW;function ZBe(){if(BW)return iD;BW=1;var e=YBe(),t=XBe(),r=Ku(),n=Ya(),a=w_();function i(s,o,l){var u=n(s)?e:t;return l&&a(s,o,l)&&(o=void 0),u(s,r(o,3))}return iD=i,iD}var QBe=ZBe();const Lae=Kr(QBe);var JBe=["x","y"];function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gk.apply(this,arguments)}function $W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$W(Object(r),!0).forEach(function(n){e6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e6e(e,t,r){return t=t6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6e(e){var t=r6e(e,"string");return p0(t)=="symbol"?t:t+""}function r6e(e,t){if(p0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6e(e,t){if(e==null)return{};var r=a6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i6e(e,t){var r=e.x,n=e.y,a=n6e(e,JBe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),p=parseInt(d,10);return hv(hv(hv(hv(hv({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function zW(e){return ve.createElement(gBe,gk({shapeType:"rectangle",propTransformer:i6e,activeClassName:"recharts-active-bar"},e))}var s6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=yt(n)||mEe(n);return i?t(n,a):(i||Of(),r)}},o6e=["value","background"],Iae;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function l6e(e,t){if(e==null)return{};var r=u6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function FW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FW(Object(r),!0).forEach(function(n){Su(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$ae(n.key),n)}}function f6e(e,t,r){return t&&UW(e.prototype,t),r&&UW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d6e(e,t,r){return t=Xw(t),h6e(e,Bae()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function h6e(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p6e(e)}function p6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bae=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(e)}function m6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function Su(e,t,r){return t=$ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ae(e){var t=v6e(e,"string");return cp(t)=="symbol"?t:t+""}function v6e(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uf=(function(e){function t(){var r;c6e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d6e(this,t,[].concat(a)),Su(r,"state",{isAnimationFinished:!1}),Su(r,"id",V0("recharts-bar-")),Su(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Su(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return m6e(t,e),f6e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,u=i.activeBar,f=yr(this.props,!1);return n&&n.map(function(d,p){var v=p===l,y=v?u:s,x=kn(kn(kn({},f),d),{},{isActive:v,option:y,index:p,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ve.createElement(Nn,Yw({className:"recharts-bar-rectangle"},dw(a.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),ve.createElement(zW,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,f=a.animationEasing,d=a.animationId,p=this.state.prevData;return ve.createElement(vl,{begin:l,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,x=i.map(function(b,w){var _=p&&p[w];if(_){var T=xs(_.x,b.x),M=xs(_.y,b.y),N=xs(_.width,b.width),C=xs(_.height,b.height);return kn(kn({},b),{},{x:T(y),y:M(y),width:N(y),height:C(y)})}if(s==="horizontal"){var j=xs(0,b.height),O=j(y);return kn(kn({},b),{},{y:b.y+b.height-O,height:O})}var P=xs(0,b.width),R=P(y);return kn(kn({},b),{},{width:R})});return ve.createElement(Nn,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!j_(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=yr(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,p=l6e(u,o6e);if(!d)return null;var v=kn(kn(kn(kn(kn({},p),{},{fill:"#eee"},d),l),dw(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return ve.createElement(zW,Yw({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,u=i.layout,f=i.children,d=Yi(f,X0);if(!d)return null;var p=u==="vertical"?s[0].height/2:s[0].width/2,v=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:mi(b,w)}},y={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Nn,y,d.map(function(x){return ve.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,u=n.left,f=n.top,d=n.width,p=n.height,v=n.isAnimationActive,y=n.background,x=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,w=Sr("recharts-bar",s),_=o&&o.allowDataOverflow,T=l&&l.allowDataOverflow,M=_||T,N=hr(x)?this.id:x;return ve.createElement(Nn,{className:w},_||T?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(N)},ve.createElement("rect",{x:_?u:u-d/2,y:T?f:f-p/2,width:_?d:d*2,height:T?p:p*2}))):null,ve.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,N),(!v||b)&&sl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(A.PureComponent);Iae=Uf;Su(Uf,"displayName","Bar");Su(Uf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ip.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Su(Uf,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,p=e.offset,v=kIe(n,r);if(!v)return null;var y=t.layout,x=r.type.defaultProps,b=x!==void 0?kn(kn({},x),r.props):r.props,w=b.dataKey,_=b.children,T=b.minPointSize,M=y==="horizontal"?s:i,N=u?M.scale.domain():null,C=UIe({numericAxis:M}),j=Yi(_,mne),O=d.map(function(P,R){var k,L,I,$,F,z;u?k=RIe(u[f+R],N):(k=mi(P,w),Array.isArray(k)||(k=[C,k]));var V=s6e(T,Iae.defaultProps.minPointSize)(k[1],R);if(y==="horizontal"){var q,W=[s.scale(k[0]),s.scale(k[1])],Y=W[0],H=W[1];L=CG({axis:i,ticks:o,bandSize:a,offset:v.offset,entry:P,index:R}),I=(q=H??Y)!==null&&q!==void 0?q:void 0,$=v.size;var U=Y-H;if(F=Number.isNaN(U)?0:U,z={x:L,y:s.y,width:$,height:s.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var K=ws(F||V)*(Math.abs(V)-Math.abs(F));I-=K,F+=K}}else{var ee=[i.scale(k[0]),i.scale(k[1])],ae=ee[0],xe=ee[1];if(L=ae,I=CG({axis:s,ticks:l,bandSize:a,offset:v.offset,entry:P,index:R}),$=xe-ae,F=v.size,z={x:i.x,y:I,width:i.width,height:F},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var ke=ws($||V)*(Math.abs(V)-Math.abs($));$+=ke}}return kn(kn(kn({},P),{},{x:L,y:I,width:$,height:F,value:u?k:k[1],payload:P,background:z},j&&j[R]&&j[R].props),{},{tooltipPayload:[wae(r,P)],tooltipPosition:{x:L+$/2,y:I+F/2}})});return kn({data:O,layout:y},p)});function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function g6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zae(n.key),n)}}function y6e(e,t,r){return t&&HW(e.prototype,t),r&&HW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VW(Object(r),!0).forEach(function(n){R_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R_(e,t,r){return t=zae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=x6e(e,"string");return m0(t)=="symbol"?t:t+""}function x6e(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fae=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},p=!!oi(u,Uf);return f.reduce(function(v,y){var x=r[y],b=x.orientation,w=x.domain,_=x.padding,T=_===void 0?{}:_,M=x.mirror,N=x.reversed,C="".concat(b).concat(M?"Mirror":""),j,O,P,R,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=w[1]-w[0],I=1/0,$=x.categoricalDomain.sort(yEe);if($.forEach(function(ee,ae){ae>0&&(I=Math.min((ee||0)-($[ae-1]||0),I))}),Number.isFinite(I)){var F=I/L,z=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(j=F*z/2),x.padding==="no-gap"){var V=jf(t.barCategoryGap,F*z),q=F*z/2;j=q-V-(q-V)/z*V}}}a==="xAxis"?O=[n.left+(T.left||0)+(j||0),n.left+n.width-(T.right||0)-(j||0)]:a==="yAxis"?O=l==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(j||0),n.top+n.height-(T.bottom||0)-(j||0)]:O=x.range,N&&(O=[O[1],O[0]]);var W=OIe(x,i,p),Y=W.scale,H=W.realScaleType;Y.domain(w).range(O),PIe(Y);var U=FIe(Y,gs(gs({},x),{},{realScaleType:H}));a==="xAxis"?(k=b==="top"&&!M||b==="bottom"&&M,P=n.left,R=d[C]-k*x.height):a==="yAxis"&&(k=b==="left"&&!M||b==="right"&&M,P=d[C]-k*x.width,R=n.top);var K=gs(gs(gs({},x),U),{},{realScaleType:H,x:P,y:R,scale:Y,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return K.bandSize=Iw(K,U),!x.hide&&a==="xAxis"?d[C]+=(k?-1:1)*K.height:x.hide||(d[C]+=(k?-1:1)*K.width),gs(gs({},v),{},R_({},y,K))},{})},Uae=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},b6e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Uae({x:r,y:n},{x:a,y:i})},Hae=(function(){function e(t){g6e(this,e),this.scale=t}return y6e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();R_(Hae,"EPS",1e-4);var n3=function(t){var r=Object.keys(t).reduce(function(n,a){return gs(gs({},n),{},R_({},a,Hae.create(t[a])))},{});return gs(gs({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return KBe(a,function(l,u){return r[u].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return Lae(a,function(i,s){return r[s].isInRange(i)})}})};function w6e(e){return(e%180+180)%180}var S6e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=w6e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},sD,qW;function _6e(){if(qW)return sD;qW=1;var e=Ku(),t=q0(),r=x_();function n(a){return function(i,s,o){var l=Object(i);if(!t(i)){var u=e(s,3);i=r(i),s=function(d){return u(l[d],d,l)}}var f=a(i,s,o);return f>-1?l[u?i[f]:f]:void 0}}return sD=n,sD}var oD,GW;function T6e(){if(GW)return oD;GW=1;var e=Oae();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return oD=t,oD}var lD,WW;function C6e(){if(WW)return lD;WW=1;var e=tne(),t=Ku(),r=T6e(),n=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),e(i,t(s,3),u)}return lD=a,lD}var uD,KW;function N6e(){if(KW)return uD;KW=1;var e=_6e(),t=C6e(),r=e(t);return uD=r,uD}var A6e=N6e();const M6e=Kr(A6e);var E6e=gre();const j6e=Kr(E6e);var D6e=j6e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),a3=A.createContext(void 0),i3=A.createContext(void 0),Vae=A.createContext(void 0),qae=A.createContext({}),Gae=A.createContext(void 0),Wae=A.createContext(0),Kae=A.createContext(0),YW=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,u=t.height,f=D6e(i);return ve.createElement(a3.Provider,{value:n},ve.createElement(i3.Provider,{value:a},ve.createElement(qae.Provider,{value:i},ve.createElement(Vae.Provider,{value:f},ve.createElement(Gae.Provider,{value:s},ve.createElement(Wae.Provider,{value:u},ve.createElement(Kae.Provider,{value:l},o)))))))},O6e=function(){return A.useContext(Gae)},Yae=function(t){var r=A.useContext(a3);r==null&&Of();var n=r[t];return n==null&&Of(),n},P6e=function(){var t=A.useContext(a3);return du(t)},k6e=function(){var t=A.useContext(i3),r=M6e(t,function(n){return Lae(n.domain,Number.isFinite)});return r||du(t)},Xae=function(t){var r=A.useContext(i3);r==null&&Of();var n=r[t];return n==null&&Of(),n},R6e=function(){var t=A.useContext(Vae);return t},L6e=function(){return A.useContext(qae)},s3=function(){return A.useContext(Kae)},o3=function(){return A.useContext(Wae)};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function I6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qae(n.key),n)}}function $6e(e,t,r){return t&&B6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z6e(e,t,r){return t=Zw(t),F6e(e,Zae()?Reflect.construct(t,r||[],Zw(e).constructor):t.apply(e,r))}function F6e(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U6e(e)}function U6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zae=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(e)}function H6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function XW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XW(Object(r),!0).forEach(function(n){l3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=V6e(e,"string");return fp(t)=="symbol"?t:t+""}function V6e(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q6e(e,t){return Y6e(e)||K6e(e,t)||W6e(e,t)||G6e()}function G6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W6e(e,t){if(e){if(typeof e=="string")return QW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QW(e,t)}}function QW(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Y6e(e){if(Array.isArray(e))return e}function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}var X6e=function(t,r){var n;return ve.isValidElement(t)?n=ve.cloneElement(t,r):or(t)?n=t(r):n=ve.createElement("line",bk({},r,{className:"recharts-reference-line-line"})),n},Z6e=function(t,r,n,a,i,s,o,l,u){var f=i.x,d=i.y,p=i.width,v=i.height;if(n){var y=u.y,x=t.y.apply(y,{position:s});if(io(u,"discard")&&!t.y.isInRange(x))return null;var b=[{x:f+p,y:x},{x:f,y:x}];return l==="left"?b.reverse():b}if(r){var w=u.x,_=t.x.apply(w,{position:s});if(io(u,"discard")&&!t.x.isInRange(_))return null;var T=[{x:_,y:d+v},{x:_,y:d}];return o==="top"?T.reverse():T}if(a){var M=u.segment,N=M.map(function(C){return t.apply(C,{position:s})});return io(u,"discard")&&VBe(N,function(C){return!t.isInRange(C)})?null:N}return null};function Q6e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,u=O6e(),f=Yae(a),d=Xae(i),p=R6e();if(!u||!p)return null;al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=n3({x:f.scale,y:d.scale}),y=Un(t),x=Un(r),b=n&&n.length===2,w=Z6e(v,y,x,b,p,e.position,f.orientation,d.orientation,e);if(!w)return null;var _=q6e(w,2),T=_[0],M=T.x,N=T.y,C=_[1],j=C.x,O=C.y,P=io(e,"hidden")?"url(#".concat(u,")"):void 0,R=ZW(ZW({clipPath:P},yr(e,!0)),{},{x1:M,y1:N,x2:j,y2:O});return ve.createElement(Nn,{className:Sr("recharts-reference-line",o)},X6e(s,R),ha.renderCallByParent(e,b6e({x1:M,y1:N,x2:j,y2:O})))}var v0=(function(e){function t(){return I6e(this,t),z6e(this,t,arguments)}return H6e(t,e),$6e(t,[{key:"render",value:function(){return ve.createElement(Q6e,this.props)}}])})(ve.Component);l3(v0,"displayName","ReferenceLine");l3(v0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wk(){return wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wk.apply(this,arguments)}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function JW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JW(Object(r),!0).forEach(function(n){L_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eie(n.key),n)}}function t$e(e,t,r){return t&&e$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r$e(e,t,r){return t=Qw(t),n$e(e,Jae()?Reflect.construct(t,r||[],Qw(e).constructor):t.apply(e,r))}function n$e(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$e(e)}function a$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jae=function(){return!!e})()}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(e)}function i$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function L_(e,t,r){return t=eie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=s$e(e,"string");return dp(t)=="symbol"?t:t+""}function s$e(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var o$e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=n3({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return io(t,"discard")&&!s.isInRange(o)?null:o},I_=(function(e){function t(){return J6e(this,t),r$e(this,t,arguments)}return i$e(t,e),t$e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,u=Un(a),f=Un(i);if(al(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=o$e(this.props);if(!d)return null;var p=d.x,v=d.y,y=this.props,x=y.shape,b=y.className,w=io(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=eK(eK({clipPath:w},yr(this.props,!0)),{},{cx:p,cy:v});return ve.createElement(Nn,{className:Sr("recharts-reference-dot",b)},t.renderDot(x,_),ha.renderCallByParent(this.props,{x:p-s,y:v-s,width:2*s,height:2*s}))}}])})(ve.Component);L_(I_,"displayName","ReferenceDot");L_(I_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});L_(I_,"renderDot",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):or(e)?r=e(t):r=ve.createElement(r3,wk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function _k(){return _k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_k.apply(this,arguments)}function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function tK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tK(Object(r),!0).forEach(function(n){B_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rie(n.key),n)}}function c$e(e,t,r){return t&&u$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f$e(e,t,r){return t=Jw(t),d$e(e,tie()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function d$e(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h$e(e)}function h$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tie=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function p$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function B_(e,t,r){return t=rie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rie(e){var t=m$e(e,"string");return hp(t)=="symbol"?t:t+""}function m$e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v$e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var p=n3({x:f.scale,y:d.scale}),v={x:t?p.x.apply(s,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(o,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return io(i,"discard")&&(!p.isInRange(v)||!p.isInRange(y))?null:Uae(v,y)},Z0=(function(e){function t(){return l$e(this,t),f$e(this,t,arguments)}return p$e(t,e),c$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;al(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Un(a),p=Un(i),v=Un(s),y=Un(o),x=this.props.shape;if(!d&&!p&&!v&&!y&&!x)return null;var b=v$e(d,p,v,y,this.props);if(!b&&!x)return null;var w=io(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ve.createElement(Nn,{className:Sr("recharts-reference-area",l)},t.renderRect(x,rK(rK({clipPath:w},yr(this.props,!0)),b)),ha.renderCallByParent(this.props,b))}}])})(ve.Component);B_(Z0,"displayName","ReferenceArea");B_(Z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});B_(Z0,"renderRect",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):or(e)?r=e(t):r=ve.createElement(t3,_k({},t,{className:"recharts-reference-area-rect"})),r});function nie(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function g$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return S6e(n,r)}function y$e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function eS(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function x$e(e,t){return nie(e,t+1)}function b$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,u=1,f=s,d=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:nie(n,u)};var x=l,b,w=function(){return b===void 0&&(b=r(y,x)),b},_=y.coordinate,T=l===0||eS(e,_,w,f,o);T||(l=0,f=s,u+=1),T&&(f=_+e*(w()/2+a),l+=u)},p;u<=i.length;)if(p=d(),p)return p.v;return[]}function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function nK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nK(Object(r),!0).forEach(function(n){w$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$e(e,t,r){return t=S$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$e(e){var t=_$e(e,"string");return g0(t)=="symbol"?t:t+""}function _$e(e,t){if(g0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(g0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,u=function(p){var v=i[p],y,x=function(){return y===void 0&&(y=r(v,p)),y};if(p===s-1){var b=e*(v.coordinate+e*x()/2-l);i[p]=v=ca(ca({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else i[p]=v=ca(ca({},v),{},{tickCoord:v.coordinate});var w=eS(e,v.tickCoord,x,o,l);w&&(l=v.tickCoord-e*(x()/2+a),i[p]=ca(ca({},v),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function C$e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,u=t.end;if(i){var f=n[o-1],d=r(f,o-1),p=e*(f.coordinate+e*d/2-u);s[o-1]=f=ca(ca({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var v=eS(e,f.tickCoord,function(){return d},l,u);v&&(u=f.tickCoord-e*(d/2+a),s[o-1]=ca(ca({},f),{},{isShow:!0}))}for(var y=i?o-1:o,x=function(_){var T=s[_],M,N=function(){return M===void 0&&(M=r(T,_)),M};if(_===0){var C=e*(T.coordinate-e*N()/2-l);s[_]=T=ca(ca({},T),{},{tickCoord:C<0?T.coordinate-C*e:T.coordinate})}else s[_]=T=ca(ca({},T),{},{tickCoord:T.coordinate});var j=eS(e,T.tickCoord,N,l,u);j&&(l=T.tickCoord+e*(N()/2+a),s[_]=ca(ca({},T),{},{isShow:!0}))},b=0;b<y;b++)x(b);return s}function u3(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(yt(l)||Ip.isSsr)return x$e(a,typeof l=="number"&&yt(l)?l:0);var p=[],v=o==="top"||o==="bottom"?"width":"height",y=f&&v==="width"?tg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(T,M){var N=or(u)?u(T.value,M):T.value;return v==="width"?g$e(tg(N,{fontSize:t,letterSpacing:r}),y,d):tg(N,{fontSize:t,letterSpacing:r})[v]},b=a.length>=2?ws(a[1].coordinate-a[0].coordinate):1,w=y$e(i,b,v);return l==="equidistantPreserveStart"?b$e(b,w,x,a,s):(l==="preserveStart"||l==="preserveStartEnd"?p=C$e(b,w,x,a,s,l==="preserveStartEnd"):p=T$e(b,w,x,a,s),p.filter(function(_){return _.isShow}))}var N$e=["viewBox"],A$e=["viewBox"],M$e=["ticks"];function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function aK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aK(Object(r),!0).forEach(function(n){c3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cD(e,t){if(e==null)return{};var r=E$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iie(n.key),n)}}function D$e(e,t,r){return t&&iK(e.prototype,t),r&&iK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O$e(e,t,r){return t=tS(t),P$e(e,aie()?Reflect.construct(t,r||[],tS(e).constructor):t.apply(e,r))}function P$e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(e)}function k$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aie=function(){return!!e})()}function tS(e){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tS(e)}function R$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function c3(e,t,r){return t=iie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=L$e(e,"string");return pp(t)=="symbol"?t:t+""}function L$e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fp=(function(e){function t(r){var n;return j$e(this,t),n=O$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return R$e(t,e),D$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=cD(n,N$e),o=this.props,l=o.viewBox,u=cD(o,A$e);return!Dh(i,l)||!Dh(s,u)||!Dh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,u=a.orientation,f=a.tickSize,d=a.mirror,p=a.tickMargin,v,y,x,b,w,_,T=d?-1:1,M=n.tickSize||f,N=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=y=n.coordinate,b=s+ +!d*l,x=b-T*M,_=x-T*p,w=N;break;case"left":x=b=n.coordinate,y=i+ +!d*o,v=y-T*M,w=v-T*p,_=N;break;case"right":x=b=n.coordinate,y=i+ +d*o,v=y+T*M,w=v+T*p,_=N;break;default:v=y=n.coordinate,b=s+ +d*l,x=b+T*M,_=x+T*p,w=N;break}return{line:{x1:v,y1:x,x2:y,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,d=Bn(Bn(Bn({},yr(this.props,!1)),yr(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=Bn(Bn({},d),{},{x1:a,y1:i+p*o,x2:a+s,y2:i+p*o})}else{var v=+(l==="left"&&!u||l==="right"&&u);d=Bn(Bn({},d),{},{x1:a+v*s,y1:i,x2:a+v*s,y2:i+o})}return ve.createElement("line",gh({},d,{className:Sr("recharts-cartesian-axis-line",Ki(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,u=o.stroke,f=o.tick,d=o.tickFormatter,p=o.unit,v=u3(Bn(Bn({},this.props),{},{ticks:n}),a,i),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=yr(this.props,!1),w=yr(f,!1),_=Bn(Bn({},b),{},{fill:"none"},yr(l,!1)),T=v.map(function(M,N){var C=s.getTickLineCoord(M),j=C.line,O=C.tick,P=Bn(Bn(Bn(Bn({textAnchor:y,verticalAnchor:x},b),{},{stroke:"none",fill:u},w),O),{},{index:N,payload:M,visibleTicksCount:v.length,tickFormatter:d});return ve.createElement(Nn,gh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},dw(s.props,M,N)),l&&ve.createElement("line",gh({},_,j,{className:Sr("recharts-cartesian-axis-tick-line",Ki(l,"className"))})),f&&t.renderTickItem(f,P,"".concat(or(d)?d(M.value,N):M.value).concat(p||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var d=this.props,p=d.ticks,v=cD(d,M$e),y=p;return or(l)&&(y=p&&p.length>0?l(this.props):l(v)),s<=0||o<=0||!y||!y.length?null:ve.createElement(Nn,{className:Sr("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ha.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,o=Sr(a.className,"recharts-cartesian-axis-tick-value");return ve.isValidElement(n)?s=ve.cloneElement(n,Bn(Bn({},a),{},{className:o})):or(n)?s=n(Bn(Bn({},a),{},{className:o})):s=ve.createElement(_w,gh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(A.Component);c3(Fp,"displayName","CartesianAxis");c3(Fp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var I$e=["x1","y1","x2","y2","key"],B$e=["offset"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function sK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sK(Object(r),!0).forEach(function(n){$$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$e(e,t,r){return t=z$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$e(e){var t=F$e(e,"string");return Pf(t)=="symbol"?t:t+""}function F$e(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(this,arguments)}function oK(e,t){if(e==null)return{};var r=U$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var H$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return ve.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sie(e,t){var r;if(ve.isValidElement(e))r=ve.cloneElement(e,t);else if(or(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=oK(t,I$e),u=yr(l,!1);u.offset;var f=oK(u,B$e);r=ve.createElement("line",rf({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function V$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=pa(pa({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return sie(a,u)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function q$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var u=pa(pa({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return sie(a,u)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function G$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var f=o.map(function(p){return Math.round(p+a-a)}).sort(function(p,v){return p-v});a!==f[0]&&f.unshift(0);var d=f.map(function(p,v){var y=!f[v+1],x=y?a+s-p:f[v+1]-p;if(x<=0)return null;var b=v%t.length;return ve.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:x,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function W$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,v){return p-v});i!==f[0]&&f.unshift(0);var d=f.map(function(p,v){var y=!f[v+1],x=y?i+o-p:f[v+1]-p;if(x<=0)return null;var b=v%n.length;return ve.createElement("rect",{key:"react-".concat(v),x:p,y:s,width:x,height:l,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var K$e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return xae(u3(pa(pa(pa({},Fp.defaultProps),n),{},{ticks:el(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Y$e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return xae(u3(pa(pa(pa({},Fp.defaultProps),n),{},{ticks:el(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Hd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ov(e){var t,r,n,a,i,s,o=s3(),l=o3(),u=L6e(),f=pa(pa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Hd.verticalFill,x:yt(e.x)?e.x:u.left,y:yt(e.y)?e.y:u.top,width:yt(e.width)?e.width:u.width,height:yt(e.height)?e.height:u.height}),d=f.x,p=f.y,v=f.width,y=f.height,x=f.syncWithTicks,b=f.horizontalValues,w=f.verticalValues,_=P6e(),T=k6e();if(!yt(v)||v<=0||!yt(y)||y<=0||!yt(d)||d!==+d||!yt(p)||p!==+p)return null;var M=f.verticalCoordinatesGenerator||K$e,N=f.horizontalCoordinatesGenerator||Y$e,C=f.horizontalPoints,j=f.verticalPoints;if((!C||!C.length)&&or(N)){var O=b&&b.length,P=N({yAxis:T?pa(pa({},T),{},{ticks:O?b:T.ticks}):void 0,width:o,height:l,offset:u},O?!0:x);al(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pf(P),"]")),Array.isArray(P)&&(C=P)}if((!j||!j.length)&&or(M)){var R=w&&w.length,k=M({xAxis:_?pa(pa({},_),{},{ticks:R?w:_.ticks}):void 0,width:o,height:l,offset:u},R?!0:x);al(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pf(k),"]")),Array.isArray(k)&&(j=k)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(H$e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ve.createElement(V$e,rf({},f,{offset:u,horizontalPoints:C,xAxis:_,yAxis:T})),ve.createElement(q$e,rf({},f,{offset:u,verticalPoints:j,xAxis:_,yAxis:T})),ve.createElement(G$e,rf({},f,{horizontalPoints:C})),ve.createElement(W$e,rf({},f,{verticalPoints:j})))}Ov.displayName="CartesianGrid";var X$e=["type","layout","connectNulls","ref"],Z$e=["key"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function lK(e,t){if(e==null)return{};var r=Q$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function uK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uK(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vd(e){return rze(e)||tze(e)||eze(e)||J$e()}function J$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eze(e,t){if(e){if(typeof e=="string")return Nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nk(e,t)}}function tze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rze(e){if(Array.isArray(e))return Nk(e)}function Nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lie(n.key),n)}}function aze(e,t,r){return t&&cK(e.prototype,t),r&&cK(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ize(e,t,r){return t=rS(t),sze(e,oie()?Reflect.construct(t,r||[],rS(e).constructor):t.apply(e,r))}function sze(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oze(e)}function oze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oie=function(){return!!e})()}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rS(e)}function lze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(e,t)}function ys(e,t,r){return t=lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=uze(e,"string");return mp(t)=="symbol"?t:t+""}function uze(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _u=(function(e){function t(){var r;nze(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ize(this,t,[].concat(a)),ys(r,"state",{isAnimationFinished:!0,totalLength:0}),ys(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),ys(r,"getStrokeDasharray",function(s,o,l){var u=l.reduce(function(w,_){return w+_});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var f=Math.floor(s/u),d=s%u,p=o-s,v=[],y=0,x=0;y<l.length;x+=l[y],++y)if(x+l[y]>d){v=[].concat(Vd(l.slice(0,y)),[d-x]);break}var b=v.length%2===0?[0,p]:[p];return[].concat(Vd(t.repeat(l,f)),Vd(v),b).map(function(w){return"".concat(w,"px")}).join(", ")}),ys(r,"id",V0("recharts-line-")),ys(r,"pathRef",function(s){r.mainCurve=s}),ys(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ys(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return lze(t,e),aze(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,u=i.layout,f=i.children,d=Yi(f,X0);if(!d)return null;var p=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:mi(x.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Nn,v,d.map(function(y){return ve.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:s,xAxis:o,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,f=o.dataKey,d=yr(this.props,!1),p=yr(l,!0),v=u.map(function(x,b){var w=ai(ai(ai({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return t.renderDotItem(l,w)}),y={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ve.createElement(Nn,ig({className:"recharts-line-dots",key:"dots"},y),v)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,u=o.layout,f=o.connectNulls;o.ref;var d=lK(o,X$e),p=ai(ai(ai({},yr(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:u,connectNulls:f});return ve.createElement(ak,ig({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,u=s.isAnimationActive,f=s.animationBegin,d=s.animationDuration,p=s.animationEasing,v=s.animationId,y=s.animateNewValues,x=s.width,b=s.height,w=this.state,_=w.prevPoints,T=w.totalLength;return ve.createElement(vl,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var N=M.t;if(_){var C=_.length/o.length,j=o.map(function(L,I){var $=Math.floor(I*C);if(_[$]){var F=_[$],z=xs(F.x,L.x),V=xs(F.y,L.y);return ai(ai({},L),{},{x:z(N),y:V(N)})}if(y){var q=xs(x*2,L.x),W=xs(b/2,L.y);return ai(ai({},L),{},{x:q(N),y:W(N)})}return ai(ai({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(j,n,a)}var O=xs(0,T),P=O(N),R;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});R=i.getStrokeDasharray(P,T,k)}else R=i.generateSimpleStrokeDasharray(T,P);return i.renderCurveStatically(o,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return o&&s&&s.length&&(!u&&f>0||!j_(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,u=a.xAxis,f=a.yAxis,d=a.top,p=a.left,v=a.width,y=a.height,x=a.isAnimationActive,b=a.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=o.length===1,T=Sr("recharts-line",l),M=u&&u.allowDataOverflow,N=f&&f.allowDataOverflow,C=M||N,j=hr(b)?this.id:b,O=(n=yr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,R=P===void 0?3:P,k=O.strokeWidth,L=k===void 0?2:k,I=AEe(s)?s:{},$=I.clipDot,F=$===void 0?!0:$,z=R*2+L;return ve.createElement(Nn,{className:T},M||N?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(j)},ve.createElement("rect",{x:M?p:p-v/2,y:N?d:d-y/2,width:M?v:v*2,height:N?y:y*2})),!F&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(j)},ve.createElement("rect",{x:p-z/2,y:d-z/2,width:v+z,height:y+z}))):null,!_&&this.renderCurve(C,j),this.renderErrorBar(C,j),(_||s)&&this.renderDots(C,F,j),(!x||w)&&sl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Vd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Vd(s),Vd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(ve.isValidElement(n))i=ve.cloneElement(n,a);else if(or(n))i=n(a);else{var s=a.key,o=lK(a,Z$e),l=Sr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ve.createElement(r3,ig({key:s},o,{className:l}))}return i}}])})(A.PureComponent);ys(_u,"displayName","Line");ys(_u,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ip.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ys(_u,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,u=e.offset,f=t.layout,d=l.map(function(p,v){var y=mi(p,s);return f==="horizontal"?{x:TG({axis:r,ticks:a,bandSize:o,entry:p,index:v}),y:hr(y)?null:n.scale(y),value:y,payload:p}:{x:hr(y)?null:r.scale(y),y:TG({axis:n,ticks:i,bandSize:o,entry:p,index:v}),value:y,payload:p}});return ai({points:d,layout:f},u)});function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function cze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fie(n.key),n)}}function dze(e,t,r){return t&&fze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hze(e,t,r){return t=nS(t),pze(e,uie()?Reflect.construct(t,r||[],nS(e).constructor):t.apply(e,r))}function pze(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mze(e)}function mze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uie=function(){return!!e})()}function nS(e){return nS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nS(e)}function vze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mk(e,t)}function cie(e,t,r){return t=fie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=gze(e,"string");return vp(t)=="symbol"?t:t+""}function gze(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function yze(e){var t=e.xAxisId,r=s3(),n=o3(),a=Yae(t);return a==null?null:A.createElement(Fp,Ek({},a,{className:Sr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return el(s,!0)}}))}var Tu=(function(e){function t(){return cze(this,t),hze(this,t,arguments)}return vze(t,e),dze(t,[{key:"render",value:function(){return A.createElement(yze,this.props)}}])})(A.Component);cie(Tu,"displayName","XAxis");cie(Tu,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function xze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pie(n.key),n)}}function wze(e,t,r){return t&&bze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sze(e,t,r){return t=aS(t),_ze(e,die()?Reflect.construct(t,r||[],aS(e).constructor):t.apply(e,r))}function _ze(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tze(e)}function Tze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!e})()}function aS(e){return aS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aS(e)}function Cze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jk(e,t)}function hie(e,t,r){return t=pie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=Nze(e,"string");return gp(t)=="symbol"?t:t+""}function Nze(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}var Aze=function(t){var r=t.yAxisId,n=s3(),a=o3(),i=Xae(r);return i==null?null:A.createElement(Fp,Dk({},i,{className:Sr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return el(o,!0)}}))},Cu=(function(e){function t(){return xze(this,t),Sze(this,t,arguments)}return Cze(t,e),wze(t,[{key:"render",value:function(){return A.createElement(Aze,this.props)}}])})(A.Component);hie(Cu,"displayName","YAxis");hie(Cu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fK(e){return Dze(e)||jze(e)||Eze(e)||Mze()}function Mze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eze(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function jze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dze(e){if(Array.isArray(e))return Ok(e)}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pk=function(t,r,n,a,i){var s=Yi(t,v0),o=Yi(t,I_),l=[].concat(fK(s),fK(o)),u=Yi(t,Z0),f="".concat(a,"Id"),d=a[0],p=r;if(l.length&&(p=l.reduce(function(x,b){if(b.props[f]===n&&io(b.props,"extendDomain")&&yt(b.props[d])){var w=b.props[d];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},p)),u.length){var v="".concat(d,"1"),y="".concat(d,"2");p=u.reduce(function(x,b){if(b.props[f]===n&&io(b.props,"extendDomain")&&yt(b.props[v])&&yt(b.props[y])){var w=b.props[v],_=b.props[y];return[Math.min(x[0],w,_),Math.max(x[1],w,_)]}return x},p)}return i&&i.length&&(p=i.reduce(function(x,b){return yt(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},p)),p},fD={exports:{}},dK;function Oze(){return dK||(dK=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function i(l,u,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new a(f,d||l,p),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],v]:l._events[y].push(v):(l._events[y]=v,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,y=new Array(v);p<v;p++)y[p]=d[p].fn;return y},o.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,f,d,p,v,y){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,_,T;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,p),!0;case 5:return b.fn.call(b.context,f,d,p,v),!0;case 6:return b.fn.call(b.context,f,d,p,v,y),!0}for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];b.fn.apply(b.context,_)}else{var M=b.length,N;for(T=0;T<M;T++)switch(b[T].once&&this.removeListener(u,b[T].fn,void 0,!0),w){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,f);break;case 3:b[T].fn.call(b[T].context,f,d);break;case 4:b[T].fn.call(b[T].context,f,d,p);break;default:if(!_)for(N=1,_=new Array(w-1);N<w;N++)_[N-1]=arguments[N];b[T].fn.apply(b[T].context,_)}}return!0},o.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},o.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},o.prototype.removeListener=function(u,f,d,p){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return s(this,v),this;var y=this._events[v];if(y.fn)y.fn===f&&(!p||y.once)&&(!d||y.context===d)&&s(this,v);else{for(var x=0,b=[],w=y.length;x<w;x++)(y[x].fn!==f||p&&!y[x].once||d&&y[x].context!==d)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:s(this,v)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(fD)),fD.exports}var Pze=Oze();const kze=Kr(Pze);var dD=new kze,hD="recharts.syncMouseEvents";function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}function Rze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mie(n.key),n)}}function Ize(e,t,r){return t&&Lze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pD(e,t,r){return t=mie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=Bze(e,"string");return y0(t)=="symbol"?t:t+""}function Bze(e,t){if(y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $ze=(function(){function e(){Rze(this,e),pD(this,"activeIndex",0),pD(this,"coordinateList",[]),pD(this,"layout","horizontal")}return Ize(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,u=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,p=r.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+l+u,p=s+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function zze(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&yt(n)&&yt(a))return!0}return!1}function Fze(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vie(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=ra(t,r,n,a),o=ra(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Uze(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,p=ra(o,l,u,d),v=ra(o,l,f,d);n=p.x,a=p.y,i=v.x,s=v.y}else return vie(t);return[{x:n,y:a},{x:i,y:s}]}function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}function hK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hK(Object(r),!0).forEach(function(n){Hze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hze(e,t,r){return t=Vze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vze(e){var t=qze(e,"string");return x0(t)=="symbol"?t:t+""}function qze(e,t){if(x0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(x0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gze(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!i||!s||p!=="ScatterChart"&&a!=="axis")return null;var y,x=ak;if(p==="ScatterChart")y=s,x=V4e;else if(p==="BarChart")y=Fze(d,s,l,f),x=t3;else if(d==="radial"){var b=vie(s),w=b.cx,_=b.cy,T=b.radius,M=b.startAngle,N=b.endAngle;y={cx:w,cy:_,startAngle:M,endAngle:N,innerRadius:T,outerRadius:T},x=Tae}else y={points:Uze(d,s,l)},x=ak;var C=Ab(Ab(Ab(Ab({stroke:"#ccc",pointerEvents:"none"},l),y),yr(v,!1)),{},{payload:o,payloadIndex:u,className:Sr("recharts-tooltip-cursor",v.className)});return A.isValidElement(v)?A.cloneElement(v,C):A.createElement(x,C)}var Wze=["item"],Kze=["children","className","width","height","style","compact","title","desc"];function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function pK(e,t){return Zze(e)||Xze(e,t)||yie(e,t)||Yze()}function Yze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(f){u=!0,a=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function Zze(e){if(Array.isArray(e))return e}function mK(e,t){if(e==null)return{};var r=Qze(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xie(n.key),n)}}function tFe(e,t,r){return t&&eFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rFe(e,t,r){return t=iS(t),nFe(e,gie()?Reflect.construct(t,r||[],iS(e).constructor):t.apply(e,r))}function nFe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aFe(e)}function aFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gie=function(){return!!e})()}function iS(e){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iS(e)}function iFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function xp(e){return lFe(e)||oFe(e)||yie(e)||sFe()}function sFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function oFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lFe(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vK(Object(r),!0).forEach(function(n){Ht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vK(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ht(e,t,r){return t=xie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=uFe(e,"string");return yp(t)=="symbol"?t:t+""}function uFe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cFe={xAxis:["bottom","top"],yAxis:["left","right"]},fFe={width:"100%",height:"100%"},bie={x:0,y:0};function Mb(e){return e}var dFe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hFe=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return Xe(Xe(Xe({},a),ra(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,u=a.angle;return Xe(Xe(Xe({},a),ra(a.cx,a.cy,l,u)),{},{angle:u,radius:l})}return bie},$_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(xp(o),xp(u)):o},[]);return s.length>0?s:t&&t.length&&yt(a)&&yt(i)?t.slice(a,i+1):[]};function wie(e){return e==="number"?[0,"auto"]:void 0}var Lk=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=$_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(s.dataKey&&!s.allowDuplicatedCategory){var v=d===void 0?o:d;p=cw(v,s.dataKey,a)}else p=d&&d[n]||o[n];return p?[].concat(xp(l),[wae(u,p)]):l},[])},gK=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=dFe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,f=NIe(s,o,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,p=Lk(t,r,f,d),v=hFe(n,o,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:p,activeCoordinate:v}}return null},pFe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,p=t.stackOffset,v=yae(f,i);return n.reduce(function(y,x){var b,w=x.type.defaultProps!==void 0?Xe(Xe({},x.type.defaultProps),x.props):x.props,_=w.type,T=w.dataKey,M=w.allowDataOverflow,N=w.allowDuplicatedCategory,C=w.scale,j=w.ticks,O=w.includeHidden,P=w[s];if(y[P])return y;var R=$_(t.data,{graphicalItems:a.filter(function(U){var K,ee=s in U.props?U.props[s]:(K=U.type.defaultProps)===null||K===void 0?void 0:K[s];return ee===P}),dataStartIndex:l,dataEndIndex:u}),k=R.length,L,I,$;zze(w.domain,M,_)&&(L=JP(w.domain,null,M),v&&(_==="number"||C!=="auto")&&($=ng(R,T,"category")));var F=wie(_);if(!L||L.length===0){var z,V=(z=w.domain)!==null&&z!==void 0?z:F;if(T){if(L=ng(R,T,_),_==="category"&&v){var q=gEe(L);N&&q?(I=L,L=Gw(0,k)):N||(L=MG(V,L,x).reduce(function(U,K){return U.indexOf(K)>=0?U:[].concat(xp(U),[K])},[]))}else if(_==="category")N?L=L.filter(function(U){return U!==""&&!hr(U)}):L=MG(V,L,x).reduce(function(U,K){return U.indexOf(K)>=0||K===""||hr(K)?U:[].concat(xp(U),[K])},[]);else if(_==="number"){var W=DIe(R,a.filter(function(U){var K,ee,ae=s in U.props?U.props[s]:(K=U.type.defaultProps)===null||K===void 0?void 0:K[s],xe="hide"in U.props?U.props.hide:(ee=U.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ae===P&&(O||!xe)}),T,i,f);W&&(L=W)}v&&(_==="number"||C!=="auto")&&($=ng(R,T,"category"))}else v?L=Gw(0,k):o&&o[P]&&o[P].hasStack&&_==="number"?L=p==="expand"?[0,1]:bae(o[P].stackGroups,l,u):L=gae(R,a.filter(function(U){var K=s in U.props?U.props[s]:U.type.defaultProps[s],ee="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return K===P&&(O||!ee)}),_,f,!0);if(_==="number")L=Pk(d,L,P,i,j),V&&(L=JP(V,L,M));else if(_==="category"&&V){var Y=V,H=L.every(function(U){return Y.indexOf(U)>=0});H&&(L=Y)}}return Xe(Xe({},y),{},Ht({},P,Xe(Xe({},w),{},{axisType:i,domain:L,categoricalDomain:$,duplicateDomain:I,originalDomain:(b=w.domain)!==null&&b!==void 0?b:F,isCategorical:v,layout:f})))},{})},mFe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,p=$_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),v=p.length,y=yae(f,i),x=-1;return n.reduce(function(b,w){var _=w.type.defaultProps!==void 0?Xe(Xe({},w.type.defaultProps),w.props):w.props,T=_[s],M=wie("number");if(!b[T]){x++;var N;return y?N=Gw(0,v):o&&o[T]&&o[T].hasStack?(N=bae(o[T].stackGroups,l,u),N=Pk(d,N,T,i)):(N=JP(M,gae(p,n.filter(function(C){var j,O,P=s in C.props?C.props[s]:(j=C.type.defaultProps)===null||j===void 0?void 0:j[s],R="hide"in C.props?C.props.hide:(O=C.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===T&&!R}),"number",f),a.defaultProps.allowDataOverflow),N=Pk(d,N,T,i)),Xe(Xe({},b),{},Ht({},T,Xe(Xe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ki(cFe,"".concat(i,".").concat(x%2),null),domain:N,originalDomain:M,isCategorical:y,layout:f})))}return b},{})},vFe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),p=Yi(f,i),v={};return p&&p.length?v=pFe(t,{axes:p,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(v=mFe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),v},gFe=function(t){var r=du(t),n=el(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:MI(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Iw(r,n)}},yK=function(t){var r=t.children,n=t.defaultShowTooltip,a=oi(r,up),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},yFe=function(t){return!t||!t.length?!1:t.some(function(r){var n=nl(r&&r.type);return n&&n.indexOf("Bar")>=0})},xK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xFe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,u=n.width,f=n.height,d=n.children,p=n.margin||{},v=oi(d,up),y=oi(d,Xs),x=Object.keys(l).reduce(function(N,C){var j=l[C],O=j.orientation;return!j.mirror&&!j.hide?Xe(Xe({},N),{},Ht({},O,N[O]+j.width)):N},{left:p.left||0,right:p.right||0}),b=Object.keys(s).reduce(function(N,C){var j=s[C],O=j.orientation;return!j.mirror&&!j.hide?Xe(Xe({},N),{},Ht({},O,Ki(N,"".concat(O))+j.height)):N},{top:p.top||0,bottom:p.bottom||0}),w=Xe(Xe({},b),x),_=w.bottom;v&&(w.bottom+=v.props.height||up.defaultProps.height),y&&r&&(w=EIe(w,a,n,r));var T=u-w.left-w.right,M=f-w.top-w.bottom;return Xe(Xe({brushBottom:_},w),{},{width:Math.max(T,0),height:Math.max(M,0)})},bFe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Sie=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,p=function(w,_){var T=_.graphicalItems,M=_.stackGroups,N=_.offset,C=_.updateId,j=_.dataStartIndex,O=_.dataEndIndex,P=w.barSize,R=w.layout,k=w.barGap,L=w.barCategoryGap,I=w.maxBarSize,$=xK(R),F=$.numericAxisName,z=$.cateAxisName,V=yFe(T),q=[];return T.forEach(function(W,Y){var H=$_(w.data,{graphicalItems:[W],dataStartIndex:j,dataEndIndex:O}),U=W.type.defaultProps!==void 0?Xe(Xe({},W.type.defaultProps),W.props):W.props,K=U.dataKey,ee=U.maxBarSize,ae=U["".concat(F,"Id")],xe=U["".concat(z,"Id")],ke={},Je=l.reduce(function(He,pe){var Fe=_["".concat(pe.axisType,"Map")],ue=U["".concat(pe.axisType,"Id")];Fe&&Fe[ue]||pe.axisType==="zAxis"||Of();var nt=Fe[ue];return Xe(Xe({},He),{},Ht(Ht({},pe.axisType,nt),"".concat(pe.axisType,"Ticks"),el(nt)))},ke),be=Je[z],Te=Je["".concat(z,"Ticks")],De=M&&M[ae]&&M[ae].hasStack&&HIe(W,M[ae].stackGroups),J=nl(W.type).indexOf("Bar")>=0,it=Iw(be,Te),Ue=[],ft=V&&AIe({barSize:P,stackGroups:M,totalSize:bFe(Je,z)});if(J){var le,te,Ne=hr(ee)?I:ee,Le=(le=(te=Iw(be,Te,!0))!==null&&te!==void 0?te:Ne)!==null&&le!==void 0?le:0;Ue=MIe({barGap:k,barCategoryGap:L,bandSize:Le!==it?Le:it,sizeList:ft[xe],maxBarSize:Ne}),Le!==it&&(Ue=Ue.map(function(He){return Xe(Xe({},He),{},{position:Xe(Xe({},He.position),{},{offset:He.position.offset-Le/2})})}))}var Pe=W&&W.type&&W.type.getComposedData;Pe&&q.push({props:Xe(Xe({},Pe(Xe(Xe({},Je),{},{displayedData:H,props:w,dataKey:K,item:W,bandSize:it,barPosition:Ue,offset:N,stackedData:De,layout:R,dataStartIndex:j,dataEndIndex:O}))),{},Ht(Ht(Ht({key:W.key||"item-".concat(Y)},F,Je[F]),z,Je[z]),"animationId",C)),childIndex:jEe(W,w.children),item:W})}),q},v=function(w,_){var T=w.props,M=w.dataStartIndex,N=w.dataEndIndex,C=w.updateId;if(!U9({props:T}))return null;var j=T.children,O=T.layout,P=T.stackOffset,R=T.data,k=T.reverseStackOrder,L=xK(O),I=L.numericAxisName,$=L.cateAxisName,F=Yi(j,n),z=zIe(R,F,"".concat(I,"Id"),"".concat($,"Id"),P,k),V=l.reduce(function(U,K){var ee="".concat(K.axisType,"Map");return Xe(Xe({},U),{},Ht({},ee,vFe(T,Xe(Xe({},K),{},{graphicalItems:F,stackGroups:K.axisType===I&&z,dataStartIndex:M,dataEndIndex:N}))))},{}),q=xFe(Xe(Xe({},V),{},{props:T,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(V).forEach(function(U){V[U]=f(T,V[U],q,U.replace("Map",""),r)});var W=V["".concat($,"Map")],Y=gFe(W),H=p(T,Xe(Xe({},V),{},{dataStartIndex:M,dataEndIndex:N,updateId:C,graphicalItems:F,stackGroups:z,offset:q}));return Xe(Xe({formattedGraphicalItems:H,graphicalItems:F,offset:q,stackGroups:z},Y),V)},y=(function(b){function w(_){var T,M,N;return Jze(this,w),N=rFe(this,w,[_]),Ht(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(N,"accessibilityManager",new $ze),Ht(N,"handleLegendBBoxUpdate",function(C){if(C){var j=N.state,O=j.dataStartIndex,P=j.dataEndIndex,R=j.updateId;N.setState(Xe({legendBBox:C},v({props:N.props,dataStartIndex:O,dataEndIndex:P,updateId:R},Xe(Xe({},N.state),{},{legendBBox:C}))))}}),Ht(N,"handleReceiveSyncEvent",function(C,j,O){if(N.props.syncId===C){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(j)}}),Ht(N,"handleBrushChange",function(C){var j=C.startIndex,O=C.endIndex;if(j!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return Xe({dataStartIndex:j,dataEndIndex:O},v({props:N.props,dataStartIndex:j,dataEndIndex:O,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:j,dataEndIndex:O})}}),Ht(N,"handleMouseEnter",function(C){var j=N.getMouseInfo(C);if(j){var O=Xe(Xe({},j),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseEnter;or(P)&&P(O,C)}}),Ht(N,"triggeredAfterMouseMove",function(C){var j=N.getMouseInfo(C),O=j?Xe(Xe({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseMove;or(P)&&P(O,C)}),Ht(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ht(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ht(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Ht(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};N.setState(j),N.triggerSyncEvent(j);var O=N.props.onMouseLeave;or(O)&&O(j,C)}),Ht(N,"handleOuterEvent",function(C){var j=EEe(C),O=Ki(N.props,"".concat(j));if(j&&or(O)){var P,R;/.*touch.*/i.test(j)?R=N.getMouseInfo(C.changedTouches[0]):R=N.getMouseInfo(C),O((P=R)!==null&&P!==void 0?P:{},C)}}),Ht(N,"handleClick",function(C){var j=N.getMouseInfo(C);if(j){var O=Xe(Xe({},j),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onClick;or(P)&&P(O,C)}}),Ht(N,"handleMouseDown",function(C){var j=N.props.onMouseDown;if(or(j)){var O=N.getMouseInfo(C);j(O,C)}}),Ht(N,"handleMouseUp",function(C){var j=N.props.onMouseUp;if(or(j)){var O=N.getMouseInfo(C);j(O,C)}}),Ht(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ht(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Ht(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Ht(N,"handleDoubleClick",function(C){var j=N.props.onDoubleClick;if(or(j)){var O=N.getMouseInfo(C);j(O,C)}}),Ht(N,"handleContextMenu",function(C){var j=N.props.onContextMenu;if(or(j)){var O=N.getMouseInfo(C);j(O,C)}}),Ht(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&dD.emit(hD,N.props.syncId,C,N.eventEmitterSymbol)}),Ht(N,"applySyncEvent",function(C){var j=N.props,O=j.layout,P=j.syncMethod,R=N.state.updateId,k=C.dataStartIndex,L=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(Xe({dataStartIndex:k,dataEndIndex:L},v({props:N.props,dataStartIndex:k,dataEndIndex:L,updateId:R},N.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,$=C.chartY,F=C.activeTooltipIndex,z=N.state,V=z.offset,q=z.tooltipTicks;if(!V)return;if(typeof P=="function")F=P(q,C);else if(P==="value"){F=-1;for(var W=0;W<q.length;W++)if(q[W].value===C.activeLabel){F=W;break}}var Y=Xe(Xe({},V),{},{x:V.left,y:V.top}),H=Math.min(I,Y.x+Y.width),U=Math.min($,Y.y+Y.height),K=q[F]&&q[F].value,ee=Lk(N.state,N.props.data,F),ae=q[F]?{x:O==="horizontal"?q[F].coordinate:H,y:O==="horizontal"?U:q[F].coordinate}:bie;N.setState(Xe(Xe({},C),{},{activeLabel:K,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:F}))}else N.setState(C)}),Ht(N,"renderCursor",function(C){var j,O=N.state,P=O.isTooltipActive,R=O.activeCoordinate,k=O.activePayload,L=O.offset,I=O.activeTooltipIndex,$=O.tooltipAxisBandSize,F=N.getTooltipEventType(),z=(j=C.props.active)!==null&&j!==void 0?j:P,V=N.props.layout,q=C.key||"_recharts-cursor";return ve.createElement(Gze,{key:q,activeCoordinate:R,activePayload:k,activeTooltipIndex:I,chartName:r,element:C,isActive:z,layout:V,offset:L,tooltipAxisBandSize:$,tooltipEventType:F})}),Ht(N,"renderPolarAxis",function(C,j,O){var P=Ki(C,"type.axisType"),R=Ki(N.state,"".concat(P,"Map")),k=C.type.defaultProps,L=k!==void 0?Xe(Xe({},k),C.props):C.props,I=R&&R[L["".concat(P,"Id")]];return A.cloneElement(C,Xe(Xe({},I),{},{className:Sr(P,I.className),key:C.key||"".concat(j,"-").concat(O),ticks:el(I,!0)}))}),Ht(N,"renderPolarGrid",function(C){var j=C.props,O=j.radialLines,P=j.polarAngles,R=j.polarRadius,k=N.state,L=k.radiusAxisMap,I=k.angleAxisMap,$=du(L),F=du(I),z=F.cx,V=F.cy,q=F.innerRadius,W=F.outerRadius;return A.cloneElement(C,{polarAngles:Array.isArray(P)?P:el(F,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:el($,!0).map(function(Y){return Y.coordinate}),cx:z,cy:V,innerRadius:q,outerRadius:W,key:C.key||"polar-grid",radialLines:O})}),Ht(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,j=N.props,O=j.children,P=j.width,R=j.height,k=N.props.margin||{},L=P-(k.left||0)-(k.right||0),I=mae({children:O,formattedGraphicalItems:C,legendWidth:L,legendContent:u});if(!I)return null;var $=I.item,F=mK(I,Wze);return A.cloneElement($,Xe(Xe({},F),{},{chartWidth:P,chartHeight:R,margin:k,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ht(N,"renderTooltip",function(){var C,j=N.props,O=j.children,P=j.accessibilityLayer,R=oi(O,ui);if(!R)return null;var k=N.state,L=k.isTooltipActive,I=k.activeCoordinate,$=k.activePayload,F=k.activeLabel,z=k.offset,V=(C=R.props.active)!==null&&C!==void 0?C:L;return A.cloneElement(R,{viewBox:Xe(Xe({},z),{},{x:z.left,y:z.top}),active:V,label:F,payload:V?$:[],coordinate:I,accessibilityLayer:P})}),Ht(N,"renderBrush",function(C){var j=N.props,O=j.margin,P=j.data,R=N.state,k=R.offset,L=R.dataStartIndex,I=R.dataEndIndex,$=R.updateId;return A.cloneElement(C,{key:C.key||"_recharts-brush",onChange:_b(N.handleBrushChange,C.props.onChange),data:P,x:yt(C.props.x)?C.props.x:k.left,y:yt(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(O.bottom||0),width:yt(C.props.width)?C.props.width:k.width,startIndex:L,endIndex:I,updateId:"brush-".concat($)})}),Ht(N,"renderReferenceElement",function(C,j,O){if(!C)return null;var P=N,R=P.clipPathId,k=N.state,L=k.xAxisMap,I=k.yAxisMap,$=k.offset,F=C.type.defaultProps||{},z=C.props,V=z.xAxisId,q=V===void 0?F.xAxisId:V,W=z.yAxisId,Y=W===void 0?F.yAxisId:W;return A.cloneElement(C,{key:C.key||"".concat(j,"-").concat(O),xAxis:L[q],yAxis:I[Y],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:R})}),Ht(N,"renderActivePoints",function(C){var j=C.item,O=C.activePoint,P=C.basePoint,R=C.childIndex,k=C.isRange,L=[],I=j.props.key,$=j.item.type.defaultProps!==void 0?Xe(Xe({},j.item.type.defaultProps),j.item.props):j.item.props,F=$.activeDot,z=$.dataKey,V=Xe(Xe({index:R,dataKey:z,cx:O.x,cy:O.y,r:4,fill:e3(j.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},yr(F,!1)),fw(F));return L.push(w.renderActiveDot(F,V,"".concat(I,"-activePoint-").concat(R))),P?L.push(w.renderActiveDot(F,Xe(Xe({},V),{},{cx:P.x,cy:P.y}),"".concat(I,"-basePoint-").concat(R))):k&&L.push(null),L}),Ht(N,"renderGraphicChild",function(C,j,O){var P=N.filterFormatItem(C,j,O);if(!P)return null;var R=N.getTooltipEventType(),k=N.state,L=k.isTooltipActive,I=k.tooltipAxis,$=k.activeTooltipIndex,F=k.activeLabel,z=N.props.children,V=oi(z,ui),q=P.props,W=q.points,Y=q.isRange,H=q.baseLine,U=P.item.type.defaultProps!==void 0?Xe(Xe({},P.item.type.defaultProps),P.item.props):P.item.props,K=U.activeDot,ee=U.hide,ae=U.activeBar,xe=U.activeShape,ke=!!(!ee&&L&&V&&(K||ae||xe)),Je={};R!=="axis"&&V&&V.props.trigger==="click"?Je={onClick:_b(N.handleItemMouseEnter,C.props.onClick)}:R!=="axis"&&(Je={onMouseLeave:_b(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:_b(N.handleItemMouseEnter,C.props.onMouseEnter)});var be=A.cloneElement(C,Xe(Xe({},P.props),Je));function Te(pe){return typeof I.dataKey=="function"?I.dataKey(pe.payload):null}if(ke)if($>=0){var De,J;if(I.dataKey&&!I.allowDuplicatedCategory){var it=typeof I.dataKey=="function"?Te:"payload.".concat(I.dataKey.toString());De=cw(W,it,F),J=Y&&H&&cw(H,it,F)}else De=W==null?void 0:W[$],J=Y&&H&&H[$];if(xe||ae){var Ue=C.props.activeIndex!==void 0?C.props.activeIndex:$;return[A.cloneElement(C,Xe(Xe(Xe({},P.props),Je),{},{activeIndex:Ue})),null,null]}if(!hr(De))return[be].concat(xp(N.renderActivePoints({item:P,activePoint:De,basePoint:J,childIndex:$,isRange:Y})))}else{var ft,le=(ft=N.getItemByXY(N.state.activeCoordinate))!==null&&ft!==void 0?ft:{graphicalItem:be},te=le.graphicalItem,Ne=te.item,Le=Ne===void 0?C:Ne,Pe=te.childIndex,He=Xe(Xe(Xe({},P.props),Je),{},{activeIndex:Pe});return[A.cloneElement(Le,He),null,null]}return Y?[be,null,null]:[be,null]}),Ht(N,"renderCustomized",function(C,j,O){return A.cloneElement(C,Xe(Xe({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ht(N,"renderMap",{CartesianGrid:{handler:Mb,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Mb},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Mb},YAxis:{handler:Mb},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((T=_.id)!==null&&T!==void 0?T:V0("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=pne(N.triggeredAfterMouseMove,(M=_.throttleDelay)!==null&&M!==void 0?M:1e3/60),N.state={},N}return iFe(w,b),tFe(w,[{key:"componentDidMount",value:function(){var T,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,M=T.children,N=T.data,C=T.height,j=T.layout,O=oi(M,ui);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=Lk(this.state,N,P,R),L=this.state.tooltipTicks[P].coordinate,I=(this.state.offset.top+C)/2,$=j==="horizontal",F=$?{x:L,y:I}:{y:L,x:I},z=this.state.formattedGraphicalItems.find(function(q){var W=q.item;return W.type.name==="Scatter"});z&&(F=Xe(Xe({},F),z.props.points[P].tooltipPosition),k=z.props.points[P].tooltipPayload);var V={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:R,activePayload:k,activeCoordinate:F};this.setState(V),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(T){wP([oi(T.children,ui)],[oi(this.props.children,ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=oi(this.props.children,ui);if(T&&typeof T.props.shared=="boolean"){var M=T.props.shared?"axis":"item";return o.indexOf(M)>=0?M:i}return i}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var M=this.container,N=M.getBoundingClientRect(),C=vPe(N),j={chartX:Math.round(T.pageX-C.left),chartY:Math.round(T.pageY-C.top)},O=N.width/M.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,O);if(!P)return null;var R=this.state,k=R.xAxisMap,L=R.yAxisMap,I=this.getTooltipEventType(),$=gK(this.state,this.props.data,this.props.layout,P);if(I!=="axis"&&k&&L){var F=du(k).scale,z=du(L).scale,V=F&&F.invert?F.invert(j.chartX):null,q=z&&z.invert?z.invert(j.chartY):null;return Xe(Xe({},j),{},{xValue:V,yValue:q},$)}return $?Xe(Xe({},j),$):null}},{key:"inRange",value:function(T,M){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,j=T/N,O=M/N;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,R=j>=P.left&&j<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return R?{x:j,y:O}:null}var k=this.state,L=k.angleAxisMap,I=k.radiusAxisMap;if(L&&I){var $=du(L);return DG({x:j,y:O},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,M=this.getTooltipEventType(),N=oi(T,ui),C={};N&&M==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=fw(this.props,this.handleOuterEvent);return Xe(Xe({},j),C)}},{key:"addListener",value:function(){dD.on(hD,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){dD.removeListener(hD,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,M,N){for(var C=this.state.formattedGraphicalItems,j=0,O=C.length;j<O;j++){var P=C[j];if(P.item===T||P.props.key===T.key||M===nl(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,M=this.state.offset,N=M.left,C=M.top,j=M.height,O=M.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:T},ve.createElement("rect",{x:N,y:C,height:j,width:O})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(M,N){var C=pK(N,2),j=C[0],O=C[1];return Xe(Xe({},M),{},Ht({},j,O.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(M,N){var C=pK(N,2),j=C[0],O=C[1];return Xe(Xe({},M),{},Ht({},j,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(T){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(T){var M=this.state,N=M.formattedGraphicalItems,C=M.activeItem;if(N&&N.length)for(var j=0,O=N.length;j<O;j++){var P=N[j],R=P.props,k=P.item,L=k.type.defaultProps!==void 0?Xe(Xe({},k.type.defaultProps),k.props):k.props,I=nl(k.type);if(I==="Bar"){var $=(R.data||[]).find(function(q){return k4e(T,q)});if($)return{graphicalItem:P,payload:$}}else if(I==="RadialBar"){var F=(R.data||[]).find(function(q){return DG(T,q)});if(F)return{graphicalItem:P,payload:F}}else if(P_(P,C)||k_(P,C)||d0(P,C)){var z=TBe({graphicalItem:P,activeTooltipItem:C,itemData:L.data}),V=L.activeIndex===void 0?z:L.activeIndex;return{graphicalItem:Xe(Xe({},P),{},{childIndex:V}),payload:d0(P,C)?L.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var T=this;if(!U9(this))return null;var M=this.props,N=M.children,C=M.className,j=M.width,O=M.height,P=M.style,R=M.compact,k=M.title,L=M.desc,I=mK(M,Kze),$=yr(I,!1);if(R)return ve.createElement(YW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(_P,yh({},$,{width:j,height:O,title:k,desc:L}),this.renderClipPath(),V9(N,this.renderMap)));if(this.props.accessibilityLayer){var F,z;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(z=this.props.role)!==null&&z!==void 0?z:"application",$.onKeyDown=function(q){T.accessibilityManager.keyboardEvent(q)},$.onFocus=function(){T.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ve.createElement(YW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",yh({className:Sr("recharts-wrapper",C),style:Xe({position:"relative",cursor:"default",width:j,height:O},P)},V,{ref:function(W){T.container=W}}),ve.createElement(_P,yh({},$,{width:j,height:O,title:k,desc:L,style:fFe}),this.renderClipPath(),V9(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(A.Component);Ht(y,"displayName",r),Ht(y,"defaultProps",Xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ht(y,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,T=b.data,M=b.children,N=b.width,C=b.height,j=b.layout,O=b.stackOffset,P=b.margin,R=w.dataStartIndex,k=w.dataEndIndex;if(w.updateId===void 0){var L=yK(b);return Xe(Xe(Xe({},L),{},{updateId:0},v(Xe(Xe({props:b},L),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:T,prevWidth:N,prevHeight:C,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:M})}if(_!==w.prevDataKey||T!==w.prevData||N!==w.prevWidth||C!==w.prevHeight||j!==w.prevLayout||O!==w.prevStackOffset||!Dh(P,w.prevMargin)){var I=yK(b),$={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},F=Xe(Xe({},gK(w,T,j)),{},{updateId:w.updateId+1}),z=Xe(Xe(Xe({},I),$),F);return Xe(Xe(Xe({},z),v(Xe({props:b},z),w)),{},{prevDataKey:_,prevData:T,prevWidth:N,prevHeight:C,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:M})}if(!wP(M,w.prevChildren)){var V,q,W,Y,H=oi(M,up),U=H&&(V=(q=H.props)===null||q===void 0?void 0:q.startIndex)!==null&&V!==void 0?V:R,K=H&&(W=(Y=H.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&W!==void 0?W:k,ee=U!==R||K!==k,ae=!hr(T),xe=ae&&!ee?w.updateId:w.updateId+1;return Xe(Xe({updateId:xe},v(Xe(Xe({props:b},w),{},{updateId:xe,dataStartIndex:U,dataEndIndex:K}),w)),{},{prevChildren:M,dataStartIndex:U,dataEndIndex:K})}return null}),Ht(y,"renderActiveDot",function(b,w,_){var T;return A.isValidElement(b)?T=A.cloneElement(b,w):or(b)?T=b(w):T=ve.createElement(r3,w),ve.createElement(Nn,{className:"recharts-active-dot",key:_},T)});var x=A.forwardRef(function(w,_){return ve.createElement(y,yh({},w,{ref:_}))});return x.displayName=y.displayName,x},mD=Sie({chartName:"LineChart",GraphicalChild:_u,axisComponents:[{axisType:"xAxis",AxisComp:Tu},{axisType:"yAxis",AxisComp:Cu}],formatAxisMap:Fae}),wFe=Sie({chartName:"BarChart",GraphicalChild:Uf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tu},{axisType:"yAxis",AxisComp:Cu}],formatAxisMap:Fae});const qd=e=>({badgeClassName:e.badgeClassName??"border-slate-200 bg-slate-50 text-slate-600",...e}),_ie=[qd({key:"SHORTAGE",label:" ",shortLabel:"",description:"       .",action:"     .",rangeLabel:"0% ",min:Number.NEGATIVE_INFINITY,max:0,badgeClassName:"border-rose-200 bg-rose-50 text-rose-700",showInLegend:!1}),qd({key:"EXCELLENT",label:" ",shortLabel:"",description:"      .",action:"       .",rangeLabel:"0~10%",min:0,max:10,badgeClassName:"border-sky-200 bg-sky-50 text-sky-700",showInLegend:!0}),qd({key:"GOOD",label:" ",shortLabel:"",description:"        .",action:"       .",rangeLabel:"10~20%",min:10,max:20,badgeClassName:"border-emerald-200 bg-emerald-50 text-emerald-700",showInLegend:!0}),qd({key:"WATCH",label:" ",shortLabel:"",description:"          .",action:"    SKU  .",rangeLabel:"20~30%",min:20,max:30,badgeClassName:"border-amber-200 bg-amber-50 text-amber-700",showInLegend:!0}),qd({key:"ISSUE",label:"  ",shortLabel:"",description:"       .",action:"       .",rangeLabel:"30~50%",min:30,max:50,badgeClassName:"border-orange-200 bg-orange-50 text-orange-700",showInLegend:!0}),qd({key:"SEVERE",label:" ",shortLabel:"",description:"       .",action:"  ,  ,   .",rangeLabel:"50% ",min:50,max:Number.POSITIVE_INFINITY,badgeClassName:"border-red-200 bg-red-50 text-red-700",showInLegend:!0})],Tie=_ie.filter(e=>e.showInLegend),SFe=e=>{if(!Number.isFinite(e))return null;const t=e;for(const r of _ie)if(!(t<r.min)&&(r.max===Number.POSITIVE_INFINITY||t<r.max))return r;return null},f3="",d3="",Cie="",Nie={[f3]:"",[d3]:"",[Cie]:"",:"",:"",:""},_Fe={[f3]:"bg-emerald-100 text-emerald-700",[d3]:"bg-red-100 text-red-700",[Cie]:"bg-amber-100 text-amber-700",:"bg-emerald-100 text-emerald-700",:"bg-amber-100 text-amber-700",:"bg-red-100 text-red-700"},TFe=["","",""],bK=e=>e===f3?"":e===d3?"":"",CFe=e=>Math.max(e.onHand-e.reserved,0),NFe=(...e)=>{for(const t of e)if(typeof t=="number"&&Number.isFinite(t)&&t>0)return t;return 0},b0=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}`,wK=e=>{if(!Number.isFinite(e))return null;const t=new Date,r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()));return r.setUTCDate(r.getUTCDate()+Math.max(0,Math.round(e))),b0(r)},AFe=()=>{const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=new Date(t);return r.setUTCDate(r.getUTCDate()-29),{from:b0(r),to:b0(t)}},SK=(e,t)=>{const r=Date.parse(`${e}T00:00:00.000Z`),n=Date.parse(`${t}T00:00:00.000Z`);return Number.isFinite(r)&&Number.isFinite(n)&&r<=n},vD=e=>{const t=Date.parse(e);if(!Number.isFinite(t))return e;const r=new Date(t);return`${r.getUTCFullYear()}-${String(r.getUTCMonth()+1).padStart(2,"0")}-${String(r.getUTCDate()).padStart(2,"0")}`},_K=[{percent:90,z:1.2816},{percent:95,z:1.6449},{percent:98,z:2.0537},{percent:99,z:2.3263}],MFe=e=>{if(!Number.isFinite(e??NaN))return 0;const t=e;let r=_K[0],n=Math.abs(t-r.percent);for(const a of _K){const i=Math.abs(t-a.percent);i<n&&(r=a,n=i)}return r.z},Gd=({title:e,actions:t,className:r="",children:n})=>m.jsxs("div",{className:`rounded-2xl border border-slate-200 bg-white/80 p-5 shadow-sm backdrop-blur ${r}`,children:[e?m.jsxs("div",{className:"mb-4 flex items-start justify-between gap-3",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-800",children:e}),t]}):null,n]}),EFe=({risk:e})=>m.jsx("span",{className:`rounded-full px-2 py-1 text-xs ${_Fe[e]??"bg-slate-100 text-slate-600"}`,children:Nie[e]??e}),jFe=e=>Number.isFinite(e)?`${e.toFixed(1)}%`:" ",Ik=({stage:e})=>m.jsx("span",{className:`inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] font-semibold ${e.badgeClassName}`,children:e.shortLabel}),DFe=({currentRate:e,stage:t})=>m.jsxs("div",{className:"space-y-3 text-xs text-slate-600",children:[m.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[m.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:" "}),m.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[m.jsx("span",{className:"text-lg font-semibold text-slate-900",children:jFe(e)}),t?m.jsx(Ik,{stage:t}):null]}),m.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:t?t.description:"    ."}),t!=null&&t.action?m.jsx("p",{className:"mt-1 text-[11px] font-medium text-slate-600",children:t.action}):null]}),m.jsx("div",{className:"space-y-2",children:Tie.map(r=>m.jsxs("div",{className:"rounded-xl border border-slate-100 p-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold text-slate-700",children:[m.jsx("span",{children:r.rangeLabel}),m.jsx(Ik,{stage:r})]}),m.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:r.description}),m.jsx("p",{className:"mt-1 text-[11px] font-medium text-slate-600",children:r.action})]},r.key))}),m.jsx("p",{className:"text-[11px] text-slate-500",children:"0%         shortage   ."}),m.jsx("p",{className:"text-[11px] text-slate-500",children:" 0  0%,     100% .       ."})]}),OFe=({currentRate:e})=>{const[t,r]=A.useState(!1),n=A.useRef(null),a=SFe(e);return A.useEffect(()=>{if(!t)return;const i=o=>{n.current&&(n.current.contains(o.target)||r(!1))},s=o=>{o.key==="Escape"&&r(!1)};return document.addEventListener("mousedown",i),document.addEventListener("keydown",s),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("keydown",s)}},[t]),m.jsxs("div",{className:"relative flex items-center gap-2",ref:n,children:[a?m.jsx(Ik,{stage:a}):m.jsx("span",{className:"text-[11px] font-medium text-slate-400",children:" "}),m.jsx("button",{type:"button",className:"rounded-full border border-slate-200 px-3 py-1 text-[11px] font-medium text-slate-600 transition hover:border-indigo-200 hover:bg-indigo-50 hover:text-indigo-600","aria-expanded":t,onClick:()=>r(i=>!i),children:""}),t?m.jsx("div",{className:"absolute right-0 z-20 mt-2 w-80 rounded-2xl border border-slate-200 bg-white/95 p-4 text-xs text-slate-600 shadow-xl backdrop-blur",children:m.jsx(DFe,{currentRate:e,stage:a})}):null]})},tu={fontSize:12,fill:"#64748b"},Pv="#E2E8F0",Eb={borderRadius:12,border:`1px solid ${Pv}`,boxShadow:"0 6px 18px rgba(2, 6, 23, 0.08)",padding:8},Fc=e=>Number.isFinite(e)?Math.round(e).toLocaleString():"-",PFe={SHORTAGE:"rgba(244, 63, 94, 0.06)",EXCELLENT:"rgba(56, 189, 248, 0.08)",GOOD:"rgba(16, 185, 129, 0.08)",WATCH:"rgba(245, 158, 11, 0.08)",ISSUE:"rgba(249, 115, 22, 0.08)",SEVERE:"rgba(239, 68, 68, 0.08)"},kFe=({skus:e,selected:t,setSelected:r,policies:n})=>{var Fe;const a=A.useMemo(()=>{const ue=new Map;return n.forEach(nt=>{nt!=null&&nt.sku&&ue.set(nt.sku.trim().toUpperCase(),nt)}),ue},[n]),[{from:i,to:s}]=A.useState(AFe),[o,l]=A.useState(""),[u,f]=A.useState("all"),[d,p]=A.useState([]),[v,y]=A.useState(!1),[x,b]=A.useState(null),w=A.useMemo(()=>d.map(ue=>({value:ue.code,label:ue.name?`${ue.name} (${ue.code})`:ue.code})),[d]),[_,T]=A.useState(0),[M,N]=A.useState(null),[C,j]=A.useState(i),[O,P]=A.useState(s),[R,k]=A.useState(null),[L,I]=A.useState(!1),[$,F]=A.useState(null),[z,V]=A.useState(null),[q,W]=A.useState(!1),[Y,H]=A.useState(null),[U,K]=A.useState(null),ee=A.useCallback(()=>T(ue=>ue+1),[]);A.useEffect(()=>{let ue=!1;return y(!0),b(null),Hu({pageSize:100}).then(nt=>{if(ue)return;const tt=Array.isArray(nt.items)?nt.items:[];p(tt),N(Q=>Q&&tt.some(we=>we.code===Q)?Q:null)}).catch(nt=>{if(ue)return;const tt=nt instanceof Error&&nt.message?nt.message:"Unable to load warehouses.";b(tt),p([])}).finally(()=>{ue||y(!1)}),()=>{ue=!0}},[_]);const ae=A.useMemo(()=>M?d.find(ue=>ue.code===M)??null:null,[M,d]);A.useEffect(()=>{U&&(e.some(ue=>ue.sku===U)||K(null))},[U,e]);const xe=A.useMemo(()=>{if(!U)return null;const ue=e.find(nt=>nt.sku===U);return ue?`${ue.name} (${ue.sku})`:U},[U,e]);A.useEffect(()=>{if(!SK(C,O)){k(null),F("Invalid date range.");return}let ue=!1;I(!0),F(null);const nt={from:C,to:O,groupBy:"month"};return M&&(nt.warehouseCode=M),U&&(nt.sku=U),eg(nt).then(tt=>{ue||k(tt)}).catch(tt=>{if(ue)return;const Q=tt instanceof Error&&tt.message?tt.message:"Unable to load analysis data.";F(Q),k(null)}).finally(()=>{ue||I(!1)}),()=>{ue=!0}},[U,C,O,M]),A.useEffect(()=>{if(!SK(C,O)){V(null),H("Invalid date range."),W(!1);return}let ue=!1;return W(!0),H(null),bMe({from:C,to:O,warehouseCode:M??void 0}).then(nt=>{ue||V(nt)}).catch(nt=>{if(ue)return;const tt=nt instanceof Error&&nt.message?nt.message:"Unable to load warehouse items.";H(tt),V(null)}).finally(()=>{ue||W(!1)}),()=>{ue=!0}},[C,O,M]);const ke=A.useMemo(()=>{const ue=new Map;return z!=null&&z.items&&z.items.forEach(nt=>{const tt=e.find(Q=>Q.sku===nt.sku);tt&&ue.set(nt.sku,{...nt,risk:tt.risk,category:tt.category})}),ue},[e,z]),Je=A.useMemo(()=>{const ue=o.trim().toLowerCase();return e.filter(nt=>ue.length===0||nt.sku.toLowerCase().includes(ue)||nt.name.toLowerCase().includes(ue)||nt.category.toLowerCase().includes(ue)||nt.subCategory.toLowerCase().includes(ue))},[o,e]),be=!!M,Te=((Fe=z==null?void 0:z.items)==null?void 0:Fe.length)??0,De=be&&!q&&Te===0,J=!be||Te>0||q,it=A.useMemo(()=>De?[]:(be&&Te>0?Je.filter(tt=>ke.has(tt.sku)):Je).map(tt=>{const Q=ke.get(tt.sku),we=Q?Q.onHand:tt.onHand,st=Q?Q.reserved:tt.reserved,me=Q?Q.available:CFe(tt),ce=Q?Q.inbound:tt.totalInbound??0,he=Q?Q.outbound:tt.totalOutbound??0,ze=(Q==null?void 0:Q.avgDailyInbound)??null,Ge=Q?Q.avgDailyOutbound:NFe(tt.avgOutbound7d,tt.dailyAvg),at=a.get(tt.sku.trim().toUpperCase()),lt=at&&Number.isFinite(at.demandStdDev??NaN)?Math.max(at.demandStdDev,0):null,ge=at&&Number.isFinite(at.leadTimeDays??NaN)?Math.max(at.leadTimeDays,0):null,Ee=at&&Number.isFinite(at.serviceLevelPercent??NaN)?at.serviceLevelPercent:null,$e=MFe(Ee),Oe=lt!==null&&ge!==null&&$e>0?Math.max(0,Math.round(lt*$e*Math.sqrt(ge))):null,mt=Q?Q.safetyStock:Oe??Math.round(Math.max(tt.dailyAvg,0)*12),Tt=(Q==null?void 0:Q.stockoutEtaDays)??(Ge>0?me/Ge:null),Ce=(Q==null?void 0:Q.projectedStockoutDate)??wK(Tt),Re=(Q==null?void 0:Q.riskLabel)??bK(tt.risk),Nt=Q==null?void 0:Q.riskScore;return{sku:tt.sku,name:tt.name,category:tt.category,risk:tt.risk,riskLabel:Re,riskScore:Nt,onHand:we,reserved:st,available:me,inbound:ce,outbound:he,avgDailyInbound:ze,avgDailyOutbound:Ge,safetyStock:mt,stockoutEtaDays:Tt,projectedStockoutDate:Ce}}).sort((tt,Q)=>Q.available-tt.available),[Je,be,a,De,Te,ke]),Ue=A.useMemo(()=>u==="all"?it:it.filter(ue=>ue.riskLabel===u),[it,u]),ft=A.useCallback(ue=>{const nt=new Date,tt=new Date(Date.UTC(nt.getUTCFullYear(),nt.getUTCMonth(),nt.getUTCDate())),Q=new Date(tt);Q.setUTCDate(Q.getUTCDate()-(ue-1)),j(b0(Q)),P(b0(tt))},[]),le=A.useMemo(()=>{const ue={:0,:0,:0};return it.forEach(nt=>{ue[nt.riskLabel]+=1}),ue},[it]),te=A.useMemo(()=>it.length,[it]),Ne=A.useMemo(()=>!(R!=null&&R.periodSeries)||!J?[]:R.periodSeries.map(ue=>({label:ue.label,outbound:ue.outbound})),[R,J]),Le=A.useMemo(()=>!(R!=null&&R.stockSeries)||!J?[]:R.stockSeries.map(ue=>({date:vD(ue.date),available:ue.available})),[R,J]),Pe=A.useMemo(()=>!(R!=null&&R.stockSeries)||!J?[]:R.stockSeries.map(ue=>({date:vD(ue.date),available:ue.available,safety:ue.safetyStock})),[R,J]),He=A.useMemo(()=>!(R!=null&&R.stockSeries)||!J?[]:R.stockSeries.map(ue=>{const nt=ue.safetyStock,tt=ue.available,Q=nt>0?Math.max((tt-nt)/nt*100,0):tt>0?100:0;return{date:vD(ue.date),overstockRate:Number.isFinite(Q)?Math.round(Q*10)/10:0}}),[R,J]),pe=He.length>0?He[He.length-1].overstockRate:null;return R==null||R.totals,m.jsxs("div",{className:"grid grid-cols-12 gap-6 p-6",children:[m.jsxs(Gd,{className:"col-span-12",children:[m.jsxs("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-end lg:justify-between",children:[m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-end",children:[m.jsxs("div",{className:"sm:w-64",children:[m.jsx("label",{htmlFor:"inventory-search",className:"sr-only",children:"SKU   "}),m.jsx("input",{id:"inventory-search",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"SKU, ,  ",value:o,onChange:ue=>l(ue.target.value)})]}),m.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-end",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:""}),m.jsx(Mr,{value:M??"",onChange:ue=>{N(ue||null)},disabled:v&&d.length===0,options:[{value:"",label:" "},...w],placeholder:" ",inputClassName:"min-w-[160px] rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 disabled:bg-slate-100 disabled:text-slate-400"})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:""}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",className:"rounded-xl border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:C,max:O,onChange:ue=>j(ue.target.value)}),m.jsx("span",{className:"text-slate-400",children:"~"}),m.jsx("input",{type:"date",className:"rounded-xl border border-slate-300 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:O,min:C,onChange:ue=>P(ue.target.value)})]})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:[7,30,90].map(ue=>m.jsxs("button",{type:"button",className:"rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 transition hover:border-indigo-200 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>ft(ue),children:[" ",ue,""]},ue))})]})]}),m.jsxs("div",{className:"flex flex-col gap-1 text-xs text-slate-500 lg:items-end lg:text-right",children:[m.jsx("span",{children:ae?`${ae.name} (${ae.code}) `:"  "}),U?m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("span",{children:xe?`${xe} `:`SKU ${U} `}),m.jsx("button",{type:"button",className:"rounded-full border border-slate-200 px-2 py-1 text-[11px] font-medium text-slate-500 transition hover:border-indigo-200 hover:bg-indigo-50 hover:text-indigo-600",onClick:()=>K(null),children:"  "})]}):m.jsx("span",{children:"  "})]})]}),x&&m.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-rose-500",children:[m.jsx("span",{children:x}),m.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-2 py-0.5 text-[11px] font-medium text-rose-500 transition hover:border-rose-300 hover:bg-rose-50",onClick:ee,children:" "})]})]}),m.jsxs(Gd,{title:"  ",className:"col-span-12",children:[m.jsxs("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2 text-xs text-slate-500",children:[m.jsxs("div",{children:[" ",Ue.length," SKU / ",ae?`${ae.name} `:"  "]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("button",{type:"button",className:`rounded-full px-3 py-1 border ${u==="all"?"border-indigo-300 bg-indigo-50 text-indigo-600":"border-slate-200 text-slate-600 hover:border-indigo-200 hover:bg-indigo-50"}`,onClick:()=>f("all"),children:[" ",te]}),TFe.map(ue=>m.jsxs("button",{type:"button",className:`rounded-full px-3 py-1 border ${u===ue?"border-indigo-300 bg-indigo-50 text-indigo-600":"border-slate-200 text-slate-600 hover:border-indigo-200 hover:bg-indigo-50"}`,onClick:()=>f(ue),children:[Nie[ue]??ue," ",le[ue]??0]},ue))]})]}),Y&&m.jsx("div",{className:"mb-3 rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-xs text-amber-700",children:Y}),q&&m.jsx("div",{className:"mb-3 text-xs text-slate-400",children:"   ..."}),m.jsx("div",{className:"overflow-auto max-h-[420px] rounded-xl border",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-slate-50 text-left text-xs uppercase text-slate-500 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"SKU"}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:" "}),m.jsx("th",{className:"px-3 py-2 text-right",children:" "}),m.jsx("th",{className:"px-3 py-2 text-right",children:" "}),m.jsx("th",{className:"px-3 py-2 text-right",children:" "}),m.jsx("th",{className:"px-3 py-2 text-right",children:"  "}),m.jsx("th",{className:"px-3 py-2 text-right",children:"  "}),m.jsx("th",{className:"px-3 py-2 text-right",children:"(YYYY-MM-DD)"}),m.jsx("th",{className:"px-3 py-2 text-center",children:""})]})}),m.jsx("tbody",{children:Ue.length===0&&!q?m.jsx("tr",{children:m.jsx("td",{colSpan:12,className:"px-3 py-10 text-center text-slate-500",children:" "})}):Ue.map(ue=>m.jsxs("tr",{className:`cursor-pointer border-t border-slate-100 transition hover:bg-indigo-50/40 ${U===ue.sku?"bg-indigo-50/60":""}`,onClick:()=>{const nt=e.find(tt=>tt.sku===ue.sku);nt&&r(nt),K(ue.sku)},children:[m.jsx("td",{className:"px-3 py-2 font-mono text-xs text-slate-500",children:ue.sku}),m.jsx("td",{className:"px-3 py-2 text-slate-800",children:ue.name}),m.jsx("td",{className:"px-3 py-2 text-slate-500",children:ue.category}),m.jsx("td",{className:"px-3 py-2 text-right font-semibold text-slate-800",children:ue.onHand.toLocaleString()}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-700",children:ue.available.toLocaleString()}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-700",children:ue.safetyStock.toLocaleString()}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:ue.inbound.toLocaleString()}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:ue.outbound.toLocaleString()}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:ue.avgDailyInbound?ue.avgDailyInbound.toFixed(1):""}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:ue.avgDailyOutbound?ue.avgDailyOutbound.toFixed(1):""}),m.jsx("td",{className:"px-3 py-2 text-right text-slate-600",children:ue.projectedStockoutDate??(Number.isFinite(ue.stockoutEtaDays??NaN)&&ue.stockoutEtaDays!==null?wK(ue.stockoutEtaDays):null)??" "}),m.jsx("td",{className:"px-3 py-2 text-center",children:m.jsx(EFe,{risk:ue.riskLabel??bK(ue.risk)})})]},ue.sku))})]})})]}),m.jsx(Gd,{title:" ",className:"col-span-12 lg:col-span-6",children:m.jsx("div",{className:"h-60",children:Ne.length===0?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-400",children:De?" ":"    ."}):m.jsx(yb,{width:"100%",height:"100%",children:m.jsxs(wFe,{data:Ne,children:[m.jsx(Ov,{strokeDasharray:"4 4",vertical:!1,stroke:Pv}),m.jsx(Tu,{dataKey:"label",tick:tu,axisLine:!1,tickLine:!1,tickMargin:8}),m.jsx(Cu,{tick:tu,axisLine:!1,tickLine:!1,tickMargin:8,tickFormatter:ue=>Fc(ue)}),m.jsx(ui,{contentStyle:Eb,formatter:ue=>[Fc(ue),""]}),m.jsx(Xs,{verticalAlign:"bottom",height:24,iconType:"circle",wrapperStyle:{fontSize:12}}),m.jsx("defs",{children:m.jsxs("linearGradient",{id:"gOutbound",x1:"0",x2:"0",y1:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"#fb923c",stopOpacity:.95}),m.jsx("stop",{offset:"100%",stopColor:"#fb923c",stopOpacity:.6})]})}),m.jsx(Uf,{dataKey:"outbound",fill:"url(#gOutbound)",name:"",radius:[8,8,2,2],children:m.jsx(sl,{position:"top",formatter:ue=>Fc(ue),className:"fill-slate-600 text-[10px]"})})]})})})}),m.jsx(Gd,{title:"  ",className:"col-span-12 lg:col-span-6",children:m.jsx("div",{className:"h-60",children:Le.length===0?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-400",children:De?" ":"    ."}):m.jsx(yb,{width:"100%",height:"100%",children:m.jsxs(mD,{data:Le,syncId:"inventory",children:[m.jsx(Ov,{strokeDasharray:"4 4",vertical:!1,stroke:Pv}),m.jsx(Tu,{dataKey:"date",tick:tu,axisLine:!1,tickLine:!1,tickMargin:8}),m.jsx(Cu,{tick:tu,axisLine:!1,tickLine:!1,tickMargin:8,tickFormatter:ue=>Fc(ue)}),m.jsx(ui,{contentStyle:Eb,labelFormatter:ue=>`: ${ue}`,formatter:ue=>[Fc(ue)," "],cursor:{stroke:"#94A3B8",strokeDasharray:"4 2"}}),m.jsx(Xs,{verticalAlign:"bottom",height:24,iconType:"circle",wrapperStyle:{fontSize:12}}),m.jsx(v0,{y:0,stroke:"#CBD5E1"}),m.jsx(_u,{type:"monotone",dataKey:"available",stroke:"#22c55e",strokeWidth:2,name:" ",dot:!1,activeDot:{r:3}})]})})})}),m.jsx(Gd,{title:"  vs  ",className:"col-span-12 lg:col-span-6",children:m.jsx("div",{className:"h-60",children:Pe.length===0?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-400",children:De?" ":"    ."}):m.jsx(yb,{width:"100%",height:"100%",children:m.jsxs(mD,{data:Pe,syncId:"inventory",children:[m.jsx(Ov,{strokeDasharray:"4 4",vertical:!1,stroke:Pv}),m.jsx(Tu,{dataKey:"date",tick:tu,axisLine:!1,tickLine:!1,tickMargin:8}),m.jsx(Cu,{tick:tu,axisLine:!1,tickLine:!1,tickMargin:8,tickFormatter:ue=>Fc(ue)}),m.jsx(ui,{contentStyle:Eb,labelFormatter:ue=>`: ${ue}`,formatter:(ue,nt)=>[Fc(ue),nt],cursor:{stroke:"#94A3B8",strokeDasharray:"4 2"}}),m.jsx(Xs,{verticalAlign:"bottom",height:24,iconType:"circle",wrapperStyle:{fontSize:12}}),m.jsx(_u,{type:"monotone",dataKey:"available",stroke:"#2563eb",strokeWidth:2,name:" ",dot:!1,activeDot:{r:3}}),m.jsx(_u,{type:"monotone",dataKey:"safety",stroke:"#f97316",strokeWidth:2,strokeDasharray:"6 3",name:" ",dot:!1})]})})})}),m.jsx(Gd,{title:"  ",className:"col-span-12 lg:col-span-6",actions:m.jsx(OFe,{currentRate:pe}),children:m.jsx("div",{className:"h-60",children:He.length===0?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-400",children:De?" ":"   ."}):m.jsx(yb,{width:"100%",height:"100%",children:m.jsxs(mD,{data:He,syncId:"inventory",children:[m.jsx(Ov,{strokeDasharray:"4 4",vertical:!1,stroke:Pv}),m.jsx(Tu,{dataKey:"date",tick:tu,axisLine:!1,tickLine:!1,tickMargin:8}),m.jsx(Cu,{tick:tu,axisLine:!1,tickLine:!1,tickMargin:8,tickFormatter:ue=>`${ue}%`,domain:[0,100]}),m.jsx(ui,{contentStyle:Eb,labelFormatter:ue=>`: ${ue}`,formatter:ue=>[`${ue}%`," "],cursor:{stroke:"#94A3B8",strokeDasharray:"4 2"}}),m.jsx(Xs,{verticalAlign:"bottom",height:24,iconType:"circle",wrapperStyle:{fontSize:12}}),Tie.map(ue=>{var nt,tt;return m.jsx(Z0,{y1:ue.min,y2:ue.max===Number.POSITIVE_INFINITY?100:ue.max,x1:(nt=He[0])==null?void 0:nt.date,x2:(tt=He[He.length-1])==null?void 0:tt.date,strokeOpacity:0,fill:PFe[ue.key]},ue.key)}),m.jsx(v0,{y:0,stroke:"#CBD5E1"}),m.jsx(_u,{type:"monotone",dataKey:"overstockRate",stroke:"#ef4444",strokeWidth:2,name:" ",dot:!1,activeDot:{r:3}})]})})})})]})},RFe=15e3,sS=.4,oS=.25;async function LFe(e){var r;const t=await Hn("/api/policies/recommend-forecast",e);if(!t.success||!t.recommendation){const n=((r=t.error)==null?void 0:r.trim())||"  .";throw new Error(n)}return t.recommendation}async function Aie(){var r;const e=await aa("/api/policies",{timeoutMs:RFe});if(!e.success){const n=((r=e.message)==null?void 0:r.trim())||"  .";throw new Error(n)}return(Array.isArray(e.items)?e.items:[]).map(n=>({sku:n.sku,name:typeof n.name=="string"&&n.name.trim()||null,forecastDemand:n.forecastDemand??null,demandStdDev:n.demandStdDev??null,leadTimeDays:n.leadTimeDays??null,serviceLevelPercent:n.serviceLevelPercent??null,smoothingAlpha:sS,corrRho:oS}))}async function kh(e){var r;const t=await Hn("/api/policies/bulk-save",{items:(e??[]).map(n=>({...n,name:n.name??null,smoothingAlpha:sS,corrRho:oS}))});if(!t.success){const n=((r=t.message)==null?void 0:r.trim())||"  .";throw new Error(n)}}async function IFe(e){var r;const t=await dR(`/api/policies/${encodeURIComponent(e.sku)}`,{...e,name:e.name??null,smoothingAlpha:sS,corrRho:oS});if(!t.success||!t.item){const n=((r=t.error)==null?void 0:r.trim())||"  .";throw new Error(n)}return{...t.item,smoothingAlpha:sS,corrRho:oS}}const Vr={common:{start:"",end:"",apply:"",cancel:""},purchaseOrders:{filter:{title:" ",summaryEmpty:" ",presets:{all:" ",today:"",recent7Days:" 7",recent30Days:" 30",lastWeek:"",thisMonth:" ",lastMonth:"",recent12Months:" 12"},actions:{open:" ",clear:" "},errors:{invalidRange:"    .",limitExceeded:" 365   ."}},tabs:{labels:{all:" ",draft:" ",awaiting:" ",partial:" ",received:" "},empty:"    ."}},salesOrders:{title:" ",actions:{newOrder:"  "},filter:{summaryEmpty:" ",actions:{open:" ",clear:" "},errors:{invalidRange:"    .",limitExceeded:" 365   ."}},tabs:{labels:{all:" ",draft:" ",awaiting:" ",partial:" ",shipped:" ",canceled:""},empty:"    ."},list:{empty:"   .",loading:" ",error:"   "}}},Rh=1440*60*1e3,Mie=540*60*1e3,z_=365,lS=z_*Rh,es=e=>new Date(e).toISOString(),uS=(e,t,r,n=0,a=0,i=0,s=0)=>Date.UTC(e,t,r,n,a,i,s)-Mie,h3=e=>{const t=new Date(e+Mie);return{year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate(),weekday:t.getUTCDay()}},TK=()=>{const{startUtcMs:e,endUtcMs:t}=qu();return{from:es(e),to:es(t)}},CK=e=>{const{startUtcMs:t,endUtcMs:r}=qu(),n=t-(e-1)*Rh;return{from:es(n),to:es(r)}},BFe=()=>{const{startUtcMs:e}=qu(),{weekday:t}=h3(e),r=(t+6)%7,a=e-r*Rh-7*Rh,i=a+7*Rh-1;return{from:es(a),to:es(i)}},Eie=(e,t)=>{const r=uS(e,t,1),n=uS(e,t+1,1);return{from:es(r),to:es(n-1)}},$Fe=()=>{const{startUtcMs:e}=qu(),{year:t,month:r}=h3(e);return Eie(t,r)},zFe=()=>{const{startUtcMs:e}=qu(),{year:t,month:r}=h3(e),n=r===0?11:r-1,a=r===0?t-1:t;return Eie(a,n)},FFe=()=>{const{startUtcMs:e,endUtcMs:t}=qu(),r=e-(z_-1)*Rh;return{from:es(r),to:es(t)}},NK=e=>{if(!e)return null;const t=e.trim();if(!t)return null;const r=/^(\d{4})-(\d{2})-(\d{2})$/.exec(t);if(!r)return null;const n=Number(r[1]),a=Number(r[2]),i=Number(r[3]);if(!Number.isFinite(n)||!Number.isFinite(a)||!Number.isFinite(i))return null;const s=a-1,o=new Date(n,s,i);return o.getFullYear()!==n||o.getMonth()!==s||o.getDate()!==i?null:{year:n,monthIndex:s,day:i}},AK=(e,t)=>e?t?uS(e.year,e.monthIndex,e.day,23,59,59,999):uS(e.year,e.monthIndex,e.day):null,sg=(e,t)=>{const r=NK(e),n=NK(t);if(!r||!n)return null;const a=AK(r,!1),i=AK(n,!0);return a===null||i===null||i<a?null:{from:es(a),to:es(i)}},p3=["today","recent7Days","recent30Days","lastWeek","thisMonth","lastMonth","recent12Months"],jie=e=>{switch(e){case"today":return TK();case"recent7Days":return CK(7);case"recent30Days":return CK(30);case"lastWeek":return BFe();case"thisMonth":return $Fe();case"lastMonth":return zFe();case"recent12Months":return FFe();default:return TK()}},UFe=["all",...p3],HFe=["","","","","","",""],MK=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`},VFe=e=>/^\d{4}-\d{2}-\d{2}$/.test(e),qFe=(e,t)=>{const n=new Date(e,t,1).getDay(),a=new Date(e,t+1,0).getDate(),i=[],s=42;for(let o=0;o<s;o+=1){const l=o-n+1;let u,f=!0;l<=0?(u=new Date(e,t,l),f=!1):l>a?(u=new Date(e,t+1,l-a),f=!1):u=new Date(e,t,l),i.push({date:u,isCurrentMonth:f})}return i},Die=({isOpen:e,onClose:t,onPresetSelect:r,manualFrom:n,manualTo:a,onManualChange:i,onApply:s,isManualValid:o,validationMessage:l,activePreset:u,maxRangeDays:f})=>{const[d,p]=A.useState(()=>new Date);A.useEffect(()=>{const N=n||a;if(!N||!VFe(N))return;const C=new Date(N);Number.isNaN(C.getTime())||p(new Date(C.getFullYear(),C.getMonth(),1))},[n,a]);const v=N=>{const C=MK(N),j=n;if(!j||j&&a){i({from:C,to:""});return}if(C<=j){i({from:C,to:j});return}i({from:j,to:C})},y=N=>{p(C=>new Date(C.getFullYear(),C.getMonth()+N,1))},x=A.useMemo(()=>qFe(d.getFullYear(),d.getMonth()),[d]);if(!e)return null;const b=n,w=a,_=N=>b?w?N>=b&&N<=w:N===b:!1,T=N=>["rounded-2xl border px-3 py-2 text-left text-xs font-semibold transition",u===N?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:text-slate-900"].join(" "),M=b&&w?`${b} ~ ${w}`:b?`${b} ~ `:Vr.purchaseOrders.filter.summaryEmpty;return m.jsxs("section",{className:"rounded-3xl border border-slate-100 bg-white/95 p-6 shadow-[0_30px_60px_rgba(15,23,42,0.08)]",children:[m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-slate-400",children:Vr.purchaseOrders.filter.label}),m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Vr.purchaseOrders.filter.title}),m.jsx("p",{className:"text-xs text-slate-500",children:M})]}),m.jsx("button",{type:"button",onClick:t,className:"text-slate-400 transition hover:text-slate-700","aria-label":"  ",children:""})]}),m.jsxs("div",{className:"mt-4 grid gap-5 lg:grid-cols-[minmax(0,1fr)_210px]",children:[m.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50 p-5",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("button",{type:"button",onClick:()=>y(-1),className:"rounded-full border border-slate-200 p-2 text-slate-600 transition hover:border-slate-300 hover:text-slate-900","aria-label":" ",children:""}),m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:d.toLocaleString("ko-KR",{month:"long",year:"numeric"})}),m.jsx("button",{type:"button",onClick:()=>y(1),className:"rounded-full border border-slate-200 p-2 text-slate-600 transition hover:border-slate-300 hover:text-slate-900","aria-label":" ",children:""})]}),m.jsx("div",{className:"grid grid-cols-7 gap-1 text-[11px] font-semibold uppercase tracking-widest text-slate-500",children:HFe.map(N=>m.jsx("div",{className:"text-center",children:N},N))}),m.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map(({date:N,isCurrentMonth:C})=>{const j=MK(N),O=_(j),P=j===b,R=j===w;return m.jsx("button",{type:"button",onClick:()=>v(N),className:["h-10 w-10 rounded-2xl text-sm font-semibold transition",C?"text-slate-900":"text-slate-300",O?"bg-indigo-600 text-white":"bg-white",P?"rounded-l-[12px]":"",R?"rounded-r-[12px]":""].filter(Boolean).join(" "),"aria-pressed":O,children:N.getDate()},j)})}),m.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-4",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-500",children:" "}),m.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[m.jsxs("label",{className:"flex flex-col gap-1 text-xs text-slate-500",children:[m.jsx("span",{className:"font-semibold uppercase tracking-[0.3em]",children:Vr.common.start}),m.jsx("input",{type:"date",className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100",value:n,onChange:N=>i({from:N.target.value,to:a})})]}),m.jsxs("label",{className:"flex flex-col gap-1 text-xs text-slate-500",children:[m.jsx("span",{className:"font-semibold uppercase tracking-[0.3em]",children:Vr.common.end}),m.jsx("input",{type:"date",className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100",value:a,onChange:N=>i({from:n,to:N.target.value})})]})]}),l?m.jsx("p",{className:"text-xs font-semibold text-rose-600",children:l}):null]})]}),m.jsx("div",{className:"space-y-3 rounded-2xl border border-slate-100 bg-white p-4 shadow-inner",children:UFe.map(N=>m.jsx("button",{type:"button",className:T(N),onClick:()=>r(N),"aria-pressed":u===N,children:N==="all"?Vr.purchaseOrders.filter.presets.all:Vr.purchaseOrders.filter.presets[N]},N))})]}),m.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-500 transition hover:border-slate-300 hover:text-slate-900",children:Vr.common.cancel}),m.jsx("button",{type:"button",onClick:s,disabled:!o,className:`rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] transition ${o?"bg-indigo-600 text-white hover:bg-indigo-700":"cursor-not-allowed bg-slate-200 text-slate-400"}`,children:Vr.common.apply})]})]})},GFe=async e=>{const t=new URLSearchParams;e!=null&&e.from&&t.set("from",e.from),e!=null&&e.to&&t.set("to",e.to);const r=t.toString(),n=r?`/purchase-orders?${r}`:"/purchase-orders";return(await aa(n)).items},WFe=async e=>{const r=new URLSearchParams({orderDate:e}).toString(),n=r?`/purchase-orders/next-number?${r}`:"/purchase-orders/next-number";return(await aa(n)).item},KFe=async e=>(await Hn("/purchase-orders",e)).item,gD=async e=>(await Hn("/purchase-orders/drafts",e)).item,EK=async(e,t)=>(await dR(`/purchase-orders/drafts/${encodeURIComponent(e)}`,t)).item,Oie=async e=>(await E0(`/purchase-orders/${encodeURIComponent(e)}`)).item,Pie=async(e,t)=>(await aa(`/purchase-orders/${encodeURIComponent(e)}`,{timeoutMs:t==null?void 0:t.timeoutMs})).item,YFe={open:"",partial:" ",closed:" ",canceled:"",draft:""},cS=e=>YFe[e]??e,F_={draft:{badge:"bg-sky-50 text-sky-700",ring:"ring-sky-100"},awaiting:{badge:"bg-[#F97316] text-white",ring:"ring-[#F97316]/50"},partial:{badge:"bg-orange-50 text-orange-700",ring:"ring-orange-100"},completed:{badge:"bg-emerald-50 text-emerald-700",ring:"ring-emerald-100"},canceled:{badge:"bg-rose-50 text-rose-700",ring:"ring-rose-100"},unknown:{badge:"bg-slate-50 text-slate-600",ring:"ring-slate-100"}},kie={draft:"draft",open:"awaiting",partial:"partial",closed:"completed",canceled:"canceled"},Rie={draft:"draft",open:"awaiting",partial:"partial",packed:"partial",closed:"completed",canceled:"canceled"},U_=(e,t)=>e[t]??"unknown",m3=e=>F_[U_(kie,e)].badge,Lie=e=>F_[U_(kie,e)].ring,v3=e=>F_[U_(Rie,e)].badge,Iie=e=>F_[U_(Rie,e)].ring,Bie=540*60*1e3,XFe=e=>e?new Date(e).toLocaleDateString():"",jb=e=>{const t=Date.parse(e);if(Number.isNaN(t))return"";const r=new Date(t+Bie),n=r.getUTCFullYear(),a=String(r.getUTCMonth()+1).padStart(2,"0"),i=String(r.getUTCDate()).padStart(2,"0");return`${n}-${a}-${i}`},ZFe=1440*60*1e3,$ie=e=>Math.floor((e+Bie)/ZFe),QFe=(e,t)=>{if(!e)return null;const r=Date.parse(e);return Number.isNaN(r)?null:$ie(r)-t},JFe=e=>{const t=[];if(e.lines.forEach(n=>{if(Math.max(0,n.orderedQty-n.receivedQty)<=0)return;const i=n.promisedDate??e.promisedDate;if(!i)return;const s=Date.parse(i);Number.isNaN(s)||t.push({iso:i,timestamp:s})}),t.length===0){if(!e.promisedDate)return null;const n=Date.parse(e.promisedDate);return Number.isNaN(n)?null:e.promisedDate}return t.reduce((n,a)=>a.timestamp<n.timestamp?a:n).iso},eUe=e=>e===null?"":e===0?"D-0":e>0?`D-${e}`:`D+${Math.abs(e)}`,tUe=e=>e===null?"bg-slate-100 text-slate-600":e<0?"bg-rose-100 text-rose-600":e===0?"bg-sky-100 text-sky-700":e<=3?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700",rUe=(e,t,r)=>e==="draft"?"draft":e==="canceled"?"excluded":t<=0?"received":r<=0?"awaiting":"partial",Wd="poFilter",jK="date",Db="poFrom",Ob="poTo",pv="poPreset",nUe=new Set(p3),DK=e=>e!==null&&nUe.has(e),aUe=()=>{const e=po(),[t,r]=gS(),[n,a]=A.useState([]),[i,s]=A.useState(!0),[o,l]=A.useState(null),[u,f]=A.useState({from:"",to:""}),[d,p]=A.useState(null),[v,y]=A.useState("all"),[x,b]=A.useState(null),[w,_]=A.useState(!1),[T,M]=A.useState(null),N=t.get(Wd)===jK,C=t.get(pv),j=t.get(Db),O=t.get(Ob),P=A.useMemo(()=>DK(C)?jie(C):j&&O?sg(j,O):null,[j,O,C]),R=A.useMemo(()=>DK(C)?C:P&&j&&O?"custom":"all",[P,j,C]),k=A.useCallback(async le=>{s(!0),l(null);try{const te=await GFe(le?{from:le.from,to:le.to}:void 0);a(te)}catch(te){l(te instanceof Error?te.message:"   ")}finally{s(!1)}},[]);A.useEffect(()=>{k(P)},[P,k]),A.useEffect(()=>{if(N){if(P){f({from:jb(P.from),to:jb(P.to)}),p(null);return}f({from:j??"",to:O??""}),p(null)}},[P,N,j,O]);const L=sg(u.from,u.to),I=L!==null?Date.parse(L.to)-Date.parse(L.from):0,$=!!(L&&I<=lS),F=le=>{const te=new URLSearchParams(t);te.delete(Wd),te.delete(Db),te.delete(Ob),le==="all"?te.delete(pv):te.set(pv,le),r(te)},z=()=>{if(!L){p(Vr.purchaseOrders.filter.errors.invalidRange);return}if(I>lS){p(Vr.purchaseOrders.filter.errors.limitExceeded);return}const le=new URLSearchParams(t);le.set(Db,u.from),le.set(Ob,u.to),le.delete(pv),le.delete(Wd),r(le)},V=le=>{f(le),p(null)},q=()=>{const le=new URLSearchParams(t);le.delete(Db),le.delete(Ob),le.delete(pv),le.delete(Wd),r(le)},W=A.useMemo(()=>P?`${jb(P.from)} ~ ${jb(P.to)}`:Vr.purchaseOrders.filter.summaryEmpty,[P]),Y=()=>{const le=new URLSearchParams(t);le.set(Wd,jK),r(le)},H=()=>{const le=new URLSearchParams(t);le.delete(Wd),r(le)},U=()=>{e("/purchase-orders/new")},K=le=>{const te=`/purchase-orders/drafts/${encodeURIComponent(le)}/edit`;e(te)},ee=le=>{const te=`/purchase-orders/${encodeURIComponent(le)}`;e(te)},ae=le=>{if(le.status==="draft"){K(le.id);return}ee(le.id)},xe=le=>{b(le),M(null)},ke=()=>{w||(b(null),M(null))},Je=async()=>{if(x){_(!0),M(null);try{await Oie(x.id),a(le=>le.filter(te=>te.id!==x.id)),b(null)}catch(le){const te=le instanceof Error?le.message:" .   .";M(te)}finally{_(!1)}}},be=A.useMemo(()=>{const le=$ie(Date.now());return n.map(te=>{const Ne=te.lines.reduce((Fe,ue)=>Fe+ue.orderedQty,0),Le=te.lines.reduce((Fe,ue)=>Fe+ue.receivedQty,0),Pe=Math.max(0,Ne-Le),He=Pe>0?JFe(te):null,pe=Pe>0?QFe(He,le):null;return{...te,totalOrdered:Ne,totalReceived:Le,remaining:Pe,dday:pe,tabCategory:rUe(te.status,Pe,Le)}})},[n]),Te=A.useMemo(()=>{const le={all:0,draft:0,awaiting:0,partial:0,received:0};return be.forEach(te=>{if(te.tabCategory!=="excluded"){if(te.tabCategory==="draft"){le.draft+=1;return}le[te.tabCategory]+=1}}),le.all=le.awaiting+le.partial+le.received+le.draft,le},[be]),De=[{key:"all",label:Vr.purchaseOrders.tabs.labels.all},{key:"draft",label:Vr.purchaseOrders.tabs.labels.draft},{key:"awaiting",label:Vr.purchaseOrders.tabs.labels.awaiting},{key:"partial",label:Vr.purchaseOrders.tabs.labels.partial},{key:"received",label:Vr.purchaseOrders.tabs.labels.received}],J=A.useMemo(()=>be.filter(le=>v==="all"?le.tabCategory!=="excluded":le.tabCategory===v),[v,be]),it=be.some(le=>le.tabCategory!=="excluded"),Ue=Vr.purchaseOrders.tabs.empty,ft=it&&J.length===0;return m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{className:"min-w-0 space-y-1",children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:" "}),m.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-slate-400",children:Vr.purchaseOrders.filter.label}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:W})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P?m.jsx("button",{type:"button",onClick:q,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:Vr.purchaseOrders.filter.actions.clear}):null,m.jsx("button",{type:"button",onClick:Y,className:"rounded-full border border-slate-200 px-4 py-2 min-w-[120px] text-center text-xs font-semibold uppercase tracking-[0.3em] text-slate-600 transition hover:border-indigo-400 hover:text-indigo-600",children:Vr.purchaseOrders.filter.actions.open}),m.jsx("button",{type:"button",onClick:U,className:"rounded-full bg-indigo-600 px-4 py-2 min-w-[120px] text-center text-xs font-semibold text-white transition hover:bg-indigo-700",children:"  "})]})]}),m.jsx("section",{className:"rounded-2xl border border-slate-100 bg-white/80 px-4 py-4",children:m.jsx("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold text-slate-600",role:"tablist","aria-label":" ",children:De.map(le=>{const te=v===le.key;return m.jsxs("button",{type:"button",role:"tab","aria-selected":te,onClick:()=>y(le.key),className:`inline-flex items-center gap-2 pb-3 transition ${te?"border-b-2 border-indigo-600 text-indigo-600":"border-b-2 border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-200"}`,children:[m.jsx("span",{children:le.label}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold text-slate-500",children:[Te[le.key].toLocaleString("ko-KR"),""]})]},le.key)})})}),m.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-4",children:o?m.jsx("p",{className:"text-sm text-rose-500",children:o}):i?m.jsx("p",{className:"text-sm text-slate-500",children:" "}):it?ft?m.jsx("p",{className:"text-sm text-slate-500",children:Ue}):m.jsx("div",{className:"overflow-hidden rounded-2xl border",children:m.jsxs("table",{className:"min-w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:" "}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:" D-Day"}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3 text-right",children:""})]})}),m.jsx("tbody",{children:J.map(le=>m.jsxs("tr",{className:"border-t border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>ae(le),children:[m.jsx("td",{className:"px-4 py-3 font-medium",children:le.orderNumber||le.id}),m.jsx("td",{className:"px-4 py-3",children:le.vendorName||le.vendorId}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${m3(le.status)}`,children:cS(le.status)})}),m.jsxs("td",{className:"px-4 py-3",children:[le.totalOrdered.toLocaleString("ko-KR")," EA"]}),m.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[le.totalReceived.toLocaleString("ko-KR")," / ",le.totalOrdered.toLocaleString("ko-KR")]}),m.jsx("td",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex flex-col gap-1",children:[le.remaining>0?m.jsx("span",{className:`inline-flex w-fit rounded-full px-3 py-0.5 text-xs font-semibold ${tUe(le.dday)}`,children:eUe(le.dday)}):m.jsx("span",{className:"text-xs font-semibold text-slate-400",children:""}),m.jsx("span",{className:"text-xs text-slate-500",children:le.remaining>0?`${le.remaining.toLocaleString("ko-KR")} EA `:" "})]})}),m.jsx("td",{className:"px-4 py-3",children:XFe(le.promisedDate)}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("button",{type:"button","aria-label":` ${le.orderNumber||le.id} `,onClick:te=>{te.stopPropagation(),xe(le)},className:"rounded-full border border-rose-100 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-700 transition hover:border-rose-200 hover:bg-rose-100",children:""})})]},le.id))})]})}):m.jsx("p",{className:"text-sm text-slate-500",children:"  ."})}),m.jsxs(pi,{isOpen:!!x,onClose:ke,title:" ",children:[m.jsx("p",{className:"text-sm text-slate-700",children:x?`${x.orderNumber||x.id}  ?     .`:"   ."}),T&&m.jsx("p",{className:"mt-3 text-sm text-rose-600",children:T}),m.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:Je,disabled:w,className:"rounded-full bg-rose-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:w?" ":""}),m.jsx("button",{type:"button",onClick:ke,disabled:w,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900 disabled:cursor-not-allowed disabled:opacity-50",children:""})]})]}),m.jsx(Die,{isOpen:N,onClose:H,onPresetSelect:F,manualFrom:u.from,manualTo:u.to,onManualChange:V,onApply:z,isManualValid:$,validationMessage:d,activePreset:R,maxRangeDays:z_})]})},iUe=async e=>{const t=new URLSearchParams;e!=null&&e.from&&t.set("from",e.from),e!=null&&e.to&&t.set("to",e.to);const r=t.toString(),n=r?`/sales-orders?${r}`:"/sales-orders";return(await aa(n)).items},sUe=async e=>{const r=new URLSearchParams({orderDate:e}).toString(),n=r?`/sales-orders/next-number?${r}`:"/sales-orders/next-number";return(await aa(n)).item},oUe=async e=>(await Hn("/sales-orders",e)).item,yD=async e=>(await Hn("/sales-orders/drafts",e)).item,OK=async(e,t)=>(await dR(`/sales-orders/drafts/${encodeURIComponent(e)}`,t)).item,lUe=async e=>(await aa(`/sales-orders/${encodeURIComponent(e)}`)).item,PK=async e=>(await E0(`/sales-orders/${encodeURIComponent(e)}`)).item,uUe=async e=>{const t=new URLSearchParams;e!=null&&e.from&&t.set("from",e.from),e!=null&&e.to&&t.set("to",e.to);const r=t.toString(),n=r?`/sales-orders/drafts?${r}`:"/sales-orders/drafts";return(await aa(n)).items},Pb=async e=>(await aa(`/sales-orders/drafts/${encodeURIComponent(e)}`)).item,fS=async e=>(await E0(`/sales-orders/drafts/${encodeURIComponent(e)}`)).item,cUe=1440*60*1e3,zie=540*60*1e3,mv=e=>{const t=Date.parse(e);if(Number.isNaN(t))return"";const r=new Date(t+zie),n=r.getUTCFullYear(),a=String(r.getUTCMonth()+1).padStart(2,"0"),i=String(r.getUTCDate()).padStart(2,"0");return`${n}-${a}-${i}`},kK=e=>Math.floor((e+zie)/cUe),fUe=e=>{if(!e)return null;const t=Date.parse(e);return Number.isNaN(t)?null:kK(t)-kK(Date.now())},dUe=e=>e===null?"":e===0?"D-0":e>0?`D-${e}`:`D+${Math.abs(e)}`,hUe=e=>e===null?"bg-slate-100 text-slate-600":e<0?"bg-rose-100 text-rose-600":e===0?"bg-sky-100 text-sky-700":e<=3?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700",RK=(e,t)=>{const r=e.lines.reduce((i,s)=>i+s.orderedQty,0),n=e.lines.reduce((i,s)=>i+s.shippedQty,0),a=Math.max(0,r-n);switch(t){case"all":return e.status!=="canceled";case"draft":return e.status==="draft";case"awaiting":return e.status!=="draft"&&e.status!=="canceled"&&a>0&&n===0;case"partial":return e.status!=="draft"&&e.status!=="canceled"&&n>0&&a>0;case"shipped":return a<=0&&e.status!=="canceled";default:return!1}},cn=Vr.salesOrders,pUe={draft:cn.tabs.labels.draft,open:cn.tabs.labels.awaiting,partial:cn.tabs.labels.partial,packed:cn.tabs.labels.partial,closed:cn.tabs.labels.shipped,canceled:cn.tabs.labels.canceled},Kd="salesFilter",LK="range",kb="salesFrom",Rb="salesTo",vv="salesPreset",IK=e=>e!==null&&p3.includes(e),gv=e=>!!e.__isDraft,Fie=()=>{const e=po(),[t,r]=gS(),[n,a]=A.useState([]),[i,s]=A.useState([]),[o,l]=A.useState(!0),[u,f]=A.useState(!0),[d,p]=A.useState(null),[v,y]=A.useState(null),[x,b]=A.useState("all"),[w,_]=A.useState({from:"",to:""}),[T,M]=A.useState(null),[N,C]=A.useState(null),[j,O]=A.useState(!1),[P,R]=A.useState(null),k=t.get(Kd)===LK,L=t.get(vv),I=t.get(kb),$=t.get(Rb),F=A.useMemo(()=>IK(L)?jie(L):I&&$?sg(I,$):null,[I,$,L]),z=A.useMemo(()=>IK(L)?L:F&&I&&$?"custom":"all",[F,I,L]),V=A.useMemo(()=>{if(!w.from||!w.to)return!0;const pe=sg(w.from,w.to);return pe?Date.parse(pe.to)-Date.parse(pe.from)<=lS:!1},[w]),q=A.useCallback(async pe=>{l(!0),p(null);try{const Fe=await iUe(pe?{from:pe.from,to:pe.to}:void 0);a(Fe)}catch(Fe){p(Fe instanceof Error?Fe.message:"   ")}finally{l(!1)}},[]),W=A.useCallback(async pe=>{f(!0),y(null);try{const Fe=await uUe(pe?{from:pe.from,to:pe.to}:void 0);s(Fe)}catch(Fe){y(Fe instanceof Error?Fe.message:"   ")}finally{f(!1)}},[]);A.useEffect(()=>{q(F),W(F)},[F,q,W]),A.useEffect(()=>{if(k){if(F){_({from:mv(F.from),to:mv(F.to)}),M(null);return}_({from:I??"",to:$??""}),M(null)}},[F,k,I,$]);const Y=A.useCallback(()=>{const pe=new URLSearchParams(t);pe.set(Kd,LK),r(pe)},[t,r]),H=A.useCallback(()=>{const pe=new URLSearchParams(t);pe.delete(Kd),r(pe)},[t,r]),U=A.useMemo(()=>!w.from||!w.to?null:sg(w.from,w.to),[w]),K=A.useCallback(()=>{if(!U){M(cn.filter.errors.invalidRange);return}if(Date.parse(U.to)-Date.parse(U.from)>lS){M(cn.filter.errors.limitExceeded);return}const Fe=new URLSearchParams(t);Fe.set(kb,w.from),Fe.set(Rb,w.to),Fe.delete(vv),Fe.delete(Kd),r(Fe)},[U,w,t,r]),ee=A.useCallback(pe=>{const Fe=new URLSearchParams(t);Fe.delete(Kd),Fe.delete(kb),Fe.delete(Rb),pe==="all"?Fe.delete(vv):Fe.set(vv,pe),r(Fe)},[t,r]),ae=A.useCallback(pe=>{_(pe),M(null)},[]),xe=A.useCallback(()=>{const pe=new URLSearchParams(t);pe.delete(kb),pe.delete(Rb),pe.delete(vv),pe.delete(Kd),r(pe)},[t,r]),ke=F?`${mv(F.from)} ~ ${mv(F.to)}`:cn.filter.summaryEmpty,Je=A.useMemo(()=>n.filter(pe=>RK(pe,x)),[n,x]),be=A.useMemo(()=>i.map(pe=>({...pe,__isDraft:!0})),[i]),Te=A.useMemo(()=>{const pe={all:0,draft:0,awaiting:0,partial:0,shipped:0};return n.forEach(Fe=>{Object.keys(pe).forEach(ue=>{RK(Fe,ue)&&(pe[ue]+=1)})}),pe.all+=i.length,pe.draft=i.length,pe},[n,i]),De=[{key:"all",label:cn.tabs.labels.all},{key:"draft",label:cn.tabs.labels.draft},{key:"awaiting",label:cn.tabs.labels.awaiting},{key:"partial",label:cn.tabs.labels.partial},{key:"shipped",label:cn.tabs.labels.shipped}],J=A.useCallback((pe,Fe)=>{if(Fe){e(`/sales-orders/new?draftId=${encodeURIComponent(pe)}`);return}e(`/sales-orders/${encodeURIComponent(pe)}`)},[e]),it=A.useCallback(pe=>{C(pe),R(null)},[]),Ue=A.useCallback(()=>{j||(C(null),R(null))},[j]),ft=A.useCallback(async()=>{if(N){O(!0),R(null);try{gv(N)?(await fS(N.id),s(pe=>pe.filter(Fe=>Fe.id!==N.id))):(await PK(N.id),a(pe=>pe.filter(Fe=>Fe.id!==N.id))),C(null)}catch(pe){const Fe=pe instanceof Error?pe.message:" .   .";R(Fe)}finally{O(!1)}}},[PK,fS,N]),le=x==="draft",te=A.useMemo(()=>le?be:x==="all"?[...Je,...be]:Je,[x,be,Je,le]),Ne=le?v:d,Le=le?u:o,Pe=le?cn.tabs.empty:cn.list.empty,He=N?gv(N):!1;return m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:cn.title}),m.jsx("p",{className:"text-sm text-slate-500",children:cn.description}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:ke})]}),m.jsxs("div",{className:"flex gap-2",children:[F?m.jsx("button",{type:"button",onClick:xe,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:cn.filter.actions.clear}):null,m.jsx("button",{type:"button",onClick:Y,className:"rounded-full border border-slate-200 px-4 py-2 min-w-[120px] text-center text-xs font-semibold uppercase tracking-[0.3em] text-slate-600 transition hover:border-indigo-400 hover:text-indigo-600",children:cn.filter.actions.open}),m.jsx("button",{type:"button",onClick:()=>e("/sales-orders/new"),className:"rounded-full bg-indigo-600 px-4 py-2 min-w-[120px] text-center text-xs font-semibold text-white transition hover:bg-indigo-700",children:cn.actions.newOrder})]})]}),m.jsx("section",{className:"rounded-2xl border border-slate-100 bg-white/80 px-4 py-4",children:m.jsx("div",{className:"flex flex-wrap items-center gap-2",role:"tablist","aria-label":" ",children:De.map(pe=>m.jsxs("button",{type:"button",role:"tab","aria-selected":x===pe.key,onClick:()=>b(pe.key),className:`inline-flex items-center gap-2 pb-3 text-xs font-semibold transition ${x===pe.key?"border-b-2 border-indigo-600 text-indigo-600":"border-b-2 border-transparent text-slate-600 hover:text-slate-900 hover:border-slate-200"}`,children:[m.jsx("span",{children:pe.label}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[11px] font-semibold text-slate-500",children:[Te[pe.key].toLocaleString("ko-KR"),""]})]},pe.key))})}),m.jsx("section",{className:"rounded-2xl border border-slate-100 bg-white/80 p-4",children:Ne?m.jsxs("p",{className:"text-sm text-rose-500",children:[cn.list.error,Ne?` (${Ne})`:""]}):Le?m.jsx("p",{className:"text-sm text-slate-500",children:cn.list.loading}):te.length===0?m.jsx("p",{className:"text-sm text-slate-500",children:Pe}):m.jsx("div",{className:"overflow-hidden rounded-2xl border",children:m.jsxs("table",{className:"min-w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:" "}),m.jsx("th",{className:"px-4 py-3",children:""}),m.jsx("th",{className:"px-4 py-3",children:" D-Day"}),m.jsx("th",{className:"px-4 py-3",children:" "}),m.jsx("th",{className:"px-4 py-3 text-right",children:""})]})}),m.jsx("tbody",{children:te.map(pe=>{const Fe=pe.lines.reduce((Q,we)=>Q+we.orderedQty,0),ue=gv(pe)?0:pe.lines.reduce((Q,we)=>Q+we.shippedQty,0),nt=fUe(pe.promisedDate),tt=pUe[pe.status];return m.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",onClick:()=>J(pe.id,gv(pe)),style:{cursor:"pointer"},children:[m.jsx("td",{className:"px-4 py-3 font-medium",children:pe.orderNumber||pe.id}),m.jsx("td",{className:"px-4 py-3",children:pe.customerName??pe.customerId}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${v3(pe.status)}`,children:tt})}),m.jsxs("td",{className:"px-4 py-3",children:[Fe.toLocaleString()," EA"]}),m.jsxs("td",{className:"px-4 py-3 text-slate-600",children:[ue.toLocaleString()," / ",Fe.toLocaleString()]}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-[10px] font-semibold ${hUe(nt)}`,children:dUe(nt)})}),m.jsx("td",{className:"px-4 py-3",children:pe.promisedDate?mv(pe.promisedDate):""}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("button",{type:"button","aria-label":`${gv(pe)?"  ":""} ${pe.orderNumber||pe.id} `,onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),it(pe)},className:"rounded-full border border-rose-100 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-700 transition hover:border-rose-200 hover:bg-rose-100",children:""})})]},pe.id)})})]})})}),m.jsxs(pi,{isOpen:!!N,onClose:Ue,title:He?"   ":" ",children:[m.jsx("p",{className:"text-sm text-slate-700",children:N?`${N.orderNumber||N.id} ${He?"  ":""} ?     .`:"   ."}),P&&m.jsx("p",{className:"mt-3 text-sm text-rose-600",children:P}),m.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:ft,disabled:j,className:"rounded-full bg-rose-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-rose-700 disabled:cursor-not-allowed disabled:opacity-60",children:j?" ":""}),m.jsx("button",{type:"button",onClick:Ue,disabled:j,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900 disabled:cursor-not-allowed disabled:opacity-50",children:""})]})]}),m.jsx(Die,{isOpen:k,onClose:H,onPresetSelect:ee,manualFrom:w.from,manualTo:w.to,onManualChange:ae,onApply:K,isManualValid:V,validationMessage:T,activePreset:z,maxRangeDays:z_})]})},mUe=()=>m.jsx(Fie,{}),vUe=["inventory","forecast","products","categories","warehouses","partners","purchase","sales","policies","policyOps"],gUe=new Set(vUe),yUe=e=>e!==null&&gUe.has(e),Uie="inventory",xUe=e=>e.startsWith("/purchase-orders")?"purchase":e.startsWith("/sales-orders")?"sales":null,zo=({label:e,active:t,onClick:r})=>m.jsx("button",{type:"button",onClick:r,className:`w-full rounded-2xl px-4 py-2 text-left text-sm font-medium transition-colors duration-150 ${t?"bg-indigo-500/90 text-white shadow-sm ring-1 ring-indigo-300/70":"text-indigo-950/70 hover:bg-indigo-200/40 hover:text-indigo-800"}`,children:e}),bUe=()=>{const[e]=gS(),t=e.get("tab"),r=ho(),n=po(),a=xUe(r.pathname),i=yUe(t)?t:a??Uie,[s,o]=A.useState(i==="purchase"||i==="sales");A.useEffect(()=>{(i==="purchase"||i==="sales")&&o(!0)},[i]);const l=A.useCallback(u=>{const f=new URLSearchParams;f.set("tab",u);const d=f.toString();n({pathname:"/",search:d?`?${d}`:void 0})},[n]);return m.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-indigo-100 via-white to-sky-100 text-slate-900 print:bg-white print:min-h-0 print:h-auto print:p-0 print:px-0 print:py-0",children:m.jsx("div",{className:"flex min-h-screen w-full flex-col px-4 py-10 sm:px-6 lg:px-10 xl:px-12 print:min-h-0 print:h-auto print:p-0 print:px-0 print:py-0",children:m.jsxs("div",{className:"flex flex-1 gap-6 rounded-[32px] bg-white/40 p-6 shadow-[0_30px_80px_-40px_rgba(15,23,42,0.65)] backdrop-blur-2xl ring-1 ring-white/60 print:bg-transparent print:shadow-none print:ring-0 print:p-0 print:gap-0 print:rounded-none",children:[m.jsxs("aside",{className:"flex w-72 flex-col rounded-3xl bg-white/70 p-6 text-sm shadow-xl ring-1 ring-white/70 backdrop-blur-xl print:hidden",children:[m.jsx("div",{className:"mb-6 text-lg font-semibold text-indigo-950/80",children:""}),m.jsxs("nav",{className:"flex-1 space-y-2",children:[m.jsx(zo,{label:"",active:i==="inventory",onClick:()=>l("inventory")}),m.jsx(zo,{label:"",active:i==="products",onClick:()=>l("products")}),m.jsx(zo,{label:" ",active:i==="categories",onClick:()=>l("categories")}),m.jsx(zo,{label:"",active:i==="warehouses",onClick:()=>l("warehouses")}),m.jsx(zo,{label:"",active:i==="partners",onClick:()=>l("partners")}),m.jsxs("button",{type:"button","aria-expanded":s,onClick:()=>o(u=>!u),className:`w-full rounded-2xl px-4 py-2 text-left text-sm font-medium transition-colors duration-150 flex items-center justify-between ${i==="purchase"||i==="sales"?"bg-indigo-500/90 text-white shadow-sm ring-1 ring-indigo-300/70":"text-indigo-950/70 hover:bg-indigo-200/40 hover:text-indigo-800"}`,children:[m.jsx("span",{children:"  "}),m.jsx("svg",{className:`h-4 w-4 transition-transform ${s?"rotate-180":"rotate-0"}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),m.jsx("div",{className:`overflow-hidden transition-[max-height] duration-200 ${s?"max-h-32":"max-h-0"}`,children:m.jsxs("div",{className:"mt-1 space-y-1 pl-3",children:[m.jsx(zo,{label:"",active:i==="purchase",onClick:()=>l("purchase")}),m.jsx(zo,{label:"",active:i==="sales",onClick:()=>l("sales")})]})}),m.jsx(zo,{label:"",active:i==="policies",onClick:()=>l("policies")}),m.jsx(zo,{label:" ",active:i==="policyOps",onClick:()=>l("policyOps")})]})]}),m.jsx("main",{className:"flex flex-1 flex-col overflow-hidden rounded-[28px] bg-white/70 shadow-xl ring-1 ring-white/70 backdrop-blur-xl print:bg-transparent print:shadow-none print:ring-0 print:rounded-none print:overflow-visible",children:m.jsx("div",{className:"flex-1 overflow-y-auto px-8 pb-10 print:overflow-visible print:px-0 print:pb-0",children:m.jsx(UY,{context:{active:i}})})})]})})})},Bk="stock-console:policy-drafts",wUe=e=>Array.isArray(e)?e.map(t=>{if(!t||typeof t!="object")return null;const r=t;if(typeof r.sku!="string"||!r.sku.trim())return null;const n=i=>{if(typeof i!="number"||!Number.isFinite(i))return null;const s=Math.max(0,Math.round(i));return Number.isFinite(s)?s:null},a=i=>{if(typeof i!="number"||!Number.isFinite(i))return null;const s=Math.max(50,Math.min(99.9,i));return Number.isFinite(s)?s:null};return{sku:vt(r.sku),name:typeof r.name=="string"&&r.name.trim().length>0?r.name.trim():null,forecastDemand:n(r.forecastDemand??null),demandStdDev:n(r.demandStdDev??null),leadTimeDays:n(r.leadTimeDays??null),serviceLevelPercent:a(r.serviceLevelPercent??null),smoothingAlpha:_s,corrRho:ku}}).filter(t=>t!==null):[],xD=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem(Bk);return e?wUe(JSON.parse(e)):[]}catch{return[]}},Hie=e=>{if(!(typeof window>"u"))try{if(e.length===0){window.localStorage.removeItem(Bk);return}window.localStorage.setItem(Bk,JSON.stringify(e))}catch{}},$k="stock-console:manual-policy-skus",SUe=()=>{if(typeof window>"u")return[];try{const e=window.localStorage.getItem($k);if(!e)return[];const t=JSON.parse(e);if(!Array.isArray(t))return[];const r=new Set;return t.forEach(n=>{typeof n=="string"&&n.trim().length>0&&r.add(vt(n))}),Array.from(r.values())}catch{return[]}},_Ue=e=>{if(!(typeof window>"u"))try{const t=Array.from(new Set((e??[]).map(r=>vt(r))));if(t.length===0){window.localStorage.removeItem($k);return}window.localStorage.setItem($k,JSON.stringify(t))}catch{}},_n=e=>({...e,sku:vt(e.sku),name:e.name&&e.name.trim().length>0?e.name.trim():null,smoothingAlpha:_s,corrRho:ku}),TUe=[85,90,93,95,97.5,99],Vie=TUe.map(e=>({value:e.toString(),label:Number.isInteger(e)?`${e.toFixed(0)}%`:`${e.toFixed(1)}%`})),CUe=[{label:"",value:""},...Vie],BK=.2,NUe={mode:"fill",includeLeadTime:!1,includeServiceLevel:!1,includeManual:!1},bD=e=>{if(typeof e!="number"||!Number.isFinite(e))return null;const t=Math.max(0,Math.round(e));return Number.isFinite(t)?t:null},AUe=e=>typeof e!="number"||!Number.isFinite(e)?null:Math.max(50,Math.min(99.9,e)),MUe=e=>({forecastDemand:bD(e.forecastDemand),demandStdDev:bD(e.demandStdDev),leadTimeDays:bD(e.leadTimeDays),serviceLevelPercent:AUe(e.serviceLevelPercent)}),EUe=(e,t,r)=>{var o;const n={...e},a=[],i=(l,u,f,d)=>{if(!d)return;if(f===null){a.push({applied:!1,reason:`${u}  `});return}const p=n[l]??null;if(r.mode==="fill"&&p!==null){a.push({applied:!1,reason:`${u}   .`});return}if(r.mode==="overwrite"&&p!==null){const v=Math.max(Math.abs(p),1),y=Math.abs(f-p)/v;if(y>BK){a.push({applied:!1,reason:`${u}  ${Math.round(y*100)}% >  ${Math.round(BK*100)}%`});return}}if(p===f){a.push({applied:!1,reason:`${u}  `});return}n[l]=f,a.push({applied:!0})};return i("forecastDemand"," ",t.forecastDemand,!0),i("demandStdDev"," ",t.demandStdDev,!0),i("leadTimeDays","",t.leadTimeDays,r.includeLeadTime),i("serviceLevelPercent"," ",t.serviceLevelPercent,r.includeServiceLevel),a.some(l=>l.applied)?{nextRow:n,changed:!0}:{nextRow:null,changed:!1,reason:((o=a.find(u=>u.reason))==null?void 0:o.reason)??"   ."}},_s=.4,ku=.25,qie=90,jUe=[{sku:"D1E2F3G",name:" ",forecastDemand:320,demandStdDev:48,leadTimeDays:10,serviceLevelPercent:95,smoothingAlpha:_s,corrRho:ku},{sku:"H4I5J6K",name:"  ",forecastDemand:275,demandStdDev:62,leadTimeDays:21,serviceLevelPercent:97,smoothingAlpha:_s,corrRho:ku},{sku:"L7M8N9O",name:" ",forecastDemand:190,demandStdDev:28,leadTimeDays:7,serviceLevelPercent:93,smoothingAlpha:_s,corrRho:ku}],DUe=["23-12","24-01","24-02","24-03","24-04","24-05","24-06","24-07","24-08","24-09","24-10","24-11","24-12"],wD=7,OUe=e=>{if(e<=0)return Number.NEGATIVE_INFINITY;if(e>=1)return Number.POSITIVE_INFINITY;const t=[-39.69683028665376,220.9460984245205,-275.9285104469687,138.357751867269,-30.66479806614716,2.506628277459239],r=[-54.47609879822406,161.5858368580409,-155.6989798598866,66.80131188771972,-13.28068155288572],n=[-.007784894002430293,-.3223964580411365,-2.400758277161838,-2.549732539343734,4.374664141464968,2.938163982698783],a=[.007784695709041462,.3224671290700398,2.445134137142996,3.754408661907416],i=.02425,s=1-i;if(e<i){const l=Math.sqrt(-2*Math.log(e));return(((((n[0]*l+n[1])*l+n[2])*l+n[3])*l+n[4])*l+n[5])/((((a[0]*l+a[1])*l+a[2])*l+a[3])*l+1)}if(e<=s){const l=e-.5,u=l*l;return(((((t[0]*u+t[1])*u+t[2])*u+t[3])*u+t[4])*u+t[5])*l/(((((r[0]*u+r[1])*u+r[2])*u+r[3])*u+r[4])*u+1)}const o=Math.sqrt(-2*Math.log(1-e));return-((((((n[0]*o+n[1])*o+n[2])*o+n[3])*o+n[4])*o+n[5])/((((a[0]*o+a[1])*o+a[2])*o+a[3])*o+1))},PUe=e=>{if(!Number.isFinite(e))return Number.NaN;const t=Math.min(Math.max(e/100,1e-4),.9999);return OUe(t)},kUe=e=>{if(!Number.isFinite(e))return null;const t=new Date;return t.setHours(0,0,0,0),t.setDate(t.getDate()+Math.max(0,Math.round(e))),t.toISOString().split("T")[0]??null},RUe=(e,t)=>{var b,w,_,T;const r=Array.isArray(t)&&t.length>0?t:Gie(e,0,!1),n=r.filter(M=>M.phase==="history"),a=n.reduce((M,N)=>M+Math.max(N.actual??0,0),0),i=r.filter(M=>M.promo).reduce((M,N)=>{const C=N.actual??N.fc??0;return M+Math.max(C,0)},0),s=r.filter(M=>M.phase==="forecast").reduce((M,N)=>M+Math.max(N.fc??0,0),0),o=Math.max(a+Math.round(s*.25),0),l={};i>0&&(l.=i),l[" "]=Math.max(o-(l.??0),0);const u=Math.max(Math.round(e.dailyAvg),0),f=Math.max(e.onHand,0),d=Math.max(Math.round(u*20),0),p=H_(e),v=Math.max(d-p,0),y=u>0?p/u:null,x={week1:Math.max(Math.round(u*7),0),week2:Math.max(Math.round(u*7),0),week4:Math.max(Math.round(u*7),0),week8:Math.max(Math.round(u*7),0)};return{windowStart:((b=n[0])==null?void 0:b.date)??((w=r[0])==null?void 0:w.date)??"",windowEnd:((_=r[r.length-1])==null?void 0:_.date)??((T=n[n.length-1])==null?void 0:T.date)??"",outboundTotal:o,outboundReasons:l,avgDailyDemand:u,currentTotalStock:f,reorderPoint:d,recommendedOrderQty:v,projectedStockoutDate:y!==null?kUe(y):null,weeklyOutlook:x}},LUe=(e,t)=>{const r=Object.entries(t.outboundReasons).sort((a,i)=>i[1]-a[1]).slice(0,3).map(([a,i])=>`${a}  ${Math.round(i).toLocaleString()}`),n=H_(e);return{summary:`${e.name} (${e.sku})     ${t.outboundTotal.toLocaleString()}      ${t.avgDailyDemand.toLocaleString()} .`,drivers:r,details:` ${n.toLocaleString()},   ${t.recommendedOrderQty.toLocaleString()},    ${t.projectedStockoutDate??" "}.`,model:{name:"  ",seasonalPeriod:3,trainingWindow:`${t.windowStart||"N/A"} ~ ${t.windowEnd||"N/A"}`,generatedAt:new Date().toISOString(),mape:null}}},IUe=(e,t)=>{const r=[],n=H_(e),a=Math.max(Math.round(t.recommendedOrderQty),0),i=Math.max(t.reorderPoint-n,0),s=new Date;s.setDate(s.getDate()+7);const o=s.toISOString().slice(0,10);return r.push({id:"llm-local-reorder",who:"",what:i>0?`${a.toLocaleString()}EA  `:"    ",when:o,rationale:i>0?"      .":"         .",confidence:i>0?.74:.58,kpi:{name:" ",target:"95%",window:" 4"}}),r.push({id:"llm-local-supply",who:"",what:t.projectedStockoutDate?`  (${t.projectedStockoutDate})    `:"      ",when:o,rationale:t.projectedStockoutDate!==null?"        .":"      .",confidence:t.projectedStockoutDate?.71:.6,kpi:{name:"(DOS)",target:t.projectedStockoutDate?"21":"20~30",window:" 8"}}),r},BUe=e=>{if(!e||/^\d{2}-\d{2}$/.test(e))return e;const t=new Date(e.includes("T")?e:`${e}T00:00:00Z`);if(Number.isNaN(t.getTime()))return e;const r=String(t.getUTCFullYear()).slice(-2),n=String(t.getUTCMonth()+1).padStart(2,"0");return`${r}-${n}`},$Ue=e=>{const t=/^(\d{2})-(\d{2})$/.exec(e);if(!t)return e.includes("-")&&e.length===7?`${e}-01`:e;const r=Number.parseInt(t[1],10),n=t[2];return`${r>=70?1900+r:2e3+r}-${n}-01`},SD=(e,t)=>{if(!t||t<=0||e.length===0)return e;const r=new Date,n=new Date(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),1));return n.setUTCMonth(n.getUTCMonth()-(t-1)),n.setUTCHours(0,0,0,0),e.filter(a=>{const i=a.isoDate??a.date,s=YUe(i);return s?(s.setUTCHours(0,0,0,0),s.getTime()>=n.getTime()):!0})},zUe=(e,t)=>{var i,s;if(!e||t.length===0)return null;const r=new Set(t.map(o=>o.date));let n=r.has(e.start)?e.start:null;n||(n=((i=t.find(o=>o.phase==="forecast"))==null?void 0:i.date)??null);let a=r.has(e.end)?e.end:null;return a||(a=((s=t[t.length-1])==null?void 0:s.date)??null),!n||!a?null:{start:n,end:a}},$K=e=>{if(!e)return null;if(/\d{4}-\d{2}-\d{2}T/.test(e)){const r=Date.parse(e);return Number.isNaN(r)?null:r}if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const r=Date.parse(`${e}T00:00:00+09:00`);return Number.isNaN(r)?null:r}const t=Date.parse(e);return Number.isNaN(t)?null:t},Gie=(e,t,r)=>DUe.map((n,a)=>{const i=Math.max(50,Math.round(e.dailyAvg*18+(t+1)*25)),s=a%6===2?1.6:a%6===5?1.4:1,o=Math.round(s*i),l=a<wD?Math.max(10,o+(a%2===0?-120:140)):null,u=a===wD+1,d=Math.round(o*(r&&u?.92:1));return{date:n,isoDate:$Ue(n),actual:l,fc:d,phase:a<wD?"history":"forecast",promo:u}}),FUe=12,H_=e=>Math.max(e.onHand-e.reserved,0),zK=e=>{const t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),n=String(e.getUTCDate()).padStart(2,"0");return`${t}-${r}-${n}`},UUe=e=>Math.round(e.dailyAvg*FUe),HUe=e=>!!(e&&typeof e=="object"&&"payload"in e),Wie=e=>Number.isFinite(e)?Math.max(Math.round(e),0):0,VUe=e=>Wie(e.avgOutbound7d??0),qUe=e=>{const t=VUe(e);if(t<=0)return null;const r=Wie(e.onHand);return Math.max(Math.round(r/t),0)},GUe=e=>{const t=Math.max(e.length,1),n=100-e.filter(a=>a.risk==="").length/t*12;return Math.max(82,Math.min(99,Math.round(n)))},WUe=[{months:24,label:" 24"},{months:12,label:" 12"},{months:6,label:" 6"},{months:3,label:" 3"}],KUe=[{months:12,label:" 52"},{months:6,label:" 26"},{months:3,label:" 13"}],YUe=e=>{if(!e)return null;const t=e.includes("T")?e:`${e}T00:00:00Z`,r=new Date(t);return Number.isNaN(r.getTime())?null:r},XUe={"recent:desc":"  ","recent:asc":" ","name:asc":" ","name:desc":" ","sku:asc":"SKU ","sku:desc":"SKU "},ZUe=Object.entries(XUe).map(([e,t])=>({label:t,value:e})),QUe=({skus:e,query:t,onQueryChange:r,loading:n,error:a,onRetry:i,onEdit:s,onDelete:o,onNew:l,onCsvUpload:u,onCsvDownload:f,csvDownloading:d,appendedProductSkus:p,warehouseRefreshToken:v})=>{const y=Array.isArray(e)?e:[],[x,b]=A.useState("recent"),[w,_]=A.useState("desc"),[T,M]=A.useState(null),N=A.useMemo(()=>{const L=[...y],I=($,F)=>{switch(x){case"name":return $.name.localeCompare(F.name,"ko",{sensitivity:"base"});case"sku":return $.sku.localeCompare(F.sku,"ko",{sensitivity:"base"});case"recent":default:{const z=($.legacyProductId??0)-(F.legacyProductId??0);return z!==0?z:$.productId.localeCompare(F.productId,"ko",{sensitivity:"base"})}}};return L.sort(($,F)=>{const z=I($,F);return w==="asc"?z:-z}),L},[y,w,x]),C=A.useMemo(()=>{if(!Array.isArray(p)||p.length===0)return null;const L=p.map(I=>vt(I??"")).filter(I=>I.length>0);return L.length===0?null:new Set(L)},[p]),j=A.useMemo(()=>{if(x!=="recent"||!C||C.size===0)return N;const L=[],I=[];return N.forEach($=>{C.has(vt($.sku))?I.push($):L.push($)}),I.length===0?N:[...L,...I]},[C,x,N]);A.useEffect(()=>{if(!T)return;y.some(I=>I.sku===T)||M(null)},[y,T]);const O=A.useMemo(()=>y.find(L=>L.sku===T)??null,[y,T]),R=A.useMemo(()=>{const L=new Map;return y.forEach(I=>{const $=`${I.abcGrade}${I.xyzGrade}`;L.set($,(L.get($)??0)+1)}),Array.from(L.entries()).sort((I,$)=>$[1]-I[1])},[y]).slice(0,3);A.useMemo(()=>R.length===0?null:R.map(([L,I])=>`${L} (${I.toLocaleString()})`).join(", "),[R]);const k=A.useCallback(L=>{r(L.target.value)},[r]);return m.jsx("div",{className:"p-6 space-y-6",children:m.jsxs(Kie,{className:"space-y-5",children:[m.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[m.jsx("div",{children:m.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:" "})}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 py-2 text-sm text-slate-600 transition hover:bg-slate-100",onClick:f,disabled:d,children:d?"CSV  ...":"CSV "}),m.jsx("button",{type:"button",className:"rounded-xl border border-indigo-200 bg-indigo-50 px-3 py-2 text-sm font-medium text-indigo-600 transition hover:bg-indigo-100",onClick:u,children:"CSV "}),m.jsx("button",{type:"button",className:"rounded-xl bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-indigo-500",onClick:l,children:" "}),m.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[m.jsx("span",{children:""}),m.jsx(Mr,{value:`${x}:${w}`,onChange:L=>{const[I,$]=L.split(":");b(I),_($)},options:ZUe,placeholder:" ",inputClassName:"rounded-lg border border-slate-200 px-2 py-1.5 text-sm text-slate-600 focus:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-100"})]})]})]}),m.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:m.jsxs("div",{className:"sm:w-72",children:[m.jsx("label",{htmlFor:"product-search",className:"sr-only",children:"SKU, ,  "}),m.jsx("input",{id:"product-search",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"SKU, ,  ",value:t,onChange:k})]})}),a&&m.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-xs text-rose-600",children:[m.jsx("span",{children:a}),m.jsx("button",{type:"button",className:"rounded-full border border-rose-200 px-2 py-0.5 text-[11px] font-medium text-rose-600 transition hover:border-rose-300 hover:bg-rose-100",onClick:i,children:" "})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" "}),m.jsx("div",{className:"text-xs text-slate-500",children:n?"  ":` ${y.length.toLocaleString()}   `})]}),m.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.7fr)_minmax(0,1fr)]",children:[m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2",children:"SKU"}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:n?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"py-12 text-center text-slate-500",children:"  ..."})}):y.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"py-12 text-center text-slate-500",children:"   ."})}):j.map(L=>{const I=T===L.sku;return m.jsxs("tr",{"data-testid":"product-row","data-product-name":L.name,className:`border-b border-slate-100 last:border-transparent ${I?"bg-indigo-50/60":"hover:bg-slate-50"} cursor-pointer transition`,onClick:()=>M(L.sku),children:[m.jsxs("td",{className:"px-3 py-3 align-top",children:[m.jsx("div",{className:"font-semibold text-slate-900",children:L.name}),L.brand&&m.jsx("div",{className:"mt-1 text-xs text-slate-500",children:L.brand})]}),m.jsx("td",{className:"px-3 py-3 align-top",children:m.jsx("div",{className:"font-mono text-xs text-slate-600",children:L.sku})}),m.jsx("td",{className:"px-3 py-3 align-top",children:m.jsx("div",{className:"text-sm text-slate-800",children:L.category||""})}),m.jsx("td",{className:"px-3 py-3 align-top",children:m.jsx("div",{className:"text-sm text-slate-800",children:L.subCategory||" "})}),m.jsx("td",{className:"px-3 py-3 align-top text-right",children:m.jsxs("div",{className:"font-semibold text-slate-900",children:[L.onHand.toLocaleString()," ",L.unit||Lu]})}),m.jsx("td",{className:"px-3 py-3 align-top",children:m.jsxs("div",{className:"flex justify-end gap-1 text-xs",children:[m.jsx("button",{type:"button",className:"rounded-lg border border-slate-200 px-2 py-1 text-slate-600 hover:border-slate-300 hover:text-slate-900",onClick:$=>{$.stopPropagation(),s(L)},children:""}),m.jsx("button",{type:"button",className:"rounded-lg border border-rose-200 px-2 py-1 text-rose-600 hover:border-rose-300 hover:text-rose-700",onClick:$=>{$.stopPropagation(),o(L)},children:""})]})})]},L.sku)})})]})}),m.jsx("div",{className:"min-h-[24rem]",children:m.jsx(MMe,{product:O,warehouseRefreshToken:v})})]})]})]})})},JUe=95,e8e=14,_D=3,Yd=e=>{if(!Number.isFinite(e))return null;const t=Math.max(Math.round(e),0);return Number.isFinite(t)?t:null},t8e=e=>{const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(!t)return 30;const r=Number.parseInt(t[1],10),n=Number.parseInt(t[2],10)-1;if(!Number.isFinite(r)||!Number.isFinite(n))return 30;const a=new Date(Date.UTC(r,n+1,0)).getUTCDate();return Number.isFinite(a)&&a>0?a:30},r8e=e=>{const t=e.timeline.filter(l=>l.phase==="history"&&Number.isFinite(l.actual??Number.NaN));if(t.length<_D)return null;const n=t.slice(-Math.max(_D,1)).map(l=>{if(typeof l.actual!="number")return null;const u=t8e(l.date);return u<=0?null:l.actual/u}).filter(l=>l!==null&&Number.isFinite(l));if(n.length<_D)return null;const a=n.reduce((l,u)=>l+u,0)/n.length,i=n.reduce((l,u)=>l+(u-a)**2,0)/n.length,s=Math.sqrt(Math.max(i,0)),o=Number.isFinite(e.product.leadTimeDays)?Math.max(Math.round(e.product.leadTimeDays),0):null;return{forecastDemand:Math.max(Math.round(a),0),demandStdDev:Math.max(Math.round(s),0),leadTimeDays:o}},og=(e,t={})=>{const r=Yd(e.dailyAvg),n=Yd(e.dailyStd),a=Yd(e8e),i=t.forecast?r8e(t.forecast):null,s=Yd((i&&i.forecastDemand!==null?i.forecastDemand:null)??r??null),o=Yd((i&&i.demandStdDev!==null?i.demandStdDev:null)??n??null),l=Yd((i&&i.leadTimeDays!==null?i.leadTimeDays:null)??a??null),u=typeof t.serviceLevelPercent=="number"&&Number.isFinite(t.serviceLevelPercent)?t.serviceLevelPercent:JUe;return{sku:vt(e.sku),name:e.name.trim()||null,forecastDemand:s,demandStdDev:o,leadTimeDays:l,serviceLevelPercent:u,smoothingAlpha:_s,corrRho:ku}},n8e=({open:e,products:t,existingSkus:r,onClose:n,onSubmit:a})=>{const[i,s]=A.useState(""),[o,l]=A.useState(""),u=A.useMemo(()=>{const d=i.trim().toLowerCase();return t.filter(p=>!r.has(vt(p.sku))).filter(p=>{var y;if(!d)return!0;const v=((y=p.name)==null?void 0:y.toLowerCase())??"";return p.sku.toLowerCase().includes(d)||v.includes(d)})},[r,i,t]);A.useEffect(()=>{if(!e){s(""),l("");return}l(d=>{var p;return d&&u.some(v=>vt(v.sku)===vt(d))?d:((p=u[0])==null?void 0:p.sku)??""})},[u,e]);const f=A.useCallback(d=>{if(d.preventDefault(),!o)return;const p=u.find(v=>vt(v.sku)===vt(o));p&&(a(p),n())},[u,o,n,a]);return e?m.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/40 px-4 py-8",children:m.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white p-6 shadow-xl",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" "}),m.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"  SKU ."})]}),m.jsx("button",{type:"button",className:"rounded-full p-1 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",onClick:n,"aria-label":"  ",children:m.jsx("span",{"aria-hidden":!0,children:""})})]}),m.jsxs("form",{onSubmit:f,className:"mt-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"policy-add-search",className:"text-sm font-medium text-slate-700",children:""}),m.jsx("input",{id:"policy-add-search",className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"SKU   ",value:i,onChange:d=>s(d.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"policy-add-sku",className:"text-sm font-medium text-slate-700",children:"SKU "}),u.length===0?m.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"  SKU ."}):m.jsx(Mr,{id:"policy-add-sku",className:"mt-1",value:o,onChange:d=>l(d),options:u.map(d=>({label:`${d.sku}  ${d.name}`,value:d.sku})),placeholder:"SKU ",inputClassName:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-slate-300 hover:text-slate-900",onClick:n,children:""}),m.jsx("button",{type:"submit",className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-slate-300",disabled:!o||u.length===0,children:""})]})]})]})}):null},a8e=({open:e,sku:t,productName:r,value:n,onClose:a,onSubmit:i,onRecommend:s,onApplyEwma:o,onAutoSave:l})=>{var z,V,q,W;const[u,f]=A.useState(((z=n.forecastDemand)==null?void 0:z.toString())??""),[d,p]=A.useState(((V=n.demandStdDev)==null?void 0:V.toString())??""),[v,y]=A.useState(((q=n.leadTimeDays)==null?void 0:q.toString())??""),[x,b]=A.useState(((W=n.serviceLevelPercent)==null?void 0:W.toString())??""),[w,_]=A.useState(null),[T,M]=A.useState(null),[N,C]=A.useState(!1),[j,O]=A.useState(null),[P,R]=A.useState(null);A.useEffect(()=>{var Y,H,U,K;e&&(f(((Y=n.forecastDemand)==null?void 0:Y.toString())??""),p(((H=n.demandStdDev)==null?void 0:H.toString())??""),y(((U=n.leadTimeDays)==null?void 0:U.toString())??""),b(((K=n.serviceLevelPercent)==null?void 0:K.toString())??""),_(null),M(null),C(!1),O(null),R(null))},[e,n.forecastDemand,n.demandStdDev,n.leadTimeDays,n.serviceLevelPercent]);const k=Y=>{const H=(Y??"").trim();if(!H)return null;const U=Number.parseFloat(H);return Number.isFinite(U)?Math.max(0,Math.round(U)):null},L=Y=>{const H=(Y??"").trim();if(!H)return null;const U=Number.parseFloat(H);return Number.isFinite(U)?Math.max(50,Math.min(99.9,Math.round(U*10)/10)):null},I=A.useMemo(()=>{const Y=L(x);return Number.isFinite(Y)?PUe(Y):null},[x]),$=A.useCallback(Y=>{R(H=>H?H.includes(Y)?H:`${H}  ${Y}`:Y)},[]),F=A.useCallback(async()=>{if(s){M(null),_(null),C(!0),O(null),R(null);try{const Y=await s(t);let H=Y;if(o)try{const K=await o(t,_s);H={...Y,forecastDemand:K.forecastDemand??Y.forecastDemand,demandStdDev:K.demandStdDev??Y.demandStdDev},$(` ${qie.toLocaleString()}    EWMA(=${_s})  .`)}catch(K){const ee=K instanceof Error&&K.message?K.message:"    .";O(ee)}const U={forecastDemand:H.forecastDemand??k(u),demandStdDev:H.demandStdDev??k(d),leadTimeDays:H.leadTimeDays??k(v),serviceLevelPercent:H.serviceLevelPercent??L(x)};if(_(H),H.forecastDemand!==null&&f(H.forecastDemand.toString()),H.demandStdDev!==null&&p(H.demandStdDev.toString()),H.leadTimeDays!==null&&y(H.leadTimeDays.toString()),H.serviceLevelPercent!==null){const K=Math.round(H.serviceLevelPercent*10)/10;b(K.toString())}if(l)try{await l(U),$("   .")}catch(K){const ee=K instanceof Error&&K.message?K.message:"   .";M(ee)}}catch(Y){const H=Y instanceof Error&&Y.message?Y.message:"  .";M(H)}finally{C(!1)}}},[$,u,v,o,l,s,x,t,d]);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 p-4",children:m.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl ring-1 ring-slate-200",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" "}),m.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:[r??t," ",m.jsxs("span",{className:"font-mono text-xs text-slate-400",children:["(",t,")"]})]})]}),m.jsxs("form",{onSubmit:Y=>{Y.preventDefault(),i({forecastDemand:k(u),demandStdDev:k(d),leadTimeDays:k(v),serviceLevelPercent:L(x)})},className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"policy-edit-forecast-demand",children:"  (EA/)"}),m.jsx("input",{className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",inputMode:"numeric",id:"policy-edit-forecast-demand",value:u,onChange:Y=>f(Y.target.value),placeholder:": 320"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"policy-edit-demand-std",children:"  ()"}),m.jsx("input",{className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",inputMode:"numeric",id:"policy-edit-demand-std",value:d,onChange:Y=>p(Y.target.value),placeholder:": 48"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"policy-edit-lead-time",children:" (L, )"}),m.jsx("input",{className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",inputMode:"numeric",id:"policy-edit-lead-time",value:v,onChange:Y=>y(Y.target.value),placeholder:": 10"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",htmlFor:"policy-edit-service-level",children:"  (%)"}),m.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[m.jsx(Mr,{className:"w-36",id:"policy-edit-service-level",value:x,onChange:Y=>b(Y),options:Vie,placeholder:"",inputClassName:"w-36 rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"}),m.jsx("div",{className:"text-xs text-slate-500",children:I!==null?`Z ? ${I.toFixed(2)}`:"Z -"})]})]}),m.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 py-2 text-xs font-medium text-slate-600 shadow-sm transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",onClick:F,disabled:N||!s,children:N?" ...":" "})}),T&&m.jsx("p",{className:"mt-2 text-xs text-rose-500",children:T}),j&&m.jsx("p",{className:"mt-2 text-xs text-rose-500",children:j}),P&&m.jsx("p",{className:"mt-2 text-xs text-emerald-600",children:P}),w&&m.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs text-slate-600",children:[m.jsxs("p",{children:[" : ",w.forecastDemand??"-"," EA/"]}),m.jsxs("p",{children:[" : ",w.demandStdDev??"-"," EA/"]}),m.jsxs("p",{children:[": ",w.leadTimeDays??"-"," "]}),m.jsxs("p",{children:[" : ",w.serviceLevelPercent??"-","%"]}),w.notes.length>0&&m.jsx("ul",{className:"mt-2 list-disc pl-4 text-[11px] text-slate-500",children:w.notes.map((Y,H)=>m.jsx("li",{children:Y},`${t}-recommendation-note-${H}`))})]}),m.jsxs("div",{className:"pt-2 text-right",children:[m.jsx("button",{type:"button",className:"mr-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-slate-300 hover:text-slate-900",onClick:a,children:""}),m.jsx("button",{type:"submit",className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500",children:""})]})]})]})}):null},i8e=({open:e,options:t,targetCount:r,targetContext:n,applying:a,progress:i,summary:s,onClose:o,onConfirm:l,onOptionChange:u,disabled:f=!1})=>{if(!e)return null;const d=x=>{u({...t,...x})},p=s?" ":a?" ...":r>0?`  (${r.toLocaleString()})`:"  ",v=s?"":"",y=f||a||r===0;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 py-8",children:m.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-6 shadow-xl",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"   "}),m.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"          ."})]}),m.jsx("button",{type:"button",className:"rounded-full p-1 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",onClick:o,"aria-label":"    ",disabled:a,children:m.jsx("span",{"aria-hidden":!0,children:""})})]}),m.jsxs("div",{className:"mt-4 space-y-5",children:[m.jsxs("section",{className:"rounded-xl border border-slate-200 p-4",children:[m.jsx("p",{className:"text-sm font-medium text-slate-700",children:" "}),m.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[m.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 p-3 text-sm shadow-sm transition hover:border-indigo-200",children:[m.jsx("input",{type:"radio",name:"bulk-mode",className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500",checked:t.mode==="fill",onChange:()=>d({mode:"fill"}),disabled:a}),m.jsxs("span",{children:[m.jsx("span",{className:"font-semibold text-slate-900",children:"   ()"}),m.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:" /   SKU  ."})]})]}),m.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-lg border border-slate-200 p-3 text-sm shadow-sm transition hover:border-indigo-200",children:[m.jsx("input",{type:"radio",name:"bulk-mode",className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500",checked:t.mode==="overwrite",onChange:()=>d({mode:"overwrite"}),disabled:a}),m.jsxs("span",{children:[m.jsx("span",{className:"font-semibold text-slate-900",children:"  "}),m.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"     . 20%   ."})]})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[m.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3 text-sm shadow-sm",children:[m.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500",checked:t.includeLeadTime,onChange:x=>d({includeLeadTime:x.target.checked}),disabled:a}),m.jsxs("span",{children:[m.jsx("span",{className:"font-semibold text-slate-900",children:" "}),m.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"  .        ."})]})]}),m.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3 text-sm shadow-sm",children:[m.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500",checked:t.includeServiceLevel,onChange:x=>d({includeServiceLevel:x.target.checked}),disabled:a}),m.jsxs("span",{children:[m.jsx("span",{className:"font-semibold text-slate-900",children:"  "}),m.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"   .      ."})]})]}),m.jsxs("label",{className:"flex items-start gap-3 rounded-lg border border-slate-100 p-3 text-sm shadow-sm md:col-span-2",children:[m.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500",checked:t.includeManual,onChange:x=>d({includeManual:x.target.checked}),disabled:a}),m.jsxs("span",{children:[m.jsx("span",{className:"font-semibold text-slate-900",children:" SKU ( )"}),m.jsx("span",{className:"mt-1 block text-xs text-slate-500",children:"    SKU   .    SKU ."})]})]})]})]}),m.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-600",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("span",{className:"font-medium text-slate-900",children:" SKU"}),m.jsx("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-600",children:n==="search"?"  ":" SKU"}),m.jsxs("span",{className:"rounded-full bg-white px-3 py-1 text-xs text-slate-500 shadow-sm",children:[r.toLocaleString(),""]})]}),m.jsx("p",{className:"mt-2 text-xs text-slate-500",children:n==="search"?"       .":"    SKU ."}),a&&i&&m.jsxs("p",{className:"mt-2 text-xs text-indigo-600",children:[" : ",i.completed.toLocaleString()," / ",i.total.toLocaleString()]}),s&&m.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-white p-3 text-xs text-slate-600",children:[m.jsxs("p",{children:[" ",s.total.toLocaleString()," "," ",m.jsxs("span",{className:"font-semibold text-emerald-600",children:[s.applied.toLocaleString(),""]})," ."]}),m.jsxs("p",{className:"mt-1",children:[" ",s.skipped.length.toLocaleString(),"  "," ",s.failed.length.toLocaleString(),""]}),(s.skipped.length>0||s.failed.length>0)&&m.jsxs("div",{className:"mt-2 max-h-32 overflow-auto rounded border border-slate-100 bg-slate-50 p-2",children:[s.skipped.length>0&&m.jsxs("div",{children:[m.jsx("p",{className:"text-[11px] font-semibold text-slate-700",children:""}),m.jsx("ul",{className:"mt-1 text-[11px] text-slate-500",children:s.skipped.map(x=>m.jsxs("li",{children:[x.sku,": ",x.reason]},`skip-${x.sku}`))})]}),s.failed.length>0&&m.jsxs("div",{className:"mt-2",children:[m.jsx("p",{className:"text-[11px] font-semibold text-rose-700",children:""}),m.jsx("ul",{className:"mt-1 text-[11px] text-rose-600",children:s.failed.map(x=>m.jsxs("li",{children:[x.sku,": ",x.reason]},`fail-${x.sku}`))})]})]})]})]})]}),m.jsxs("div",{className:"mt-6 flex justify-end gap-2 border-t border-slate-100 pt-4",children:[m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-slate-300 hover:text-slate-900",onClick:o,disabled:a,children:v}),m.jsx("button",{type:"button",className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-slate-300",onClick:l,disabled:y,children:p})]})]})})},s8e=({skus:e,allProducts:t,policyRows:r,setPolicyRows:n,forecastCache:a,loading:i=!1,loadError:s=null,onReload:o,persistedManualSkus:l=[],ready:u=!1,onPersistedSkusChange:f})=>{var st;const[d,p]=A.useState(""),[v,y]=A.useState(null),[x,b]=A.useState(!1),[w,_]=A.useState(!1),T=A.useRef(new Set),[M,N]=A.useState(!1),[C,j]=A.useState(null),[O,P]=A.useState(!1),[R,k]=A.useState(NUe),[L,I]=A.useState(!1),[$,F]=A.useState(null),[z,V]=A.useState(null);A.useEffect(()=>{T.current.clear(),!(!l||l.length===0)&&l.forEach(me=>{T.current.add(vt(me))})},[l]);const q=A.useCallback(me=>{T.current.add(vt(me))},[]),W=A.useCallback(me=>{if(!f)return;const ce=vt(me),he=l??[];he.includes(ce)||f([...he,ce])},[f,l]),Y=A.useCallback(me=>{if(!f)return;const ce=vt(me),he=l??[];if(he.length===0)return;const ze=he.filter(Ge=>Ge!==ce);ze.length!==he.length&&f(ze)},[f,l]),H=A.useCallback(()=>{V(null),F(null),P(!0)},[]),U=A.useCallback(()=>{L||P(!1)},[L]),K=A.useCallback(me=>{V(null),k(ce=>({...ce,...me}))},[]),ee=!u&&i,ae=u&&i,xe=u||r.length>0,ke=A.useMemo(()=>{const me=new Map;return t.forEach(ce=>{const he=vt(ce.sku);me.set(he,ce),he!==ce.sku&&me.set(ce.sku,ce)}),me},[t]),Je=A.useMemo(()=>new Set(r.map(me=>vt(me.sku))),[r]),Te=A.useMemo(()=>t.filter(me=>!Je.has(vt(me.sku))),[t,Je]).length>0,De=!x,J=A.useMemo(()=>{const me=d.trim().toLowerCase();return me?r.filter(ce=>{var at;const he=vt(ce.sku),ze=ke.get(he),Ge=((at=ze==null?void 0:ze.name)==null?void 0:at.toLowerCase())??"";return he.toLowerCase().includes(me)||Ge.includes(me)}):r},[r,ke,d]),it=A.useMemo(()=>ke.size===0?[]:J.filter(me=>ke.has(vt(me.sku))),[J,ke]),Ue=d.trim().length>0,ft=Ue?"search":"all",le=A.useMemo(()=>{const me=Ue?it:r;if(!me||me.length===0)return 0;const ce=new Set;let he=0;return me.forEach(ze=>{const Ge=vt(ze.sku);ce.has(Ge)||(ce.add(Ge),ke.has(Ge)&&(he+=1))}),he},[Ue,r,ke,it]),te=A.useCallback(async me=>{var Ee,$e;const ce=vt(me),he=ke.get(ce),ze=r.find(Oe=>vt(Oe.sku)===ce),Ge=a[ce]??a[me],at={};typeof(he==null?void 0:he.dailyAvg)=="number"&&Number.isFinite(he.dailyAvg)&&(at.dailyAvg=he.dailyAvg),typeof(he==null?void 0:he.dailyStd)=="number"&&Number.isFinite(he.dailyStd)&&(at.dailyStd=he.dailyStd),typeof(he==null?void 0:he.avgOutbound7d)=="number"&&Number.isFinite(he.avgOutbound7d)&&(at.avgOutbound7d=he.avgOutbound7d),typeof(he==null?void 0:he.onHand)=="number"&&Number.isFinite(he.onHand)&&(at.onHand=he.onHand);const lt=(ze==null?void 0:ze.leadTimeDays)??((Ee=Ge==null?void 0:Ge.product)==null?void 0:Ee.leadTimeDays);typeof lt=="number"&&Number.isFinite(lt)&&(at.leadTimeDays=lt),typeof(ze==null?void 0:ze.serviceLevelPercent)=="number"&&Number.isFinite(ze.serviceLevelPercent)&&(at.serviceLevelPercent=ze.serviceLevelPercent);const ge={sku:ce,name:(he==null?void 0:he.name)??me,category:he==null?void 0:he.category,metrics:Object.keys(at).length>0?at:void 0,history:($e=Ge==null?void 0:Ge.timeline)==null?void 0:$e.map(Oe=>({date:Oe.date,actual:Oe.actual,forecast:Oe.forecast}))};return LFe(ge)},[a,r,ke]),Ne=A.useCallback(async()=>{if(L)return;const me=Ue?it:r,ce=Array.from(new Set(me.map($e=>vt($e.sku)).filter($e=>$e&&ke.has($e))));if(ce.length===0){y({type:"error",text:"   ."}),P(!1);return}const he=[],ze=[],Ge=ce.filter($e=>T.current.has($e)&&!R.includeManual?(he.push({sku:$e,reason:"   SKU   ."}),!1):!0);if(Ge.length===0){V({total:ce.length,applied:0,skipped:he,failed:ze}),y({type:"error",text:"   SKU ."});return}I(!0),F({total:Ge.length,completed:0}),V(null),y(null);const at=new Map;for(let $e=0;$e<Ge.length;$e+=1){const Oe=Ge[$e],mt=r.find(Tt=>vt(Tt.sku)===Oe);if(!mt){he.push({sku:Oe,reason:"   ."}),F({total:Ge.length,completed:$e+1});continue}try{const Tt=await te(Oe),Ce=MUe(Tt),Re=EUe(mt,Ce,R);Re.changed&&Re.nextRow?at.set(Oe,Re.nextRow):he.push({sku:Oe,reason:Re.reason??"  ."})}catch(Tt){const Ce=Tt instanceof Error&&Tt.message?Tt.message:"  .";ze.push({sku:Oe,reason:Ce})}F({total:Ge.length,completed:$e+1})}const lt=at.size;let ge=null,Ee=null;if(lt>0){Ee=r.map($e=>{const Oe=vt($e.sku);return at.get(Oe)??$e}).sort(($e,Oe)=>$e.sku.localeCompare(Oe.sku));try{await kh(Ee),n(Ee),y({type:"success",text:` ${lt.toLocaleString()} .`})}catch($e){ge=$e instanceof Error&&$e.message?$e.message:"  .   .",n(Ee),y({type:"error",text:ge})}}else ze.length===0&&y({type:"error",text:"    ."});V({total:ce.length,applied:lt,skipped:he,failed:ze}),ge&&console.error("[policy] bulk apply save failed",ge),I(!1),F(null)},[L,R,te,Ue,f,r,ke,it,kh,n,y]),Le=A.useCallback(async(me,ce)=>{const he=vt(me),ze=_s,Ge=new Date,at=new Date(Date.UTC(Ge.getUTCFullYear(),Ge.getUTCMonth(),Ge.getUTCDate())),lt=new Date(at);lt.setUTCDate(lt.getUTCDate()-(qie-1));const ge=await eg({from:zK(lt),to:zK(at),sku:he});if(!ge.movementSeries||ge.movementSeries.length===0)throw new Error("       .");const Ee=ge.movementSeries.map(Re=>Number.isFinite(Re.outbound)?Math.max(Re.outbound,0):0),$e=Ee.length;if($e===0)throw new Error("   EWMA   .");const Oe=Ee.reduce((Re,Nt)=>Re+Nt,0)/$e,mt=Ee.reduce((Re,Nt)=>Re+(Nt-Oe)**2,0)/$e,Tt=Math.sqrt(Math.max(mt,0));let Ce=Ee[0];for(let Re=1;Re<Ee.length;Re+=1)Ce=ze*Ee[Re]+(1-ze)*Ce;return{forecastDemand:Math.max(0,Math.round(Ce)),demandStdDev:Math.max(0,Math.round(Tt)),smoothingAlpha:ze}},[]);A.useEffect(()=>{!a||Object.keys(a).length===0||n(me=>{let ce=!1;const he=me.map(ze=>{const Ge=vt(ze.sku);if(T.current.has(Ge))return ze;const at=ke.get(Ge);if(!at)return ze;const lt=a[Ge]??a[ze.sku];if(!lt)return ze;const ge=og(at,{forecast:lt,serviceLevelPercent:ze.serviceLevelPercent}),Ee={...ze,forecastDemand:ge.forecastDemand??ze.forecastDemand,demandStdDev:ge.demandStdDev??ze.demandStdDev,leadTimeDays:ge.leadTimeDays??ze.leadTimeDays};return(Ee.forecastDemand!==ze.forecastDemand||Ee.demandStdDev!==ze.demandStdDev||Ee.leadTimeDays!==ze.leadTimeDays)&&(ce=!0),Ee});return ce?he:me})},[a,ke,n]);const Pe=A.useCallback((me,ce=0)=>me==null||!Number.isFinite(me)?"-":me.toLocaleString(void 0,{minimumFractionDigits:ce,maximumFractionDigits:ce}),[]),He=A.useCallback((me,ce)=>{if(!xe)return;const he=Number.parseFloat(ce);if(!Number.isFinite(he))return;const ze=vt(me);n(Ge=>Ge.map(at=>vt(at.sku)===ze?{...at,serviceLevelPercent:he}:at)),q(me),W(me)},[W,xe,q,n]),pe=A.useCallback(me=>{if(!xe)return;const ce=vt(me),he=r.find(ze=>vt(ze.sku)===ce);if(!he){y({type:"error",text:" SKU   ."});return}j(he.sku),N(!0)},[xe,r,y]),Fe=A.useCallback(me=>{if(!xe)return;const ce=vt(me),he=ke.get(ce),ze=he?`'${he.name}'  ?    .`:`${me}  ?    .`;typeof window<"u"&&!window.confirm(ze)||(n(Ge=>Ge.filter(at=>vt(at.sku)!==ce).map(_n)),T.current.delete(ce),Y(ce),y({type:"success",text:`${me}    .`}))},[xe,ke,Y,n,y]),ue=A.useCallback(()=>{De&&(y(null),_(!0))},[De]),nt=A.useCallback(()=>{_(!1)},[]),tt=A.useCallback(me=>{if(x)return;const ce=vt(me.sku);n(he=>{if(he.some(ge=>vt(ge.sku)===ce))return he;const ze=jUe.find(ge=>vt(ge.sku)===ce),Ge=ze?{...ze}:og(me,{forecast:a[ce]??a[me.sku]}),at=_n({...Ge,sku:vt(Ge.sku)}),lt=[...he,at];return lt.sort((ge,Ee)=>ge.sku.localeCompare(Ee.sku)),lt}),T.current.delete(ce),Y(ce),y({type:"success",text:`${ce}  .`})},[a,Y,x,n,y]),Q=A.useCallback(async(me,ce)=>{const he=vt(me);let ze=null;if(n(Ge=>{const at=Ge.find(Oe=>vt(Oe.sku)===he),lt=ke.get(he),ge=at??_n({sku:he,name:(lt==null?void 0:lt.name)??null,forecastDemand:null,demandStdDev:null,leadTimeDays:null,serviceLevelPercent:null,smoothingAlpha:_s,corrRho:ku}),Ee=_n({...ge,...ce,sku:he});ze=Ee;const $e=at?Ge.map(Oe=>vt(Oe.sku)===he?Ee:Oe):[...Ge,Ee];return $e.sort((Oe,mt)=>Oe.sku.localeCompare(mt.sku)),$e}),!ze)throw new Error("    .");T.current.add(he);try{await IFe(ze),ze&&W(ze.sku),y({type:"success",text:`${ze.sku}   .`})}catch(Ge){const at=Ge instanceof Error&&Ge.message?Ge.message:"   .   .";throw y({type:"error",text:at}),Ge instanceof Error?Ge:new Error(at)}},[W,ke,n,y]),we=A.useCallback(async()=>{if(x||!xe)return;b(!0),y(null);const ce=[...r.map(_n)].sort((ze,Ge)=>ze.sku.localeCompare(Ge.sku)),he=u&&ke.size>0?ce.filter(ze=>!ke.has(ze.sku)).map(ze=>ze.sku):[];Hie(ce),n(ce);try{await kh(ce);try{const Ge=[...await Aie()].map(lt=>_n({...lt,sku:vt(lt.sku)})).sort((lt,ge)=>lt.sku.localeCompare(ge.sku));let at=null;n(lt=>{if(Ge.length===0)return at=lt,lt;const ge=new Map(Ge.map(Oe=>[vt(Oe.sku),Oe])),Ee=lt.filter(Oe=>!ge.has(vt(Oe.sku)));if(Ee.length===0)return at=Ge,Ge;const $e=[...Ge,...Ee.map(Oe=>_n({...Oe,sku:vt(Oe.sku)}))];return $e.sort((Oe,mt)=>Oe.sku.localeCompare(mt.sku)),at=$e,$e})}catch{}y({type:"success",text:u?he.length>0?"Policies saved. "+he.length.toLocaleString()+" policies reference products that are not in the current catalog. Review those entries before finalizing.":"Policies saved.":"  ."})}catch(ze){const Ge=ze instanceof Error&&ze.message?ze.message:"  .   .";y({type:"error",text:Ge})}finally{b(!1)}},[xe,f,r,ke,u,x]);return m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs(Kie,{children:[m.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[m.jsx("div",{children:m.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:" "})}),m.jsxs("div",{className:"flex flex-col gap-2 sm:w-96",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{htmlFor:"policy-search",className:"sr-only",children:"SKU   "}),m.jsx("input",{id:"policy-search",className:"w-full rounded-xl border border-slate-200 px-3 py-2 text-sm shadow-sm placeholder:text-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"SKU, ,  ",value:d,onChange:me=>p(me.target.value)})]}),m.jsx("button",{type:"button",className:"rounded-xl bg-indigo-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-slate-300",onClick:ue,disabled:!De,children:"+  "})]}),ae&&m.jsx("p",{className:"text-xs text-slate-400",children:"   ..."}),u&&t.length===0&&m.jsx("p",{className:"text-xs text-slate-500",children:"    .        ."}),u&&t.length>0&&!Te&&m.jsx("p",{className:"text-xs text-slate-500",children:"    .   ."})]})]}),s&&!ee&&m.jsxs("div",{className:"mt-4 flex items-start justify-between gap-4 rounded-xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:[m.jsx("span",{children:s}),o&&m.jsx("button",{type:"button",className:"rounded-lg border border-rose-200 px-3 py-1 text-xs font-medium text-rose-700 transition hover:border-rose-300 hover:bg-rose-100",onClick:o,disabled:i,children:" "})]}),v&&m.jsx("div",{className:`mt-4 rounded-xl border px-4 py-3 text-sm ${v.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:v.text}),m.jsx("div",{className:"mt-6 overflow-auto rounded-2xl border border-slate-200",children:m.jsxs("table",{className:"min-w-full text-sm","aria-label":" ",children:[m.jsx("thead",{className:"bg-slate-50 text-left text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:""}),m.jsx("th",{className:"px-3 py-2",children:"SKU"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"  (EA/)"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"  ()"}),m.jsx("th",{className:"px-3 py-2 text-right",children:" (L, )"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"  (%)"}),m.jsx("th",{className:"px-3 py-2 text-right",children:""})]})}),m.jsx("tbody",{children:it.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"py-12 text-center text-slate-500",children:ke.size===0?"   .    .":"   ."})}):it.map(me=>{const ce=vt(me.sku),he=ke.get(ce);return he?m.jsxs("tr",{className:"border-b border-slate-100 last:border-transparent",children:[m.jsxs("td",{className:"px-3 py-3 align-top",children:[m.jsx("div",{className:"font-semibold text-slate-900",children:he.name}),m.jsxs("div",{className:"text-[11px] text-slate-500",children:[he.category??" ","  ",he.subCategory??" "]})]}),m.jsx("td",{className:"px-3 py-3 align-top font-mono text-xs text-slate-500",children:me.sku}),m.jsx("td",{className:"px-3 py-3 align-top text-right",children:Pe(me.forecastDemand)}),m.jsx("td",{className:"px-3 py-3 align-top text-right",children:Pe(me.demandStdDev)}),m.jsx("td",{className:"px-3 py-3 align-top text-right",children:Pe(me.leadTimeDays)}),m.jsx("td",{className:"px-3 py-3 align-top text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsxs("label",{htmlFor:`service-level-${me.sku}`,className:"sr-only",children:[me.sku,"  "]}),m.jsx(Mr,{id:`service-level-${me.sku}`,"aria-label":`${me.sku}  `,className:"w-28",value:me.serviceLevelPercent!=null?me.serviceLevelPercent.toString():"",onChange:ze=>He(me.sku,ze),options:CUe,placeholder:"",inputClassName:"w-28 rounded-lg border border-slate-200 px-2 py-1 text-right text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",disabled:!xe})]})}),m.jsx("td",{className:"px-3 py-3 align-top",children:m.jsxs("div",{className:"flex justify-end gap-1 text-xs",children:[m.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-lg border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 transition hover:border-slate-300 hover:bg-slate-50 hover:text-slate-900",onClick:()=>pe(me.sku),disabled:!xe||x,children:""}),m.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-lg border border-rose-200 px-3 py-1 text-xs font-medium text-rose-600 transition hover:border-rose-300 hover:bg-rose-50 hover:text-rose-700",onClick:()=>Fe(me.sku),disabled:!xe||x,children:""})]})})]},me.sku):null})})]})}),m.jsxs("div",{className:"mt-6 flex justify-end border-t border-slate-100 pt-4",children:[m.jsx("button",{type:"button",className:"mr-2 inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-400",onClick:H,disabled:x||!xe||L,children:"   "}),m.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-slate-300",onClick:we,disabled:x||!xe,children:x?" ...":" "})]})]}),m.jsx(n8e,{open:w,onClose:nt,products:t,existingSkus:Je,onSubmit:tt}),m.jsx(i8e,{open:O,options:R,targetCount:le,targetContext:ft,applying:L,progress:$,summary:z,onClose:U,onConfirm:Ne,onOptionChange:K,disabled:!xe}),M&&C&&m.jsx(a8e,{open:M,sku:C,productName:(st=ke.get(vt(C)))==null?void 0:st.name,value:(()=>{const me=r.find(ce=>vt(ce.sku)===vt(C));return{forecastDemand:me.forecastDemand??null,demandStdDev:me.demandStdDev??null,leadTimeDays:me.leadTimeDays??null,serviceLevelPercent:me.serviceLevelPercent??null}})(),onClose:()=>{N(!1),j(null)},onSubmit:me=>{C&&(n(ce=>ce.map(he=>he.sku===C?{...he,forecastDemand:me.forecastDemand,demandStdDev:me.demandStdDev,leadTimeDays:me.leadTimeDays,serviceLevelPercent:me.serviceLevelPercent??he.serviceLevelPercent,smoothingAlpha:_s,corrRho:ku}:he)),q(C),W(C),y({type:"success",text:`${C}  .`}),N(!1),j(null))},onRecommend:te,onApplyEwma:Le,onAutoSave:me=>Q(C,me)})]})},o8e=()=>{var lt;const e=Jue(),t=(e==null?void 0:e.active)??Uie,r=A.useRef(!0),n=A.useMemo(()=>xD(),[]),[a,i]=A.useState(0),s=A.useCallback(()=>i(ge=>ge+1),[]),[o,l]=A.useState([]),[u,f]=A.useState([]),[d,p]=A.useState(null),v=A.useRef(null),[y,x]=A.useState(!0),[b,w]=A.useState(n),[_,T]=A.useState(!1),[M,N]=A.useState(null),[C,j]=A.useState(!1),[O,P]=A.useState(()=>SUe()),[R,k]=A.useState({}),[L,I]=A.useState(null),[$,F]=A.useState(""),[z,V]=A.useState(!1),[q,W]=A.useState(null),[Y,H]=A.useState(null),[U,K]=A.useState(0),[ee,ae]=A.useState(!1),[xe,ke]=A.useState(!1),[Je,be]=A.useState(!1),[Te,De]=A.useState([]),[J,it]=A.useState(!1),[Ue,ft]=A.useState(!1),le=As(),te=A.useRef(new Set);A.useEffect(()=>()=>{r.current=!1},[]);const Ne=A.useCallback(async()=>{if(r.current){T(!0),N(null);try{const ge=await Aie();if(!r.current)return;const $e=[...ge.map(Re=>_n({...Re,sku:vt(Re.sku)}))].sort((Re,Nt)=>Re.sku.localeCompare(Nt.sku)),Oe=new Set($e.map(Re=>Re.sku)),mt=xD().map(Re=>_n({...Re,sku:vt(Re.sku)})),Tt=mt.filter(Re=>!Oe.has(Re.sku)),Ce=$e.length>0?[...$e,...Tt]:[...mt];Ce.length>1&&Ce.sort((Re,Nt)=>Re.sku.localeCompare(Nt.sku)),w(Re=>{if(Re.length===0)return Ce;if(Ce.length===0)return Re.map(_n);const Nt=Re.filter(X=>!Oe.has(vt(X.sku)));if(Nt.length===0)return Ce;const Wt=[...Ce,...Nt.map(X=>_n({...X,sku:vt(X.sku)}))],qt=new Map;Wt.forEach(X=>{qt.set(vt(X.sku),_n({...X,sku:vt(X.sku)}))});const Lt=Array.from(qt.values());return Lt.sort((X,se)=>X.sku.localeCompare(se.sku)),Lt})}catch(ge){if(!r.current)return;const Ee=ge instanceof Error&&ge.message?ge.message:"  .";N(Ee);const $e=xD().map(Oe=>_n({...Oe,sku:vt(Oe.sku)}));$e.length>0&&w(Oe=>Oe.length===0?$e:Oe.map(_n))}finally{r.current&&(T(!1),j(!0))}}},[w,N,T,j]);A.useEffect(()=>{Ne()},[Ne]),A.useEffect(()=>{C&&Hie(b)},[C,b]),A.useEffect(()=>{_Ue(O)},[O]);const Le=A.useCallback(()=>{_||Ne()},[Ne,_]),Pe=A.useCallback(()=>{W(null),K(ge=>ge+1)},[W]),He=A.useCallback(async ge=>{try{const Ee=await Au(ge);if(!r.current)return;const $e=Ee.find(Oe=>Oe.sku===ge)??null;$e&&p(Oe=>Oe&&Oe.sku===ge?$e:Oe)}catch{}},[p]);A.useEffect(()=>{v.current=d},[d]),A.useEffect(()=>{const ge=kfe(Ee=>{var Tt;Pe();const $e=v.current;if(!($e!=null&&$e.sku))return;const Oe=((Tt=Ee.detail)==null?void 0:Tt.movements)??[];if(Oe.length===0){He($e.sku);return}Oe.some(Ce=>{var Re;return!!((Re=Ce.product)!=null&&Re.sku&&Ce.product.sku===$e.sku||typeof Ce.productId=="number"&&Number.isFinite($e.legacyProductId)&&Ce.productId===$e.legacyProductId)})&&He($e.sku)});return()=>{ge==null||ge()}},[He,Pe]);const pe=A.useCallback(()=>{it(!0)},[]),Fe=A.useCallback(()=>{it(!1)},[]),ue=A.useCallback(async()=>{if(typeof window>"u"||typeof document>"u"){le("   .",{tone:"error",duration:0});return}ft(!0);try{const ge=await Ede("products");mR(ge,"products-template.csv"),le("CSV  .",{tone:"success"})}catch(ge){const Ee=ge instanceof Error&&ge.message?ge.message:"CSV   .";le(Ee,{tone:"error",duration:0})}finally{ft(!1)}},[le]),nt=A.useCallback(()=>{Pe(),Ne()},[Pe,Ne]),tt=A.useMemo(()=>{const ge=new Set;return o.forEach(Ee=>{Number.isFinite(Ee.legacyProductId)&&Ee.legacyProductId>0&&ge.add(Ee.legacyProductId)}),Array.from(ge).sort((Ee,$e)=>Ee-$e)},[o]);A.useEffect(()=>{let ge=!1;return(async()=>{V(!0);try{const $e=await Au($);if(ge)return;l($e),W(null),$.trim()||f($e)}catch($e){if(ge)return;const Oe=$e instanceof Error&&$e.message?$e.message:"   .";W(Oe),l([])}finally{ge||(V(!1),ae(!0))}})(),()=>{ge=!0}},[$,U]),A.useEffect(()=>{if(!$.trim())return;let ge=!1;return(async()=>{try{const $e=await Au();if(ge)return;f($e)}catch{ge||f($e=>$e)}})(),()=>{ge=!0}},[$,U]),A.useEffect(()=>{if(!C||z)return;const ge=new Set(u.map(Ee=>vt(Ee.sku)));ge.size!==0&&P(Ee=>{if(Ee.length===0)return Ee;const $e=Ee.filter(Oe=>ge.has(vt(Oe)));return $e.length===Ee.length?Ee:$e})},[u,C,z,P]),A.useEffect(()=>{if(!d&&o.length>0){p(o[0]);return}if(d){const ge=o.find(Ee=>Ee.sku===d.sku);!ge&&o.length>0?p(o[0]):ge&&ge!==d&&p(ge)}},[o,d]),A.useEffect(()=>{const ge=tt.filter(Oe=>Oe>0&&!R[Oe]);if(ge.length===0)return;let Ee=!1;return k(Oe=>{const mt={...Oe};return ge.forEach(Tt=>{mt[Tt]||(mt[Tt]={status:"loading"})}),mt}),(async()=>{const Oe=await Promise.all(ge.map(async mt=>{try{const Tt=await fde(mt);return{productId:mt,data:Tt}}catch(Tt){const Ce=Tt instanceof Error&&Tt.message?Tt.message:"  .";return{productId:mt,error:Ce}}}));Ee||k(mt=>{const Tt={...mt};return Oe.forEach(Ce=>{"data"in Ce&&Ce.data?Tt[Ce.productId]={status:"ready",data:Ce.data}:"error"in Ce&&Ce.error&&(Tt[Ce.productId]={status:"error",error:Ce.error})}),Tt})})(),()=>{Ee=!0}},[tt,R]);const Q=A.useMemo(()=>{if(o.length===0)return{opening:0,avgDOS:0,turns:8.4,serviceLevel:.95};const ge=o.reduce((mt,Tt)=>mt+Tt.onHand,0),Ee=o.reduce((mt,Tt)=>{const Ce=qUe(Tt);return Ce!==null&&(mt.sum+=Ce,mt.count+=1),mt},{sum:0,count:0}),$e=Ee.count>0?Math.round(Ee.sum/Ee.count):0,Oe=GUe(o)/100;return{opening:ge,avgDOS:$e,turns:8.4,serviceLevel:Oe}},[o]),we=A.useMemo(()=>{const ge={};return Object.values(R).forEach(Ee=>{if((Ee==null?void 0:Ee.status)==="ready"&&Ee.data){const $e=Ee.data.product.sku,Oe=vt($e);ge[$e]=Ee.data,ge[Oe]=Ee.data}}),ge},[R]);A.useEffect(()=>{if(!C||!ee)return;const ge=new Set(u.map(Re=>vt(Re.sku)));let Ee=b,$e=!1;if(b.length>0){const Re=b.filter(Nt=>ge.has(vt(Nt.sku)));Re.length!==b.length&&(Ee=Re,$e=!0)}const Oe=new Set(Ee.map(Re=>vt(Re.sku))),mt=[];if(u.forEach(Re=>{const Nt=vt(Re.sku);if(Oe.has(Nt)||te.current.has(Nt))return;const Wt=we[Re.sku]??we[Nt],qt=_n(og(Re,{forecast:Wt}));mt.push(qt),te.current.add(Nt)}),mt.length>0&&(Ee=[...Ee,...mt],Ee.sort((Re,Nt)=>Re.sku.localeCompare(Nt.sku)),$e=!0),!$e)return;const Tt=Ee.map(Re=>_n({...Re,sku:vt(Re.sku)})),Ce=Array.from(new Map(Tt.map(Re=>[vt(Re.sku),Re])).values()).sort((Re,Nt)=>Re.sku.localeCompare(Nt.sku));w(Ce),(async()=>{try{await kh(Ce.map(_n)),N(null)}catch(Re){console.error("[deepflow] policy auto-draft sync failed",Re),N("     .   .")}})()},[u,ee,we,C,b,N,w]);const st=A.useMemo(()=>{const ge={};return o.forEach(Ee=>{const $e=vt(Ee.sku);if(Ee.legacyProductId>0){const Oe=R[Ee.legacyProductId]??{status:"idle"};ge[Ee.sku]=Oe,ge[$e]=Oe}else ge[Ee.sku]={status:"idle"},ge[$e]={status:"idle"}}),ge},[R,o]),me=A.useMemo(()=>{const ge=new Map;return b.forEach(Ee=>{const $e=vt(Ee.sku);ge.set($e,Ee),$e!==Ee.sku&&ge.set(Ee.sku,Ee)}),ge},[b]),ce=A.useCallback((ge,Ee="edit")=>{H(null),I({mode:Ee,row:{...ge},originalSku:Ee==="edit"?ge.sku:void 0})},[H]),he=A.useCallback(()=>{H(null),I(null)},[H]),ze=A.useCallback(async ge=>{if(ge!=null&&ge.sku&&!(typeof window<"u"&&!window.confirm(`'${ge.name||ge.sku}'  ?`)))try{await Z6(ge.sku);const Ee=vt(ge.sku);l(Oe=>Oe.filter(mt=>vt(mt.sku)!==Ee)),De(Oe=>Oe.filter(mt=>vt(mt)!==Ee));let $e=[];w(Oe=>{const mt=Oe.filter(Tt=>vt(Tt.sku)!==Ee).map(Tt=>_n({...Tt,sku:vt(Tt.sku)}));return $e=mt,mt}),$e.length===b.length&&($e=b.filter(Oe=>vt(Oe.sku)!==Ee).map(Oe=>_n({...Oe,sku:vt(Oe.sku)}))),p(Oe=>Oe&&Oe.sku===ge.sku?null:Oe),k(Oe=>{if(!ge.legacyProductId||!(ge.legacyProductId in Oe))return Oe;const mt={...Oe};return delete mt[ge.legacyProductId],mt}),I(Oe=>{if(!Oe)return Oe;const mt=Oe.originalSku??Oe.row.sku;return vt(mt)===Ee?null:Oe});try{await kh($e),P(Oe=>Oe.filter(mt=>vt(mt)!==Ee)),N(null)}catch(Oe){console.error("[deepflow] policy sync failed after product deletion",Oe),N("   .     .")}Pe()}catch(Ee){const $e=Ee instanceof Error&&Ee.message?Ee.message:"  .";W($e)}},[l,w,b,p,k,I,kh,P,N,Pe,W,De]),Ge=A.useCallback(async()=>{if(!L||xe)return;const{row:ge,mode:Ee,originalSku:$e}=L;if(!ge.sku.trim()||!ge.name.trim()){H("SKU    .");return}const Oe=dre(ge);if(Oe){H(Oe);return}const mt=ge.sku.trim();if(o.some(Re=>Re.sku===mt&&(Ee==="new"||Re.sku!==$e))){H("  SKU.    .");return}const Ce=pR(ge);ke(!0),H(null);try{const Re=Ee==="new"?await Dde(Ce):await Ode($e??ge.sku,Ce),Nt=vt($e??ge.sku),Wt=vt(Re.sku);w(Lt=>{var ut;const X=$e??ge.sku,se=Lt.findIndex(pt=>pt.sku===X);if(se>=0){const pt=[...Lt],ie=og(Re,{forecast:we[Re.sku],serviceLevelPercent:pt[se].serviceLevelPercent});return pt[se]=_n({...pt[se],sku:Re.sku,name:((ut=Re.name)==null?void 0:ut.trim())||ie.name||pt[se].name||null,forecastDemand:ie.forecastDemand??pt[se].forecastDemand,demandStdDev:ie.demandStdDev??pt[se].demandStdDev,leadTimeDays:ie.leadTimeDays??pt[se].leadTimeDays}),pt}const _e=_n(og(Re,{forecast:we[Re.sku]})),et=[...Lt,_e];return et.sort((pt,ie)=>pt.sku.localeCompare(ie.sku)),et});const qt=Lt=>{let X=!1;const se=Lt.map(_e=>{const et=vt(_e.sku);return et===Nt||et===Wt?(X=!0,Re):_e});return X?se:[...se,Re]};l(qt),f(qt),De(Lt=>{const X=vt(Re.sku);return[...Lt.filter(_e=>vt(_e)!==X),X]}),p(Re),H(null),he(),Pe()}catch(Re){const Nt=Re instanceof Error&&Re.message?Re.message:"  .";if(HUe(Re)){const Wt=iMe(Re.payload);H(Wt??Nt)}else H(Nt)}finally{ke(!1)}},[he,we,L,xe,f,w,p,l,o,De,Pe]),at=A.useCallback(async()=>{if(!L||L.mode!=="edit"||Je)return;const ge=L.originalSku??L.row.sku;if(ge){be(!0),H(null);try{await Z6(ge),w(Ee=>Ee.filter($e=>$e.sku!==ge)),H(null),p(Ee=>Ee&&Ee.sku===ge?null:Ee),L.row.legacyProductId&&k(Ee=>{const $e={...Ee};return delete $e[L.row.legacyProductId],$e}),he(),Pe()}catch(Ee){const $e=Ee instanceof Error&&Ee.message?Ee.message:"  .";H($e)}finally{be(!1)}}},[he,Je,L,Pe]);return m.jsxs(m.Fragment,{children:[t==="inventory"&&m.jsx(kFe,{skus:o,selected:d,setSelected:p,kpis:Q,forecastCache:we,forecastStatusBySku:st,policies:b}),t==="forecast"&&m.jsx(l8e,{skus:o,promoExclude:y,setPromoExclude:x,forecastCache:we,forecastStatusBySku:st,policyBySku:me}),t==="products"&&m.jsx(QUe,{skus:o,query:$,onQueryChange:F,loading:z,error:q,onRetry:Pe,onEdit:ge=>ce(ge,"edit"),onDelete:ze,onNew:()=>ce(yde(),"new"),onCsvUpload:pe,onCsvDownload:ue,csvDownloading:Ue,appendedProductSkus:Te,warehouseRefreshToken:a}),t==="policies"&&m.jsx(s8e,{skus:o,allProducts:u,policyRows:b,setPolicyRows:w,forecastCache:we,loading:_,loadError:M,onReload:Le,persistedManualSkus:O,ready:C,onPersistedSkusChange:P}),t==="policyOps"&&m.jsx(H2e,{products:u}),t==="purchase"&&m.jsx(aUe,{}),t==="sales"&&m.jsx(mUe,{}),t==="warehouses"&&m.jsx(fge,{refreshToken:a,onRequestReload:s}),t==="categories"&&m.jsx(b0e,{}),t==="partners"&&m.jsx(u0e,{}),m.jsx(_0e,{open:J,onClose:Fe,onCompleted:nt}),L&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 py-8",role:"dialog","aria-modal":"true","aria-labelledby":"deepflow-product-modal-title",onClick:he,children:m.jsxs("div",{className:"w-full max-w-3xl overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-slate-200",onClick:ge=>ge.stopPropagation(),children:[m.jsxs("div",{className:"flex items-start justify-between border-b border-slate-100 px-6 py-4",children:[m.jsxs("div",{children:[m.jsx("h3",{id:"deepflow-product-modal-title",className:"text-lg font-semibold text-slate-900",children:L.mode==="new"?" ":" "}),m.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["SKU ",((lt=L.originalSku)==null?void 0:lt.trim())||L.row.sku.trim()||""]})]}),m.jsx("button",{type:"button",className:"rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",onClick:he,"aria-label":"  ",children:""})]}),m.jsxs("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:[m.jsx(sMe,{row:L.row,onChange:ge=>I({...L,row:ge}),existingSkus:o.map(ge=>ge.sku).filter(ge=>ge!==(L.originalSku??""))}),Y&&m.jsx("div",{className:"mt-4 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-xs text-red-600",children:Y})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 border-t border-slate-100 px-6 py-4 text-sm",children:[m.jsx("button",{type:"button",className:"rounded-xl border border-slate-200 px-3 py-2 text-slate-600 transition hover:bg-slate-50 disabled:opacity-60",onClick:he,disabled:xe||Je,children:""}),L.mode==="edit"&&m.jsx("button",{type:"button",className:"rounded-xl border border-rose-200 px-3 py-2 text-rose-600 transition hover:bg-rose-50 disabled:opacity-60",onClick:at,disabled:xe||Je,children:Je?" ...":""}),m.jsx("button",{type:"button",className:"rounded-xl bg-indigo-600 px-3 py-2 font-medium text-white transition hover:bg-indigo-500 disabled:opacity-60",onClick:Ge,disabled:xe,children:xe?" ...":L.mode==="new"?"":""})]})]})})]})},l8e=({skus:e,promoExclude:t,setPromoExclude:r,forecastCache:n,forecastStatusBySku:a,policyBySku:i})=>{var ft;const[s,o]=A.useState("perSku"),[l,u]=A.useState(((ft=e[0])==null?void 0:ft.sku)??null),[f,d]=A.useState(12),[p,v]=A.useState("month"),[y,x]=A.useState({}),[b,w]=A.useState(!1),[_,T]=A.useState(!1);A.useEffect(()=>{if(e.length===0){l!==null&&u(null);return}(!l||!e.some(le=>le.sku===l))&&u(e[0].sku)},[e,l]);const{seriesMap:M,forecastIndexMap:N}=A.useMemo(()=>{const le={},te={};return e.forEach((Ne,Le)=>{const Pe=n[Ne.sku];if(Pe){const He=Pe.timeline.map(Fe=>{const ue=BUe(Fe.date),nt=t&&Fe.phase==="forecast"&&Fe.promo?Math.round(Fe.forecast*.92):Math.round(Fe.forecast);return{date:ue,isoDate:Fe.date,actual:Fe.actual!==null?Math.round(Fe.actual):null,fc:nt,phase:Fe.phase,promo:Fe.promo??!1}});le[Ne.sku]=He;const pe=He.findIndex(Fe=>Fe.phase==="forecast");te[Ne.sku]=pe>=0?pe:He.length}else{const He=Gie(Ne,Le,t);le[Ne.sku]=He;const pe=He.findIndex(Fe=>Fe.phase==="forecast");te[Ne.sku]=pe>=0?pe:He.length}}),{seriesMap:le,forecastIndexMap:te}},[n,t,e]),C=A.useMemo(()=>{var le;return l??((le=e[0])==null?void 0:le.sku)??null},[l,e]),j=C?M[C]??[]:[],O=C?N[C]??j.length:j.length,P=O>=0&&O<j.length?{start:j[O].date,end:j[j.length-1].date}:null,R=A.useCallback(le=>{u(le)},[]),{chartData:k,visibleSeries:L}=A.useMemo(()=>{var Fe,ue;const le=nt=>nt.map(tt=>{const Q=tt.isoDate??tt.date,we=$K(Q);return{date:tt.date,isoDate:tt.isoDate,ts:we??void 0,actual:tt.actual,fc:tt.fc,forecast:tt.fc,phase:tt.phase,isFinal:tt.phase!=="forecast"}}),te=nt=>nt?M[nt]??[]:[];if(s==="overall"){const nt=C??((Fe=e[0])==null?void 0:Fe.sku)??null;if(!nt)return{chartData:[],visibleSeries:[]};const tt=te(nt),Q=SD(tt,f),we=Math.max(Math.min(f,tt.length),Math.min(6,tt.length)),st=Q.length>0?Q:tt.slice(-Math.max(we,Math.min(6,tt.length)));return{chartData:le(st),visibleSeries:st}}const Ne=l??C??((ue=e[0])==null?void 0:ue.sku)??null;if(!Ne)return{chartData:[],visibleSeries:[]};const Le=te(Ne),Pe=SD(Le,f),He=Math.max(Math.min(f,Le.length),Math.min(6,Le.length)),pe=Pe.length>0?Pe:Le.slice(-Math.max(He,Math.min(6,Le.length)));return{chartData:le(pe),visibleSeries:pe}},[C,f,s,l,M,e]),I=C?n[C]:void 0,$=C?a[C]:void 0,F=A.useMemo(()=>zUe(P,k),[P,k]);A.useMemo(()=>{var Ne,Le;if(!((Le=(Ne=I==null?void 0:I.weeklyForecast)==null?void 0:Ne.timeline)!=null&&Le.length))return[];const le=I.weeklyForecast.timeline.map(Pe=>({date:Pe.weekStart,isoDate:Pe.weekStart,actual:Number.isFinite(Pe.actual??Number.NaN)?Math.round(Pe.actual??0):null,fc:Math.round(Pe.forecast??0),phase:Pe.phase,promo:Pe.promo??!1}));return SD(le,f).map(Pe=>{const He=Pe.isoDate??Pe.date,pe=$K(He);return{date:Pe.date,isoDate:Pe.isoDate,ts:pe??void 0,actual:Pe.actual,fc:Pe.fc,forecast:Pe.fc,phase:Pe.phase,isFinal:Pe.phase!=="forecast"}})},[I,f]);const z=A.useMemo(()=>{var pe;if(!((pe=I==null?void 0:I.timeline)!=null&&pe.length))return null;const le=I.timeline.filter(Fe=>Fe.phase==="history"&&typeof Fe.actual=="number"&&Number.isFinite(Fe.actual));if(le.length===0)return null;let te=0,Ne=0,Le=0,Pe=0,He=0;return le.forEach(Fe=>{const ue=typeof Fe.actual=="number"?Fe.actual:0,nt=Number.isFinite(Fe.forecast)?Fe.forecast:0;te+=Math.abs(ue-nt),Ne+=Math.abs(ue),Le+=nt-ue,Number.isFinite(Fe.lower)&&Number.isFinite(Fe.upper)&&(He+=1,ue>=Fe.lower&&ue<=Fe.upper&&(Pe+=1))}),Ne===0?null:{wape:te/Ne*100,bias:Le/Ne*100,coverage:He>0?Pe/He*100:null}},[I]),V=($==null?void 0:$.status)==="loading",q=($==null?void 0:$.status)==="error"?$.error||"   .":null,W=A.useMemo(()=>C?e.find(le=>le.sku===C)??null:null,[C,e]),Y=A.useMemo(()=>I!=null&&I.metrics?I.metrics:W?RUe(W,j):null,[I,W,j]),H=A.useMemo(()=>I!=null&&I.explanation?I.explanation:W&&Y?LUe(W,Y):null,[I,W,Y]),U=A.useMemo(()=>!W||!Y?[]:IUe(W,Y),[W,Y]);A.useEffect(()=>{var nt,tt,Q,we,st;if(!C||!W||!Y)return;const le=W.legacyProductId;if(!Number.isFinite(le)||le<=0)return;const te=vt(C),Ne=n[C]??n[te]??null,Le=Number.isFinite((nt=Ne==null?void 0:Ne.product)==null?void 0:nt.safetyStock)?Math.max(Math.round(Ne.product.safetyStock??0),0):UUe(W),Pe=H_(W),He=[te,f,t?"promo-off":"promo-on",Y.windowStart??"",Y.windowEnd??"",Y.avgDailyDemand??"",Y.currentTotalStock??"",Y.reorderPoint??"",Y.recommendedOrderQty??"",Y.projectedStockoutDate??"",((tt=Y.weeklyOutlook)==null?void 0:tt.week1)??"",((Q=Y.weeklyOutlook)==null?void 0:Q.week2)??"",((we=Y.weeklyOutlook)==null?void 0:we.week4)??"",((st=Y.weeklyOutlook)==null?void 0:st.week8)??"",Le,Pe].join("|"),pe=y[te];if((pe==null?void 0:pe.key)===He&&(pe.status==="ready"||pe.status==="loading"))return;const Fe=L.map(me=>({date:me.isoDate??me.date,phase:me.phase,actual:me.actual,forecast:me.fc,promo:me.promo??!1})),ue={product:{sku:W.sku,name:W.name,category:W.category,subCategory:W.subCategory,unit:W.unit,risk:W.risk},metrics:Y,table:{safetyStock:Le,availableStock:Pe},modifiers:{chartWindowMonths:f,promoExcluded:t},timeline:Fe};x(me=>{var ce;return{...me,[te]:{status:"loading",key:He,actionPlan:((ce=me[te])==null?void 0:ce.actionPlan)??null}}}),dde(le,ue).then(me=>{x(ce=>{var he;return{...ce,[te]:{status:"ready",key:He,data:me.insight,error:me.error??null,actionPlan:me.actionPlan??((he=ce[te])==null?void 0:he.actionPlan)??null,planFetchedAt:Date.now()}}})}).catch(me=>{const ce=me instanceof Error&&me.message?me.message:"  .";x(he=>({...he,[te]:{status:"error",key:He,error:ce,actionPlan:(pe==null?void 0:pe.actionPlan)??null}}))})},[C,W,Y,f,t,L,n,y]);const K=C?vt(C):null,ee=K?y[K]:void 0,ae=(ee==null?void 0:ee.status)==="ready"&&ee.data?ee.data:null,xe=(ee==null?void 0:ee.status)==="loading",ke=(ee==null?void 0:ee.status)==="error"?ee.error??"  .":null,Je=(ee==null?void 0:ee.status)==="ready"?ee.error??null:null,be=(ee==null?void 0:ee.actionPlan)??null;A.useEffect(()=>{if(!C||!K||!W||be)return;let le=!1;return rMe({sku:C,productId:W.legacyProductId}).then(te=>{le||!te||x(Ne=>({...Ne,[K]:{...Ne[K]??{status:"idle"},actionPlan:te,planFetchedAt:Date.now()}}))}),()=>{le=!0}},[C,K,W,be]);const Te=A.useCallback(le=>{const te=vt(le.sku);x(Ne=>({...Ne,[te]:{...Ne[te]??{status:"idle"},actionPlan:le,planFetchedAt:Date.now()}}))},[x]),De=A.useCallback(le=>{b||(w(!0),nMe(le).then(te=>{Te(te)}).catch(te=>{console.error(te),window.alert("    .  .")}).finally(()=>w(!1)))},[b,Te]),J=A.useCallback(le=>{_||(T(!0),aMe(le).then(te=>{Te(te)}).catch(te=>{console.error(te),window.alert("   .  .")}).finally(()=>T(!1)))},[_,Te]),it=p==="week"?KUe:WUe,Ue=[{value:"month",label:""},{value:"week",label:""}];return m.jsxs("div",{className:"space-y-6 pb-12",children:[m.jsxs("section",{className:"rounded-3xl border border-white/70 bg-white/60 p-6 shadow-lg backdrop-blur-sm",children:[m.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:" "}),m.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-900",children:W!=null&&W.name?`${W.name}  SKU ${C}`:C?`SKU ${C}`:"SKU  "}),(W==null?void 0:W.brand)&&m.jsx("p",{className:"text-sm text-slate-500",children:W.brand})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500",checked:t,onChange:le=>r(le.target.checked)})," "]}),m.jsx("div",{className:"flex items-center gap-2 rounded-2xl border border-slate-200/70 bg-white/60 px-2 py-1",children:[{id:"perSku",label:"SKU"},{id:"overall",label:""}].map(le=>m.jsx("button",{type:"button",onClick:()=>o(le.id),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${s===le.id?"bg-slate-900 text-white":"text-slate-600 hover:bg-slate-50"}`,children:le.label},le.id))})]})]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[m.jsxs("span",{className:"rounded-full border border-slate-200 px-3 py-1 bg-slate-50",children:["  ",f,""]}),m.jsxs("span",{className:"rounded-full border border-slate-200 px-3 py-1 bg-slate-50",children:[p==="week"?"":""," "]}),Je&&m.jsx("span",{className:"rounded-full border border-indigo-200 bg-indigo-50 px-3 py-1 text-indigo-700",children:Je})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-12",children:[m.jsx("aside",{className:"col-span-12 lg:col-span-3",children:m.jsxs("div",{className:"rounded-3xl border border-white/70 bg-white/60 p-4 shadow-lg backdrop-blur-sm",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between text-sm font-semibold text-slate-600",children:[m.jsx("span",{children:"SKU "}),m.jsxs("span",{className:"text-xs text-slate-500",children:[e.length,""]})]}),m.jsx("div",{className:"max-h-[460px] space-y-2 overflow-y-auto",children:e.length===0?m.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-7 text-center text-sm text-slate-500",children:"SKU      ."}):e.map(le=>{var Pe;const te=(Pe=a[le.sku])==null?void 0:Pe.status,Ne=te==="loading"?"  ":te==="error"?" ":te==="ready"?" ":" ",Le=l===le.sku;return m.jsxs("button",{type:"button",onClick:()=>R(le.sku),className:`flex w-full items-center justify-between rounded-2xl border px-3 py-2 text-left transition ${Le?"border-slate-900/60 bg-slate-900/5":"border-transparent hover:border-slate-200 hover:bg-slate-50"}`,children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:le.sku}),m.jsx("p",{className:"text-xs text-slate-500",children:le.name||" "})]}),m.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:Ne})]},le.sku)})})]})}),m.jsxs("div",{className:"col-span-12 space-y-6 lg:col-span-9",children:[m.jsx(K2e,{sku:C,chartData:k,forecastRange:F,loading:V,error:q,unit:Lu,toolbar:m.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[it.map(le=>m.jsx("button",{type:"button",onClick:()=>d(le.months),className:`rounded-full px-3 py-1 text-xs font-semibold transition ${f===le.months?"bg-slate-900 text-white":"border border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:le.label},le.months)),m.jsx("div",{className:"ml-auto flex items-center gap-1",children:Ue.map(le=>m.jsx("button",{type:"button",onClick:()=>v(le.value),className:`rounded-full px-2 py-1 text-xs font-semibold transition ${p===le.value?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:border-slate-300"}`,children:le.label},le.value))})]}),accuracy:z,includeTodayAsForecast:p==="week"}),m.jsx(eMe,{sku:C,productName:(W==null?void 0:W.name)??void 0,metrics:Y,insight:ae,fallbackExplanation:H,actionPlan:be,fallbackItems:U,loading:V,insightLoading:xe,insightError:ke,insightNotice:Je,actionPlanLoading:xe,actionPlanSubmitting:b,actionPlanApproving:_,onSubmitActionPlan:De,onApproveActionPlan:J})]})]})]})},Kie=({children:e,className:t=""})=>m.jsx(HZ.div,{className:`rounded-3xl border border-white/70 bg-white/60 p-5 shadow-lg backdrop-blur-sm ${t}`,initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.25},children:e});function u8e(){const o=p=>Math.sqrt(p*1.25),l=Math.round(38.4*o(17)),u=Math.round(2.33*30*o(17));console.assert(u>l,"Safety stock should increase with z");const f=Math.round(1700+l),d=Math.round(1700+u);console.assert(d>f,"ROP should increase with higher SS")}typeof window<"u"&&u8e();const FK=()=>({productId:null,sku:"",productName:"",searchTerm:"",qty:"",unit:Lu}),TD="orders:lastWarehouseSelection",c8e=60*1e3,UK="     .",f8e=e=>e.filter(t=>t.isActive!==!1),Yie=(e,t)=>{const r=f8e(e);if(t==="purchase")return r.filter(i=>i.type==="SUPPLIER");const n=r.filter(i=>i.type==="CUSTOMER");if(n.length>0)return n;const a=r.filter(i=>i.type==="SUPPLIER");return a.length>0?a:r},d8e=(e,t)=>{var r;return((r=Yie(e,t)[0])==null?void 0:r.id)??""},HK=e=>{const t=e==null?void 0:e.trim();return t?t.toUpperCase():null},VK=(e,t)=>{const r=HK(t);if(!e||!r)return{warehouseQuantity:null};let n=0,a=!1;return(e.inventory??[]).forEach(i=>{const s=HK(i==null?void 0:i.warehouseCode);if(!s||s!==r)return;a=!0;const o=Math.max(0,Number((i==null?void 0:i.onHand)??0));n+=o}),{warehouseQuantity:a?n:0}},h8e=({defaultKind:e,partners:t,warehouses:r,products:n,productLoadError:a,onReloadProducts:i,onResetProductLoadError:s,onSubmit:o,onSubmitSuccess:l,onRequestCreatePartner:u,onRequestManageWarehouse:f,onCancel:d,onKindChange:p,className:v,active:y=!0,submitButtonLabel:x="",cancelButtonLabel:b="",formId:w,"aria-labelledby":_,canSelectWarehouse:T=!0,canManageWarehouse:M=!0,showKindSwitcher:N=!0})=>{var pt;const C=As(),j=A.useCallback(ie=>d8e(t,ie),[t]),[O,P]=A.useState(n??[]),[R,k]=A.useState(!1),[L,I]=A.useState(null),$=A.useRef(!1),F=A.useRef(n??[]),z=A.useRef(n!==void 0),V=A.useRef(!0),[q,W]=A.useState(!1),[Y,H]=A.useState(()=>Cge()),[U,K]=A.useState(()=>fz()),[ee,ae]=A.useState(()=>ou(Date.now())),xe=A.useId(),ke=A.useId(),Je=A.useId(),be=A.useCallback((ie=e)=>({orderKind:ie,partnerId:j(ie),memo:"",items:[FK()],warehouseId:null,warehouseCode:null,scheduledAt:""}),[e,j]);A.useEffect(()=>(V.current=!0,()=>{V.current=!1}),[]),A.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return;const ie=window.matchMedia("(pointer: coarse)"),Z=()=>H(ie.matches?"dial":"spinner");if(Z(),typeof ie.addEventListener=="function")return ie.addEventListener("change",Z),()=>ie.removeEventListener("change",Z);if(typeof ie.addListener=="function")return ie.addListener(Z),()=>ie.removeListener(Z)},[]),A.useEffect(()=>{if(typeof window>"u")return;const ie=()=>{K(fz()),ae(ou(Date.now()))};ie();const Z=window.setInterval(ie,30*1e3);return()=>{window.clearInterval(Z)}},[]);const Te=A.useCallback(ie=>{F.current=ie,V.current&&(P(ie),z.current=!0,I(null))},[]),De=A.useCallback(async()=>{if(!V.current)return[];if($.current)return F.current;$.current=!0,k(!0),I(null),s==null||s();try{const ie=await(i?i():Au());return Te(ie),ie}catch(ie){throw console.error("[orders] Failed to load products for new order form",ie),V.current&&I("   .  ."),ie}finally{$.current=!1,z.current=!0,V.current&&k(!1)}},[Te,i,s]);A.useEffect(()=>{n!==void 0&&(Te(n),z.current=!0,V.current&&k(!1),$.current=!1)},[Te,n]);const[J,it]=A.useState(()=>be()),[Ue,ft]=A.useState(!1),[le,te]=A.useState(null),Ne=!!((pt=J.warehouseCode)!=null&&pt.trim()),Le=A.useMemo(()=>{const ie=new Map;return O.forEach(Z=>{ie.set(Z.sku,VK(Z,J.warehouseCode))}),ie},[O,J.warehouseCode]),Pe=A.useCallback(ie=>{if(!ie)return{warehouseQuantity:null};const Z=Le.get(ie.sku);return Z||VK(ie,J.warehouseCode)},[J.warehouseCode,Le]),He=A.useMemo(()=>{for(const ie of Le.values())if(((ie==null?void 0:ie.warehouseQuantity)??0)>0)return!0;return!1},[Le]);A.useEffect(()=>{!Ne&&q&&W(!1)},[Ne,q]);const pe=A.useMemo(()=>Yie(t,J.orderKind),[t,J.orderKind]),Fe=A.useMemo(()=>pe.map(ie=>({label:ie.name,value:ie.id})),[pe]),ue=A.useMemo(()=>r.map(ie=>({label:ie.name??ie.code,value:ie.code})),[r]),nt=A.useCallback(()=>{it(be()),te(null)},[be]),tt=A.useMemo(()=>{const ie=new Set(wS);return O.forEach(Z=>{Z.unit&&ie.add(Z.unit)}),J.items.forEach(Z=>{Z.unit&&ie.add(Z.unit)}),Array.from(ie)},[J.items,O]),Q=A.useMemo(()=>tt.map(ie=>({label:ie,value:ie})),[tt]);A.useEffect(()=>{it(ie=>({...ie,orderKind:e,partnerId:j(e)}))},[e,j]),A.useEffect(()=>{if(!y)return;n===void 0&&O.length===0&&F.current.length>0&&P(F.current);const ie=$.current;n!==void 0||z.current||ie||De().catch(()=>{})},[y,De,O.length,n]),A.useEffect(()=>{y||(I(null),$.current=!1)},[y]),A.useEffect(()=>{a!==void 0&&I(a)},[a]);const we=A.useCallback((ie,Z)=>{if(!ie)return ie;const Se=Ko(ie);if(Se===null)return ie;const qe=Date.now();let Ie=Se;if(Ie>qe&&(Ie=qe),Z==="sales"){const{bounds:Ye}=U;Ye&&(Ie<Ye.startUtcMs&&(Ie=Ye.startUtcMs),Ie>Ye.endUtcMs&&(Ie=Math.min(Ie,Ye.endUtcMs)))}return Ie===Se?ie:ou(Ie)},[U]),st=J.orderKind==="sales",me=st?U.bounds:null,ce=me&&ou(me.startUtcMs)||void 0,he=me&&ou(me.endUtcMs)||void 0,ze=ee!=null&&ee.trim()?ee:void 0,Ge=he&&ze?he<ze?he:ze:he??ze,at=U.label,lt=A.useCallback(ie=>{it(Z=>{const Se=ie?wge(ie):"";return{...Z,scheduledAt:Se}}),te(null)},[]),ge=A.useCallback(ie=>{it(Z=>{if(!Z.scheduledAt)return Z;const Se=Ko(Z.scheduledAt);if(Se===null)return Z;const qe=ou(Se+ie*c8e);if(!qe)return Z;const Ie=we(qe,Z.orderKind);return Ie===Z.scheduledAt?Z:{...Z,scheduledAt:Ie}}),te(null)},[we]),Ee=A.useCallback(ie=>{if(ie.key==="Escape"){ie.preventDefault(),lt("");return}if(J.scheduledAt){if(ie.key==="PageUp"){ie.preventDefault(),ge(60);return}if(ie.key==="PageDown"){ie.preventDefault(),ge(-60);return}if(ie.key==="ArrowUp"){ie.preventDefault(),ge(1);return}if(ie.key==="ArrowDown"){ie.preventDefault(),ge(-1);return}ie.key==="Home"&&ce&&(ie.preventDefault(),lt(ce)),ie.key==="End"&&Ge&&(ie.preventDefault(),lt(Ge))}},[ge,J.scheduledAt,lt,Ge,ce]),$e=A.useCallback(()=>{$.current||(s==null||s(),De().catch(()=>{}))},[De,s]);A.useEffect(()=>{it(ie=>pe.some(Z=>Z.id===ie.partnerId)?ie:{...ie,partnerId:j(ie.orderKind)})},[pe,j]);const Oe=A.useCallback(ie=>{it(Z=>({...Z,orderKind:ie,partnerId:j(ie),scheduledAt:Z.scheduledAt?we(Z.scheduledAt,ie):""})),p==null||p(ie)},[we,p,j]),mt=A.useCallback((ie,Z)=>{it(Se=>{const qe=Se.items.map((Ie,Ye)=>Ye===ie?{...Ie,...Z}:Ie);return{...Se,items:qe}})},[]),Tt=A.useCallback(()=>{it(ie=>({...ie,items:[...ie.items,FK()]}))},[]),Ce=A.useCallback(ie=>{it(Z=>({...Z,items:Z.items.length>1?Z.items.filter((Se,qe)=>qe!==ie):Z.items}))},[]),Re=A.useCallback(ie=>{try{if(!ie){window.localStorage.removeItem(TD);return}window.localStorage.setItem(TD,JSON.stringify({warehouseId:ie.warehouseId,warehouseCode:ie.warehouseCode}))}catch(Z){console.error("[orders] Failed to persist warehouse selection",Z)}},[]),Nt=A.useCallback(()=>{it(ie=>({...ie,warehouseId:null,warehouseCode:null})),Re(null),te(null)},[Re]),Wt=A.useCallback(ie=>{const Z=ie.trim();if(!Z){Nt();return}const Se=r.find(Ye=>Ye.code===Z||Ye.id===Z)??null,qe=(Se==null?void 0:Se.id)??null,Ie=(Se==null?void 0:Se.code)??Z;it(Ye=>({...Ye,warehouseId:qe,warehouseCode:Ie})),Re({warehouseId:qe,warehouseCode:Ie}),te(null)},[Nt,Re,r]);A.useEffect(()=>{if(r.length!==0)try{const ie=window.localStorage.getItem(TD);if(!ie)return;const Z=JSON.parse(ie);if(!(Z!=null&&Z.warehouseCode))return;const Se=r.find(Ye=>Ye.code===Z.warehouseCode||Ye.id===Z.warehouseId)??null,qe=(Se==null?void 0:Se.id)??Z.warehouseId??null,Ie=(Se==null?void 0:Se.code)??Z.warehouseCode;it(Ye=>({...Ye,warehouseId:qe,warehouseCode:Ie}))}catch(ie){console.error("[orders] Failed to restore warehouse selection",ie)}},[r]);const qt=A.useMemo(()=>!J.warehouseId&&!J.warehouseCode?null:r.find(ie=>J.warehouseId&&ie.id===J.warehouseId||J.warehouseCode&&ie.code===J.warehouseCode)??null,[J.warehouseCode,J.warehouseId,r]);(qt==null?void 0:qt.code)??J.warehouseCode;const Lt=A.useCallback(ie=>{const Z=Ko(ie);return Z===null?!1:Z>Date.now()},[]),X=A.useMemo(()=>{const ie="PageUp/PageDownEnter     Esc   .   KST(UTC+9)          .";return st?`${ie}   ${at}    .`:ie},[st,at]),se=A.useMemo(()=>J.scheduledAt?Ko(J.scheduledAt)===null?"   .":Lt(J.scheduledAt)?UK:st&&me&&!cz(J.scheduledAt,me)?`  ${at}    .`:null:null,[J.scheduledAt,Lt,st,me,at]),_e=A.useMemo(()=>{if(!J.scheduledAt)return"   KST UTC      .";const ie=XZ(J.scheduledAt),Z=Sge(J.scheduledAt);return!ie||!Z?"   .":`${ie}  ${Z}`},[J.scheduledAt]),et=A.useMemo(()=>{const ie=[xe,ke];return se&&ie.push(Je),ie.join(" ")},[se,Je,xe,ke]),ut=A.useCallback(async ie=>{ie.preventDefault(),ft(!0),te(null);try{if(!J.scheduledAt){te(J.orderKind==="purchase"?" .":" .");return}const Z=Ko(J.scheduledAt);if(Z===null){te("   .");return}if(Z>Date.now()){te(UK);return}if(J.orderKind==="sales"&&me&&!cz(J.scheduledAt,me)){te(`  ${at}    .`);return}if(!J.partnerId||!pe.some(Ie=>Ie.id===J.partnerId)){te(" .");return}const Se=J.items.map(Ie=>{const Ye=Number(Ie.qty);return{sku:Ie.sku.trim(),qty:Number.isFinite(Ye)?Ye:0,unit:Ie.unit.trim()||"EA"}});if(Se.some(Ie=>!Ie.sku)){te("   .");return}const qe=Se.filter(Ie=>Ie.qty>0);if(qe.length===0){te("   .");return}if(!J.warehouseId||!J.warehouseCode){te(" .");return}await o({orderKind:J.orderKind,partnerId:J.partnerId,memo:J.memo.trim(),items:qe,warehouseId:J.warehouseId,warehouseCode:J.warehouseCode,scheduledAt:J.scheduledAt}),l==null||l({resetForm:nt})}catch(Z){console.error("[orders] NewOrderForm submit failed",Z);const Se=typeof Z=="object"&&Z!==null&&"status"in Z?Z.status:void 0,qe=typeof Se=="number"?Se:void 0,Ie=qe===0||qe!==void 0&&qe>=500;if(Z instanceof Error&&Z.message&&!Ie)te(Z.message);else{const Ye=J.orderKind==="purchase"?"  .":"  .";C(Ye,{tone:"error"})}}finally{ft(!1)}},[J,o,l,pe,nt,me,at,C]);return m.jsxs("form",{id:w,"aria-labelledby":_,onSubmit:ut,className:`space-y-4 text-sm ${v??""}`.trim(),children:[N?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",className:`rounded-md px-3 py-1.5 font-semibold ${J.orderKind==="purchase"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,onClick:()=>Oe("purchase"),children:" "}),m.jsx("button",{type:"button",className:`rounded-md px-3 py-1.5 font-semibold ${J.orderKind==="sales"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,onClick:()=>Oe("sales"),children:" "})]}):null,m.jsxs("div",{children:[m.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",htmlFor:"partner",children:""}),u?m.jsx("button",{type:"button",className:"text-xs font-semibold text-blue-600",onClick:()=>u(J.orderKind),children:" "}):null]}),m.jsx(Mr,{id:"partner",className:"mt-1",value:J.partnerId,onChange:ie=>{it(Z=>({...Z,partnerId:ie})),te(null)},options:Fe,placeholder:" ",emptyMessage:" ",inputClassName:"w-full rounded-md border border-slate-200 px-3 py-2"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",htmlFor:"warehouse",children:""}),f?m.jsx("button",{type:"button",onClick:f,className:"text-xs font-semibold text-blue-600 disabled:cursor-not-allowed disabled:text-slate-300",disabled:!M,children:" "}):null]}),m.jsx(Mr,{id:"warehouse",className:"mt-1",value:J.warehouseCode??"",onChange:ie=>Wt(ie),disabled:!T,options:ue,placeholder:" ",emptyMessage:" ",inputClassName:"w-full rounded-md border border-slate-200 px-3 py-2"}),T?null:m.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"   ."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",htmlFor:"scheduledAt",children:J.orderKind==="purchase"?"":""}),m.jsx("span",{className:"sr-only",children:"KST  UTC "})]}),m.jsx("input",{id:"scheduledAt",type:"datetime-local",className:"w-full rounded-md border border-slate-200 px-3 py-2",value:J.scheduledAt,onChange:ie=>lt(ie.target.value),onKeyDown:Ee,step:60,min:ce,max:Ge,"aria-describedby":et,"aria-errormessage":se?Je:void 0,"aria-invalid":se?!0:void 0,"data-time-ui-mode":Y,inputMode:Y==="dial"?"numeric":"text",title:Y==="dial"?"     UI  .":"      UI  ."}),m.jsx("p",{id:xe,className:"sr-only",children:X}),m.jsxs("div",{id:ke,role:"status","aria-live":"polite",className:"sr-only",children:[": ",_e]}),se?m.jsx("p",{id:Je,role:"alert",className:"mt-1 text-xs font-semibold text-rose-600",children:se}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-500",htmlFor:"memo",children:""}),m.jsx("textarea",{id:"memo",className:"w-full rounded-md border border-slate-200 px-3 py-2",placeholder:"  ",value:J.memo,onChange:ie=>it(Z=>({...Z,memo:ie.target.value}))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-500",children:""}),Ne?m.jsxs("label",{className:"flex cursor-pointer items-center gap-1 text-[11px] font-semibold text-slate-500",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-slate-300",checked:q,onChange:ie=>W(ie.target.checked)}),"   "]}):null]}),m.jsx("button",{type:"button",className:"text-xs font-semibold text-blue-600",onClick:Tt,children:" "})]}),m.jsxs("div",{className:"space-y-4",children:[Ne&&q&&!He?m.jsx("p",{className:"rounded-md border border-dashed border-slate-200 bg-slate-50 p-3 text-xs text-slate-500",children:"'     .'"}):null,J.items.map((ie,Z)=>{const Se=`product-search-${Z}`,qe=`product-select-${Z}`,Ie=`product-qty-${Z}`,Ye=`product-unit-${Z}`,dt=ie.sku?O.find(kt=>kt.sku===ie.sku)??null:null;let Dt=O;dt&&Dt.every(kt=>kt.sku!==dt.sku)&&(Dt=[...Dt,dt]);const fe=Dt.map(kt=>({product:kt,stats:Pe(kt)})),Ve=ie.searchTerm.trim().toLowerCase(),We=Ve?fe.filter(({product:kt})=>{var nn;const Qt=kt.name.toLowerCase(),Ir=kt.sku.toLowerCase(),br=((nn=kt.productId)==null?void 0:nn.toLowerCase())??"";return Qt.includes(Ve)||Ir.includes(Ve)||br.includes(Ve)}):fe,ct=q&&Ne&&!Ve?We.filter(({product:kt,stats:Qt})=>((Qt==null?void 0:Qt.warehouseQuantity)??0)>0?!0:(dt==null?void 0:dt.sku)===kt.sku):We,Ct=ct.length>0,{warehouseQuantity:At}=Pe(dt),Mt=(()=>{var br;if(!J.warehouseCode)return null;const kt=(dt==null?void 0:dt.unit)??ie.unit??Lu,Qt=((br=qt==null?void 0:qt.name)==null?void 0:br.trim())??" ";return` : ${(At??0).toLocaleString("ko-KR")} ${kt} (${Qt})`})();return m.jsxs("div",{className:"grid grid-cols-1 gap-3 rounded-lg border border-slate-200 p-4 sm:grid-cols-12",children:[m.jsxs("div",{className:"sm:col-span-7",children:[m.jsx("label",{className:"mb-1 block text-[11px] font-semibold text-slate-500",htmlFor:Se,children:" "}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("input",{id:Se,className:"w-full rounded-md border border-slate-200 px-3 py-2",placeholder:" SKU ",value:ie.searchTerm,onChange:kt=>mt(Z,{searchTerm:kt.target.value})}),m.jsx("label",{className:"block text-[11px] font-semibold text-slate-500",htmlFor:qe,children:""}),m.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const kt=ct.map(({product:Ir,stats:br})=>{const nn=Ne?((br==null?void 0:br.warehouseQuantity)??0).toLocaleString("ko-KR"):null;return{label:Ne?`${Ir.name} (${Ir.sku})  ${nn}`:`${Ir.name} (${Ir.sku})`,value:Ir.sku}}),Qt=R?"  ...":Ct?" ":Ve?"  .":q&&Ne?"    .":" ";return m.jsx(Mr,{id:qe,className:"w-full",value:ie.sku,onChange:Ir=>{if(!Ir){mt(Z,{productId:null,sku:"",productName:"",unit:"EA",searchTerm:""});return}const br=O.find(nn=>nn.sku===Ir)??null;mt(Z,{productId:(br==null?void 0:br.productId)??null,sku:Ir,productName:(br==null?void 0:br.name)??"",searchTerm:br?`${br.name} (${br.sku})`:ie.searchTerm,unit:(br==null?void 0:br.unit)??ie.unit??"EA"})},options:kt,placeholder:Qt,emptyMessage:Qt,inputClassName:"w-full rounded-md border border-slate-200 px-3 py-2",disabled:R})})(),m.jsx("button",{type:"button","aria-label":" ",title:" ",className:"shrink-0 rounded-md border border-slate-200 px-2 py-1 text-xs text-slate-500 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>{if(!ie.sku)return;mt(Z,{productId:null,sku:"",productName:"",unit:Lu,searchTerm:""});const kt=document.getElementById(Se);kt==null||kt.focus()},disabled:!ie.sku,children:""})]}),Mt?m.jsx("p",{className:"text-[11px] text-slate-500",children:Mt}):null]})]}),m.jsxs("div",{className:"sm:col-span-4",children:[m.jsx("label",{className:"mb-1 block text-[11px] font-semibold text-slate-500",htmlFor:Ie,children:" / "}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{id:Ie,type:"number",min:0,className:"w-full rounded-md border border-slate-200 px-3 py-2",value:ie.qty,onChange:kt=>mt(Z,{qty:kt.target.value})}),m.jsx(Mr,{id:Ye,className:"w-28",value:ie.unit,onChange:kt=>mt(Z,{unit:kt}),options:Q,placeholder:"",inputClassName:"w-28 rounded-md border border-slate-200 px-2 py-2"})]})]}),m.jsx("div",{className:"sm:col-span-1 sm:text-right",children:m.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-2 py-1 text-xs text-slate-500",onClick:()=>Ce(Z),children:""})})]},Z)})]}),L?m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-rose-50 p-2 text-xs text-rose-600",children:[m.jsx("p",{className:"pr-4",children:L}),m.jsx("button",{type:"button",className:"rounded border border-rose-200 px-2 py-1 text-[11px] font-semibold text-rose-600",onClick:$e,disabled:R,children:" "})]}):null]}),le?m.jsx("p",{className:"rounded-md bg-rose-50 p-3 text-sm text-rose-600",children:le}):null,m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d?m.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-4 py-2 text-sm text-slate-600",onClick:d,disabled:Ue,children:b}):null,m.jsx("button",{type:"submit",className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white",disabled:Ue,children:Ue?`${x} ...`:x})]})]})},p8e=(e,t)=>{var r;return((r=e.find(n=>n.id===t))==null?void 0:r.name)??null},m8e=(e,t)=>e==null?void 0:e.find(r=>r.sku===t),v8e=({isOpen:e,onClose:t,orderId:r,orderKind:n,partners:a,products:i,summary:s})=>{const[o,l]=A.useState("idle"),[u,f]=A.useState(null),[d,p]=A.useState(null);A.useEffect(()=>{if(!e)return;let _=!0;return l("loading"),p(null),(async()=>{try{const M=n==="purchase"?await zge(r):await iQ(r);if(!_)return;if(!M){p("    ."),l("error");return}f(M),l("success")}catch(M){if(console.error("[OrderDetailModal] load failed",M),!_)return;p("   ."),l("error")}})(),()=>{_=!1}},[e,r,n]);const v=n==="purchase"?" ":" ",y=A.useMemo(()=>s!=null&&s.partnerName?s.partnerName:u?p8e(a,u.partnerId):null,[a,u,s==null?void 0:s.partnerName]),x=A.useMemo(()=>s!=null&&s.scheduledDate?s.scheduledDate:u!=null&&u.scheduledAt?$u(u.scheduledAt)??"":"",[u==null?void 0:u.scheduledAt,s==null?void 0:s.scheduledDate]),b=A.useMemo(()=>s!=null&&s.warehouseLabel?s.warehouseLabel:u?u.warehouseCode??" ":"",[u,s==null?void 0:s.warehouseLabel]),w=()=>{if(!u)return null;const _=n==="purchase",T=_?u.items.map(M=>({sku:M.sku,quantity:Math.max(0,Math.round(M.receivedQty??0)),unit:M.unit})):u.items.map(M=>({sku:M.sku,quantity:Math.max(0,Math.round(M.shippedQty??0)),unit:M.unit}));return T.length===0?m.jsx("div",{className:"px-4 py-10 text-center text-sm text-slate-400",children:"  ."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-left font-medium",children:""}),m.jsx("th",{className:"px-4 py-3 text-right font-medium",children:""})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200 text-slate-700",children:T.map(M=>{const N=m8e(i??null,M.sku),C=_?"+":"-";return m.jsxs("tr",{className:"align-top",children:[m.jsx("td",{className:"whitespace-nowrap px-4 py-3",children:N!=null&&N.imageUrl?m.jsx("img",{src:N.imageUrl,alt:N.name,className:"h-10 w-10 rounded-md object-cover"}):m.jsx("div",{className:"h-10 w-10 rounded-md bg-slate-100"})}),m.jsxs("td",{className:"px-4 py-3",children:[m.jsx("div",{className:"text-sm font-medium text-slate-800",children:(N==null?void 0:N.name)??M.sku}),m.jsx("div",{className:"text-xs text-slate-500",children:N?N.sku:M.sku})]}),m.jsxs("td",{className:`whitespace-nowrap px-4 py-3 text-right text-sm font-semibold ${_?"text-emerald-600":"text-rose-600"}`,children:[C,M.quantity.toLocaleString("ko-KR")," ",M.unit||"EA"]})]},`${M.sku}`)})})]})})};return m.jsx(pi,{isOpen:e,onClose:t,title:v,widthClassName:"max-w-3xl",children:m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsx("h4",{className:`text-lg font-semibold ${n==="sales"?"text-rose-600":"text-emerald-600"}`,children:v})}),m.jsxs("dl",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:""}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:b})]}),m.jsxs("div",{children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:n==="purchase"?"":""}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:x})]}),m.jsxs("div",{children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:""}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:y??""})]})]}),o==="loading"?m.jsx("div",{className:"px-4 py-10 text-center text-sm text-slate-500",children:" ..."}):o==="error"?m.jsx("div",{className:"px-4 py-10 text-center text-sm text-rose-600",children:d??" ."}):w(),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"button",onClick:t,className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500",children:""})})]})})},qK={warehouseName:"",warehouseAddress:"",locationName:"",memo:""},g8e=({open:e,onClose:t,onCreated:r})=>{const[n,a]=A.useState(qK),[i,s]=A.useState({warehouseName:!1,warehouseAddress:!1,locationName:!1}),[o,l]=A.useState(null),[u,f]=A.useState(!1),d=A.useCallback(()=>{a(qK),s({warehouseName:!1,warehouseAddress:!1,locationName:!1}),l(null)},[]),p=A.useCallback(()=>{u||(d(),t())},[t,d,u]),v=T=>M=>{const N=M.target.value;a(C=>({...C,[T]:N}))},y=T=>()=>{s(M=>({...M,[T]:!0}))},x=i.warehouseName&&!n.warehouseName.trim(),b=i.warehouseAddress&&!n.warehouseAddress.trim(),w=i.locationName&&!n.locationName.trim(),_=async T=>{T.preventDefault(),s({warehouseName:!0,warehouseAddress:!0,locationName:!0});const M=n.warehouseName.trim(),N=n.warehouseAddress.trim(),C=n.locationName.trim(),j=n.memo.trim();if(!(!M||!N||!C)){f(!0),l(null);try{const O=VZ(M),P=await lX({code:O,name:M,address:N});if(!(P!=null&&P.id))throw new Error("    .");const R=await ude({warehouseCode:P.code,code:C,description:j||C});r==null||r(P,R),d(),t()}catch(O){const P=O instanceof Error&&O.message?O.message:"  .  .";l(P)}finally{f(!1)}}};return m.jsx(pi,{isOpen:e,onClose:p,title:" ",children:m.jsxs("form",{onSubmit:_,className:"space-y-4 text-sm text-slate-700",children:[m.jsx("p",{className:"text-xs text-slate-500",children:"   ."}),m.jsxs("label",{className:"flex flex-col gap-1",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{type:"text",value:n.warehouseName,onChange:v("warehouseName"),onBlur:y("warehouseName"),className:"rounded-md border border-slate-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:":  ",autoFocus:!0,disabled:u}),x?m.jsx("span",{className:"text-xs text-rose-500",children:" ."}):null]}),m.jsxs("label",{className:"flex flex-col gap-1",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-600",children:" "}),m.jsx("input",{type:"text",value:n.warehouseAddress,onChange:v("warehouseAddress"),onBlur:y("warehouseAddress"),className:"rounded-md border border-slate-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:":    1",disabled:u}),b?m.jsx("span",{className:"text-xs text-rose-500",children:"  ."}):null]}),m.jsxs("label",{className:"flex flex-col gap-1",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{type:"text",value:n.locationName,onChange:v("locationName"),onBlur:y("locationName"),className:"rounded-md border border-slate-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:": -A1",disabled:u}),w?m.jsx("span",{className:"text-xs text-rose-500",children:" ."}):null]}),m.jsxs("label",{className:"flex flex-col gap-1",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-600",children:" ()"}),m.jsx("textarea",{value:n.memo,onChange:v("memo"),className:"h-20 rounded-md border border-slate-300 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1",placeholder:"  ",disabled:u})]}),o?m.jsx("p",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:o}):null,m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx("button",{type:"button",onClick:p,className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-indigo-300 hover:text-indigo-600 disabled:cursor-not-allowed disabled:opacity-60",disabled:u,children:""}),m.jsx("button",{type:"submit",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-500 disabled:cursor-not-allowed disabled:bg-indigo-300",disabled:u,children:u?" ...":""})]})]})})},y8e=(e,t)=>{const r=e.get(t);if(r)return r;const n=new Map;return e.set(t,n),n},x8e=(e,t,r)=>{var s;const n=((s=r.locationCode)==null?void 0:s.trim())||void 0,a=e.get(t);if(!a){const o=r.onHand>0?[{code:n,onHand:r.onHand}]:[];e.set(t,{sku:t,name:r.name,onHand:Math.max(0,r.onHand),locations:o});return}if(a.onHand=Math.max(0,a.onHand+r.onHand),!n){if(r.onHand<=0)return;const o=a.locations.find(l=>!l.code);o?o.onHand=Math.max(0,o.onHand+r.onHand):a.locations.push({code:void 0,onHand:r.onHand});return}const i=a.locations.find(o=>o.code===n);i?i.onHand=Math.max(0,i.onHand+r.onHand):r.onHand>0&&a.locations.push({code:n,onHand:r.onHand})},b8e=e=>{const t={};return e.forEach((r,n)=>{const a=Array.from(r.values()).map(i=>{const s=i.locations.map(l=>({...l,onHand:Math.max(0,l.onHand)})).filter(l=>l.onHand>0).sort((l,u)=>!l.code&&u.code?-1:l.code&&!u.code?1:(l.code??"").localeCompare(u.code??"","ko-KR")),o=s.reduce((l,u)=>l+u.onHand,0);return{sku:i.sku,name:i.name,onHand:o,locations:s}}).filter(i=>i.onHand>0).sort((i,s)=>i.name.localeCompare(s.name,"ko-KR"));t[n]=a}),t},w8e=e=>{const t=new Map;return e.forEach(r=>{var n;(n=r==null?void 0:r.inventory)!=null&&n.length&&r.inventory.forEach(a=>{if(!(a!=null&&a.warehouseCode))return;const i=a.warehouseCode.trim();if(!i)return;const s=Number(a.onHand)||0;if(s<=0)return;const o=y8e(t,i);x8e(o,r.sku,{name:r.name,onHand:s,locationCode:a.locationCode})})}),b8e(t)},GK=(e,t,r,n,a)=>{var u;const s=[...e[t]??[]],o=s.findIndex(f=>f.sku===r);if(o===-1&&n<=0)return e;const l=((u=a==null?void 0:a.locationCode)==null?void 0:u.trim())||void 0;if(o===-1){const f=(a==null?void 0:a.fallbackName)??r,d=n>0?[{code:l,onHand:Math.max(0,n)}]:[];s.push({sku:r,name:f,onHand:Math.max(0,n),locations:d})}else{const f=s[o],d=f.locations.map(v=>({...v}));if(l){const v=d.findIndex(y=>y.code===l);v===-1?n>0&&d.push({code:l,onHand:n}):(d[v].onHand=Math.max(0,d[v].onHand+n),d[v].onHand<=0&&d.splice(v,1))}else if(n!==0)if(n>0){const v=d.findIndex(y=>!y.code);v===-1?d.push({code:void 0,onHand:n}):d[v].onHand=Math.max(0,d[v].onHand+n)}else{let v=Math.abs(n);d.sort((y,x)=>(x.onHand??0)-(y.onHand??0));for(const y of d){if(v<=0)break;const x=Math.min(y.onHand,v);y.onHand-=x,v-=x}for(let y=d.length-1;y>=0;y-=1)d[y].onHand<=0&&d.splice(y,1)}const p=d.reduce((v,y)=>v+y.onHand,0);p<=0?s.splice(o,1):s[o]={...f,onHand:p,locations:d.filter(v=>v.onHand>0).sort((v,y)=>!v.code&&y.code?-1:v.code&&!y.code?1:(v.code??"").localeCompare(y.code??"","ko-KR"))}}return s.sort((f,d)=>f.name.localeCompare(d.name,"ko-KR")),{...e,[t]:s}},S8e="orders-transfer-ui",WK=e=>{const t=e.trim();if(t==="")return"";const r=t.replace(/\D/g,"");if(r==="")return"";const n=r.replace(/^0+/,"");return n===""?"0":n},KK=(e,t,r)=>{if(e.length===0)return{};const n=e.map(s=>s.code),a=t&&n.includes(t)?t:n[0];let i=r&&n.includes(r)?r:void 0;return i||(i=n.find(s=>s!==a)??n[0]),a===i&&n.length>1&&(i=n.find(s=>s!==a)??n[0]),{from:a,to:i}},_8e=e=>A.useMemo(()=>{const t=new Map;return e.forEach(r=>{t.set(r.code,r)}),t},[e]),YK=({title:e,className:t,children:r})=>m.jsxs("div",{className:`flex flex-1 flex-col gap-3 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm ${t??""}`,children:[m.jsx("div",{className:"text-xs font-semibold text-slate-500",children:e}),m.jsx("div",{className:"flex flex-1 flex-col gap-3 text-sm text-slate-600",children:r})]}),XK=({onClick:e,disabled:t})=>m.jsx("button",{type:"button",onClick:e,disabled:t,className:"rounded border border-slate-200 px-2 py-1 text-xs font-semibold text-slate-600 transition hover:border-blue-400 hover:text-blue-500 disabled:cursor-not-allowed disabled:opacity-60",children:""}),T8e=({warehouses:e,defaultFromWarehouse:t,defaultToWarehouse:r,className:n})=>{const a=As(),i=_8e(e),[{from:s,to:o},l]=A.useState(()=>KK(e,t??void 0,r??void 0)),[u,f]=A.useState({}),[d,p]=A.useState(!1),[v,y]=A.useState(null),[x,b]=A.useState(0),[w,_]=A.useState([]),[T,M]=A.useState(null),[N,C]=A.useState("1"),j=x>0,O=(s&&u[s])??[],P=(o&&u[o])??[],R=A.useMemo(()=>e.map(U=>({value:U.code,label:U.name?`${U.name} (${U.code})`:U.code})),[e]),k=A.useCallback(()=>{_([])},[]);A.useEffect(()=>{const{from:U,to:K}=KK(e,t??void 0,r??void 0);l({from:U,to:K}),k()},[t,r,k,e]);const L=A.useCallback(async()=>{p(!0),y(null);try{const U=await Au(),K=w8e(U);f(K)}catch(U){console.error("[orders] warehouse transfer: failed to load inventory",U),y("   .    .")}finally{p(!1)}},[]);A.useEffect(()=>{L()},[L]);const I=A.useCallback(async U=>{const{sku:K,qty:ee,fromWarehouse:ae,toWarehouse:xe,productName:ke}=U;if(ee<=0)return!1;const be=(u[ae]??[]).find(Te=>Te.sku===K);if(!be||be.onHand<=0)return a("     .",{tone:"info"}),!1;if(ee>be.onHand)return a("    .",{tone:"info"}),!1;b(Te=>Te+1);try{return await Mf({type:"TRANSFER",sku:K,qty:ee,fromWarehouse:ae,toWarehouse:xe,occurredAt:new Date().toISOString(),userId:S8e}),f(Te=>{let De=GK(Te,ae,K,-ee,{fallbackName:ke});return De=GK(De,xe,K,ee,{fallbackName:ke}),De}),fR({source:"transfers",movements:[{product:{sku:K},change:ee,occurredAt:new Date().toISOString()}]}),!0}catch(Te){console.error("[orders] warehouse transfer: submitMovement failed",Te);const De=Te instanceof Error&&Te.message?Te.message:"  .    .";return a(De,{tone:"error"}),!1}finally{b(Te=>Math.max(0,Te-1))}},[u,a]),$=A.useCallback((U,K)=>{const ee=(K==null?void 0:K.fromWarehouse)??s,ae=(K==null?void 0:K.toWarehouse)??o;if(!ee||!ae)return a("Please choose both warehouses first.",{tone:"info"}),null;if(ee===ae)return a("You cannot move stock within the same warehouse.",{tone:"info"}),null;const ke=(u[ee]??[]).find(Je=>Je.sku===U);return ke?ke.onHand<=0?(a("There is no available stock to move.",{tone:"info"}),null):{sourceWarehouse:ee,targetWarehouse:ae,sourceItem:ke}:(a("No matching stock exists in the selected warehouse.",{tone:"info"}),null)},[s,o,u,a]),F=A.useCallback(U=>{const K=$(U);if(!K)return;const{sourceWarehouse:ee,targetWarehouse:ae,sourceItem:xe}=K;C(WK("1")),M({sku:U,name:xe.name,maxQty:xe.onHand,fromWarehouse:ee,toWarehouse:ae})},[$]),z=A.useCallback(async(U,K=1,ee)=>{const ae=$(U,{fromWarehouse:ee==null?void 0:ee.fromWarehouse,toWarehouse:ee==null?void 0:ee.toWarehouse});if(!ae)return!1;const{sourceWarehouse:xe,targetWarehouse:ke,sourceItem:Je}=ae,be=Math.min(Math.max(1,K),Je.onHand);if(!await I({sku:U,qty:be,fromWarehouse:xe,toWarehouse:ke,productName:(ee==null?void 0:ee.productName)??Je.name}))return!1;const De=Date.now();return _(J=>[{sku:U,name:(ee==null?void 0:ee.productName)??Je.name,qty:be,fromId:xe,toId:ke,ts:De},...J.slice(0,19)]),!0},[$,I]),V=A.useCallback(async()=>{if(!T)return;const U=Math.floor(Number(N));if(!Number.isFinite(U)||U<=0){a("Enter a quantity of at least 1.",{tone:"info"});return}if(U>T.maxQty){a("Requested quantity exceeds available stock.",{tone:"info"});return}await z(T.sku,U,{productName:T.name,fromWarehouse:T.fromWarehouse,toWarehouse:T.toWarehouse})&&(M(null),C("1"))},[z,N,T,a]),q=A.useCallback(()=>{j||(M(null),C("1"))},[j]),W=A.useCallback(async U=>{await I({sku:U.sku,qty:U.qty,fromWarehouse:U.toId,toWarehouse:U.fromId,productName:U.name})&&(_(ee=>ee.filter(ae=>ae.ts!==U.ts)),a("Transfer has been reverted.",{tone:"success"}))},[I,a]),Y=A.useCallback(U=>{var ae;if(!U)return"";const K=i.get(U);return((ae=K==null?void 0:K.name)==null?void 0:ae.trim())||" "},[i]),H=A.useMemo(()=>["flex min-h-[640px] w-full flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",n].filter(Boolean).join(" "),[n]);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:H,children:[m.jsx("div",{className:"border-b border-slate-200 bg-white px-6 py-4",children:m.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-xs font-semibold text-slate-500",children:" "}),m.jsx(Mr,{value:s??"",onChange:U=>l(K=>({...K,from:U})),options:R,placeholder:"  ",inputClassName:"mt-1 min-w-[200px] rounded border border-slate-300 px-3 py-2 text-sm text-slate-700 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-200",disabled:j||d||e.length===0})]}),m.jsx("span",{className:"text-xl text-slate-400",children:""}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-xs font-semibold text-slate-500",children:" "}),m.jsx(Mr,{value:o??"",onChange:U=>l(K=>({...K,to:U})),options:R,placeholder:"  ",inputClassName:`mt-1 min-w-[200px] rounded border px-3 py-2 text-sm text-slate-700 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-200 ${s&&o&&s===o?"border-rose-300 bg-rose-50 text-rose-600":"border-slate-300"}`,disabled:j||d||e.length===0}),s&&o&&s===o?m.jsx("span",{className:"mt-1 text-[11px] text-rose-500",children:"    ."}):null]})]})}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsxs("aside",{className:"w-60 border-r border-slate-200 bg-white p-4",children:[m.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-700",children:" "}),m.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto",children:w.length===0?m.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 p-3 text-xs text-slate-400",children:"   ."}):w.map(U=>{const K=Y(U.fromId),ee=Y(U.toId);return m.jsxs("div",{className:"rounded-lg border border-slate-200 p-3 text-xs text-slate-600",children:[m.jsx("div",{className:"font-semibold text-slate-700",children:U.name}),m.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:[U.sku,"  ",K,"  ",ee]}),m.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-600",children:[m.jsxs("span",{children:[U.qty.toLocaleString("ko-KR")," EA"]}),m.jsx("button",{type:"button",onClick:()=>void W(U),disabled:j,className:"text-blue-500 transition hover:text-blue-400 disabled:cursor-not-allowed disabled:opacity-60",children:""})]})]},U.ts)})})]}),m.jsx("section",{className:"flex-1 bg-slate-50",children:d?m.jsx("div",{className:"flex h-full items-center justify-center text-sm text-slate-500",children:"  ..."}):v?m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-600",children:v})}):m.jsxs("div",{className:"flex min-h-full flex-col gap-6 px-6 py-6",children:[m.jsxs("div",{className:"mb-6 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[m.jsx("div",{className:"mb-4",children:m.jsxs("div",{children:[m.jsx("h3",{className:"text-base font-semibold text-slate-800",children:" "}),m.jsx("p",{className:"text-xs text-slate-500",children:"      ."})]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm text-slate-700",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-100 text-left text-xs uppercase tracking-wide text-slate-500",children:[m.jsx("th",{className:"py-2",children:""}),m.jsx("th",{className:"w-24 py-2 text-right",children:""}),m.jsx("th",{className:"w-24 py-2 text-right",children:" "})]})}),m.jsx("tbody",{children:s&&O.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"py-6 text-center text-xs text-slate-400",children:"    ."})}):O.map(U=>m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsxs("td",{className:"py-3",children:[m.jsx("div",{className:"font-medium text-slate-800",children:U.name}),m.jsx("div",{className:"text-xs text-slate-500",children:U.sku})]}),m.jsx("td",{className:"py-3 text-right font-semibold text-slate-700",children:U.onHand.toLocaleString("ko-KR")}),m.jsx("td",{className:"py-3 text-right",children:m.jsx(XK,{onClick:()=>F(U.sku),disabled:j||U.onHand<=0})})]},U.sku))})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[m.jsx(YK,{title:`    ${Y(s)}`,children:O.length===0?m.jsx("p",{className:"rounded-lg border border-slate-200 px-3 py-5 text-center text-xs text-slate-400",children:"    ."}):O.map(U=>m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-3",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-800",children:U.name}),m.jsx("div",{className:"text-xs text-slate-500",children:U.sku}),m.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-between gap-3 text-xs text-slate-500",children:[m.jsxs("span",{className:"font-semibold text-slate-700",children:[" ",U.onHand.toLocaleString("ko-KR")," EA"]}),m.jsx(XK,{onClick:()=>F(U.sku),disabled:j||U.onHand<=0})]})]},U.sku))}),m.jsxs(YK,{title:`    ${Y(o)}`,children:[P.length===0?m.jsx("p",{className:"rounded-lg border border-dashed border-slate-200 px-3 py-5 text-center text-xs text-slate-400",children:"   .       ."}):P.map(U=>m.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2",children:[m.jsx("div",{className:"text-sm font-medium text-slate-800",children:U.name}),m.jsxs("div",{className:"text-xs text-slate-500",children:[U.sku,"   ",U.onHand.toLocaleString("ko-KR")," EA"]})]},U.sku)),m.jsx("div",{className:"text-[11px] text-slate-400",children:"     ."})]})]})]})})]})]}),T?m.jsx(pi,{isOpen:!0,onClose:q,title:"  ",children:m.jsxs("div",{className:"space-y-5 text-sm text-slate-700",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-base font-semibold text-slate-800",children:T.name}),m.jsx("div",{className:"text-xs text-slate-500 mt-1",children:T.sku}),m.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["  : ",T.maxQty.toLocaleString("ko-KR")]})]}),m.jsxs("label",{className:"flex flex-col gap-2 text-xs font-semibold text-slate-600",children:[" ",m.jsx("input",{type:"number",min:1,max:T.maxQty,value:N,onChange:U=>C(WK(U.target.value)),disabled:j,className:"w-full rounded border border-slate-300 px-3 py-2 text-sm text-slate-700 focus:border-blue-400 focus:outline-none focus:ring-1 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),m.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:q,disabled:j,className:"rounded border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-500 disabled:cursor-not-allowed disabled:opacity-60",children:""}),m.jsx("button",{type:"button",onClick:()=>void V(),disabled:j,className:"rounded bg-blue-600 px-3 py-2 text-xs font-semibold text-white transition hover:bg-blue-500 disabled:cursor-not-allowed disabled:opacity-60",children:""})]})]})}):null]})},C8e=e=>({id:String(e.id??e.code),code:e.code,name:e.name??null,address:e.address??null,notes:e.notes??null,isActive:e.isActive??null,createdAt:e.createdAt??null,updatedAt:e.updatedAt??null}),ZK=e=>{const t=new Map;return e.forEach(r=>{var s;const n=((s=r.unit)==null?void 0:s.trim())||"EA",a=t.get(n)??0,i=Number.isFinite(r.qty)?Number(r.qty):0;t.set(n,a+i)}),Array.from(t.entries()).map(([r,n])=>({unit:r,quantity:n}))},N8e=e=>e.length?e.map(({unit:t,quantity:r})=>`${r.toLocaleString()} ${t}`).join(", "):"0",A8e=()=>{po();const[e,t]=A.useState("purchase"),[r,n]=A.useState("purchase"),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState(!1),[f,d]=A.useState("SUPPLIER"),[p,v]=A.useState(!1),[y,x]=A.useState(null),[b,w]=A.useState(null),_=A.useRef(null),[T,M]=A.useState(null),[N,C]=A.useState(!1),[j,O]=A.useState(!1),P=A.useRef(null),R=A.useCallback(async()=>{try{const ae=await so();i(ae)}catch(ae){console.error("[orders] loadPartners failed",ae)}},[]),k=A.useCallback(async()=>{try{const ae=await Hu({pageSize:100});o(ae.items.map(C8e))}catch(ae){console.error("[orders] loadWarehouses failed",ae)}},[]),L=A.useCallback(async()=>{if(_.current)return _.current;const ae=(async()=>{try{const xe=await Au();return x(xe),w(null),xe}catch(xe){throw console.error("[orders] loadProductCatalog failed",xe),w("   .  ."),xe}finally{_.current=null}})();return _.current=ae,ae},[]),I=A.useCallback(()=>{w(null)},[]);A.useEffect(()=>{R()},[R]),A.useEffect(()=>{k()},[k]),A.useEffect(()=>{L().catch(()=>{})},[L]);const $=A.useCallback(ae=>{if(!ae)return" ";const xe=s.find(ke=>ke.code===ae)??null;return(xe==null?void 0:xe.name)??ae},[s]),F=A.useCallback(async ae=>{var xe,ke;try{if(!ae.warehouseId||!ae.warehouseCode)throw new Error(" .");const Je=KZ(ae.scheduledAt);if(!Je)throw new Error("   .");const be=XZ(ae.scheduledAt)??ae.scheduledAt;if(ae.orderKind==="purchase"){const Te=await Gge({partnerId:ae.partnerId,memo:ae.memo||void 0,items:ae.items.map(it=>({sku:it.sku,qty:it.qty,unit:it.unit})),status:"RECEIVED",warehouseId:ae.warehouseId,warehouseCode:ae.warehouseCode,scheduledAt:Je}),De=Te.items.filter(it=>(it.receivedQty??it.qty)>0),J=Te.warehouseCode??ae.warehouseCode;if(!J)throw new Error("     .");if(De.length>0){const it=Je,Ue=De.map(ft=>{const le=Number.isFinite(ft.receivedQty)?ft.receivedQty:ft.qty,te=Math.max(0,Math.round(le??0));if(te<=0)return null;const Ne=ft.warehouseCode??J;return Ne?{type:"RECEIPT",sku:ft.sku,qty:te,toWarehouse:Ne,partnerId:Te.partnerId,refNo:Te.id,memo:"purchase-order-auto",occurredAt:it,userId:"orders-ui"}:null}).filter(ft=>!!ft);Ue.length>0&&await Promise.all(Ue.map(ft=>Mf(ft)))}M({id:Te.id,orderKind:"purchase",itemCount:Te.items.length,quantities:ZK(Te.items),partnerName:((xe=a.find(it=>it.id===ae.partnerId))==null?void 0:xe.name)??null,scheduledDate:be,warehouseLabel:$(Te.warehouseCode??ae.warehouseCode)}),C(!0),t("purchase"),n("purchase")}else{const Te=await Wge({partnerId:ae.partnerId,memo:ae.memo||void 0,items:ae.items.map(Ue=>({sku:Ue.sku,qty:Ue.qty,unit:Ue.unit})),warehouseId:ae.warehouseId,warehouseCode:ae.warehouseCode,scheduledAt:Je}),De=Te.warehouseCode??ae.warehouseCode;if(!De)throw new Error("     .");const J=new Map;ae.items.forEach(Ue=>{const ft=Number.isFinite(Ue.qty)?Math.max(0,Math.round(Ue.qty)):0;ft>0&&J.set(Ue.sku,(J.get(Ue.sku)??0)+ft)});const it=Te.items.reduce((Ue,ft)=>{const le=J.get(ft.sku);if(!le)return Ue;const te=Math.min(Math.max(0,Math.round(ft.qty)),le);if(te<=0)return Ue;const Ne=ft.warehouseCode??De;return Ne&&(Ue.push({sku:ft.sku,quantity:te,warehouseCode:Ne}),J.set(ft.sku,le-te)),Ue},[]);if(it.length>0){await sQ(Te.id,{note:"orders-ui-auto",lines:it});const Ue=Je;await Promise.all(it.map(ft=>Mf({type:"ISSUE",sku:ft.sku,qty:ft.quantity,fromWarehouse:ft.warehouseCode,partnerId:Te.partnerId,refNo:Te.id,memo:"sales-order-auto",occurredAt:Ue,userId:"orders-ui"})))}M({id:Te.id,orderKind:"sales",itemCount:Te.items.length,quantities:ZK(Te.items),partnerName:((ke=a.find(Ue=>Ue.id===ae.partnerId))==null?void 0:ke.name)??null,scheduledDate:be,warehouseLabel:$(Te.warehouseCode??ae.warehouseCode)}),C(!0),t("sales"),n("sales")}}catch(Je){throw console.error("[orders] handleCreateOrder failed",Je),Je}},[a,$]),z=A.useCallback(({resetForm:ae})=>{P.current=ae},[]),V=A.useCallback(()=>{C(!1),M(null),P.current&&(P.current(),P.current=null)},[]),q=A.useCallback(ae=>{d(ae==="sales"?"CUSTOMER":"SUPPLIER"),u(!0)},[]),W=A.useCallback(()=>{T&&(O(!0),C(!1))},[T]),Y=A.useCallback(async ae=>{await R()},[R]),H=A.useCallback(async(ae,xe)=>{await k()},[k]),U=A.useId(),K=e==="purchase"?"":"",ee=A.useCallback(ae=>{if(ae==="transfer"){n("transfer");return}t(ae),n(ae)},[n,t]);return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("section",{className:"rounded-xl bg-white p-6 shadow-sm",children:[m.jsxs("div",{className:"mb-4 flex flex-col gap-3",children:[m.jsx("h2",{id:U,className:"text-lg font-semibold text-slate-800",children:" "}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",className:`rounded-md px-3 py-1.5 font-semibold transition ${r==="purchase"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,onClick:()=>ee("purchase"),children:" "}),m.jsx("button",{type:"button",className:`rounded-md px-3 py-1.5 font-semibold transition ${r==="sales"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,onClick:()=>ee("sales"),children:" "}),m.jsx("button",{type:"button",className:`rounded-md px-3 py-1.5 font-semibold transition ${r==="transfer"?"bg-blue-600 text-white":"bg-slate-100 text-slate-600"}`,onClick:()=>ee("transfer"),children:" "})]})]}),r==="transfer"?m.jsx(T8e,{warehouses:s,className:"mt-4"}):m.jsx(h8e,{defaultKind:e,partners:a,warehouses:s,products:y??void 0,productLoadError:b??void 0,onReloadProducts:L,onResetProductLoadError:I,onSubmit:F,onSubmitSuccess:z,onKindChange:ae=>{t(ae),n(ae)},onRequestCreatePartner:q,onRequestManageWarehouse:()=>v(!0),submitButtonLabel:K,"aria-labelledby":U,showKindSwitcher:!1},e)]}),m.jsx(oQ,{open:l,mode:"create",defaultType:f,onClose:()=>u(!1),onCompleted:Y}),m.jsx(g8e,{open:p,onClose:()=>v(!1),onCreated:H}),m.jsx(pi,{isOpen:N&&!!T,onClose:V,title:"  ",children:T?m.jsxs("div",{className:"space-y-6 text-sm text-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg font-semibold text-slate-800",children:T.orderKind==="purchase"?" .":" ."}),m.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[" ID: ",T.id]})]}),m.jsxs("dl",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:" "}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:T.orderKind==="purchase"?" ":" "})]}),T.partnerName?m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:""}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:T.partnerName})]}):null,m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:" "}),m.jsxs("dd",{className:"text-sm font-medium text-slate-800",children:[T.itemCount,""]})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:" "}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:N8e(T.quantities)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:""}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:T.warehouseLabel})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs font-semibold text-slate-500",children:T.orderKind==="purchase"?" ":" "}),m.jsx("dd",{className:"text-sm font-medium text-slate-800",children:T.scheduledDate})]})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2 text-sm",children:[m.jsx("button",{type:"button",onClick:W,className:"rounded-md border border-slate-200 px-4 py-2 font-semibold text-blue-600 transition hover:border-blue-200 hover:text-blue-500",children:"  "}),m.jsx("button",{type:"button",onClick:V,className:"rounded-md bg-blue-600 px-4 py-2 font-semibold text-white shadow-sm transition hover:bg-blue-500",children:""})]})]}):null}),T?m.jsx(v8e,{isOpen:j,onClose:()=>O(!1),orderId:T.id,orderKind:T.orderKind,partners:a,products:y??void 0,summary:T}):null]})},Xie=async()=>(await aa("/tax-types")).items,Zie=async e=>(await Hn("/tax-types",e)).item,Qie=/^\d{4}-\d{2}-\d{2}$/,Jie=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(?::\d{2})?$/,ese=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?(?:Z|[+-]\d{2}:\d{2})$/,M8e=e=>{const t=Date.parse(`${e}T00:00:00+09:00`);return Number.isNaN(t)?null:new Date(t).toISOString()},g3=e=>{const t=e==null?void 0:e.trim();return t?Jie.test(t)?t:ese.test(t)?ou(t)||null:Qie.test(t)?`${t}T00:00`:null:null},w0=(e,t=ou(Date.now()))=>g3(e)??t,Ia=e=>{const t=e==null?void 0:e.trim();if(!t)return null;if(Jie.test(t))return KZ(t);if(ese.test(t)){const r=Date.parse(t);return Number.isNaN(r)?null:new Date(r).toISOString()}return Qie.test(t)?M8e(t):null},tse=()=>{var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??Math.random().toString(36).slice(2,10)},p1=()=>({id:tse(),productSku:"",productName:"",quantity:"",unitPrice:"",taxTypeId:null}),Xd=e=>Number.isFinite(e)?e.toLocaleString("ko-KR",{minimumFractionDigits:0,maximumFractionDigits:0}):"0",E8e=e=>e!=null?e.toFixed(2):"",j8e=e=>{const t=e.replace(/[^\d.]/g,"");if(t==="")return"";const r=t.split("."),n=r[0],a=r[1]?r[1].slice(0,2):"";return a?`${n}.${a}`:n},D8e=e=>{if(!e)return"";const t=Number(e);if(!Number.isFinite(t))return"";const r=e.includes(".")?e.split(".")[1]:"",a=/[1-9]/.test(r)?Math.min(2,r.length):0;return t.toLocaleString("ko-KR",{minimumFractionDigits:a,maximumFractionDigits:a})},O8e=[{label:"",value:""},{label:"",value:""}],P8e=[{label:"",value:"exclusive"},{label:"",value:"inclusive"}],zk=e=>{const t=g3(e);return t?t.split("T")[0]:""},k8e=e=>{const t=typeof e.orderedQty=="number"&&Number.isFinite(e.orderedQty)?String(Math.max(0,Math.round(e.orderedQty))):"",r=typeof e.unitPrice=="number"&&Number.isFinite(e.unitPrice)?String(e.unitPrice):"";return{id:e.id??tse(),productSku:e.sku??"",productName:e.productName??"",quantity:t,unitPrice:r,taxTypeId:e.taxTypeId??null}},R8e=e=>{const t=w0(e.orderDate),r=zk(e.promisedDate),n=e.lines&&e.lines.length>0?e.lines.map(k8e):[p1()];return{supplier:e.vendorId,orderNumber:e.orderNumber??"",orderDate:t,expectedDate:r,memo:e.memo??"",receivingMode:e.receivingMode??"",receivingNote:e.receivingNote??"",warehouse:e.warehouse??"",lines:n,draftId:e.id}},L8e="purchase-order-ui",Lb="purchase-order:draft",QK="__tax_add__",Ib=e=>Math.round(e),JK=()=>{const e=po(),[t,r]=A.useState(""),[n,a]=A.useState(()=>w0(void 0)),[i,s]=A.useState(""),[o,l]=A.useState(""),[u,f]=A.useState(""),[d,p]=A.useState(""),[v,y]=A.useState(""),[x,b]=A.useState([p1()]),[w,_]=A.useState([]),[T,M]=A.useState(!1),[N,C]=A.useState([]),[j,O]=A.useState(!1),[P,R]=A.useState([]),[k,L]=A.useState(!1),[I,$]=A.useState(""),[F,z]=A.useState(!1),[V,q]=A.useState(null),[W,Y]=A.useState(!1),[H,U]=A.useState(!1),[K,ee]=A.useState(null),{draftId:ae}=aR(),[xe,ke]=A.useState(!1),[Je,be]=A.useState(null),[Te,De]=A.useState([]),[J,it]=A.useState(!1),[Ue,ft]=A.useState(null),[le,te]=A.useState(!1),[Ne,Le]=A.useState(null),[Pe,He]=A.useState(""),[pe,Fe]=A.useState("0"),[ue,nt]=A.useState("exclusive"),[tt,Q]=A.useState(null),[we,st]=A.useState(null),[me,ce]=A.useState(!1),he=As(),ze=A.useMemo(()=>w.map(fe=>({label:fe.name,value:fe.id})),[w]),Ge=A.useMemo(()=>P.map(fe=>({label:`${fe.name} (${fe.code})`,value:fe.code})),[P]),at=A.useMemo(()=>x.map(fe=>{const Ve=Number(fe.quantity)||0,We=Number(fe.unitPrice)||0,ct=Ve*We,Ct=Te.find(kt=>kt.id===fe.taxTypeId)??null;let At=Ib(ct),It=0,Mt=At;if(Ct&&Ct.rate>0)if(Ct.mode==="exclusive")It=Ib(At*Ct.rate),Mt=At+It;else{const kt=1+Ct.rate;At=Ib(ct/kt),It=Ib(ct-At),Mt=At+It}return{lineId:fe.id,base:At,tax:It,total:Mt,taxType:Ct}}),[x,Te]),lt=A.useMemo(()=>{const fe=at.reduce((Ct,At)=>Ct+At.base,0),Ve=at.reduce((Ct,At)=>Ct+At.total,0),We=at.reduce((Ct,At)=>Ct+At.tax,0),ct=new Map;return at.forEach(({taxType:Ct,base:At,tax:It})=>{if(!Ct||It===0)return;const Mt=ct.get(Ct.id);Mt?(Mt.base+=At,Mt.amount+=It):ct.set(Ct.id,{taxType:Ct,base:At,amount:It})}),{lineTotal:Ve,baseTotal:fe,taxTotal:We,total:fe+We,taxBreakdown:Array.from(ct.values())}},[at]),ge=A.useMemo(()=>new Map(at.map(fe=>[fe.lineId,fe])),[at]),Ee=A.useCallback(()=>x.map(fe=>{var Ir;const Ve=Math.max(0,Math.round(Number(fe.quantity)||0));if(!fe.productSku||Ve<=0)return null;const We=ge.get(fe.id),ct=N.find(br=>br.sku===fe.productSku)??null,Ct=Number(fe.unitPrice),At=Number.isFinite(Ct)?Math.round(Ct):void 0,It=We?We.total:Math.round(Ve*(At??0)),Mt=We?We.tax:void 0,kt=We==null?void 0:We.taxType,Qt=kt?`${kt.name} (${(kt.rate*100).toFixed(0)}% ${kt.mode==="inclusive"?"":""})`:void 0;return{sku:fe.productSku,orderedQty:Ve,productName:((Ir=fe.productName)==null?void 0:Ir.trim())||(ct==null?void 0:ct.name),unit:(ct==null?void 0:ct.unit)??void 0,unitPrice:At,amount:It,taxAmount:Mt,taxLabel:Qt,currency:(ct==null?void 0:ct.currency)??void 0,taxTypeId:fe.taxTypeId??void 0}}).filter(fe=>!!fe),[ge,x,N]),$e=(fe,Ve)=>{b(We=>We.map(ct=>ct.id===fe?Ve(ct):ct))},Oe=()=>{var Ve;const fe=((Ve=Te.find(We=>We.isDefault))==null?void 0:Ve.id)??null;b(We=>[...We,{...p1(),taxTypeId:fe}])},mt=fe=>{b(Ve=>Ve.length>1?Ve.filter(We=>We.id!==fe):Ve)},Tt=A.useCallback(async()=>{if(!t){he(" .",{tone:"error"});return}const fe=Ee();if(!fe.length){he("     .",{tone:"error"});return}const Ve=I.trim(),We=Ia(n),ct=w.find(Mt=>Mt.id===t),Ct={vendorId:t,vendorName:ct==null?void 0:ct.name,orderNumber:Ve||void 0,orderDate:We||void 0,receivingMode:u,receivingNote:d||void 0,warehouse:v||void 0,memo:o||d||void 0,promisedDate:Ia(i)||void 0,lines:fe},At=Mt=>{ee(Mt);const kt={supplier:t,orderNumber:I,orderDate:n,expectedDate:i,memo:o,receivingMode:u,receivingNote:d,warehouse:v,lines:x,draftId:Mt};typeof window<"u"&&window.localStorage.setItem(Lb,JSON.stringify(kt))},It=Mt=>Mt instanceof Error?/   |purchase order not found/i.test(Mt.message):!1;U(!0);try{const Mt=K?await EK(K,Ct):await gD(Ct);At(Mt.id),he(" .",{tone:"success"})}catch(Mt){if(K&&It(Mt))try{const Qt=await gD(Ct);At(Qt.id),he(" .",{tone:"success"});return}catch(Qt){Mt=Qt}console.error("Failed to save draft",Mt);const kt=Mt instanceof Error?Mt.message:void 0;he("  .",{tone:"error",description:kt})}finally{U(!1)}},[t,I,n,i,o,u,d,v,x,w,K,Ee,he,gD,EK]),Ce=()=>Ia(i)??Ia(n)??new Date().toISOString(),Re=A.useCallback(async fe=>{const Ve=v.trim();if(!Ve)throw new Error("   .");const We=Ce(),ct=d.trim()||void 0,Ct=fe.lines.map(At=>{const It=Math.max(0,Math.round(At.orderedQty-(At.receivedQty??0)));return It<=0?null:{type:"RECEIPT",sku:At.sku,qty:It,toWarehouse:Ve,partnerId:fe.vendorId,refNo:fe.id,memo:ct,occurredAt:We,userId:L8e,poId:fe.id,poLineId:At.id}}).filter(At=>!!At);return Ct.length?(await Promise.all(Ct.map(At=>Mf(At))),Ct.length):0},[i,n,d,v]),Nt=A.useCallback(async()=>{if(!t){he(" .",{tone:"error"});return}const fe=Ee();if(!fe.length){he("     .",{tone:"error"});return}const Ve=I.trim(),We=Ia(n),ct=w.find(It=>It.id===t),Ct=u==="";if(Ct&&!v.trim()){he("   .",{tone:"error"});return}const At=K;Y(!0);try{const It=await KFe({vendorId:t,vendorName:ct==null?void 0:ct.name,orderNumber:Ve||void 0,orderDate:We||void 0,receivingMode:u,receivingNote:d||void 0,warehouse:v||void 0,memo:o||d||void 0,promisedDate:Ia(i)||void 0,lines:fe});let Mt=0;if(Ct&&(Mt=await Re(It)),At)try{await Oie(At)}catch(Qt){console.error("Failed to remove draft after confirming order",Qt)}ee(null),window.localStorage.removeItem(Lb);const kt=Ct&&Mt>0?`    ${Mt.toLocaleString()} .`:" .";he(kt,{tone:"success"}),e({pathname:"/",search:"?tab=purchase",replace:!0})}catch(It){console.error("Failed to create purchase order",It),he("  .",{tone:"error",description:It instanceof Error?It.message:void 0})}finally{Y(!1)}},[i,Ee,o,e,I,w,u,Re,he,t,v,K]),Wt=A.useCallback(()=>{e({pathname:"/",search:"?tab=purchase",replace:!0})},[e]),qt=A.useCallback(async()=>{it(!0),ft(null);try{const fe=await Xie();De(fe)}catch(fe){console.error("Failed to load tax types",fe),ft("     .")}finally{it(!1)}},[]);A.useEffect(()=>{qt()},[qt]);const Lt=A.useMemo(()=>{var fe;return((fe=Te.find(Ve=>Ve.isDefault))==null?void 0:fe.id)??null},[Te]);A.useEffect(()=>{Lt&&b(fe=>fe.map(Ve=>Ve.taxTypeId?Ve:{...Ve,taxTypeId:Lt}))},[Lt]);const X=A.useMemo(()=>{const fe=Te.map(Ve=>({label:`${Ve.name} (${(Ve.rate*100).toFixed(0)}%${Ve.mode==="inclusive"?" ":""})`,value:Ve.id}));return[{label:"",value:""},...fe,{label:"+ ",value:QK}]},[Te]),se=(fe,Ve)=>{if(Ve===QK){Le(fe),te(!0);return}$e(fe,We=>({...We,taxTypeId:Ve||null}))},_e=A.useCallback(()=>{te(!1),Le(null),He(""),Fe("0"),nt("exclusive"),Q(null),st(null)},[]),et=A.useCallback(async()=>{const fe=Pe.trim(),Ve=Number(pe);if(!fe){Q("  .");return}if(Q(null),!Number.isFinite(Ve)||Ve<0||Ve>100){st(" 0~100  .");return}st(null),ce(!0);try{const We=await Zie({name:fe,rate:Ve/100,mode:ue});De(Ct=>[...Ct,We]),he(" .",{tone:"success"});const ct=Ne;_e(),ct&&$e(ct,Ct=>({...Ct,taxTypeId:We.id}))}catch(We){console.error("Failed to create tax type",We),he("  .",{tone:"error",description:We instanceof Error?We.message:void 0})}finally{ce(!1)}},[ue,Pe,pe,Ne,_e,he]),ut=A.useCallback(fe=>(fe.inventory??[]).reduce((We,ct)=>We+Math.max(0,ct.onHand??0),0)||Math.max(0,fe.onHand??0),[]),pt=A.useCallback((fe,Ve)=>{const We=fe.inventory??[],ct=(Ve??"").trim();return We.length?We.reduce((At,It)=>{const Mt=Math.max(0,It.onHand??0);return ct?It.warehouseCode===ct?At+Mt:At:At+Mt},0):Math.max(0,fe.onHand??0)},[]),ie=A.useCallback(fe=>{const Ve=v?pt(fe,v):ut(fe);return`${fe.name} (${fe.sku})  ${Ve.toLocaleString("ko-KR")}`},[ut,pt,v]),Z=A.useMemo(()=>N.map(fe=>({label:ie(fe),value:fe.sku})),[ie,N]),Se=(fe,Ve)=>{const We=N.find(ct=>ct.sku===Ve);$e(fe,ct=>({...ct,productSku:Ve,productName:We?We.name:ct.productName,unitPrice:(We==null?void 0:We.supplyPrice)!=null?E8e(We.supplyPrice):ct.unitPrice}))},qe=A.useCallback(async()=>{z(!0),q(null);try{const fe=Ia(n);if(!fe)throw new Error("  .");const Ve=await WFe(fe);$(Ve.orderNumber)}catch(fe){console.error("Failed to suggest order number",fe),q(fe instanceof Error?fe.message:"    .   .")}finally{z(!1)}},[n]),Ie=A.useCallback(async()=>{M(!0);try{const fe=await so({type:"SUPPLIER"});_(fe)}catch(fe){console.error("Failed to load partners",fe)}finally{M(!1)}},[]),Ye=A.useCallback(async()=>{O(!0);try{const fe=await Au();C(fe)}catch(fe){console.error("Failed to load products",fe)}finally{O(!1)}},[]);A.useEffect(()=>{Ie()},[Ie]),A.useEffect(()=>{Ye()},[Ye]);const dt=A.useCallback(async()=>{L(!0);try{const fe=await Hu({pageSize:100});R(fe.items)}catch(fe){console.error("Failed to load warehouses",fe)}finally{L(!1)}},[]);A.useEffect(()=>{dt()},[dt]),A.useEffect(()=>{if(!ae)return;let fe=!0;return ke(!0),be(null),(async()=>{try{const Ve=await Pie(ae);if(!fe)return;if(Ve.status!=="draft")throw new Error("    .");const We=R8e(Ve);r(We.supplier),$(We.orderNumber),a(We.orderDate),s(We.expectedDate),l(We.memo),f(We.receivingMode),p(We.receivingNote),y(We.warehouse),b(We.lines),ee(We.draftId??null),typeof window<"u"&&window.localStorage.setItem(Lb,JSON.stringify(We))}catch(Ve){if(!fe)return;const We=Ve instanceof Error?Ve.message:"    .";be(We),he("     .",{tone:"error",description:We})}finally{fe&&ke(!1)}})(),()=>{fe=!1}},[ae,he]);const Dt=u==="";return A.useEffect(()=>{Dt&&s(zk(n))},[Dt,n]),A.useEffect(()=>{if(!ae&&!(typeof window>"u"))try{const fe=window.localStorage.getItem(Lb);if(!fe)return;const Ve=JSON.parse(fe);r(Ve.supplier||""),$(Ve.orderNumber||""),a(w0(Ve.orderDate)),s(zk(Ve.expectedDate)),l(Ve.memo||""),f(Ve.receivingMode||""),p(Ve.receivingNote||""),y(Ve.warehouse||""),ee(Ve.draftId??null),b(Ve.lines&&Ve.lines.length?Ve.lines:[p1()])}catch(fe){console.error("Failed to restore draft",fe)}},[ae]),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:" "}),m.jsx("h1",{className:"mt-1 text-3xl font-semibold text-slate-900",children:""}),m.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"    .      ."}),ae&&(xe||Je)&&m.jsxs("div",{className:"mt-2 space-y-1",children:[xe&&m.jsx("p",{className:"text-xs text-slate-500",children:"    "}),Je&&m.jsx("p",{className:"text-xs text-rose-600",children:Je})]})]}),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:()=>e(-1),className:"rounded-md border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:""})})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:""}),m.jsx("p",{className:"text-sm text-slate-500",children:"      ."})]}),m.jsx("button",{type:"button",className:"text-sm font-semibold text-indigo-600",children:"  "})]}),m.jsxs("div",{className:"mt-4 max-w-xl",children:[m.jsx("label",{htmlFor:"supplier",className:"text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{id:"supplier",className:"mt-1",value:t,onChange:fe=>r(fe),options:ze,placeholder:T?"  ...":" ",helperText:"    .",emptyMessage:T?"  ...":"  .",inputClassName:"w-full rounded-xl border border-slate-300 px-4 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none",disabled:T&&ze.length===0})]})]}),m.jsxs("section",{className:"grid gap-5 md:grid-cols-2",children:[m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),m.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[m.jsx("input",{type:"text",value:I,onChange:fe=>$(fe.target.value.toUpperCase()),placeholder:": PO-20251110-001",className:"flex-1 rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("button",{type:"button",onClick:qe,disabled:F,className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 transition hover:bg-indigo-700 disabled:bg-indigo-400",children:F?" ":" "})]}),V&&m.jsx("p",{className:"mt-1 text-xs text-rose-600",children:V}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"     ,       ."})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("input",{type:"datetime-local",step:"60",value:n,onChange:fe=>a(fe.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx("input",{type:"date",value:i,onChange:fe=>s(fe.target.value),disabled:Dt,className:`mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none ${Dt?"cursor-not-allowed bg-slate-50 text-slate-400":""}`})]})]})]})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),m.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{className:"mt-1",value:u,onChange:fe=>f(fe),options:O8e,placeholder:"  ",helperText:"   .",inputClassName:"w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"    ,       ."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("textarea",{value:d,onChange:fe=>p(fe.target.value),rows:3,placeholder:"   ",className:"mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{className:"mt-1",value:v,onChange:fe=>y(fe),options:Ge,disabled:k&&Ge.length===0,placeholder:k?"   ...":" ",emptyMessage:k?"   ...":"  .",helperText:"   .",inputClassName:"w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]})]})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:m.jsx("div",{children:m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "})})}),m.jsxs("div",{className:"mt-4 grid gap-5 lg:grid-cols-[minmax(0,1fr)_280px]",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"rounded-xl border border-slate-200",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm table-fixed",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left w-[280px]",children:""}),m.jsx("th",{className:"px-4 py-3 text-left w-28",children:"SKU"}),m.jsx("th",{className:"px-4 py-3 text-left w-32",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-28",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-36",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),m.jsx("th",{className:"px-4 py-3 text-center w-20",children:""})]})}),m.jsx("tbody",{children:x.map((fe,Ve)=>{const We=Number(fe.quantity)||0,ct=Number(fe.unitPrice)||0,Ct=N.find(Mt=>Mt.sku===fe.productSku)??null,At=ge.get(fe.id),It=At?At.total:Math.round(We*ct);return m.jsxs("tr",{className:Ve%2===0?"bg-white":"bg-slate-50/40",children:[m.jsxs("td",{className:"px-4 py-3",children:[m.jsx(Mr,{className:"w-full",value:fe.productSku,onChange:Mt=>Se(fe.id,Mt),options:Z,placeholder:j?"   ...":" ",inputClassName:"w-full rounded-md border border-slate-200 px-2 py-1 text-sm focus:border-indigo-500 focus:outline-none",emptyMessage:j?"   ...":" ",disabled:j&&Z.length===0}),Ct&&m.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[v?"  ":" ",":"," ",(v?pt(Ct,v):ut(Ct)).toLocaleString("ko-KR")," ",Ct.unit??""]})]}),m.jsx("td",{className:"px-4 py-3 text-slate-600",children:(Ct==null?void 0:Ct.sku)??""}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Mr,{className:"w-full",value:fe.taxTypeId??"",onChange:Mt=>se(fe.id,Mt),options:X,placeholder:"  ",inputClassName:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm focus:border-indigo-500 focus:outline-none",disabled:J,emptyMessage:J?"   ...":"  "})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("input",{type:"number",min:"0",value:fe.quantity,onChange:Mt=>$e(fe.id,kt=>({...kt,quantity:Mt.target.value})),className:"w-full rounded-md border border-slate-200 px-2 py-1 text-right text-sm focus:border-indigo-500 focus:outline-none"})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("input",{type:"text",value:D8e(fe.unitPrice),onChange:Mt=>$e(fe.id,kt=>({...kt,unitPrice:j8e(Mt.target.value)})),className:"w-full rounded-md border border-slate-200 px-2 py-1 text-right text-sm focus:border-indigo-500 focus:outline-none"})}),m.jsx("td",{className:"px-4 py-3 text-right font-semibold text-slate-800",children:Xd(It)}),m.jsx("td",{className:"px-4 py-3 text-center",children:m.jsx("button",{type:"button",onClick:()=>mt(fe.id),className:"text-xs font-semibold text-rose-600 hover:text-rose-500",disabled:x.length<=1,children:""})})]},fe.id)})})]})}),m.jsx("button",{type:"button",onClick:Oe,className:"rounded-xl border border-dashed border-slate-300 px-4 py-3 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:"+  "})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-5 text-sm",children:[Ue&&m.jsx("p",{className:"text-xs text-rose-600",children:Ue}),m.jsxs("dl",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between text-slate-600",children:[m.jsx("dt",{children:""}),m.jsx("dd",{children:Xd(lt.lineTotal)})]}),m.jsxs("div",{className:"flex justify-between text-slate-600",children:[m.jsx("dt",{children:" ( )"}),m.jsx("dd",{children:Xd(lt.baseTotal)})]}),lt.taxBreakdown.map(fe=>m.jsxs("div",{className:"flex items-center justify-between text-slate-600",children:[m.jsxs("dt",{className:"text-xs text-slate-600",children:[fe.taxType.name," (",Xd(fe.base),"  ",(fe.taxType.rate*100).toFixed(0),"%",fe.taxType.mode==="inclusive"?" ":"",")"]}),m.jsx("dd",{className:"text-slate-800",children:Xd(fe.amount)})]},fe.taxType.id)),m.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900",children:[m.jsx("dt",{children:""}),m.jsx("dd",{children:Xd(lt.total)})]})]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:Wt,className:"rounded-md border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:""}),m.jsx("button",{type:"button",onClick:Tt,disabled:H,className:"rounded-md border border-slate-300 px-5 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 disabled:border-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:H?"  ":" "}),m.jsx("button",{type:"button",onClick:Nt,disabled:W,className:"rounded-md bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 disabled:bg-indigo-500",children:W?"  ":" "})]}),m.jsx(pi,{isOpen:le,onClose:_e,title:" ",children:m.jsxs("form",{onSubmit:fe=>{fe.preventDefault(),et()},className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("input",{type:"text",value:Pe,onChange:fe=>He(fe.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),tt&&m.jsx("p",{className:"text-xs text-rose-600",children:tt})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsxs("div",{className:"mt-1 flex gap-2",children:[m.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:pe,onChange:fe=>Fe(fe.target.value),className:"w-24 rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("span",{className:"px-2 py-2 text-sm text-slate-500",children:"%"}),m.jsx(Mr,{value:ue,onChange:fe=>nt(fe),options:P8e,placeholder:"  ",inputClassName:"rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none",className:"flex-1"})]}),we&&m.jsx("p",{className:"text-xs text-rose-600",children:we})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:_e,className:"rounded-xl border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600",children:""}),m.jsx("button",{type:"submit",disabled:me,className:"rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 disabled:bg-indigo-500",children:me?" ":""})]})]})})]})};/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var xh=9e15,Qu=1e9,Fk="0123456789abcdef",dS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",hS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Uk={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-xh,maxE:xh,crypto:!1},rse,tl,Zt=!0,V_="[DecimalError] ",Fu=V_+"Invalid argument: ",nse=V_+"Precision limit exceeded",ase=V_+"crypto unavailable",ise="[object Decimal]",va=Math.floor,zn=Math.pow,I8e=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,B8e=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$8e=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,sse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ts=1e7,Ut=7,z8e=9007199254740991,F8e=dS.length-1,Hk=hS.length-1,ot={toStringTag:ise};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),$t(e)};ot.ceil=function(){return $t(new this.constructor(this),this.e+1,2)};ot.clampedTo=ot.clamp=function(e,t){var r,n=this,a=n.constructor;if(e=new a(e),t=new a(t),!e.s||!t.s)return new a(NaN);if(e.gt(t))throw Error(Fu+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new a(n)};ot.comparedTo=ot.cmp=function(e){var t,r,n,a,i=this,s=i.d,o=(e=new i.constructor(e)).d,l=i.s,u=e.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(i.e!==e.e)return i.e>e.e^l<0?1:-1;for(n=s.length,a=o.length,t=0,r=n<a?n:a;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^l<0?1:-1;return n===a?0:n>a^l<0?1:-1};ot.cosine=ot.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ut,n.rounding=1,r=U8e(n,fse(n,r)),n.precision=e,n.rounding=t,$t(tl==2||tl==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};ot.cubeRoot=ot.cbrt=function(){var e,t,r,n,a,i,s,o,l,u,f=this,d=f.constructor;if(!f.isFinite()||f.isZero())return new d(f);for(Zt=!1,i=f.s*zn(f.s*f,1/3),!i||Math.abs(i)==1/0?(r=na(f.d),e=f.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=zn(r,1/3),e=va((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new d(r),n.s=f.s):n=new d(i.toString()),s=(e=d.precision)+3;;)if(o=n,l=o.times(o).times(o),u=l.plus(f),n=Zr(u.plus(f).times(o),u.plus(l),s+2,1),na(o.d).slice(0,s)===(r=na(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!a&&r=="4999"){if(!a&&($t(o,e+1,0),o.times(o).times(o).eq(f))){n=o;break}s+=4,a=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&($t(n,e+1,1),t=!n.times(n).times(n).eq(f));break}return Zt=!0,$t(n,e,d.rounding,t)};ot.decimalPlaces=ot.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-va(this.e/Ut))*Ut,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};ot.dividedBy=ot.div=function(e){return Zr(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.divToInt=function(e){var t=this,r=t.constructor;return $t(Zr(t,new r(e),0,1,1),r.precision,r.rounding)};ot.equals=ot.eq=function(e){return this.cmp(e)===0};ot.floor=function(){return $t(new this.constructor(this),this.e+1,3)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){var t=this.cmp(e);return t==1||t===0};ot.hyperbolicCosine=ot.cosh=function(){var e,t,r,n,a,i=this,s=i.constructor,o=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(i.e,i.sd())+4,s.rounding=1,a=i.d.length,a<32?(e=Math.ceil(a/3),t=(1/G_(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=bp(s,1,i.times(t),new s(1),!0);for(var l,u=e,f=new s(8);u--;)l=i.times(i),i=o.minus(l.times(f.minus(l.times(f))));return $t(i,s.precision=r,s.rounding=n,!0)};ot.hyperbolicSine=ot.sinh=function(){var e,t,r,n,a=this,i=a.constructor;if(!a.isFinite()||a.isZero())return new i(a);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(a.e,a.sd())+4,i.rounding=1,n=a.d.length,n<3)a=bp(i,2,a,a,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,a=a.times(1/G_(5,e)),a=bp(i,2,a,a,!0);for(var s,o=new i(5),l=new i(16),u=new i(20);e--;)s=a.times(a),a=a.times(o.plus(s.times(l.times(s).plus(u))))}return i.precision=t,i.rounding=r,$t(a,t,r,!0)};ot.hyperbolicTangent=ot.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Zr(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};ot.inverseCosine=ot.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,a=t.rounding;return r!==-1?r===0?e.isNeg()?Qs(t,n,a):new t(0):new t(NaN):e.isZero()?Qs(t,n+4,a).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=a,e.times(2))};ot.inverseHyperbolicCosine=ot.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Zt=!1,r=r.times(r).minus(1).sqrt().plus(r),Zt=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};ot.inverseHyperbolicSine=ot.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Zt=!1,r=r.times(r).plus(1).sqrt().plus(r),Zt=!0,n.precision=e,n.rounding=t,r.ln())};ot.inverseHyperbolicTangent=ot.atanh=function(){var e,t,r,n,a=this,i=a.constructor;return a.isFinite()?a.e>=0?new i(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=i.precision,t=i.rounding,n=a.sd(),Math.max(n,e)<2*-a.e-1?$t(new i(a),e,t,!0):(i.precision=r=n-a.e,a=Zr(a.plus(1),new i(1).minus(a),r+e,1),i.precision=e+4,i.rounding=1,a=a.ln(),i.precision=e,i.rounding=t,a.times(.5))):new i(NaN)};ot.inverseSine=ot.asin=function(){var e,t,r,n,a=this,i=a.constructor;return a.isZero()?new i(a):(t=a.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Qs(i,r+4,n).times(.5),e.s=a.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,a=a.div(new i(1).minus(a.times(a)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,a.times(2)))};ot.inverseTangent=ot.atan=function(){var e,t,r,n,a,i,s,o,l,u=this,f=u.constructor,d=f.precision,p=f.rounding;if(u.isFinite()){if(u.isZero())return new f(u);if(u.abs().eq(1)&&d+4<=Hk)return s=Qs(f,d+4,p).times(.25),s.s=u.s,s}else{if(!u.s)return new f(NaN);if(d+4<=Hk)return s=Qs(f,d+4,p).times(.5),s.s=u.s,s}for(f.precision=o=d+10,f.rounding=1,r=Math.min(28,o/Ut+2|0),e=r;e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(Zt=!1,t=Math.ceil(o/Ut),n=1,l=u.times(u),s=new f(u),a=u;e!==-1;)if(a=a.times(l),i=s.minus(a.div(n+=2)),a=a.times(l),s=i.plus(a.div(n+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===i.d[e]&&e--;);return r&&(s=s.times(2<<r-1)),Zt=!0,$t(s,f.precision=d,f.rounding=p,!0)};ot.isFinite=function(){return!!this.d};ot.isInteger=ot.isInt=function(){return!!this.d&&va(this.e/Ut)>this.d.length-2};ot.isNaN=function(){return!this.s};ot.isNegative=ot.isNeg=function(){return this.s<0};ot.isPositive=ot.isPos=function(){return this.s>0};ot.isZero=function(){return!!this.d&&this.d[0]===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r,n,a,i,s,o,l,u=this,f=u.constructor,d=f.precision,p=f.rounding,v=5;if(e==null)e=new f(10),t=!0;else{if(e=new f(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new f(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(a=r[0];a%10===0;)a/=10;i=a!==1}if(Zt=!1,o=d+v,s=Nu(u,o),n=t?pS(f,o+10):Nu(e,o),l=Zr(s,n,o,1),S0(l.d,a=d,p))do if(o+=10,s=Nu(u,o),n=t?pS(f,o+10):Nu(e,o),l=Zr(s,n,o,1),!i){+na(l.d).slice(a+1,a+15)+1==1e14&&(l=$t(l,d+1,0));break}while(S0(l.d,a+=10,p));return Zt=!0,$t(l,d,p)};ot.minus=ot.sub=function(e){var t,r,n,a,i,s,o,l,u,f,d,p,v=this,y=v.constructor;if(e=new y(e),!v.d||!e.d)return!v.s||!e.s?e=new y(NaN):v.d?e.s=-e.s:e=new y(e.d||v.s!==e.s?v:NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(u=v.d,p=e.d,o=y.precision,l=y.rounding,!u[0]||!p[0]){if(p[0])e.s=-e.s;else if(u[0])e=new y(v);else return new y(l===3?-0:0);return Zt?$t(e,o,l):e}if(r=va(e.e/Ut),f=va(v.e/Ut),u=u.slice(),i=f-r,i){for(d=i<0,d?(t=u,i=-i,s=p.length):(t=p,r=f,s=u.length),n=Math.max(Math.ceil(o/Ut),s)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=u.length,s=p.length,d=n<s,d&&(s=n),n=0;n<s;n++)if(u[n]!=p[n]){d=u[n]<p[n];break}i=0}for(d&&(t=u,u=p,p=t,e.s=-e.s),s=u.length,n=p.length-s;n>0;--n)u[s++]=0;for(n=p.length;n>i;){if(u[--n]<p[n]){for(a=n;a&&u[--a]===0;)u[a]=Ts-1;--u[a],u[n]+=Ts}u[n]-=p[n]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=q_(u,r),Zt?$t(e,o,l):e):new y(l===3?-0:0)};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?$t(new n(r),n.precision,n.rounding):(Zt=!1,n.modulo==9?(t=Zr(r,e.abs(),0,3,1),t.s*=e.s):t=Zr(r,e,0,n.modulo,1),t=t.times(e),Zt=!0,r.minus(t))};ot.naturalExponential=ot.exp=function(){return Vk(this)};ot.naturalLogarithm=ot.ln=function(){return Nu(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s,$t(e)};ot.plus=ot.add=function(e){var t,r,n,a,i,s,o,l,u,f,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return!d.s||!e.s?e=new p(NaN):d.d||(e=new p(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,f=e.d,o=p.precision,l=p.rounding,!u[0]||!f[0])return f[0]||(e=new p(d)),Zt?$t(e,o,l):e;if(i=va(d.e/Ut),n=va(e.e/Ut),u=u.slice(),a=i-n,a){for(a<0?(r=u,a=-a,s=f.length):(r=f,n=i,s=u.length),i=Math.ceil(o/Ut),s=i>s?i+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=u.length,a=f.length,s-a<0&&(a=s,r=f,f=u,u=r),t=0;a;)t=(u[--a]=u[a]+f[a]+t)/Ts|0,u[a]%=Ts;for(t&&(u.unshift(t),++n),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=q_(u,n),Zt?$t(e,o,l):e};ot.precision=ot.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fu+e);return r.d?(t=ose(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};ot.round=function(){var e=this,t=e.constructor;return $t(new t(e),e.e+1,t.rounding)};ot.sine=ot.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Ut,n.rounding=1,r=V8e(n,fse(n,r)),n.precision=e,n.rounding=t,$t(tl>2?r.neg():r,e,t,!0)):new n(NaN)};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,a,i,s=this,o=s.d,l=s.e,u=s.s,f=s.constructor;if(u!==1||!o||!o[0])return new f(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(Zt=!1,u=Math.sqrt(+s),u==0||u==1/0?(t=na(o),(t.length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=va((l+1)/2)-(l<0||l%2),u==1/0?t="5e"+l:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new f(t)):n=new f(u.toString()),r=(l=f.precision)+3;;)if(i=n,n=i.plus(Zr(s,i,r+2,1)).times(.5),na(i.d).slice(0,r)===(t=na(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!a&&t=="4999"){if(!a&&($t(i,l+1,0),i.times(i).eq(s))){n=i;break}r+=4,a=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&($t(n,l+1,1),e=!n.times(n).eq(s));break}return Zt=!0,$t(n,l,f.rounding,e)};ot.tangent=ot.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Zr(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,$t(tl==2||tl==4?r.neg():r,e,t,!0)):new n(NaN)};ot.times=ot.mul=function(e){var t,r,n,a,i,s,o,l,u,f=this,d=f.constructor,p=f.d,v=(e=new d(e)).d;if(e.s*=f.s,!p||!p[0]||!v||!v[0])return new d(!e.s||p&&!p[0]&&!v||v&&!v[0]&&!p?NaN:!p||!v?e.s/0:e.s*0);for(r=va(f.e/Ut)+va(e.e/Ut),l=p.length,u=v.length,l<u&&(i=p,p=v,v=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+v[n]*p[a-n-1]+t,i[a--]=o%Ts|0,t=o/Ts|0;i[a]=(i[a]+t)%Ts|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=q_(i,r),Zt?$t(e,d.precision,d.rounding):e};ot.toBinary=function(e,t){return y3(this,2,e,t)};ot.toDecimalPlaces=ot.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ka(e,0,Qu),t===void 0?t=n.rounding:Ka(t,0,8),$t(r,e+r.e+1,t))};ot.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=co(n,!0):(Ka(e,0,Qu),t===void 0?t=a.rounding:Ka(t,0,8),n=$t(new a(n),e+1,t),r=co(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};ot.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?r=co(a):(Ka(e,0,Qu),t===void 0?t=i.rounding:Ka(t,0,8),n=$t(new i(a),e+a.e+1,t),r=co(n,!1,e+n.e+1)),a.isNeg()&&!a.isZero()?"-"+r:r};ot.toFraction=function(e){var t,r,n,a,i,s,o,l,u,f,d,p,v=this,y=v.d,x=v.constructor;if(!y)return new x(v);if(u=r=new x(1),n=l=new x(0),t=new x(n),i=t.e=ose(y)-v.e-1,s=i%Ut,t.d[0]=zn(10,s<0?Ut+s:s),e==null)e=i>0?t:u;else{if(o=new x(e),!o.isInt()||o.lt(u))throw Error(Fu+o);e=o.gt(t)?i>0?t:u:o}for(Zt=!1,o=new x(na(y)),f=x.precision,x.precision=i=y.length*Ut*2;d=Zr(o,t,0,1,1),a=r.plus(d.times(n)),a.cmp(e)!=1;)r=n,n=a,a=u,u=l.plus(d.times(a)),l=a,a=t,t=o.minus(d.times(a)),o=a;return a=Zr(e.minus(r),n,0,1,1),l=l.plus(a.times(u)),r=r.plus(a.times(n)),l.s=u.s=v.s,p=Zr(u,n,i,1).minus(v).abs().cmp(Zr(l,r,i,1).minus(v).abs())<1?[u,n]:[l,r],x.precision=f,Zt=!0,p};ot.toHexadecimal=ot.toHex=function(e,t){return y3(this,16,e,t)};ot.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ka(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Zt=!1,r=Zr(r,e,0,t,1).times(e),Zt=!0,$t(r)):(e.s=r.s,r=e),r};ot.toNumber=function(){return+this};ot.toOctal=function(e,t){return y3(this,8,e,t)};ot.toPower=ot.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,u=+(e=new l(e));if(!o.d||!e.d||!o.d[0]||!e.d[0])return new l(zn(+o,u));if(o=new l(o),o.eq(1))return o;if(n=l.precision,i=l.rounding,e.eq(1))return $t(o,n,i);if(t=va(e.e/Ut),t>=e.d.length-1&&(r=u<0?-u:u)<=z8e)return a=lse(l,o,r,n),e.s<0?new l(1).div(a):$t(a,n,i);if(s=o.s,s<0){if(t<e.d.length-1)return new l(NaN);if((e.d[t]&1)==0&&(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=zn(+o,u),t=r==0||!isFinite(r)?va(u*(Math.log("0."+na(o.d))/Math.LN10+o.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(Zt=!1,l.rounding=o.s=1,r=Math.min(12,(t+"").length),a=Vk(e.times(Nu(o,n+r)),n),a.d&&(a=$t(a,n+5,1),S0(a.d,n,i)&&(t=n+10,a=$t(Vk(e.times(Nu(o,t+r)),t),t+5,1),+na(a.d).slice(n+1,n+15)+1==1e14&&(a=$t(a,n+1,0)))),a.s=s,Zt=!0,l.rounding=i,$t(a,n,i))};ot.toPrecision=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=co(n,n.e<=a.toExpNeg||n.e>=a.toExpPos):(Ka(e,1,Qu),t===void 0?t=a.rounding:Ka(t,0,8),n=$t(new a(n),e,t),r=co(n,e<=n.e||n.e<=a.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};ot.toSignificantDigits=ot.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ka(e,1,Qu),t===void 0?t=n.rounding:Ka(t,0,8)),$t(new n(r),e,t)};ot.toString=function(){var e=this,t=e.constructor,r=co(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};ot.truncated=ot.trunc=function(){return $t(new this.constructor(this),this.e+1,1)};ot.valueOf=ot.toJSON=function(){var e=this,t=e.constructor,r=co(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function na(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ut-n.length,r&&(i+=uu(r)),i+=n;s=e[t],n=s+"",r=Ut-n.length,r&&(i+=uu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function Ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fu+e)}function S0(e,t,r,n){var a,i,s,o;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=Ut,a=0):(a=Math.ceil((t+1)/Ut),t%=Ut),i=zn(10,Ut-t),o=e[a]%i|0,n==null?t<3?(t==0?o=o/100|0:t==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==i||r>3&&o+1==i/2)&&(e[a+1]/i/100|0)==zn(10,t-2)-1||(o==i/2||o==0)&&(e[a+1]/i/100|0)==0:t<4?(t==0?o=o/1e3|0:t==1?o=o/100|0:t==2&&(o=o/10|0),s=(n||r<4)&&o==9999||!n&&r>3&&o==4999):s=((n||r<4)&&o+1==i||!n&&r>3&&o+1==i/2)&&(e[a+1]/i/1e3|0)==zn(10,t-3)-1,s}function m1(e,t,r){for(var n,a=[0],i,s=0,o=e.length;s<o;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=Fk.indexOf(e.charAt(s++)),n=0;n<a.length;n++)a[n]>r-1&&(a[n+1]===void 0&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}function U8e(e,t){var r,n,a;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),a=(1/G_(4,r)).toString()):(r=16,a="2.3283064365386962890625e-10"),e.precision+=r,t=bp(e,1,t.times(a),new e(1));for(var i=r;i--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=r,t}var Zr=(function(){function e(n,a,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%i|0,o=s/i|0;return o&&n.unshift(o),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i,s){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*s+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s,o,l){var u,f,d,p,v,y,x,b,w,_,T,M,N,C,j,O,P,R,k,L,I=n.constructor,$=n.s==a.s?1:-1,F=n.d,z=a.d;if(!F||!F[0]||!z||!z[0])return new I(!n.s||!a.s||(F?z&&F[0]==z[0]:!z)?NaN:F&&F[0]==0||!z?$*0:$/0);for(l?(v=1,f=n.e-a.e):(l=Ts,v=Ut,f=va(n.e/v)-va(a.e/v)),k=z.length,P=F.length,w=new I($),_=w.d=[],d=0;z[d]==(F[d]||0);d++);if(z[d]>(F[d]||0)&&f--,i==null?(C=i=I.precision,s=I.rounding):o?C=i+(n.e-a.e)+1:C=i,C<0)_.push(1),y=!0;else{if(C=C/v+2|0,d=0,k==1){for(p=0,z=z[0],C++;(d<P||p)&&C--;d++)j=p*l+(F[d]||0),_[d]=j/z|0,p=j%z|0;y=p||d<P}else{for(p=l/(z[0]+1)|0,p>1&&(z=e(z,p,l),F=e(F,p,l),k=z.length,P=F.length),O=k,T=F.slice(0,k),M=T.length;M<k;)T[M++]=0;L=z.slice(),L.unshift(0),R=z[0],z[1]>=l/2&&++R;do p=0,u=t(z,T,k,M),u<0?(N=T[0],k!=M&&(N=N*l+(T[1]||0)),p=N/R|0,p>1?(p>=l&&(p=l-1),x=e(z,p,l),b=x.length,M=T.length,u=t(x,T,b,M),u==1&&(p--,r(x,k<b?L:z,b,l))):(p==0&&(u=p=1),x=z.slice()),b=x.length,b<M&&x.unshift(0),r(T,x,M,l),u==-1&&(M=T.length,u=t(z,T,k,M),u<1&&(p++,r(T,k<M?L:z,M,l))),M=T.length):u===0&&(p++,T=[0]),_[d++]=p,u&&T[0]?T[M++]=F[O]||0:(T=[F[O]],M=1);while((O++<P||T[0]!==void 0)&&C--);y=T[0]!==void 0}_[0]||_.shift()}if(v==1)w.e=f,rse=y;else{for(d=1,p=_[0];p>=10;p/=10)d++;w.e=d+f*v-1,$t(w,o?i+w.e+1:i,s,y)}return w}})();function $t(e,t,r,n){var a,i,s,o,l,u,f,d,p,v=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(a=1,o=d[0];o>=10;o/=10)a++;if(i=t-a,i<0)i+=Ut,s=t,f=d[p=0],l=f/zn(10,a-s-1)%10|0;else if(p=Math.ceil((i+1)/Ut),o=d.length,p>=o)if(n){for(;o++<=p;)d.push(0);f=l=0,a=1,i%=Ut,s=i-Ut+1}else break e;else{for(f=o=d[p],a=1;o>=10;o/=10)a++;i%=Ut,s=i-Ut+a,l=s<0?0:f/zn(10,a-s-1)%10|0}if(n=n||t<0||d[p+1]!==void 0||(s<0?f:f%zn(10,a-s-1)),u=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(i>0?s>0?f/zn(10,a-s):0:d[p-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=zn(10,(Ut-t%Ut)%Ut),e.e=-t||0):d[0]=e.e=0,e;if(i==0?(d.length=p,o=1,p--):(d.length=p+1,o=zn(10,Ut-i),d[p]=s>0?(f/zn(10,a-s)%zn(10,s)|0)*o:0),u)for(;;)if(p==0){for(i=1,s=d[0];s>=10;s/=10)i++;for(s=d[0]+=o,o=1;s>=10;s/=10)o++;i!=o&&(e.e++,d[0]==Ts&&(d[0]=1));break}else{if(d[p]+=o,d[p]!=Ts)break;d[p--]=0,o=1}for(i=d.length;d[--i]===0;)d.pop()}return Zt&&(e.e>v.maxE?(e.d=null,e.e=NaN):e.e<v.minE&&(e.e=0,e.d=[0])),e}function co(e,t,r){if(!e.isFinite())return cse(e);var n,a=e.e,i=na(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+uu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):a<0?(i="0."+uu(-a-1)+i,r&&(n=r-s)>0&&(i+=uu(n))):a>=s?(i+=uu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+uu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=uu(n))),i}function q_(e,t){var r=e[0];for(t*=Ut;r>=10;r/=10)t++;return t}function pS(e,t,r){if(t>F8e)throw Zt=!0,r&&(e.precision=r),Error(nse);return $t(new e(dS),t,1,!0)}function Qs(e,t,r){if(t>Hk)throw Error(nse);return $t(new e(hS),t,r,!0)}function ose(e){var t=e.length-1,r=t*Ut+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function uu(e){for(var t="";e--;)t+="0";return t}function lse(e,t,r,n){var a,i=new e(1),s=Math.ceil(n/Ut+4);for(Zt=!1;;){if(r%2&&(i=i.times(t),tY(i.d,s)&&(a=!0)),r=va(r/2),r===0){r=i.d.length-1,a&&i.d[r]===0&&++i.d[r];break}t=t.times(t),tY(t.d,s)}return Zt=!0,i}function eY(e){return e.d[e.d.length-1]&1}function use(e,t,r){for(var n,a,i=new e(t[0]),s=0;++s<t.length;){if(a=new e(t[s]),!a.s){i=a;break}n=i.cmp(a),(n===r||n===0&&i.s===r)&&(i=a)}return i}function Vk(e,t){var r,n,a,i,s,o,l,u=0,f=0,d=0,p=e.constructor,v=p.rounding,y=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Zt=!1,l=y):l=t,o=new p(.03125);e.e>-2;)e=e.times(o),d+=5;for(n=Math.log(zn(2,d))/Math.LN10*2+5|0,l+=n,r=i=s=new p(1),p.precision=l;;){if(i=$t(i.times(e),l,1),r=r.times(++f),o=s.plus(Zr(i,r,l,1)),na(o.d).slice(0,l)===na(s.d).slice(0,l)){for(a=d;a--;)s=$t(s.times(s),l,1);if(t==null)if(u<3&&S0(s.d,l-n,v,u))p.precision=l+=10,r=i=o=new p(1),f=0,u++;else return $t(s,p.precision=y,v,Zt=!0);else return p.precision=y,s}s=o}}function Nu(e,t){var r,n,a,i,s,o,l,u,f,d,p,v=1,y=10,x=e,b=x.d,w=x.constructor,_=w.rounding,T=w.precision;if(x.s<0||!b||!b[0]||!x.e&&b[0]==1&&b.length==1)return new w(b&&!b[0]?-1/0:x.s!=1?NaN:b?0:x);if(t==null?(Zt=!1,f=T):f=t,w.precision=f+=y,r=na(b),n=r.charAt(0),Math.abs(i=x.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=na(x.d),n=r.charAt(0),v++;i=x.e,n>1?(x=new w("0."+r),i++):x=new w(n+"."+r.slice(1))}else return u=pS(w,f+2,T).times(i+""),x=Nu(new w(n+"."+r.slice(1)),f-y).plus(u),w.precision=T,t==null?$t(x,T,_,Zt=!0):x;for(d=x,l=s=x=Zr(x.minus(1),x.plus(1),f,1),p=$t(x.times(x),f,1),a=3;;){if(s=$t(s.times(p),f,1),u=l.plus(Zr(s,new w(a),f,1)),na(u.d).slice(0,f)===na(l.d).slice(0,f))if(l=l.times(2),i!==0&&(l=l.plus(pS(w,f+2,T).times(i+""))),l=Zr(l,new w(v),f,1),t==null)if(S0(l.d,f-y,_,o))w.precision=f+=y,u=s=x=Zr(d.minus(1),d.plus(1),f,1),p=$t(x.times(x),f,1),a=o=1;else return $t(l,w.precision=T,_,Zt=!0);else return w.precision=T,l;l=u,a+=2}}function cse(e){return String(e.s*e.s/0)}function v1(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(a=t.length;t.charCodeAt(a-1)===48;--a);if(t=t.slice(n,a),t){if(a-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Ut,r<0&&(n+=Ut),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ut;n<a;)e.d.push(+t.slice(n,n+=Ut));t=t.slice(n),n=Ut-t.length}else n-=a;for(;n--;)t+="0";e.d.push(+t),Zt&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H8e(e,t){var r,n,a,i,s,o,l,u,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),sse.test(t))return v1(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(B8e.test(t))r=16,t=t.toLowerCase();else if(I8e.test(t))r=2;else if($8e.test(t))r=8;else throw Error(Fu+t);for(i=t.search(/p/i),i>0?(l=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),s=i>=0,n=e.constructor,s&&(t=t.replace(".",""),o=t.length,i=o-i,a=lse(n,new n(r),i,i*2)),u=m1(t,r,Ts),f=u.length-1,i=f;u[i]===0;--i)u.pop();return i<0?new n(e.s*0):(e.e=q_(u,f),e.d=u,Zt=!1,s&&(e=Zr(e,a,o*4)),l&&(e=e.times(Math.abs(l)<54?zn(2,l):Hi.pow(2,l))),Zt=!0,e)}function V8e(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:bp(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/G_(5,r)),t=bp(e,2,t,t);for(var a,i=new e(5),s=new e(16),o=new e(20);r--;)a=t.times(t),t=t.times(i.plus(a.times(s.times(a).minus(o))));return t}function bp(e,t,r,n,a){var i,s,o,l,u=e.precision,f=Math.ceil(u/Ut);for(Zt=!1,l=r.times(r),o=new e(n);;){if(s=Zr(o.times(l),new e(t++*t++),u,1),o=a?n.plus(s):n.minus(s),n=Zr(s.times(l),new e(t++*t++),u,1),s=o.plus(n),s.d[f]!==void 0){for(i=f;s.d[i]===o.d[i]&&i--;);if(i==-1)break}i=o,o=n,n=s,s=i}return Zt=!0,s.d.length=f+1,s}function G_(e,t){for(var r=e;--t;)r*=e;return r}function fse(e,t){var r,n=t.s<0,a=Qs(e,e.precision,1),i=a.times(.5);if(t=t.abs(),t.lte(i))return tl=n?4:1,t;if(r=t.divToInt(a),r.isZero())tl=n?3:2;else{if(t=t.minus(r.times(a)),t.lte(i))return tl=eY(r)?n?2:3:n?4:1,t;tl=eY(r)?n?1:4:n?3:2}return t.minus(a).abs()}function y3(e,t,r,n){var a,i,s,o,l,u,f,d,p,v=e.constructor,y=r!==void 0;if(y?(Ka(r,1,Qu),n===void 0?n=v.rounding:Ka(n,0,8)):(r=v.precision,n=v.rounding),!e.isFinite())f=cse(e);else{for(f=co(e),s=f.indexOf("."),y?(a=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):a=t,s>=0&&(f=f.replace(".",""),p=new v(1),p.e=f.length-s,p.d=m1(co(p),10,a),p.e=p.d.length),d=m1(f,10,a),i=l=d.length;d[--l]==0;)d.pop();if(!d[0])f=y?"0p+0":"0";else{if(s<0?i--:(e=new v(e),e.d=d,e.e=i,e=Zr(e,p,r,n,0,a),d=e.d,i=e.e,u=rse),s=d[r],o=a/2,u=u||d[r+1]!==void 0,u=n<4?(s!==void 0||u)&&(n===0||n===(e.s<0?3:2)):s>o||s===o&&(n===4||u||n===6&&d[r-1]&1||n===(e.s<0?8:7)),d.length=r,u)for(;++d[--r]>a-1;)d[r]=0,r||(++i,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,f="";s<l;s++)f+=Fk.charAt(d[s]);if(y){if(l>1)if(t==16||t==8){for(s=t==16?4:3,--l;l%s;l++)f+="0";for(d=m1(f,a,t),l=d.length;!d[l-1];--l);for(s=1,f="1.";s<l;s++)f+=Fk.charAt(d[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)f="0"+f;f="0."+f}else if(++i>l)for(i-=l;i--;)f+="0";else i<l&&(f=f.slice(0,i)+"."+f.slice(i))}f=(t==16?"0x":t==2?"0b":t==8?"0o":"")+f}return e.s<0?"-"+f:f}function tY(e,t){if(e.length>t)return e.length=t,!0}function q8e(e){return new this(e).abs()}function G8e(e){return new this(e).acos()}function W8e(e){return new this(e).acosh()}function K8e(e,t){return new this(e).plus(t)}function Y8e(e){return new this(e).asin()}function X8e(e){return new this(e).asinh()}function Z8e(e){return new this(e).atan()}function Q8e(e){return new this(e).atanh()}function J8e(e,t){e=new this(e),t=new this(t);var r,n=this.precision,a=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Qs(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Qs(this,n,a):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Qs(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(Zr(e,t,i,1)),t=Qs(this,i,1),this.precision=n,this.rounding=a,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Zr(e,t,i,1)),r}function eHe(e){return new this(e).cbrt()}function tHe(e){return $t(e=new this(e),e.e+1,2)}function rHe(e,t,r){return new this(e).clamp(t,r)}function nHe(e){if(!e||typeof e!="object")throw Error(V_+"Object expected");var t,r,n,a=e.defaults===!0,i=["precision",1,Qu,"rounding",0,8,"toExpNeg",-xh,0,"toExpPos",0,xh,"maxE",0,xh,"minE",-xh,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],a&&(this[r]=Uk[r]),(n=e[r])!==void 0)if(va(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fu+r+": "+n);if(r="crypto",a&&(this[r]=Uk[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(ase);else this[r]=!1;else throw Error(Fu+r+": "+n);return this}function aHe(e){return new this(e).cos()}function iHe(e){return new this(e).cosh()}function dse(e){var t,r,n;function a(i){var s,o,l,u=this;if(!(u instanceof a))return new a(i);if(u.constructor=a,rY(i)){u.s=i.s,Zt?!i.d||i.e>a.maxE?(u.e=NaN,u.d=null):i.e<a.minE?(u.e=0,u.d=[0]):(u.e=i.e,u.d=i.d.slice()):(u.e=i.e,u.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){u.s=1/i<0?-1:1,u.e=0,u.d=[0];return}if(i<0?(i=-i,u.s=-1):u.s=1,i===~~i&&i<1e7){for(s=0,o=i;o>=10;o/=10)s++;Zt?s>a.maxE?(u.e=NaN,u.d=null):s<a.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[i]):(u.e=s,u.d=[i]);return}if(i*0!==0){i||(u.s=NaN),u.e=NaN,u.d=null;return}return v1(u,i.toString())}if(l==="string")return(o=i.charCodeAt(0))===45?(i=i.slice(1),u.s=-1):(o===43&&(i=i.slice(1)),u.s=1),sse.test(i)?v1(u,i):H8e(u,i);if(l==="bigint")return i<0?(i=-i,u.s=-1):u.s=1,v1(u,i.toString());throw Error(Fu+i)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=nHe,a.clone=dse,a.isDecimal=rY,a.abs=q8e,a.acos=G8e,a.acosh=W8e,a.add=K8e,a.asin=Y8e,a.asinh=X8e,a.atan=Z8e,a.atanh=Q8e,a.atan2=J8e,a.cbrt=eHe,a.ceil=tHe,a.clamp=rHe,a.cos=aHe,a.cosh=iHe,a.div=sHe,a.exp=oHe,a.floor=lHe,a.hypot=uHe,a.ln=cHe,a.log=fHe,a.log10=hHe,a.log2=dHe,a.max=pHe,a.min=mHe,a.mod=vHe,a.mul=gHe,a.pow=yHe,a.random=xHe,a.round=bHe,a.sign=wHe,a.sin=SHe,a.sinh=_He,a.sqrt=THe,a.sub=CHe,a.sum=NHe,a.tan=AHe,a.tanh=MHe,a.trunc=EHe,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sHe(e,t){return new this(e).div(t)}function oHe(e){return new this(e).exp()}function lHe(e){return $t(e=new this(e),e.e+1,3)}function uHe(){var e,t,r=new this(0);for(Zt=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Zt=!0,new this(1/0);r=t}return Zt=!0,r.sqrt()}function rY(e){return e instanceof Hi||e&&e.toStringTag===ise||!1}function cHe(e){return new this(e).ln()}function fHe(e,t){return new this(e).log(t)}function dHe(e){return new this(e).log(2)}function hHe(e){return new this(e).log(10)}function pHe(){return use(this,arguments,-1)}function mHe(){return use(this,arguments,1)}function vHe(e,t){return new this(e).mod(t)}function gHe(e,t){return new this(e).mul(t)}function yHe(e,t){return new this(e).pow(t)}function xHe(e){var t,r,n,a,i=0,s=new this(1),o=[];if(e===void 0?e=this.precision:Ka(e,1,Qu),n=Math.ceil(e/Ut),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)a=t[i],a>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:o[i++]=a%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)a=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(t,i):(o.push(a%1e7),i+=4);i=n/4}else throw Error(ase);else for(;i<n;)o[i++]=Math.random()*1e7|0;for(n=o[--i],e%=Ut,n&&e&&(a=zn(10,Ut-e),o[i]=(n/a|0)*a);o[i]===0;i--)o.pop();if(i<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=Ut)o.shift();for(n=1,a=o[0];a>=10;a/=10)n++;n<Ut&&(r-=Ut-n)}return s.e=r,s.d=o,s}function bHe(e){return $t(e=new this(e),e.e+1,this.rounding)}function wHe(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function SHe(e){return new this(e).sin()}function _He(e){return new this(e).sinh()}function THe(e){return new this(e).sqrt()}function CHe(e,t){return new this(e).sub(t)}function NHe(){var e=0,t=arguments,r=new this(t[e]);for(Zt=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Zt=!0,$t(r,this.precision,this.rounding)}function AHe(e){return new this(e).tan()}function MHe(e){return new this(e).tanh()}function EHe(e){return $t(e=new this(e),e.e+1,1)}ot[Symbol.for("nodejs.util.inspect.custom")]=ot.toString;ot[Symbol.toStringTag]="Decimal";var Hi=ot.constructor=dse(Uk);dS=new Hi(dS);hS=new Hi(hS);const jHe="ko-KR",DHe="KRW",hse=0;new Hi(.1);const OHe=e=>{if(e instanceof Hi)return e;if(typeof e=="string"){const t=e.trim();return t?new Hi(t):new Hi(0)}try{return new Hi(e??0)}catch{return new Hi(NaN)}},pse=e=>e.isFinite()?e:new Hi(0),mse=e=>typeof e!="number"||Number.isNaN(e)?hse:Math.max(0,Math.floor(e)),PHe=(e,t)=>{const r=mse(t);return pse(e).toDecimalPlaces(r,Hi.ROUND_HALF_UP)},di=(e,t={})=>{const{currency:r=DHe,fractionDigits:n=hse}=t,a=mse(n),i=PHe(pse(OHe(e)),a);return new Intl.NumberFormat(jHe,{style:"currency",currency:r,minimumFractionDigits:a,maximumFractionDigits:a}).format(i.toNumber())},kHe=e=>{if(e.rate===null)return e.name;const t=`${(e.rate*100).toFixed(0)}%`,r=e.mode==="inclusive"?"":e.mode==="exclusive"?"":"",n=[`${di(e.base)} `,t];return r&&n.push(r),`${e.name} (${n.join(" ")})`},vse=({summary:e,className:t})=>m.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-slate-50 p-5 text-sm text-slate-600 ${t??""}`,children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:" "}),m.jsxs("dl",{className:"mt-3 space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{children:""}),m.jsx("dd",{className:"font-medium text-slate-900",children:di(e.lineTotal)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{children:" ( )"}),m.jsx("dd",{className:"font-medium text-slate-900",children:di(e.baseTotal)})]}),e.breakdown.map(r=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("dt",{className:"text-xs text-slate-500",children:kHe(r)}),m.jsx("dd",{className:"font-medium text-slate-900",children:di(r.amount)})]},r.key)),m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("dt",{className:"font-semibold text-slate-900",children:""}),m.jsx("dd",{className:"text-base font-semibold text-slate-900",children:di(e.total)})]})]})]}),gse="flex h-10 items-center rounded-full px-4 text-xs font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:cursor-not-allowed",x3=`${gse} bg-primary-600 text-white hover:bg-primary-700 disabled:bg-primary-300 disabled:text-white/70`,b3=`${gse} border border-slate-200 bg-white text-slate-700 hover:bg-slate-50 disabled:border-slate-200 disabled:text-slate-400 disabled:bg-white`,yse=({documentLabel:e,onPrint:t,onExport:r,isPrintDisabled:n=!1,isExportDisabled:a=!1,lineDetailLabel:i="  ",className:s})=>m.jsxs("section",{className:`rounded-2xl bg-white p-4 shadow-sm ring-1 ring-slate-100 ${s??""}`,children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:" "}),m.jsx("p",{className:"text-[11px] text-slate-500",children:"PDF / "})]}),m.jsx("span",{className:"text-xs text-slate-500",children:i})]}),m.jsxs("div",{className:"mt-4 space-y-2 text-xs",children:[m.jsxs("button",{type:"button",onClick:t,disabled:n,className:`${x3} w-full justify-between`,children:[m.jsxs("span",{children:[e," "]}),m.jsx("span",{className:"text-[11px] text-slate-400",children:"PDF / "})]}),m.jsxs("button",{type:"button",onClick:r,disabled:a,className:`${b3} w-full justify-between`,children:[m.jsx("span",{children:" "}),m.jsx("span",{className:"text-[11px] text-slate-400",children:"  "})]})]})]}),g1=e=>e?$u(e)??e:"",qk=e=>e?YZ(e)??e:"",qo=e=>e==null?"0":e.toLocaleString("ko-KR"),Hs=e=>{if(e==null||e==="")return null;if(typeof e=="number")return Number.isFinite(e)?e:null;const t=Number(e);return Number.isFinite(t)?t:null},CD=e=>e==null||!Number.isFinite(e)?"":di(e),nY=e=>{if(!e)return{name:"",rate:null,mode:"unknown"};const t=e.replace(/\(.+\)\s*$/,"").trim()||"",r=e.match(/(\d+(?:\.\d+)?)%/),n=r?Number(r[1])/100:null,a=/(|inclusive)/i.test(e),i=/(|exclusive)/i.test(e);return{name:t,rate:n,mode:a?"inclusive":i?"exclusive":"unknown"}},RHe=e=>{const t=e.reduce((n,a)=>n+(a.receivedQty??0),0),r=e.reduce((n,a)=>n+a.orderedQty,0);return{totalOrdered:r,totalReceived:t,remaining:Math.max(0,r-t)}},LHe="purchase-order-ui",IHe=1e4,Bb=e=>String(e).padStart(2,"0"),aY=e=>{const t=e.getFullYear(),r=Bb(e.getMonth()+1),n=Bb(e.getDate()),a=Bb(e.getHours()),i=Bb(e.getMinutes());return`${t}-${r}-${n}T${a}:${i}`},BHe=e=>{if(!e)return null;const t=new Date(e);return Number.isNaN(t.getTime())?null:t.toISOString()},$He=e=>{if(!e)return"";const t=Date.parse(e);return Number.isNaN(t)?"":new Intl.DateTimeFormat("ko-KR",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Seoul"}).format(t)},iY=e=>(e??"").trim().replace(/\s+/g,"").toLowerCase(),zHe=()=>{const{id:e}=aR(),t=po(),[r,n]=A.useState(null),[a,i]=A.useState([]),[s,o]=A.useState("items"),[l,u]=A.useState(null),[f,d]=A.useState(!0),[p,v]=A.useState(!1),[y,x]=A.useState(""),[b,w]=A.useState(""),[_,T]=A.useState(""),[M,N]=A.useState("bulk"),[C,j]=A.useState(null),[O,P]=A.useState(!1),[R,k]=A.useState({}),[L,I]=A.useState(!1),[$,F]=A.useState(null),[z,V]=A.useState([]),[q,W]=A.useState(!1),[Y,H]=A.useState(null),[U,K]=A.useState({}),[ee,ae]=A.useState([]),[xe,ke]=A.useState(!1),[Je,be]=A.useState(null),Te=A.useMemo(()=>ee.map(Z=>({label:Z.name?`${Z.name} (${Z.code})`:Z.code,value:Z.code})),[ee]),[De,J]=A.useState(!1),[it,Ue]=A.useState(""),[ft,le]=A.useState(""),[te,Ne]=A.useState(""),Le=A.useRef(!1),Pe=As();A.useEffect(()=>{let Z=!0;return so({type:"SUPPLIER",includeSample:!0}).then(Se=>{Z&&i(Se)}).catch(Se=>{console.error("[PurchaseOrderDetailPage] failed to load partners",Se)}),()=>{Z=!1}},[]),A.useEffect(()=>{if(!p||ee.length>0&&!Je)return;let Z=!0;return ke(!0),be(null),Hu({pageSize:100}).then(Se=>{Z&&ae(Se.items??[])}).catch(Se=>{console.error("[PurchaseOrderDetailPage] failed to load warehouses",Se),Z&&be("   .")}).finally(()=>{Z&&ke(!1)}),()=>{Z=!1}},[p,Je,ee.length]);const He=A.useCallback(async()=>{if(!e){u("  ."),d(!1);return}d(!0),u(null);try{const Z=await Pie(e,{timeoutMs:IHe});if(!Le.current)return;n(Z)}catch(Z){if(!Le.current)return;u(Z instanceof Error?Z.message:"   .")}finally{Le.current&&d(!1)}},[e]);A.useEffect(()=>(Le.current=!0,()=>{Le.current=!1}),[]),A.useEffect(()=>{He()},[He]),A.useEffect(()=>{r&&(Ue(""),le(""),Ne(r.memo??""))},[r==null?void 0:r.id,r==null?void 0:r.memo]),A.useEffect(()=>{if(!r){k({}),F(null),I(!1);return}const Z=Array.from(new Set(r.lines.map(qe=>{var Ie;return{sku:((Ie=qe.sku)==null?void 0:Ie.trim())??"",remaining:Math.max(0,qe.orderedQty-(qe.receivedQty??0))}}).filter(({sku:qe,remaining:Ie})=>!!qe&&Ie>0).map(({sku:qe})=>qe)));if(Z.length===0){k({}),F(null),I(!1);return}let Se=!1;return I(!0),F(null),(async()=>{const qe=await Promise.allSettled(Z.map(dt=>X6(dt)));if(Se)return;const Ie={};let Ye=!1;qe.forEach((dt,Dt)=>{const fe=Z[Dt];dt.status==="fulfilled"?Ie[fe]=dt.value.inventory??[]:Ye=!0}),k(Ie),F(Ye?"   .":null),I(!1)})().catch(()=>{Se||(k({}),F("   ."),I(!1))}),()=>{Se=!0}},[r,X6]),A.useEffect(()=>{if(!r){V([]),W(!1),H(null);return}const Z=new AbortController;let Se=!1;return(async()=>{W(!0),H(null),V([]);try{const Ie=await oI({refNo:r.id,type:"RECEIPT",limit:200,signal:Z.signal});if(Se)return;V(Ie.items)}catch(Ie){if(Se)return;console.error("[PurchaseOrderDetailPage] failed to load receipt movements",Ie),H("     .")}finally{Se||W(!1)}})(),()=>{Se=!0,Z.abort()}},[r]);const pe=A.useMemo(()=>{if(!r)return;const Z=a.find(Se=>Se.id===r.vendorId);if(Z)return Z;if(r.vendorName){const Se=iY(r.vendorName),qe=a.find(Ie=>iY(Ie.name)===Se);if(qe)return qe}},[r,a]),Fe=A.useMemo(()=>{var Z;return r?r.vendorName??((Z=a.find(Se=>Se.id===r.vendorId))==null?void 0:Z.name)??r.vendorId:""},[r,a]),ue=(pe==null?void 0:pe.phone)??"",nt=(pe==null?void 0:pe.email)??"",tt=(pe==null?void 0:pe.address)??"",Q=A.useMemo(()=>r?RHe(r.lines):null,[r]),we=z,st=A.useMemo(()=>{if(!r)return{lineTotal:0,baseTotal:0,taxTotal:0,total:0,breakdown:[]};const Z=qe=>Math.round(Number.isFinite(qe)?qe:0),Se={lineTotal:0,baseTotal:0,taxTotal:0,total:0,map:new Map};for(const qe of r.lines){const Ie=Hs(qe.unitPrice)??0,Ye=Hs(qe.amount),dt=Z(Ye!==null?Ye:Ie*qe.orderedQty),Dt=nY(qe.taxLabel),fe=Hs(qe.taxAmount);let Ve=dt,We=0;if(fe!==null)We=Z(fe),Ve=Z(Math.max(0,dt-We));else if(Dt.rate!==null)if(Dt.mode==="inclusive"){const It=Z(dt/(1+Dt.rate));Ve=It,We=Z(Math.max(0,dt-It))}else Dt.mode==="exclusive"&&(Ve=Z(dt),We=Z(dt*Dt.rate));const ct=Ve+We;Se.lineTotal+=dt,Se.baseTotal+=Ve,Se.taxTotal+=We,Se.total+=ct;const Ct=qe.taxLabel||Dt.name,At=Se.map.get(Ct);At?(At.base+=Ve,At.amount+=We):Se.map.set(Ct,{key:Ct,name:Dt.name,rate:Dt.rate,mode:Dt.mode,base:Ve,amount:We})}return{lineTotal:Se.lineTotal,baseTotal:Se.baseTotal,taxTotal:Se.taxTotal,total:Se.total,breakdown:Array.from(Se.map.values())}},[r]),me=A.useMemo(()=>{if(!r)return[];const Z=Q??{totalReceived:0},Se=[];return Se.push({id:"creation",title:" ",detail:" ",date:r.createdAt,tone:Z.totalReceived===0?"current":"past"}),r.approvedAt&&Se.push({id:"approved",title:" ",detail:"",date:r.approvedAt,tone:(Z.totalReceived===0,"past")}),Z.totalReceived>0&&Se.push({id:"received",title:" ",detail:`${qo(Z.totalReceived)} EA `,date:r.approvedAt??r.promisedDate??r.createdAt,tone:"current"}),Se},[r,Q]),ce=A.useCallback(()=>{J(!0)},[]),he=A.useCallback(()=>{J(!1)},[]),ze=A.useCallback(()=>{J(!1),setTimeout(()=>{typeof window>"u"||window.print()},0)},[]),Ge=A.useCallback(()=>{if(!r)return;const Z=["SKU"," "," ","",""],Se=r.lines.map(fe=>[fe.sku,fe.orderedQty.toString(),(fe.receivedQty??0).toString(),fe.status,fe.unit]),qe=[Z,...Se].map(fe=>fe.map(Ve=>`"${(Ve==null?void 0:Ve.replace(/"/g,'""'))??""}"`).join(",")).join(`
`),Ie=new Blob([qe],{type:"text/csv;charset=utf-8;"}),Ye=URL.createObjectURL(Ie),dt=document.createElement("a");dt.href=Ye;const Dt=r.orderNumber??r.id;dt.download=`${Dt}-lines.csv`,dt.click(),URL.revokeObjectURL(Ye)},[r]),at=A.useCallback(()=>{v(!1),x(""),w(""),T(""),N("bulk"),j(null),K({})},[]),lt=A.useCallback((Z,Se)=>{const qe=U[Z];if(!qe)return 0;const Ie=Number(qe);return Number.isFinite(Ie)?Math.min(Math.max(0,Math.round(Ie)),Se):0},[U]),ge=A.useCallback((Z,Se)=>{if(!Z||!Se)return null;const qe=R[Z];return qe?qe.filter(Ye=>Ye.warehouseCode===Se).reduce((Ye,dt)=>Ye+Math.max(0,dt.onHand??0),0):null},[R]),Ee=A.useCallback(Z=>{if(!y)return"     .";if(L)return"  ";const Se=ge(Z,y);return Se===null?$??"    .":` ${qo(Se)} EA`},[ge,$,L,y]),$e=A.useCallback(Z=>{if(N(Z),Z==="partial"&&r){const qe={};r.lines.forEach(Ie=>{const Ye=Math.max(0,Ie.orderedQty-(Ie.receivedQty??0));Ye>0&&(qe[Ie.id]=String(Ye))}),K(qe)}const Se=((r==null?void 0:r.warehouse)??"").trim();x(Se),v(!0),w(aY(new Date)),j(null)},[r]),Oe=A.useCallback(()=>{$e("bulk")},[$e]),mt=A.useCallback(()=>{$e("partial")},[$e]),Tt=A.useCallback(async()=>{if(!r)return;const Z=y.trim();if(!Z){j("   .");return}const Se=BHe(b),qe=Se?new Date(Se):new Date,Ie=Date.now();if(qe.getTime()>Ie){j("     .");return}const Ye=qe.toISOString(),dt=_.trim()||void 0,Dt=(Ve,We)=>({type:"RECEIPT",sku:Ve.sku,qty:We,toWarehouse:Z,partnerId:r.vendorId,refNo:r.id,memo:dt,occurredAt:Ye,userId:LHe,poId:r.id,poLineId:Ve.id}),fe=[];if(r.lines.forEach(Ve=>{const We=Math.max(0,Ve.orderedQty-(Ve.receivedQty??0));if(We<=0)return;if(M==="bulk"){fe.push(Dt(Ve,We));return}const ct=lt(Ve.id,We);ct>0&&fe.push(Dt(Ve,ct))}),fe.length===0){j("    .");return}P(!0),j(null);try{await Promise.all(fe.map(Ve=>Mf(Ve))),Pe(M==="bulk"?"  .":"  .",{tone:"success"}),at(),await He()}catch(Ve){const We=Ve instanceof Error?Ve.message:"  .";j(We),Pe(We,{tone:"error"})}finally{P(!1)}},[at,He,r,lt,y,_,M,b,Pe]),Ce=A.useMemo(()=>r?r.lines.some(Z=>{const Se=Math.max(0,Z.orderedQty-(Z.receivedQty??0));return Se<=0?!1:lt(Z.id,Se)>0}):!1,[r,lt]),Re=((r==null?void 0:r.warehouse)??"").trim(),Nt=!!Re,Wt=A.useMemo(()=>{if(!Re)return"";const Z=ee.find(Se=>Se.code===Re);return Z?Z.name?`${Z.name} (${Z.code})`:Z.code:Re},[Re,ee]),qt=xe||!Je&&ee.length===0,Lt=xe?"   ...":Je?"   .":ee.length===0?"  .":" ",X=O||!y.trim()||M==="partial"&&!Ce,se=f||!r,_e=!r;if(f&&!r&&!l)return m.jsx("div",{className:"flex min-h-screen items-center justify-center",children:m.jsx("p",{className:"text-sm text-slate-500",children:"   "})});if(l)return m.jsx("div",{className:"flex min-h-screen items-center justify-center",children:m.jsxs("div",{className:"space-y-3 text-center",children:[m.jsx("p",{className:"text-sm font-semibold text-rose-600",children:l}),m.jsx("button",{type:"button",onClick:()=>t("/"),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50",children:" "})]})});if(!r)return m.jsx("div",{className:"flex min-h-screen items-center justify-center",children:m.jsx("p",{className:"text-sm text-slate-500",children:"    ."})});const et=r.lines.length,ut=cS(r.status),pt=m3(r.status),ie=Lie(r.status);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"min-h-screen bg-slate-50 px-8 py-8 text-slate-900 print:hidden",children:[m.jsxs("div",{className:"mb-6 flex items-start justify-between gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-xs font-medium text-slate-400",children:" "}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:(r.orderNumber??r.id).toUpperCase()}),m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ring-1 ${pt} ${ie}`,children:ut}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-600",children:[et,"     ",qo((Q==null?void 0:Q.totalOrdered)??0)]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[m.jsxs("div",{children:[" ",m.jsx("span",{className:"font-medium text-slate-700",children:g1(r.createdAt)})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:["  ",m.jsx("span",{className:"font-medium text-slate-700",children:qk(r.promisedDate)})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:[" ",m.jsx("span",{className:"font-medium text-slate-700",children:Fe})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:[""," ",m.jsx("span",{className:"font-normal text-slate-400",children:r.memo||r.receivingNote||"  "})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{type:"button",onClick:Oe,className:`${x3} justify-center`,children:""}),m.jsx("button",{type:"button",onClick:mt,className:`${b3} justify-center`,children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-[minmax(0,2.3fr)_minmax(0,1fr)] gap-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("section",{className:"rounded-2xl bg-white p-4 shadow-sm ring-1 ring-slate-100",children:[m.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"  "}),m.jsx("span",{className:"text-xs text-slate-400",children:"  "})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-y-3 text-xs text-slate-500",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"font-medium text-slate-800",children:r.orderNumber??r.id})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:""}),m.jsx("div",{className:"font-medium text-slate-800",children:Fe})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"font-medium text-slate-900",children:cS(r.status)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:""}),m.jsx("div",{className:"text-slate-800",children:g1(r.createdAt)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"text-slate-800",children:qk(r.promisedDate)})]})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:[m.jsx("h2",{className:"text-sm font-semibold text-slate-900 mb-3",children:" "}),m.jsxs("dl",{className:"space-y-2 text-xs text-slate-500",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:Fe})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:ue})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:nt})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900 text-right",children:tt})]})]})]}),m.jsxs("section",{className:"rounded-2xl bg-white pt-2 shadow-sm ring-1 ring-slate-100",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 pb-1",children:[m.jsxs("div",{className:"flex gap-2 rounded-full bg-slate-100 p-1 text-xs font-medium",children:[m.jsx("button",{type:"button",onClick:()=>o("items"),className:`rounded-full px-3 py-1 transition ${s==="items"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:" "}),m.jsx("button",{type:"button",onClick:()=>o("receipts"),className:`rounded-full px-3 py-1 transition ${s==="receipts"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:" "})]}),m.jsx("div",{className:"text-[11px] text-slate-400",children:s==="items"?`${et}  /  ${qo((Q==null?void 0:Q.totalOrdered)??0)}`:`${we.length}  `})]}),s==="items"?m.jsxs("div",{className:"border-t border-slate-100",children:[m.jsxs("table",{className:"min-w-full text-left text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50 text-[11px] text-slate-500",children:[m.jsx("th",{className:"px-4 py-2 font-medium",children:""}),m.jsx("th",{className:"px-2 py-2 text-right font-medium",children:""}),m.jsx("th",{className:"px-2 py-2 text-right font-medium",children:""}),m.jsx("th",{className:"px-2 py-2 text-right font-medium",children:""}),m.jsx("th",{className:"px-4 py-2 text-right font-medium",children:""})]})}),m.jsx("tbody",{children:r.lines.map(Z=>{var Ct,At,It;const Se=((Ct=Z.unit)==null?void 0:Ct.trim())||"EA",qe=(At=Z.productName)==null?void 0:At.trim(),Ie=qe?`${qe} (${Z.sku})`:Z.sku,Ye=[Se],dt=Hs(Z.unitPrice),Dt=Hs(Z.taxAmount),fe=Hs(Z.amount)??(dt!==null?dt*Z.orderedQty:null),Ve=(It=Z.taxLabel)==null?void 0:It.trim(),We=nY(Ve);let ct=Dt;if(ct===null&&fe!==null&&We.rate!==null)if(We.mode==="inclusive"){const Mt=Math.round(fe/(1+We.rate));ct=Math.max(0,Math.round(fe-Mt))}else We.mode==="exclusive"&&(ct=Math.round(fe*We.rate));return m.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50/60",children:[m.jsxs("td",{className:"px-4 py-3 align-top",children:[m.jsx("div",{className:"text-xs font-medium text-slate-900",children:Ie}),Ye.length>0&&m.jsx("div",{className:"text-[11px] text-slate-400",children:Ye.join("  ")})]}),m.jsxs("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:[qo(Z.orderedQty)," ",Se]}),m.jsx("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:CD(dt)}),m.jsxs("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:[m.jsx("div",{children:CD(ct)}),Ve&&m.jsx("div",{className:"text-[11px] text-slate-400",children:Ve})]}),m.jsx("td",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-900",children:CD(fe)})]},Z.id)})})]}),m.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 px-4 py-3 text-[11px] text-slate-400",children:[m.jsx("div",{children:" "}),m.jsx("button",{type:"button",className:"rounded-full border border-dashed border-slate-300 px-3 py-1 text-[11px] text-slate-500 hover:border-slate-400 hover:text-slate-700",children:" "})]}),m.jsx(vse,{summary:st,className:"mt-5"})]}):m.jsx("div",{className:"border-t border-slate-100",children:m.jsxs("table",{className:"min-w-full text-left text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50 text-[11px] text-slate-500",children:[m.jsx("th",{className:"px-4 py-2 font-medium",children:""}),m.jsx("th",{className:"px-4 py-2 font-medium",children:" "}),m.jsx("th",{className:"px-4 py-2 font-medium",children:""})]})}),m.jsx("tbody",{children:q?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-[11px] text-slate-400",children:"   "})}):Y?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-[11px] text-rose-500",children:Y})}):we.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-[11px] text-slate-400",children:"  ."})}):we.map(Z=>m.jsxs("tr",{className:"border-b border-slate-50 hover:bg-slate-50/60",children:[m.jsx("td",{className:"px-4 py-3 text-xs text-slate-700",children:g1(Z.occurredAt)}),m.jsxs("td",{className:"px-4 py-3 text-xs font-semibold text-slate-900",children:[qo(Z.qty)," EA"]}),m.jsx("td",{className:"px-4 py-3 text-xs text-slate-500",children:Z.sku})]},Z.id))})]})})]})]}),m.jsx("aside",{className:"space-y-4",children:m.jsx(yse,{documentLabel:"",onPrint:ce,onExport:Ge,isPrintDisabled:se,isExportDisabled:_e})})]}),m.jsx("div",{className:"print:hidden",children:m.jsx(pi,{isOpen:p,onClose:at,title:" ",widthClassName:"max-w-md",children:m.jsxs("div",{className:"space-y-4 text-sm text-slate-700",children:[C&&m.jsx("div",{className:"rounded-md bg-rose-50 px-3 py-2 text-xs text-rose-600",children:C}),M==="partial"&&r&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"text-[11px] font-semibold text-slate-600",children:"  "}),m.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:r.lines.map(Z=>{const Se=Math.max(0,Z.orderedQty-(Z.receivedQty??0));if(Se<=0)return null;const qe=U[Z.id]??String(Se),Ie=Z.productName&&Z.productName.trim()?`${Z.productName.trim()} (${Z.sku})`:Z.sku,Ye=Ee(Z.sku);return m.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-100 bg-slate-50 px-3 py-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-semibold text-slate-900",children:Ie}),m.jsxs("div",{className:"text-[11px] text-slate-400",children:["  ",qo(Se)," EA"]}),m.jsx("div",{className:"text-[11px] text-slate-400",children:Ye})]}),m.jsx("input",{type:"number",min:0,max:Se,value:qe,onChange:dt=>{const Dt=dt.target.value;K(fe=>({...fe,[Z.id]:Dt}))},className:"w-28 rounded-md border border-slate-200 bg-white px-2 py-1 text-right text-xs text-slate-900 focus:border-indigo-500 focus:outline-none"})]},Z.id)})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"mb-1 flex items-center text-xs font-semibold text-slate-600",children:["",m.jsx("span",{className:"ml-1 text-rose-500",children:"*"})]}),Nt?m.jsxs("div",{className:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-900",children:Wt}),m.jsx("p",{className:"text-[11px] text-slate-500",children:"  ."})]}):m.jsx(Mr,{value:y,onChange:Z=>{x(Z),setReceiptLocationCode("")},options:Te,placeholder:Lt,emptyMessage:xe?"   ...":"  ",disabled:qt,inputClassName:`w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none ${qt?"cursor-not-allowed bg-slate-50 text-slate-400":""}`}),!Nt&&Je?m.jsx("p",{className:"mt-1 text-xs text-rose-500",children:Je}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-600",children:""}),m.jsx("input",{type:"datetime-local",value:b,max:aY(new Date),step:60,onChange:Z=>w(Z.target.value),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-600",children:""}),m.jsx("textarea",{rows:4,value:_,onChange:Z=>T(Z.target.value),placeholder:"     .",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx("button",{type:"button",onClick:at,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:""}),m.jsx("button",{type:"button",onClick:Tt,disabled:X,className:"flex items-center justify-center rounded-full bg-indigo-600 px-4 py-2 text-xs font-medium text-white transition hover:bg-indigo-700 disabled:cursor-not-allowed disabled:bg-indigo-300",children:O?"  ":" "})]})]})})}),m.jsx("div",{className:"print:hidden",children:m.jsx(pi,{isOpen:De,onClose:he,title:"  ",widthClassName:"max-w-2xl max-h-[80vh]",children:m.jsxs("div",{className:"space-y-4 text-sm text-slate-700",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-600",children:" "}),m.jsx("input",{type:"text",value:it,onChange:Z=>Ue(Z.target.value),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-600",children:" "}),m.jsx("input",{type:"text",value:ft,onChange:Z=>le(Z.target.value),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 block text-xs font-semibold text-slate-600",children:""}),m.jsx("textarea",{rows:3,value:te,onChange:Z=>Ne(Z.target.value),placeholder:"    .",className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx("button",{type:"button",onClick:he,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-medium text-slate-700 transition hover:bg-slate-50",children:""}),m.jsx("button",{type:"button",onClick:ze,className:"flex items-center justify-center rounded-full bg-indigo-600 px-4 py-2 text-xs font-medium text-white transition hover:bg-indigo-700",children:""})]})]})})})]}),m.jsx(FHe,{order:r,partner:pe,partnerName:Fe,timeline:me,receiptSummary:Q,monetary:st,receiverContactName:it,receiverPhone:ft,receiverMemo:te})]})},FHe=({order:e,partner:t,partnerName:r,timeline:n,receiptSummary:a,monetary:i,receiverContactName:s,receiverPhone:o,receiverMemo:l})=>{var P;$He(e.createdAt);const u=g1(e.createdAt),f=qk(e.promisedDate),d=$u(e.createdAt)??u,p=cS(e.status),v=m3(e.status),y=Lie(e.status),x=(a==null?void 0:a.totalOrdered)??e.lines.reduce((R,k)=>R+k.orderedQty,0),b=(a==null?void 0:a.totalReceived)??e.lines.reduce((R,k)=>R+(k.receivedQty??0),0);(a==null?void 0:a.remaining)??Math.max(0,x-b),n.length>0||e.createdAt,i.breakdown.length>0?i.breakdown:i.taxTotal>0&&(i.baseTotal,i.taxTotal),(P=e.memo)!=null&&P.trim();const w=(t==null?void 0:t.name)??r,_=(t==null?void 0:t.phone)??"",T=(t==null?void 0:t.email)??"",M=(t==null?void 0:t.address)??"",N=e.orderNumber??e.id,C=s.trim()||"",j=o.trim()||"",O=l.trim()||" ";return m.jsx("div",{className:"print-document",children:m.jsx("div",{className:"min-h-screen w-full bg-slate-200 flex items-start justify-center py-8 print:bg-white print:py-0 print:min-h-0",children:m.jsxs("main",{className:"relative bg-white w-[794px] min-h-[1123px] px-10 py-8 pb-12 text-slate-900 text-[10px] leading-relaxed rounded-[32px] border border-slate-200 shadow-[0_20px_60px_rgba(15,23,42,0.12)] print:border-0 print:shadow-none print:w-[176mm] print:max-w-[176mm] print:min-h-0 print:h-auto print:px-6 print:py-6 print:pb-6 print:rounded-[24px] print:bg-white print:overflow-visible",children:[m.jsxs("header",{className:"flex items-start justify-between border-b border-slate-200 pb-3 mb-3 print-avoid-break",children:[m.jsx("div",{children:m.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:" "}),m.jsx("span",{className:"text-base font-medium text-slate-500",children:"(Purchase Order)"})]})}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] font-medium tracking-[0.3em] text-slate-500 uppercase",children:""}),m.jsx("p",{className:"text-xl font-semibold text-slate-900",children:N}),m.jsx("span",{className:`mt-2 inline-flex items-center justify-center rounded-full border px-2 py-[2px] text-[9px] font-semibold ring-1 ring-inset ${v} ${y}`,children:p})]})]}),m.jsxs("section",{className:"grid grid-cols-2 gap-3 mb-4 text-[10px] print-avoid-break",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:":"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:d})]}),m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:" :"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:f})]})]}),m.jsx("div",{className:"space-y-1 text-right",children:m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:" :"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:p}),"   "," ",m.jsx("span",{className:"font-semibold text-slate-900",children:qo(x)})," EA"]})})]}),m.jsxs("section",{className:"grid gap-3 lg:grid-cols-2 mb-4 print-avoid-break",children:[m.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[m.jsx("h2",{className:"mb-2 text-xs font-semibold text-slate-900",children:" "}),m.jsxs("dl",{className:"space-y-2 text-[10px] text-slate-500",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:w})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:_})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:T})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:M})]})]})]}),m.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[m.jsx("h2",{className:"mb-2 text-xs font-semibold text-slate-900",children:" "}),m.jsxs("dl",{className:"space-y-2 text-[10px] text-slate-500",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:C})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:j})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900 text-[10px] whitespace-pre-line",children:O})]})]})]})]}),m.jsxs("section",{className:"mb-4 print-avoid-break",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between text-[11px]",children:[m.jsx("h2",{className:"text-xs font-semibold text-slate-900",children:" "}),m.jsxs("p",{className:"text-[9px] text-slate-500",children:[" ",e.lines.length,""]})]}),m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-100",children:m.jsxs("table",{className:"min-w-full border-collapse text-left text-[10px]",children:[m.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[9px] uppercase tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 font-semibold text-left text-[9px]",children:" / "}),m.jsx("th",{className:"px-2 py-2 font-semibold text-left text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""})]})}),m.jsx("tbody",{children:e.lines.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-2 py-5 text-center text-[10px] text-slate-400",children:"  ."})}):e.lines.map(R=>{const k=R.orderedQty,L=Hs(R.unitPrice)??0,I=Hs(R.amount)??0,$=L>0?L:k>0?Math.round(I/Math.max(1,k)):0,F=Hs(R.taxAmount)??0,z=Hs(R.amount)??Math.round($*Math.max(0,k));return m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsxs("td",{className:"px-2 py-2",children:[m.jsx("div",{className:"font-semibold text-slate-900 text-[10px]",children:R.productName??R.sku}),m.jsx("div",{className:"text-[9px] uppercase tracking-wide text-slate-400",children:R.sku})]}),m.jsx("td",{className:"px-2 py-2 text-[10px] font-semibold text-slate-900",children:R.unit??"EA"}),m.jsx("td",{className:"px-2 py-2 text-right font-semibold text-slate-900 text-[10px]",children:qo(k)}),m.jsx("td",{className:"px-2 py-2 text-right text-[10px] text-slate-900",children:di($)}),m.jsx("td",{className:"px-2 py-2 text-right text-[10px] text-slate-900",children:di(F)}),m.jsx("td",{className:"px-2 py-2 text-right font-semibold text-slate-900 text-[10px]",children:di(z)})]},R.id)})})]})})]})]})})})},UHe={draft:Vr.salesOrders.tabs.labels.draft,open:Vr.salesOrders.tabs.labels.awaiting,partial:Vr.salesOrders.tabs.labels.partial,packed:Vr.salesOrders.tabs.labels.partial,closed:Vr.salesOrders.tabs.labels.shipped,canceled:Vr.salesOrders.tabs.labels.canceled},Gk=e=>UHe[e]??e,HHe="so:warehouse:",xse=e=>`${HHe}${e}`,bse=e=>(e==null?void 0:e.trim())??"",wse=e=>e&&e.trim()?e.trim():null,VHe=(e,t)=>{if(!e)return;const r=bse(t.code);if(!r||typeof window>"u")return;const n={code:r,name:wse(t.name)};try{window.localStorage.setItem(xse(e),JSON.stringify(n))}catch(a){console.error("[orderWarehouse] Failed to persist warehouse",a)}},qHe=e=>{if(!e||typeof window>"u")return null;try{const t=window.localStorage.getItem(xse(e));if(!t)return null;const r=JSON.parse(t);if(!r||typeof r.code!="string")return null;const n=bse(r.code);return n?{code:n,name:wse(r.name)}:null}catch(t){return console.error("[orderWarehouse] Failed to read warehouse",t),null}},GHe="sales-order-ui",Wk=e=>e?$u(e)??e:"",Kk=e=>e?YZ(e)??e:"",lg=e=>e==null?"0":e.toLocaleString("ko-KR"),Yo=e=>{if(e==null||e==="")return null;if(typeof e=="number")return Number.isFinite(e)?e:null;const t=Number(e);return Number.isFinite(t)?t:null},Fo=e=>Math.round(Number.isFinite(e)?e:0),ND=e=>e==null||!Number.isFinite(e)?"":di(e),WHe=e=>{var t;return((t=e.unit)==null?void 0:t.trim())||"EA"},KHe=e=>{var r;const t=(r=e.productName)==null?void 0:r.trim();return t?`${t} (${e.sku})`:e.sku},YHe=e=>{var r;const t=(r=e.productName)==null?void 0:r.trim();return t?`${t} (${e.sku})`:e.sku},sY=e=>{if(!e)return{name:"",rate:null,mode:"unknown"};const t=e.replace(/\(.+\)\s*$/,"").trim()||"",r=e.match(/(\d+(?:\.\d+)?)%/),n=r?Number(r[1])/100:null,a=/(|inclusive)/i.test(e),i=/(|exclusive)/i.test(e);return{name:t,rate:n,mode:a?"inclusive":i?"exclusive":"unknown"}},oY=e=>{const t=o=>String(o).padStart(2,"0"),r=e.getFullYear(),n=t(e.getMonth()+1),a=t(e.getDate()),i=t(e.getHours()),s=t(e.getMinutes());return`${r}-${n}-${a}T${i}:${s}`},AD="w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",XHe="mb-1 flex items-center text-xs font-semibold text-slate-600",lY="mb-1 block text-xs font-semibold text-slate-600",ZHe="rounded-lg border border-slate-100 bg-slate-50 px-3 py-2 text-xs text-slate-500",QHe="rounded-full border border-slate-200 px-4 py-2 text-xs font-medium text-slate-700 transition hover:bg-slate-50",JHe="flex items-center justify-center rounded-full bg-indigo-600 px-4 py-2 text-xs font-medium text-white transition hover:bg-indigo-700 disabled:cursor-not-allowed disabled:bg-indigo-300",e9e=()=>{var Tt;const{id:e}=aR();po();const[t,r]=A.useState(null),[n,a]=A.useState([]),[i,s]=A.useState(null),[o,l]=A.useState(!0),[u,f]=A.useState(!1),[d,p]=A.useState("items"),[v,y]=A.useState("bulk"),[x,b]=A.useState(""),[w,_]=A.useState(null),[T,M]=A.useState(""),[N,C]=A.useState(""),[j,O]=A.useState({}),[P,R]=A.useState(null),[k,L]=A.useState(!1),[I,$]=A.useState([]),[F,z]=A.useState(!1),[V,q]=A.useState(null),[W,Y]=A.useState([]),[H,U]=A.useState(!1),[K,ee]=A.useState(null),ae=A.useMemo(()=>W.map(Ce=>({value:Ce.code,label:Ce.name?`${Ce.name} (${Ce.code})`:Ce.code})),[W]),[xe,ke]=A.useState(!1),[Je,be]=A.useState(""),[Te,De]=A.useState(""),[J,it]=A.useState(""),Ue=As(),ft=A.useCallback(async()=>{if(!e){s("  ."),l(!1);return}l(!0),s(null);try{const Ce=await lUe(e);r(Ce)}catch(Ce){s(Ce instanceof Error?Ce.message:"   .")}finally{l(!1)}},[e]);A.useEffect(()=>{ft()},[ft]);const le=A.useCallback(async()=>{try{const Ce=await so({type:"CUSTOMER"});a(Ce)}catch(Ce){console.error("[SalesOrderDetailPage] partners",Ce)}},[]);A.useEffect(()=>{le()},[le]);const te=A.useCallback(async()=>{if(t){z(!0),q(null);try{const{items:Ce}=await oI({refNo:t.id,type:"ISSUE",limit:20});$(Ce)}catch(Ce){q(Ce instanceof Error?Ce.message:"    .")}finally{z(!1)}}},[t]);A.useEffect(()=>{te()},[te]);const Ne=A.useCallback(async()=>{U(!0),ee(null);try{const Ce=await Hu({pageSize:100});Y(Ce.items??[])}catch{ee("   .")}finally{U(!1)}},[]);A.useEffect(()=>{Ne()},[Ne]),A.useEffect(()=>{t&&it(t.memo??"")},[t==null?void 0:t.memo]);const Le=A.useMemo(()=>t?t.lines.reduce((Ce,Re)=>Ce+Re.orderedQty,0):0,[t]),Pe=A.useMemo(()=>t?t.lines.reduce((Ce,Re)=>Ce+Re.shippedQty,0):0,[t]),He=A.useMemo(()=>Le>Pe&&(t==null?void 0:t.status)!=="canceled",[t,Le,Pe]),pe=A.useMemo(()=>{if(!t)return{lineTotal:0,baseTotal:0,taxTotal:0,total:0,breakdown:[]};const Ce={lineTotal:0,baseTotal:0,taxTotal:0,total:0,map:new Map};return t.lines.forEach(Re=>{const Nt=Yo(Re.amount)??Math.round((Re.unitPrice??0)*Re.orderedQty),Wt=Fo(Nt),qt=Yo(Re.taxAmount),Lt=sY(Re.taxLabel);let X=0,se=Wt;if(qt!==null)X=Fo(qt),se=Math.max(0,Wt-X);else if(Lt.rate!==null)if(Lt.mode==="inclusive"){const pt=Fo(Wt/(1+Lt.rate));se=pt,X=Fo(Math.max(0,Wt-pt))}else Lt.mode==="exclusive"&&(se=Fo(Wt),X=Fo(Wt*Lt.rate));const _e=se+X;Ce.lineTotal+=Wt,Ce.baseTotal+=se,Ce.taxTotal+=X,Ce.total+=_e;const et=Re.taxLabel||Lt.name,ut=Ce.map.get(et);ut?(ut.base+=se,ut.amount+=X):Ce.map.set(et,{key:et,name:Lt.name,rate:Lt.rate,mode:Lt.mode,base:se,amount:X})}),{lineTotal:Ce.lineTotal,baseTotal:Ce.baseTotal,taxTotal:Ce.taxTotal,total:Ce.total,breakdown:Array.from(Ce.map.values())}},[t]),Fe=A.useMemo(()=>n.find(Ce=>Ce.id===(t==null?void 0:t.customerId)),[t==null?void 0:t.customerId,n]),ue=A.useCallback((Ce,Re)=>{const Nt=j[Ce];if(!Nt)return 0;const Wt=Number(Nt);return Number.isFinite(Wt)?Math.min(Math.max(0,Math.round(Wt)),Re):0},[j]),nt=A.useCallback(()=>{f(!1),b(""),setShipmentLocation(""),M(""),C(""),O({}),R(null),_(null),ee(null)},[]),tt=A.useCallback(Ce=>{if(Ce==="partial"&&t){const Nt={};t.lines.forEach(Wt=>{const qt=Math.max(0,Wt.orderedQty-Wt.shippedQty);qt>0&&(Nt[Wt.id]=String(qt))}),O(Nt)}else O({});y(Ce);const Re=t!=null&&t.id?qHe(t.id):null;Re!=null&&Re.code?(b(Re.code),_(Re)):(b(""),_(null)),ee(null),f(!0),M(oY(new Date)),R(null)},[t]),Q=A.useCallback(()=>{tt("bulk")},[tt]),we=A.useCallback(()=>{tt("partial")},[tt]),st=A.useCallback(async()=>{if(!t)return;const Ce=x.trim();if(!Ce){R("   .");return}const Re=T?new Date(T).toISOString():new Date().toISOString(),Nt=N.trim()||void 0,Wt=(Lt,X)=>v==="bulk"?X:ue(Lt,X),qt=[];if(t.lines.forEach(Lt=>{const X=Math.max(0,Lt.orderedQty-Lt.shippedQty),se=Wt(Lt.id,X);se<=0||qt.push({type:"ISSUE",sku:Lt.sku,qty:se,fromWarehouse:Ce,partnerId:t.customerId,refNo:t.id,memo:Nt,occurredAt:Re,userId:GHe,soId:t.id,soLineId:Lt.id})}),!qt.length){R("    .");return}L(!0),R(null);try{await Promise.all(qt.map(Lt=>Mf(Lt))),f(!1),M(""),C(""),O({}),b(""),await ft(),await te(),Ue(" .",{tone:"success"})}catch(Lt){R(Lt instanceof Error?Lt.message:"  .")}finally{L(!1)}},[te,ft,t,j,v,N,x,T,Ue]),me=A.useCallback(()=>{ke(!0)},[]),ce=A.useCallback(()=>{ke(!1)},[]),he=A.useCallback(()=>{ke(!1),setTimeout(()=>{typeof window>"u"||window.print()},0)},[]),ze=A.useCallback(()=>{if(!t)return;const Ce=["SKU"," "," ","",""],Re=t.lines.map(X=>[X.sku,X.orderedQty.toString(),X.shippedQty.toString(),X.unit??"EA",X.status]),Nt=[Ce,...Re].map(X=>X.map(se=>`"${(se==null?void 0:se.toString().replace(/"/g,'""'))??""}"`).join(",")).join(`
`),Wt=new Blob([Nt],{type:"text/csv;charset=utf-8;"}),qt=URL.createObjectURL(Wt),Lt=document.createElement("a");Lt.href=qt,Lt.download=`${t.orderNumber||t.id}-lines.csv`,Lt.click(),URL.revokeObjectURL(qt)},[t]);if(o)return m.jsx("p",{className:"p-6 text-sm text-slate-500",children:" "});if(i||!t)return m.jsx("div",{className:"flex min-h-screen items-center justify-center",children:m.jsx("p",{className:"text-sm text-rose-500",children:i||"    ."})});const Ge=(Fe==null?void 0:Fe.name)??t.customerName??t.customerId,at=!t,lt=!t,ge=t.lines.length,Ee=v3(t.status),$e=Iie(t.status),Oe=H?"  ":"  ",mt=w?((Tt=w.name)==null?void 0:Tt.trim())||w.code:"";return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"min-h-screen bg-slate-50 px-8 py-8 text-slate-900 print:hidden",children:[m.jsxs("div",{className:"mb-6 flex flex-wrap items-start justify-between gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:" "}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:(t.orderNumber??t.id).toUpperCase()}),m.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ring-1 ${Ee} ${$e}`,children:Gk(t.status)}),m.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[ge,"     ",lg(Le)," EA"]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[m.jsxs("div",{children:[" ",m.jsx("span",{className:"font-medium text-slate-700",children:Wk(t.createdAt)})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:[" "," ",m.jsx("span",{className:"font-medium text-slate-700",children:Kk(t.promisedDate)})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:[" ",m.jsx("span",{className:"font-medium text-slate-700",children:Ge})]}),m.jsx("div",{className:"h-3 w-px bg-slate-200"}),m.jsxs("div",{children:[" ",m.jsx("span",{className:"font-normal text-slate-400",children:t.memo||"  "})]})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:Q,disabled:!He,className:`${x3} justify-center`,children:""}),m.jsx("button",{type:"button",onClick:we,disabled:!He,className:`${b3} justify-center`,children:""})]})]}),m.jsxs("div",{className:"grid grid-cols-[minmax(0,2.3fr)_minmax(0,1fr)] gap-6",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("section",{className:"rounded-2xl bg-white p-4 shadow-sm ring-1 ring-slate-100",children:[m.jsx("div",{className:"mb-3 flex items-center justify-between",children:m.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"  "})}),m.jsxs("div",{className:"grid grid-cols-3 gap-y-3 text-xs text-slate-500",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"font-medium text-slate-800",children:t.orderNumber??t.id})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:""}),m.jsx("div",{className:"font-medium text-slate-800",children:Ge})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"font-medium text-slate-800",children:Gk(t.status)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:""}),m.jsx("div",{className:"text-slate-800",children:Wk(t.createdAt)})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"text-[11px]",children:" "}),m.jsx("div",{className:"text-slate-800",children:Kk(t.promisedDate)})]})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-100 bg-white/80 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:" "}),m.jsxs("span",{className:"text-xs text-slate-500",children:[ge,"    ",lg(Le)," EA"]})]}),m.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs font-semibold",children:[m.jsx("button",{type:"button",onClick:()=>p("items"),className:`rounded-full px-3 py-1 transition ${d==="items"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:" "}),m.jsx("button",{type:"button",onClick:()=>p("shipments"),className:`rounded-full px-3 py-1 transition ${d==="shipments"?"bg-white text-slate-900 shadow-sm":"text-slate-500"}`,children:" "})]}),m.jsx("div",{className:"mt-4",children:d==="items"?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"overflow-hidden rounded-2xl border",children:m.jsxs("table",{className:"min-w-full text-left text-xs",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:""}),m.jsx("th",{className:"px-4 py-2",children:""}),m.jsx("th",{className:"px-4 py-2",children:""}),m.jsx("th",{className:"px-4 py-2",children:""}),m.jsx("th",{className:"px-4 py-2",children:""})]})}),m.jsx("tbody",{children:t.lines.map(Ce=>{var _e;const Re=WHe(Ce),Nt=KHe(Ce),Wt=Yo(Ce.unitPrice),qt=Yo(Ce.amount)??(Wt!==null?Wt*Ce.orderedQty:null),Lt=(_e=Ce.taxLabel)==null?void 0:_e.trim(),X=sY(Lt);let se=Yo(Ce.taxAmount);if(se===null&&qt!==null&&X.rate!==null)if(X.mode==="inclusive"){const et=Fo(qt/(1+X.rate));se=Math.max(0,Fo(qt-et))}else X.mode==="exclusive"&&(se=Fo(qt*X.rate));return m.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50/60",children:[m.jsxs("td",{className:"px-4 py-3 align-top",children:[m.jsx("div",{className:"text-xs font-medium text-slate-900",children:Nt}),m.jsx("div",{className:"text-[11px] text-slate-400",children:Re})]}),m.jsxs("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:[lg(Ce.orderedQty)," ",Re]}),m.jsx("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:ND(Wt)}),m.jsxs("td",{className:"px-2 py-3 text-right text-xs text-slate-700",children:[m.jsx("div",{children:ND(se)}),Lt&&m.jsx("div",{className:"text-[11px] text-slate-400",children:Lt})]}),m.jsx("td",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-900",children:ND(qt)})]},Ce.id)})})]})}),m.jsx(vse,{summary:pe,className:"mt-5"})]}):m.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-100 bg-white p-4 text-sm text-slate-600",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:" "}),m.jsx("span",{className:"text-xs text-slate-500",children:" 20"})]}),V?m.jsx("p",{className:"text-xs text-rose-600",children:V}):F?m.jsx("p",{className:"text-xs text-slate-500",children:"   "}):I.length===0?m.jsx("p",{className:"text-xs text-slate-500",children:"   ."}):m.jsx("div",{className:"space-y-2",children:I.map(Ce=>{var Re;return m.jsxs("div",{className:"rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-600",children:[m.jsxs("p",{className:"text-slate-900",children:[Ce.sku,"  ",((Re=Ce.qty)==null?void 0:Re.toLocaleString())??"0"," EA"]}),m.jsx("p",{className:"text-xs text-slate-500",children:$u(Ce.occurredAt)??Ce.occurredAt})]},Ce.id)})})]})})]})]}),m.jsx("div",{className:"space-y-4",children:m.jsx(yse,{documentLabel:"",onPrint:me,onExport:ze,isPrintDisabled:at,isExportDisabled:lt})})]})]}),m.jsx(pi,{isOpen:u,onClose:nt,title:" ",widthClassName:"max-w-md",children:m.jsxs("form",{className:"space-y-4 text-sm text-slate-700",onSubmit:Ce=>{Ce.preventDefault(),st()},children:[m.jsx("div",{className:ZHe,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"font-semibold text-slate-900",children:" "}),m.jsx("p",{className:"font-semibold text-slate-900",children:v==="bulk"?"":""})]})}),m.jsxs("div",{children:[m.jsxs("label",{className:XHe,children:[" ",m.jsx("span",{className:"ml-1 text-rose-500",children:"*"})]}),w?m.jsxs("div",{className:"w-full rounded-md border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-900",children:mt}),m.jsx("p",{className:"text-[11px] text-slate-500",children:"  ."})]}):m.jsx(Mr,{value:x,onChange:Ce=>b(Ce),options:ae,disabled:H&&ae.length===0,placeholder:Oe,emptyMessage:H?"   ...":"  ",inputClassName:`${AD} ${H?"cursor-not-allowed bg-slate-50 text-slate-400":""}`}),K?m.jsx("p",{className:"mt-1 text-xs text-rose-500",children:K}):null]}),m.jsxs("div",{children:[m.jsx("label",{className:lY,children:" "}),m.jsx("input",{type:"datetime-local",value:T,max:oY(new Date),step:60,onChange:Ce=>M(Ce.target.value),className:AD})]}),m.jsxs("div",{children:[m.jsx("label",{className:lY,children:""}),m.jsx("textarea",{rows:3,value:N,onChange:Ce=>C(Ce.target.value),placeholder:"    .",className:AD})]}),v==="partial"&&m.jsxs("div",{className:"space-y-2 rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[m.jsx("p",{className:"text-xs font-semibold text-slate-500",children:"  "}),m.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:t.lines.map(Ce=>{const Re=Math.max(0,Ce.orderedQty-Ce.shippedQty);return{...Ce,remaining:Re}}).filter(Ce=>Ce.remaining>0).map(Ce=>{const Re=j[Ce.id]??Ce.remaining.toString();return m.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border border-slate-100 bg-white/50 px-3 py-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:YHe(Ce)}),m.jsxs("p",{className:"text-[11px] text-slate-500",children:[" ",Ce.orderedQty.toLocaleString(),"   ",Ce.shippedQty.toLocaleString()]})]}),m.jsx("input",{type:"number",min:"0",max:Ce.remaining,step:"1",value:Re,onChange:Nt=>{const Wt=Nt.target.value;O(qt=>({...qt,[Ce.id]:Wt}))},className:"w-24 rounded-md border border-slate-200 bg-white px-2 py-1 text-xs text-right text-slate-900 focus:border-indigo-500 focus:outline-none"})]},Ce.id)})})]}),P&&m.jsx("p",{className:"text-xs text-rose-600",children:P}),m.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[m.jsx("button",{type:"button",onClick:nt,disabled:k,className:QHe,children:""}),m.jsx("button",{type:"submit",disabled:k,className:JHe,children:k?"  ":" "})]})]})}),m.jsx(pi,{isOpen:xe,onClose:ce,title:"  ",widthClassName:"max-w-2xl max-h-[80vh]",children:m.jsxs("form",{className:"space-y-4",onSubmit:Ce=>{Ce.preventDefault(),he()},children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:""}),m.jsx("input",{type:"text",value:Je,onChange:Ce=>be(Ce.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-400 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:""}),m.jsx("input",{type:"text",value:Te,onChange:Ce=>De(Ce.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-400 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-500",children:""}),m.jsx("textarea",{rows:3,value:J,onChange:Ce=>it(Ce.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-400 focus:outline-none"})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:ce,className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600",children:""}),m.jsx("button",{type:"submit",className:"rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white",children:""})]})]})}),m.jsx(t9e,{order:t,customer:Fe,receiverContactName:Je,receiverPhone:Te,receiverMemo:J})]})},t9e=({order:e,customer:t,receiverContactName:r,receiverPhone:n,receiverMemo:a})=>{if(!e)return null;const i=Wk(e.createdAt),s=Kk(e.promisedDate),o=$u(e.createdAt)??i,l=Gk(e.status),u=v3(e.status),f=Iie(e.status),d=e.lines.reduce((M,N)=>M+N.orderedQty,0),p=(t==null?void 0:t.name)??e.customerName??"",v=(t==null?void 0:t.phone)??"",y=(t==null?void 0:t.email)??"",x=(t==null?void 0:t.address)??"",b=r.trim()||"",w=n.trim()||"",_=a.trim()||" ",T=e.orderNumber??e.id;return m.jsx("div",{className:"print-document",children:m.jsx("div",{className:"min-h-screen w-full bg-slate-200 flex items-start justify-center py-8 print:bg-white print:py-0 print:min-h-0",children:m.jsxs("main",{className:"relative bg-white w-[794px] min-h-[1123px] px-10 py-8 pb-12 text-slate-900 text-[10px] leading-relaxed rounded-[32px] border border-slate-200 shadow-[0_20px_60px_rgba(15,23,42,0.12)] print:border-0 print:shadow-none print:w-[176mm] print:max-w-[176mm] print:min-h-0 print:h-auto print:px-6 print:py-6 print:pb-6 print:rounded-[24px] print:bg-white print:overflow-visible",children:[m.jsxs("header",{className:"flex items-start justify-between border-b border-slate-200 pb-3 mb-3 print-avoid-break",children:[m.jsx("div",{children:m.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[m.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:" "}),m.jsx("span",{className:"text-base font-medium text-slate-500",children:"(Sales Order)"})]})}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] font-medium tracking-[0.3em] text-slate-500 uppercase",children:""}),m.jsx("p",{className:"text-xl font-semibold text-slate-900",children:T}),m.jsx("span",{className:`mt-2 inline-flex items-center justify-center rounded-full border px-2 py-[2px] text-[9px] font-semibold ring-1 ring-inset ${u} ${f}`,children:l})]})]}),m.jsxs("section",{className:"grid grid-cols-2 gap-3 mb-4 text-[10px] print-avoid-break",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:":"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:o})]}),m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:" :"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:s})]})]}),m.jsx("div",{className:"space-y-1 text-right",children:m.jsxs("p",{children:[m.jsx("span",{className:"font-medium text-slate-500",children:" :"})," ",m.jsx("span",{className:"font-semibold text-slate-900",children:l}),"   "," ",m.jsx("span",{className:"font-semibold text-slate-900",children:lg(d)})," EA"]})})]}),m.jsxs("section",{className:"grid gap-3 lg:grid-cols-2 mb-4 print-avoid-break",children:[m.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[m.jsx("h2",{className:"mb-2 text-xs font-semibold text-slate-900",children:" "}),m.jsxs("dl",{className:"space-y-2 text-[10px] text-slate-500",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:p})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:v})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:y})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:x})]})]})]}),m.jsxs("article",{className:"rounded-xl border border-slate-200 bg-white p-3",children:[m.jsx("h2",{className:"mb-2 text-xs font-semibold text-slate-900",children:" "}),m.jsxs("dl",{className:"space-y-2 text-[10px] text-slate-500",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:b})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900",children:w})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("dt",{className:"text-slate-400",children:""}),m.jsx("dd",{className:"font-semibold text-slate-900 text-[10px] whitespace-pre-line",children:_})]})]})]})]}),m.jsxs("section",{className:"mb-4 print-avoid-break",children:[m.jsxs("div",{className:"mb-2 flex items-center justify-between text-[11px]",children:[m.jsx("h2",{className:"text-xs font-semibold text-slate-900",children:" "}),m.jsxs("p",{className:"text-[9px] text-slate-500",children:[" ",e.lines.length,""]})]}),m.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-100",children:m.jsxs("table",{className:"min-w-full border-collapse text-left text-[10px]",children:[m.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[9px] uppercase tracking-wider",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 font-semibold text-left text-[9px]",children:" / "}),m.jsx("th",{className:"px-2 py-2 font-semibold text-left text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""}),m.jsx("th",{className:"px-2 py-2 font-semibold text-right text-[9px]",children:""})]})}),m.jsx("tbody",{children:e.lines.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-2 py-5 text-center text-[10px] text-slate-400",children:"  ."})}):e.lines.map(M=>{const N=M.orderedQty,C=Yo(M.unitPrice)??0,j=Yo(M.amount)??0,O=C>0?C:N>0?Math.round(j/Math.max(1,N)):0,P=Yo(M.taxAmount)??0,R=Yo(M.amount)??Math.round(O*Math.max(0,N));return m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsxs("td",{className:"px-2 py-2",children:[m.jsx("div",{className:"font-semibold text-slate-900 text-[10px]",children:M.productName??M.sku}),m.jsx("div",{className:"text-[9px] uppercase tracking-wide text-slate-400",children:M.sku})]}),m.jsx("td",{className:"px-2 py-2 text-[10px] font-semibold text-slate-900",children:M.unit??"EA"}),m.jsx("td",{className:"px-2 py-2 text-right font-semibold text-slate-900 text-[10px]",children:lg(N)}),m.jsx("td",{className:"px-2 py-2 text-right text-[10px] text-slate-900",children:di(O)}),m.jsx("td",{className:"px-2 py-2 text-right text-[10px] text-slate-900",children:di(P)}),m.jsx("td",{className:"px-2 py-2 text-right font-semibold text-slate-900 text-[10px]",children:di(R)})]},M.id)})})]})})]})]})})})},Sse=()=>{var e;return((e=crypto.randomUUID)==null?void 0:e.call(crypto))??Math.random().toString(36).slice(2,10)},$b=(e=null)=>({id:Sse(),productSku:"",productName:"",quantity:"",unitPrice:"",taxTypeId:e}),Zd=e=>Number.isFinite(e)?e.toLocaleString("ko-KR",{minimumFractionDigits:0,maximumFractionDigits:0}):"0",r9e=e=>e!=null?e.toFixed(2):"",n9e=e=>{const t=e.replace(/[^\d.]/g,"");if(t==="")return"";const r=t.split("."),n=r[0],a=r[1]?r[1].slice(0,2):"";return a?`${n}.${a}`:n},a9e=e=>{if(!e)return"";const t=Number(e);if(!Number.isFinite(t))return"";const r=e.includes(".")?e.split(".")[1]:"",a=/[1-9]/.test(r)?Math.min(2,r.length):0;return t.toLocaleString("ko-KR",{minimumFractionDigits:a,maximumFractionDigits:a})},i9e=[{label:"",value:""},{label:"",value:""}],s9e=[{label:"",value:"exclusive"},{label:"",value:"inclusive"}],uY=e=>{const t=g3(e);return t?t.split("T")[0]:""},o9e="sales-order-ui",y1="sales-order:draft",cY=e=>({customer:e.customerId,orderNumber:e.orderNumber||"",orderDate:e.orderDate??"",shipmentDate:e.promisedDate??"",memo:e.memo??"",shippingMode:e.shippingMode??"",shippingNote:e.shippingNote??"",warehouse:e.warehouse??"",lines:e.lines.map(t=>({id:Sse(),productSku:t.sku,productName:t.productName??"",quantity:String(t.orderedQty),unitPrice:t.unitPrice!==void 0&&t.unitPrice!==null?t.unitPrice.toString():"",taxTypeId:t.taxTypeId??null})),draftId:e.id}),MD=e=>(e==null?void 0:e.trim().toUpperCase())??"",zb=e=>{const t=typeof e=="number"&&Number.isFinite(e)?e:0;return Math.max(0,Math.round(t))},Fb=(e,t)=>{if(typeof window>"u")return;const r={...e,draftId:t!==void 0?t??void 0:e.draftId};r.draftId||delete r.draftId,window.localStorage.setItem(y1,JSON.stringify(r))},fY="__tax_add__",Ub=e=>Math.round(e),l9e=()=>{const e=po(),[t]=gS(),r=t.get("draftId"),[n,a]=A.useState(""),[i,s]=A.useState(()=>w0(void 0)),[o,l]=A.useState(""),[u,f]=A.useState(""),[d,p]=A.useState(""),[v,y]=A.useState(""),[x,b]=A.useState(""),[w,_]=A.useState([$b()]),[T,M]=A.useState([]),[N,C]=A.useState(!1),[j,O]=A.useState([]),[P,R]=A.useState(!1),[k,L]=A.useState([]),[I,$]=A.useState(!1),[F,z]=A.useState(""),[V,q]=A.useState(!1),[W,Y]=A.useState(null),[H,U]=A.useState(!1),[K,ee]=A.useState(!1),[ae,xe]=A.useState(null),[ke,Je]=A.useState(!1),[be,Te]=A.useState([]),[De,J]=A.useState(!1),[it,Ue]=A.useState(null),[ft,le]=A.useState(!1),[te,Ne]=A.useState(null),[Le,Pe]=A.useState(""),[He,pe]=A.useState("0"),[Fe,ue]=A.useState("exclusive"),[nt,tt]=A.useState(null),[Q,we]=A.useState(null),[st,me]=A.useState(!1),ce=As(),he=A.useMemo(()=>T.map(oe=>({label:oe.name,value:oe.id})),[T]),ze=A.useMemo(()=>k.map(oe=>({label:`${oe.name} (${oe.code})`,value:oe.code})),[k]),Ge=A.useRef({code:"",showToast:!1}),at=A.useRef(!1),lt=A.useRef(!1),ge=A.useCallback((oe,ht)=>{const bt=MD(ht);let _t=0;if((oe.inventory??[]).forEach(St=>{const lr=MD((St==null?void 0:St.warehouseCode)??null);if(bt&&lr!==bt)return;const ar=zb((St==null?void 0:St.onHand)??0),Jt=zb((St==null?void 0:St.reserved)??0);_t+=Math.max(0,ar-Jt)}),bt)return _t;const xt=zb(oe.onHand)-zb(oe.reserved);return Math.max(_t,xt,0)},[]),Ee=A.useCallback((oe,ht)=>{const bt=MD(ht);if(!bt)return{filteredLines:oe,removedCount:0};let _t=0;return{filteredLines:oe.filter(St=>{var Xa;const lr=(Xa=St.productSku)==null?void 0:Xa.trim();if(!lr)return!0;const ar=j.find(vi=>vi.sku===lr);return!ar||ge(ar,bt)<=0?(_t+=1,!1):!0}),removedCount:_t}},[ge,j]),$e=A.useCallback((oe,ht)=>{Ge.current={code:oe,showToast:(ht==null?void 0:ht.showToast)??at.current},b(oe)},[b]),Oe=A.useMemo(()=>w.map(oe=>{const ht=Number(oe.quantity)||0,bt=Number(oe.unitPrice)||0,_t=ht*bt,xt=be.find(Jt=>Jt.id===oe.taxTypeId)??null;let St=Ub(_t),lr=0,ar=St;if(xt&&xt.rate>0)if(xt.mode==="exclusive")lr=Ub(St*xt.rate),ar=St+lr;else{const Jt=1+xt.rate;St=Ub(_t/Jt),lr=Ub(_t-St),ar=St+lr}return{lineId:oe.id,base:St,tax:lr,total:ar,taxType:xt}}),[w,be]),mt=A.useMemo(()=>{const oe=Oe.reduce((xt,St)=>xt+St.base,0),ht=Oe.reduce((xt,St)=>xt+St.total,0),bt=Oe.reduce((xt,St)=>xt+St.tax,0),_t=new Map;return Oe.forEach(({taxType:xt,base:St,tax:lr})=>{if(!xt||lr===0)return;const ar=_t.get(xt.id);ar?(ar.base+=St,ar.amount+=lr):_t.set(xt.id,{taxType:xt,base:St,amount:lr})}),{lineTotal:ht,baseTotal:oe,taxTotal:bt,total:oe+bt,taxBreakdown:Array.from(_t.values())}},[Oe]),Tt=A.useMemo(()=>new Map(Oe.map(oe=>[oe.lineId,oe])),[Oe]),Ce=A.useCallback(()=>w.map(oe=>{var vi;const ht=Math.max(0,Math.round(Number(oe.quantity)||0));if(!oe.productSku||ht<=0)return null;const bt=Tt.get(oe.id),_t=j.find(Ju=>Ju.sku===oe.productSku)??null,xt=Number(oe.unitPrice),St=Number.isFinite(xt)?Math.round(xt):void 0,lr=bt?bt.total:Math.round(ht*(St??0)),ar=bt?bt.tax:void 0,Jt=bt==null?void 0:bt.taxType,Xa=Jt?`${Jt.name} (${(Jt.rate*100).toFixed(0)}% ${Jt.mode==="inclusive"?"":""})`:void 0;return{sku:oe.productSku,orderedQty:ht,productName:((vi=oe.productName)==null?void 0:vi.trim())||(_t==null?void 0:_t.name),unit:(_t==null?void 0:_t.unit)??void 0,unitPrice:St,amount:lr,taxAmount:ar,taxLabel:Xa,currency:(_t==null?void 0:_t.currency)??void 0,taxTypeId:oe.taxTypeId??void 0}}).filter(oe=>!!oe),[Tt,w,j]),Re=A.useCallback((oe,ht)=>{a(oe.customer||""),z(oe.orderNumber||""),s(w0(oe.orderDate)),l(uY(oe.shipmentDate)),f(oe.memo||""),p(oe.shippingMode||""),y(oe.shippingNote||""),$e(oe.warehouse||"",{showToast:!1}),xe(ht??oe.draftId??null),_(oe.lines&&oe.lines.length?oe.lines:[$b()])},[a,z,s,l,f,p,y,$e,xe,_]),Nt=(oe,ht)=>{_(bt=>bt.map(_t=>_t.id===oe?ht(_t):_t))},Wt=()=>{var ht;const oe=((ht=be.find(bt=>bt.isDefault))==null?void 0:ht.id)??null;_(bt=>[...bt,$b(oe)])},qt=oe=>{_(ht=>ht.length>1?ht.filter(bt=>bt.id!==oe):ht)},Lt=A.useCallback(async()=>{if(!n){ce(" .",{tone:"error"});return}const oe=Ce();if(!oe.length){ce("     .",{tone:"error"});return}const ht=F.trim(),bt=Ia(i),_t=T.find(Jt=>Jt.id===n);ee(!0);const xt={customerId:n,customerName:_t==null?void 0:_t.name,orderNumber:ht||void 0,orderDate:bt||void 0,memo:u||v||void 0,promisedDate:Ia(o)||void 0,shippingMode:d,shippingNote:v||void 0,warehouse:x||void 0,lines:oe},St=Jt=>({customer:n,orderNumber:F,orderDate:i,shipmentDate:o,memo:u,shippingMode:d,shippingNote:v,warehouse:x,lines:w,draftId:Jt}),lr=Jt=>{const Xa=St(Jt.id);Fb(Xa),xe(Jt.id),Je(!0),ce(" .",{tone:"success"})},ar=()=>ae?OK(ae,xt):yD(xt);try{const Jt=await ar();lr(Jt)}catch(Jt){if(ae&&Jt instanceof Error&&Jt.message.includes("   .")){xe(null),typeof window<"u"&&window.localStorage.removeItem(y1);try{const vi=await yD(xt);lr(vi);return}catch(vi){console.error("Failed to save draft",vi);const Ju=vi instanceof Error?vi.message:void 0;ce("  .",{tone:"error",description:Ju});return}}console.error("Failed to save draft",Jt);const Xa=Jt instanceof Error?Jt.message:void 0;ce("  .",{tone:"error",description:Xa})}finally{ee(!1)}},[n,F,i,o,u,d,v,x,w,T,ae,Ce,ce,yD,OK]),X=()=>Ia(o)??Ia(i)??new Date().toISOString(),se=A.useCallback(async oe=>{const ht=x.trim();if(!ht)throw new Error("   .");const bt=X(),_t=v.trim()||void 0,xt=oe.lines.map(St=>{const lr=Math.max(0,Math.round(St.orderedQty-(St.shippedQty??0)));return lr<=0?null:{type:"ISSUE",sku:St.sku,qty:lr,fromWarehouse:ht,partnerId:oe.customerId,refNo:oe.id,memo:_t,occurredAt:bt,userId:o9e,soId:oe.id,soLineId:St.id}}).filter(St=>!!St);return xt.length?(await Promise.all(xt.map(St=>Mf(St))),xt.length):0},[o,i,v,x]),_e=A.useCallback(async()=>{if(!n){ce(" .",{tone:"error"});return}const oe=Ce();if(!oe.length){ce("     .",{tone:"error"});return}const ht=F.trim(),bt=Ia(i),_t=T.find(St=>St.id===n),xt=d==="";if(xt&&!x.trim()){ce("   .",{tone:"error"});return}U(!0);try{const St=await oUe({customerId:n,customerName:_t==null?void 0:_t.name,orderNumber:ht||void 0,orderDate:bt||void 0,memo:u||v||void 0,promisedDate:Ia(o)||void 0,lines:oe});x.trim()&&VHe(St.id,{code:x,name:(We==null?void 0:We.name)??null});let lr=0;xt&&(lr=await se(St));const ar=ae;if(ar)try{await fS(ar)}catch(Xa){console.error("Failed to delete draft after order confirm",Xa)}xe(null),window.localStorage.removeItem(y1);const Jt=xt&&lr>0?`    ${lr.toLocaleString()} .`:" .";ce(Jt,{tone:"success"}),e("/sales-orders",{replace:!0})}catch(St){console.error("Failed to create sales order",St),ce("  .",{tone:"error",description:St instanceof Error?St.message:void 0})}finally{U(!1)}},[o,Ce,u,e,F,T,d,se,ce,n,x,fS,ae]),et=A.useCallback(()=>{e("/sales-orders",{replace:!0})},[e]),ut=A.useCallback(async()=>{J(!0),Ue(null);try{const oe=await Xie();Te(oe)}catch(oe){console.error("Failed to load tax types",oe),Ue("     .")}finally{J(!1)}},[]);A.useEffect(()=>{ut()},[ut]);const pt=A.useMemo(()=>{var oe;return((oe=be.find(ht=>ht.isDefault))==null?void 0:oe.id)??null},[be]);A.useEffect(()=>{pt&&_(oe=>oe.map(ht=>ht.taxTypeId?ht:{...ht,taxTypeId:pt}))},[pt]);const ie=A.useMemo(()=>{const oe=be.map(ht=>({label:`${ht.name} (${(ht.rate*100).toFixed(0)}%${ht.mode==="inclusive"?" ":""})`,value:ht.id}));return[{label:"",value:""},...oe,{label:"+ ",value:fY}]},[be]),Z=(oe,ht)=>{if(ht===fY){Ne(oe),le(!0);return}Nt(oe,bt=>({...bt,taxTypeId:ht||null}))},Se=A.useCallback(()=>{le(!1),Ne(null),Pe(""),pe("0"),ue("exclusive"),tt(null),we(null)},[]),qe=A.useCallback(async()=>{const oe=Le.trim(),ht=Number(He);if(!oe){tt("  .");return}if(tt(null),!Number.isFinite(ht)||ht<0||ht>100){we(" 0~100  .");return}we(null),me(!0);try{const bt=await Zie({name:oe,rate:ht/100,mode:Fe});Te(xt=>[...xt,bt]),ce(" .",{tone:"success"});const _t=te;Se(),_t&&Nt(_t,xt=>({...xt,taxTypeId:bt.id}))}catch(bt){console.error("Failed to create tax type",bt),ce("  .",{tone:"error",description:bt instanceof Error?bt.message:void 0})}finally{me(!1)}},[Fe,Le,He,te,Se,ce]),Ie=A.useCallback(oe=>{if(!x)return`${oe.name} (${oe.sku})`;const bt=ge(oe,x).toLocaleString("ko-KR"),_t=oe.unit?` ${oe.unit}`:"";return`${oe.name} (${oe.sku})   ${bt}${_t}`},[ge,x]),Ye=(oe,ht)=>{const bt=j.find(_t=>_t.sku===ht);Nt(oe,_t=>({..._t,productSku:ht,productName:bt?bt.name:_t.productName,unitPrice:(bt==null?void 0:bt.supplyPrice)!=null?r9e(bt.supplyPrice):_t.unitPrice}))},dt=A.useCallback(async()=>{q(!0),Y(null);try{const oe=Ia(i);if(!oe)throw new Error("  .");const ht=await sUe(oe);z(ht.orderNumber)}catch(oe){console.error("Failed to suggest order number",oe),Y(oe instanceof Error?oe.message:"    .   .")}finally{q(!1)}},[i]),Dt=A.useCallback(async()=>{C(!0);try{const oe=await so({type:"CUSTOMER"});M(oe)}catch(oe){console.error("Failed to load partners",oe)}finally{C(!1)}},[]),fe=A.useCallback(async()=>{lt.current=!0,R(!0);try{const oe=await Au();O(oe)}catch(oe){console.error("Failed to load products",oe)}finally{R(!1)}},[]);A.useEffect(()=>{Dt()},[Dt]),A.useEffect(()=>{fe()},[fe]);const Ve=A.useCallback(async()=>{$(!0);try{const oe=await Hu({pageSize:100});L(oe.items)}catch(oe){console.error("Failed to load warehouses",oe)}finally{$(!1)}},[]);A.useEffect(()=>{Ve()},[Ve]),A.useEffect(()=>{var _t;const oe=Ge.current;if(!oe.code||!lt.current||P)return;const ht=((_t=be.find(xt=>xt.isDefault))==null?void 0:_t.id)??null;let bt=0;_(xt=>{const{filteredLines:St,removedCount:lr}=Ee(xt,oe.code);return bt=lr,St.length?St:[$b(ht)]}),oe.showToast&&bt>0&&ce(`    ${bt.toLocaleString()}  .`,{tone:"info"}),at.current=!0,Ge.current={code:"",showToast:!1}},[P,Ee,x,ce,be]);const We=A.useMemo(()=>k.find(oe=>oe.code===x)??null,[x,k]),ct=A.useMemo(()=>w.some(oe=>{var _t;const ht=!!((_t=oe.productSku)!=null&&_t.trim()),bt=Number(oe.quantity);return ht&&bt>0}),[w]),Ct=A.useMemo(()=>x?j.filter(oe=>ge(oe,x)>0):[],[ge,j,x]),At=Ct.length>0,It=!x,Mt=!!(x&&ct),kt=P?"   ...":It?"    .":At?" ":"     .",Qt=A.useMemo(()=>Ct.map(oe=>({label:Ie(oe),value:oe.sku})),[Ct,Ie]),Ir=A.useCallback(oe=>{oe!==x&&$e(oe)},[$e,x]),br=!I,nn=d==="";return A.useEffect(()=>{nn&&l(uY(i))},[nn,i]),A.useEffect(()=>{if(typeof window>"u"||ke||r)return;const oe=window.localStorage.getItem(y1);if(!oe)return;let ht=!0;const bt=JSON.parse(oe),_t=(xt,St)=>{Re(xt,St?void 0:null),Fb(xt,St?xt.draftId??null:null)};if(!bt.draftId){_t(bt,!0);return}return(async()=>{try{const xt=await Pb(bt.draftId);if(!ht)return;const St=cY(xt);Re(St),Fb(St),Je(!0)}catch(xt){if(!ht)return;console.error("Failed to load sales order draft",xt),_t(bt,!1)}})(),()=>{ht=!1}},[r,Pb,ke,Re]),A.useEffect(()=>{if(!r)return;let oe=!0;return(async()=>{try{const ht=await Pb(r);if(!oe)return;const bt=cY(ht);Re(bt),Fb(bt),Je(!0)}catch(ht){console.error("Failed to load sales order draft",ht)}})(),()=>{oe=!1}},[r,Pb,Re,Je]),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-400",children:" "}),m.jsx("h1",{className:"mt-1 text-3xl font-semibold text-slate-900",children:""}),m.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"    .      ."})]}),m.jsx("div",{children:m.jsx("button",{type:"button",onClick:()=>e(-1),className:"rounded-md border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:""})})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:""}),m.jsx("p",{className:"text-sm text-slate-500",children:"      ."})]}),m.jsx("button",{type:"button",className:"text-sm font-semibold text-indigo-600",children:"  "})]}),m.jsxs("div",{className:"mt-4 max-w-xl",children:[m.jsx("label",{htmlFor:"customer",className:"text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{id:"customer",className:"mt-1",value:n,onChange:oe=>a(oe),options:he,placeholder:N?"  ...":" ",emptyMessage:N?"  ...":"  .",helperText:"    .",inputClassName:"w-full rounded-xl border border-slate-300 px-4 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none",disabled:N&&he.length===0})]})]}),m.jsxs("section",{className:"grid gap-5 md:grid-cols-2",children:[m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),m.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[m.jsx("input",{type:"text",value:F,onChange:oe=>z(oe.target.value.toUpperCase()),placeholder:": SO-20251110-001",className:"flex-1 rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("button",{type:"button",onClick:dt,disabled:V,className:"rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 transition hover:bg-indigo-700 disabled:bg-indigo-400",children:V?" ":" "})]}),W&&m.jsx("p",{className:"mt-1 text-xs text-rose-600",children:W}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"     ,       ."})]}),m.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("input",{type:"datetime-local",step:"60",value:i,onChange:oe=>s(oe.target.value),className:"mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx("input",{type:"date",value:o,onChange:oe=>l(oe.target.value),disabled:nn,className:`mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none ${nn?"cursor-not-allowed bg-slate-50 text-slate-400":""}`})]})]})]})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),m.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{className:"mt-1",value:d,onChange:oe=>p(oe),options:i9e,placeholder:"  ",helperText:"     .",inputClassName:"w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"     ,       ."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("textarea",{value:v,onChange:oe=>y(oe.target.value),rows:3,placeholder:"   ",className:"mt-1 w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:" "}),m.jsx(Mr,{className:"mt-1",value:x,onChange:Ir,options:ze,disabled:!br||I,placeholder:I?"   ...":" ",emptyMessage:I?"   ...":"  .",helperText:"   .",inputClassName:`w-full rounded-xl border border-slate-300 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none ${!br||I?"cursor-not-allowed bg-slate-50 text-slate-400":""}`})]})]})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[m.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:m.jsxs("div",{children:[m.jsx("h2",{className:"text-base font-semibold text-slate-900",children:" "}),It?m.jsx("p",{className:"mt-1 text-xs font-semibold text-rose-600",children:"    ."}):We&&m.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["  : ",We.name," (",We.code,")   . 0     ."]})]})}),m.jsxs("div",{className:"mt-4 grid gap-5 lg:grid-cols-[minmax(0,1fr)_280px]",children:[m.jsxs("div",{className:"space-y-3",children:[!P&&We&&!At?m.jsx("p",{className:"rounded-md border border-dashed border-rose-200 bg-rose-50 p-3 text-xs text-rose-600",children:"     ."}):null,m.jsx("div",{className:"rounded-xl border border-slate-200",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm table-fixed",children:[m.jsx("thead",{className:"bg-slate-50 text-xs uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left w-[280px]",children:""}),m.jsx("th",{className:"px-4 py-3 text-left w-28",children:"SKU"}),m.jsx("th",{className:"px-4 py-3 text-left w-32",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-28",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-36",children:""}),m.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),m.jsx("th",{className:"px-4 py-3 text-center w-20",children:""})]})}),m.jsx("tbody",{children:w.map((oe,ht)=>{const bt=Number(oe.quantity)||0,_t=Number(oe.unitPrice)||0,xt=j.find(ar=>ar.sku===oe.productSku)??null,St=Tt.get(oe.id),lr=St?St.total:Math.round(bt*_t);return m.jsxs("tr",{className:ht%2===0?"bg-white":"bg-slate-50/40",children:[m.jsxs("td",{className:"px-4 py-3",children:[m.jsx(Mr,{className:"w-full",value:oe.productSku,onChange:ar=>Ye(oe.id,ar),options:Qt,placeholder:kt,emptyMessage:kt,helperText:"      .",inputClassName:`w-full rounded-md border border-slate-200 px-2 py-1 text-sm focus:border-indigo-500 focus:outline-none ${P||It?"cursor-not-allowed bg-slate-50 text-slate-500":""}`,disabled:P||It}),xt&&m.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[": ",ge(xt,x).toLocaleString("ko-KR")," ",xt.unit??""]})]}),m.jsx("td",{className:"px-4 py-3 text-slate-600",children:(xt==null?void 0:xt.sku)??""}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Mr,{className:"w-full",value:oe.taxTypeId??"",onChange:ar=>Z(oe.id,ar),options:ie,placeholder:"  ",emptyMessage:De?"   ...":"  ",inputClassName:"w-full rounded-md border border-slate-200 px-2 py-2 text-sm focus:border-indigo-500 focus:outline-none",disabled:De})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("input",{type:"number",min:"0",value:oe.quantity,onChange:ar=>Nt(oe.id,Jt=>({...Jt,quantity:ar.target.value})),className:"w-full rounded-md border border-slate-200 px-2 py-1 text-right text-sm focus:border-indigo-500 focus:outline-none"})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("input",{type:"text",value:a9e(oe.unitPrice),onChange:ar=>Nt(oe.id,Jt=>({...Jt,unitPrice:n9e(ar.target.value)})),className:"w-full rounded-md border border-slate-200 px-2 py-1 text-right text-sm focus:border-indigo-500 focus:outline-none"})}),m.jsx("td",{className:"px-4 py-3 text-right font-semibold text-slate-800",children:Zd(lr)}),m.jsx("td",{className:"px-4 py-3 text-center",children:m.jsx("button",{type:"button",onClick:()=>qt(oe.id),className:"text-xs font-semibold text-rose-600 hover:text-rose-500",disabled:w.length<=1,children:""})})]},oe.id)})})]})}),m.jsx("button",{type:"button",onClick:Wt,disabled:It,className:"rounded-xl border border-dashed border-slate-300 px-4 py-3 text-sm font-semibold text-slate-600 hover:bg-slate-50 disabled:border-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:"+  "})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-5 text-sm",children:[it&&m.jsx("p",{className:"text-xs text-rose-600",children:it}),m.jsxs("dl",{className:"space-y-3",children:[m.jsxs("div",{className:"flex justify-between text-slate-600",children:[m.jsx("dt",{children:""}),m.jsx("dd",{children:Zd(mt.lineTotal)})]}),m.jsxs("div",{className:"flex justify-between text-slate-600",children:[m.jsx("dt",{children:" ( )"}),m.jsx("dd",{children:Zd(mt.baseTotal)})]}),mt.taxBreakdown.map(oe=>m.jsxs("div",{className:"flex items-center justify-between text-slate-600",children:[m.jsxs("dt",{className:"text-xs text-slate-600",children:[oe.taxType.name," (",Zd(oe.base),"  ",(oe.taxType.rate*100).toFixed(0),"%",oe.taxType.mode==="inclusive"?" ":"",")"]}),m.jsx("dd",{className:"text-slate-800",children:Zd(oe.amount)})]},oe.taxType.id)),m.jsxs("div",{className:"flex justify-between text-base font-semibold text-slate-900",children:[m.jsx("dt",{children:""}),m.jsx("dd",{children:Zd(mt.total)})]})]})]})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:et,className:"rounded-md border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:""}),m.jsx("button",{type:"button",onClick:Lt,disabled:K,className:"rounded-md border border-slate-300 px-5 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 disabled:border-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed",children:K?"  ":" "}),m.jsx("button",{type:"button",onClick:_e,disabled:H||!Mt,className:"rounded-md bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 disabled:bg-indigo-500 disabled:cursor-not-allowed",children:H?"  ":" "})]}),m.jsx(pi,{isOpen:ft,onClose:Se,title:" ",children:m.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),qe()},className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsx("input",{type:"text",value:Le,onChange:oe=>Pe(oe.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),nt&&m.jsx("p",{className:"text-xs text-rose-600",children:nt})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700",children:""}),m.jsxs("div",{className:"mt-1 flex gap-2",children:[m.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:He,onChange:oe=>pe(oe.target.value),className:"w-24 rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),m.jsx("span",{className:"px-2 py-2 text-sm text-slate-500",children:"%"}),m.jsx(Mr,{value:Fe,onChange:oe=>ue(oe),options:s9e,placeholder:"  ",inputClassName:"rounded-xl border border-slate-200 px-4 py-2 text-sm focus:border-indigo-500 focus:outline-none",className:"flex-1"})]}),Q&&m.jsx("p",{className:"text-xs text-rose-600",children:Q})]}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:Se,className:"rounded-xl border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600",children:""}),m.jsx("button",{type:"submit",disabled:st,className:"rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-indigo-500/30 hover:bg-indigo-700 disabled:bg-indigo-500",children:st?" ":""})]})]})})]})},u9e=Hce([{path:"/",element:m.jsx(gde,{}),children:[{path:"",element:m.jsx(bUe,{}),children:[{index:!0,element:m.jsx(o8e,{})},{path:"purchase-orders/new",element:m.jsx(JK,{})},{path:"purchase-orders/drafts/:draftId/edit",element:m.jsx(JK,{})},{path:"purchase-orders/:id",element:m.jsx(zHe,{})},{path:"sales-orders/new",element:m.jsx(l9e,{})},{path:"sales-orders",element:m.jsx(Fie,{})},{path:"sales-orders/:id",element:m.jsx(e9e,{})}]},{path:"orders",element:m.jsx(A8e,{})}]}]),c9e=tfe,f9e=new Afe({defaultOptions:{queries:{staleTime:6e4,gcTime:5*6e4,refetchOnWindowFocus:!1}}}),_se="stockwise.ui-scale",ug=1.1,d9e=.8,h9e=1.6,ED=.05,p9e="ui-scale-indicator";let x1=ug;const Tse=e=>Math.min(Math.max(e,d9e),h9e),m9e=()=>{if(typeof window>"u")return ug;const e=window.localStorage.getItem(_se);if(!e)return ug;const t=Number(e);return Number.isFinite(t)?Tse(t):ug},v9e=e=>{if(!(typeof window>"u"))try{window.localStorage.setItem(_se,e.toString())}catch{}},kv=(e,t={persist:!0})=>{const r=Tse(e);if(typeof document<"u"&&document.documentElement&&document.documentElement.style.setProperty("--ui-scale",r.toString()),x1=r,t.persist!==!1&&v9e(r),typeof document<"u"){const n=document.getElementById(p9e);n&&(n.textContent=`${Math.round(r*100)}%`)}return r},g9e=()=>{kv(m9e(),{persist:!1})},y9e=()=>{if(typeof window>"u")return;const e=r=>{(r.ctrlKey||r.metaKey)&&((r.key==="+"||r.key==="="||r.key==="_"||r.key==="-"||r.key==="0")&&r.preventDefault(),r.key==="+"||r.key==="="?kv(x1+ED):r.key==="-"||r.key==="_"?kv(x1-ED):r.key==="0"&&kv(ug))},t=r=>{if(!(r.ctrlKey||r.metaKey)||r.deltaY===0)return;r.preventDefault();const a=r.deltaY<0?1:-1;kv(x1+a*ED)};window.addEventListener("keydown",e),window.addEventListener("wheel",t,{passive:!1})};function x9e(){return String("false").toLowerCase()==="true"}async function b9e(){if(x9e())try{const{startMockWorker:e}=await Ple(async()=>{const{startMockWorker:t}=await import("./browser-CE7Scxau.js");return{startMockWorker:t}},[]);await e()}catch(e){console.error("Failed to start the mock service worker.",e)}}function w9e(e){Hle.createRoot(e).render(m.jsx(A.StrictMode,{children:m.jsx(Efe,{client:f9e,children:m.jsx(c9e,{router:u9e,future:{v7_startTransition:!0}})})}))}async function S9e(){const e=document.getElementById("root");if(!e)throw new Error("Could not find root element to mount to");g9e(),y9e(),await b9e(),w9e(e)}S9e();export{vge as p};
